[
{"content":{"body":"Is it specced that adding a fetch event listener in the service worker after first run will do something weird? https://dom.spec.whatwg.org/#add-an-event-listener just says \"might not have expected results\" but I can't find any spec mechanism that could generate those wrong results.","msgtype":"m.text"},"ts":1674692675542,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$dUxy5eLdrZ8GkqPJxnD2q3va7R6O85dqc1CMzPSm7ms"},
{"content":{"body":"Ah I think I found it: https://w3c.github.io/ServiceWorker/#run-service-worker-algorithm step 17.1","msgtype":"m.text"},"ts":1674692769540,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$wktWCNv8dgkYu4-xMVeQecBPT_VCslQp8kbRVvy7oK0"},
{"content":{"body":"Domenic: yeah, service workers violates the don't look at events thingie :-/","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: yeah, service workers violates the don't look at events thingie :-/","msgtype":"m.text"},"ts":1674714137915,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$FGqzBzSuwsT7jrxAeH8fo2WG-mmhnnILytBxuawvYMo"},
{"content":{"body":"I've come to peace with it, service workers are weird.","msgtype":"m.text"},"ts":1674714534093,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$YHVR6EyUBcTbqkV8J2FRAoeh8oG75Axvs9tVZ0wYjC4"},
{"content":{"body":"Domenic: did you have a chance to look at https://github.com/web-platform-tests/wpt/pull/38150 again?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: did you have a chance to look at https://github.com/web-platform-tests/wpt/pull/38150 again?","msgtype":"m.text"},"ts":1674723053305,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$SSNikcmK72Cg4Wl3m1pOJ_tcpVVekHfm9sv7PS4ILHU"},
{"content":{"body":"Domenic: I also found that we have `url-setters-stripping.any.js` which might make some of these a bit redundant","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: I also found that we have <code>url-setters-stripping.any.js</code> which might make some of these a bit redundant","msgtype":"m.text"},"ts":1674723108672,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$gCjADnoykYZ8FsrJQjKVjbNWF5u-w40tp_pjOXJ-Wus"},
{"content":{"body":"Hello! Could I get an invite for the HTML issue triage meeting (https://github.com/whatwg/html/issues/8723) at nribaudo@igalia.com? (or even just the link to join!)","msgtype":"m.text","org.matrix.msc1767.text":"Hello! Could I get an invite for the HTML issue triage meeting (https://github.com/whatwg/html/issues/8723) at nribaudo@igalia.com? (or even just the link to join!)"},"ts":1674723796490,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$KhqicQgEy6_q5NGTiKsuqeJVNZzoZ0gRgnaNfVB1jPA"},
{"content":{"body":" * Hello! Could I get an invite for the HTML issue triage meeting (https://github.com/whatwg/html/issues/8723) at nribaudo@igalia.com? (or even just the link to join!)\n\nEDIT: got it, thanks!","m.new_content":{"body":"Hello! Could I get an invite for the HTML issue triage meeting (https://github.com/whatwg/html/issues/8723) at nribaudo@igalia.com? (or even just the link to join!)\n\nEDIT: got it, thanks!","msgtype":"m.text","org.matrix.msc1767.text":"Hello! Could I get an invite for the HTML issue triage meeting (https://github.com/whatwg/html/issues/8723) at nribaudo@igalia.com? (or even just the link to join!)\n\nEDIT: got it, thanks!"},"m.relates_to":{"event_id":"$KhqicQgEy6_q5NGTiKsuqeJVNZzoZ0gRgnaNfVB1jPA","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * Hello! Could I get an invite for the HTML issue triage meeting (https://github.com/whatwg/html/issues/8723) at nribaudo@igalia.com? (or even just the link to join!)\n\nEDIT: got it, thanks!"},"ts":1674725324825,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$Sa5yPAmGSq_tER7xonTPxRaDQNSxDkMRLqYgy8toBBc"},
{"content":{"body":"Hey all. I built a toy a while ago: https://foolip.github.io/spec-reactions/","msgtype":"m.text"},"ts":1674726094769,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$zIayBvZbDnivCfBi3V7pBXAwzNWsN5wxJIAXNE4Iqgo"},
{"content":{"body":"Sorting by recent reactions and filtering to WHATWG gives this:","msgtype":"m.text"},"ts":1674726117954,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$R29G4Ov6DwQ-hJEqR7QwNce2eyd_unpNnWZZKRmfDXY"},
{"content":{"body":"> <@annevk:matrix.org> Domenic: did you have a chance to look at https://github.com/web-platform-tests/wpt/pull/38150 again?\n\nI did not sadly; I am content with the new tests but I do wish I had time to investigate why we were passing before.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$SSNikcmK72Cg4Wl3m1pOJ_tcpVVekHfm9sv7PS4ILHU?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br><a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: did you have a chance to look at https://github.com/web-platform-tests/wpt/pull/38150 again?</blockquote></mx-reply>I did not sadly; I am content with the new tests but I do wish I had time to investigate why we were passing before.","m.relates_to":{"m.in_reply_to":{"event_id":"$SSNikcmK72Cg4Wl3m1pOJ_tcpVVekHfm9sv7PS4ILHU"}},"msgtype":"m.text"},"ts":1674726162733,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$OPa4y-CTB_WTCyELy95Hw0Kk1rsGQwVuJdvx1Fw9Cbg"},
{"content":{"body":"Does that seem like it could correspond with things that are worth extra attention?","msgtype":"m.text"},"ts":1674726163581,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$7D2BQJ2e4k6SX6ogl765mp5D3_Gs_5lxbfsxLzR7gv0"},
{"content":{"body":"I like it, foolip! I've been rooting for observables in particular for some time :)","msgtype":"m.text"},"ts":1674726217205,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$soQp3ZUSyV-2mgMmwo_yaAyEW1_YuvQaawil6_5zzmg"},
{"content":{"body":"Ah yes, https://github.com/whatwg/dom/issues/544 wins the total reactions battle, but seems to have fallen quite lately.","msgtype":"m.text"},"ts":1674726292476,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$4vlcvb4vc_QVub95cOTzntYsbt1jgf8HkbBGG1knb-k"},
{"content":{"body":"Domenic: I'm going to merge to not block other implementers (and given the other existing tests); I can file an issue on jsdom if you want?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: I'm going to merge to not block other implementers (and given the other existing tests); I can file an issue on jsdom if you want?","msgtype":"m.text"},"ts":1674726531048,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$5aYwqMrP4NUQSqIBF5ozLTe-TwVdKHin2LbKj5Difus"},
{"content":{"body":"Sounds good, and yeah a tracking issue would be quite lovely.","msgtype":"m.text"},"ts":1674726546867,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$m4lNyNF4T559JWyX1CO2-GQE36Qd6YXoVNIdx4pJ_dc"},
{"content":{"body":"annevk: What is supposed to make the iframes not inherit UTF-8 from the same-origin parent harness in WebKit and Blink in https://wpt.fyi/results/encoding/unsupported-labels.window.html?label=experimental&label=master&aligned&view=subtest ?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: What is supposed to make the iframes not inherit UTF-8 from the same-origin parent harness in WebKit and Blink in https://wpt.fyi/results/encoding/unsupported-labels.window.html?label=experimental&amp;label=master&amp;aligned&amp;view=subtest ?","msgtype":"m.text"},"ts":1674734934796,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$lqFV21HpAh1Ka7bKxQSFn1NGAYRxk-A7fEujBXWlzPs"},
{"content":{"body":"hsivonen: I think Firefox might have a different default encoding maybe due to your work?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>: I think Firefox might have a different default encoding maybe due to your work?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"hsivonen: I think Firefox might have a different default encoding maybe due to your work?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>: I think Firefox might have a different default encoding maybe due to your work?","mimetype":"text/html"}]},"ts":1674737457631,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$NDefyqJfWGESTCLHn-DjHU7NS__kni9TYB95a9C_St8"},
{"content":{"body":"hsivonen: if that's not it I guess I need to take a longer look","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>: if that's not it I guess I need to take a longer look","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"hsivonen: if that's not it I guess I need to take a longer look","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>: if that's not it I guess I need to take a longer look","mimetype":"text/html"}]},"ts":1674737480967,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$HSx91BSblEb_Gwi5mZLixdBhJvha5eqWXc0syktWtQA"},
{"content":{"body":"annevk: but Chrome uses utf-8 in the parent document too, and I assume so does Safari","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: but Chrome uses utf-8 in the parent document too, and I assume so does Safari","msgtype":"m.text"},"ts":1674737565604,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$r9VnvYTo9aLjyQMoHE6S-UKtt3bI808DJI88IPW3AzI"},
{"content":{"body":"annevk: Without inheritance, if the content is ASCII, Firefox defaults to windows-1252. However, in the test case, the parent declares UTF-8, so that's inheritable within the same origin.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: Without inheritance, if the content is ASCII, Firefox defaults to windows-1252. However, in the test case, the parent declares UTF-8, so that's inheritable within the same origin.","msgtype":"m.text"},"ts":1674737599010,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$XWqh0uWZhYpWEMJumwc0IJRC7JI9_-cIbafMrpEbOJU"},
{"content":{"body":"Interesting, so these always failed in Gecko?","msgtype":"m.text","org.matrix.msc1767.text":"Interesting, so these always failed in Gecko?"},"ts":1674737606484,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$OxpyIQVlvPprLYijYmiWeszV8BQymcIR66QTizxPVCE"},
{"content":{"body":"annevk: Yes, it looks like this test has failed since it synced to m-c in October. It's unfortunate that we don't have automated notifications for new tests that fail.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: Yes, it looks like this test has failed since it synced to m-c in October. It's unfortunate that we don't have automated notifications for new tests that fail.","msgtype":"m.text"},"ts":1674737647667,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$478numGP498_BQ0Me3sGiM2GWh6pi0U_z40pSK_L5ms"},
{"content":{"body":"hsivonen: you were the reviewer! ðŸ˜€","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>: you were the reviewer! ðŸ˜€","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"hsivonen: you were the reviewer! ðŸ˜€","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>: you were the reviewer! ðŸ˜€","mimetype":"text/html"}]},"ts":1674737847580,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$DCYf0XFH6eyk2h7966n70G5zU2KtIgkuharD1K4mjBQ"},
{"content":{"body":"I can take a look later today most likely","msgtype":"m.text","org.matrix.msc1767.text":"I can take a look later today most likely"},"ts":1674737866746,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$DmxCAcXwL_x1C52H1xkAHQ5BYZDTRrJcAPnxJerqY9I"},
{"content":{"body":"smaug: hsivonen: it seems that once Content-Type charset is involved there's no more cross-document inheritance, regardless of whether that charset value is correct, in Chromium and WebKit","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: <a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>: it seems that once Content-Type charset is involved there's no more cross-document inheritance, regardless of whether that charset value is correct, in Chromium and WebKit","msgtype":"m.text"},"ts":1674753233076,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Y0xY8D9Rx93btuydCahoiHH72P-jMHhDY-Ah-9H1q4o"},
{"content":{"body":"https://github.com/web-platform-tests/wpt/pull/38199 demonstrates this, though it could test more","msgtype":"m.text"},"ts":1674753256609,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Fj_8M8870AEbGwPhj-cVv5J6DP9k7hFgRL5l5q7bjrY"},
{"content":{"body":"smaug: hsivonen: I guess I clean those tests up, and also make the `encoding/` tests use `<meta>` instead for now so we don't run into this particular issue. And then file bugs against Chromium/WebKit or open a spec issue to see if we want to collectively reconsider given that more sites might rely on Chromium/WebKit behavior at this point...","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: <a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>: I guess I clean those tests up, and also make the <code>encoding/</code> tests use <code>&lt;meta&gt;</code> instead for now so we don't run into this particular issue. And then file bugs against Chromium/WebKit or open a spec issue to see if we want to collectively reconsider given that more sites might rely on Chromium/WebKit behavior at this point...","msgtype":"m.text"},"ts":1674753405887,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$3ZMB_RRZ0ds2E--qWnNMhn6qG9NQ3T9yyCnnPQZHa80"},
{"content":{"body":"annevk: ok, thanks!","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: ok, thanks!","msgtype":"m.text"},"ts":1674753446614,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$jkbeBlRANuJYH550fWWY1Qaeu5R_qDmKjDVQPtmDGn0"},
{"content":{"body":"Anybody here know much about Chrome's use-counter data? I'm looking for numbers on the CSS `:has` pseudoselector, but I can't find a use counter. That seems surprising for such a popular and difficult-to-implement feature, so I'm wondering if I'm looking in the wrong place. https://chromestatus.com/metrics/css/popularity","format":"org.matrix.custom.html","formatted_body":"Anybody here know much about Chrome's use-counter data? I'm looking for numbers on the CSS <code>:has</code> pseudoselector, but I can't find a use counter. That seems surprising for such a popular and difficult-to-implement feature, so I'm wondering if I'm looking in the wrong place. https://chromestatus.com/metrics/css/popularity","msgtype":"m.text"},"ts":1674765183464,"senderName":"jugglinmike","senderId":"@jugglinmike:matrix.org","id":"$3-Onbrp16fzsPj8g-AurRLiQIs9HySMdVb15LGvvmI4"},
{"content":{"body":"jugglinmike: search for \"cssselectorpseudohas\" in https://chromestatus.com/metrics/feature/popularity (not so appropriately named \"JS/HTML\" in the menu)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jugglinmike:matrix.org\">jugglinmike</a>: search for &quot;cssselectorpseudohas&quot; in https://chromestatus.com/metrics/feature/popularity (not so appropriately named &quot;JS/HTML&quot; in the menu)","msgtype":"m.text"},"ts":1674765665852,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$SVNuBnqhgsegBLrkgoeghe4Bx2zqJ_gHscuutdcD8OE"},
{"content":{"body":"There are several and I don't know the difference between them","msgtype":"m.text"},"ts":1674765686314,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$AxX9-EPUgkObDqbUgsG83HwJTpxyZvLOtuo6LxF_iak"},
{"content":{"body":"But you can look up how they're implemented in https://source.chromium.org/chromium","msgtype":"m.text"},"ts":1674765704266,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$QT_qwwQSofww-Pzha98hKfXjUAyvXJGsAhV6o-1Qmp8"},
{"content":{"body":"Excellent; thanks, zcorpan !","format":"org.matrix.custom.html","formatted_body":"Excellent; thanks, <a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a> !","msgtype":"m.text"},"ts":1674765793258,"senderName":"jugglinmike","senderId":"@jugglinmike:matrix.org","id":"$1mi_Fi9N8YLLTX6cCIL9E-4GdcmnAi4DGDskLSl8MCI"},
{"content":{"body":"Maybe snapshot profile means querySelector{,All}() and live profile means CSS","msgtype":"m.text"},"ts":1674765848944,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$0ZziKToSeqAjdUTEX09ODa6SDrTqRGp8lY5BKf9erEk"},
{"content":{"body":"Filed https://github.com/GoogleChrome/chromium-dashboard/issues/2694","msgtype":"m.text"},"ts":1674766117731,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$QXUQ9OUZjs_OGT2VfMLTGB3IOvqjcq-ziy_Du06Mb0Y"},
{"content":{"body":"> <@zcorpan:mozilla.org> Maybe snapshot profile means querySelector{,All}() and live profile means CSS\n\nyes, that's roughly correct (also Element.matches and Element.closest); these used to be distinguished in the CSS Selectors spec but no longer are","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$0ZziKToSeqAjdUTEX09ODa6SDrTqRGp8lY5BKf9erEk?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">@zcorpan:mozilla.org</a><br>Maybe snapshot profile means querySelector{,All}() and live profile means CSS</blockquote></mx-reply>yes, that's roughly correct (also Element.matches and Element.closest); these used to be distinguished in the CSS Selectors spec but no longer are","m.relates_to":{"m.in_reply_to":{"event_id":"$0ZziKToSeqAjdUTEX09ODa6SDrTqRGp8lY5BKf9erEk"}},"msgtype":"m.text"},"ts":1674771077421,"senderName":"Jeremy Roman","senderId":"@jbroman:matrix.org","id":"$q4Bjqe47H8mnQQ3bQjwuiow7GgyT3TUL77Suk8jnkMY"},
{"content":{"body":"Jeremy Roman: Thanks for clarifying. It seems like binning the data like that makes it difficult to answer the question, \"how often is :has used?\" since there's no telling how many pages use it in both contexts. Is that right?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jbroman:matrix.org\">Jeremy Roman</a>: Thanks for clarifying. It seems like binning the data like that makes it difficult to answer the question, &quot;how often is :has used?&quot; since there's no telling how many pages use it in both contexts. Is that right?","msgtype":"m.text"},"ts":1674774299852,"senderName":"jugglinmike","senderId":"@jugglinmike:matrix.org","id":"$jp-ljYbAgnQS9oGsywMtflQLxNOIlakOUC3qpPQW4ik"},
{"content":{"body":"Ah, scratch that--\"CSSSelectorPseudoHas\" is a dedicated flag!","msgtype":"m.text"},"ts":1674775038264,"senderName":"jugglinmike","senderId":"@jugglinmike:matrix.org","id":"$5QqAp8LbNdJt3pW4Ewr6z5d8mU95sDIxX3CQjUj-iLY"},
{"content":{"body":"Except, it looks like it has never been used. Hinky","msgtype":"m.text"},"ts":1674775149925,"senderName":"jugglinmike","senderId":"@jugglinmike:matrix.org","id":"$iz8iC96jCFRXoan98tspQZ98xl7mNHDdWEAGKXKg8yY"}
]