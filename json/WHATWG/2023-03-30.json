[
{"content":{"body":"> <@jyasskin:matrix.org> How should we decide whether to use https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin vs getting the node navigable's top-level traversible's active document's origin? I'm nervous that the former is implementation-defined.\n\nIt is only implementation-defined for shared and service workers, FWIW.\n\nBut, your question is a good one. I think they should be equivalent for Windows and all the complexity comes from the other global types (worklets, dedicated/shared/service workers).","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$r3YOdEYeUHO4WQ_kXQed_mVBN78xPY0JNy0DLi_o4ns?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@jyasskin:matrix.org\">@jyasskin:matrix.org</a><br>How should we decide whether to use https://html.spec.whatwg.org/multipage/webappapis.html#concept-environment-top-level-origin vs getting the node navigable&#39;s top-level traversible&#39;s active document&#39;s origin? I&#39;m nervous that the former is implementation-defined.</blockquote></mx-reply><p>It is only implementation-defined for shared and service workers, FWIW.</p>\n<p>But, your question is a good one. I think they should be equivalent for Windows and all the complexity comes from the other global types (worklets, dedicated/shared/service workers).</p>\n","m.relates_to":{"m.in_reply_to":{"event_id":"$r3YOdEYeUHO4WQ_kXQed_mVBN78xPY0JNy0DLi_o4ns"}},"msgtype":"m.text"},"ts":1680135899903,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$qzl2QLhDM54Lm2g-P6N1ab84Yj9JR9jBNgX232zDaI8"},
{"content":{"body":"https://github.com/whatwg/html/issues/8014 is related","msgtype":"m.text"},"ts":1680135936032,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$mkK6EDl7bXsDjIppvd_FpvwGp3DSMGCX7ZxVAqBPPh8"},
{"content":{"body":"> <@annevk:matrix.org> bkardell: feel free to PR stuff like that btw\n\nDone","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$3nqmotkehyEfkzurZIIiF7QQP7OnlC3unUDlZwiWE3Y?via=igalia.com&via=matrix.org&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br /><a href=\"https://matrix.to/#/@bkardell:igalia.com\">bkardell</a>: feel free to PR stuff like that btw</blockquote></mx-reply>Done","m.relates_to":{"m.in_reply_to":{"event_id":"$3nqmotkehyEfkzurZIIiF7QQP7OnlC3unUDlZwiWE3Y"}},"msgtype":"m.text"},"ts":1680137384961,"senderName":"bkardell","senderId":"@bkardell:igalia.com","id":"$A6NgHbJss6yAs3ewV-LAL5BOp9O7HUT03G_JLKBG1ZI"},
{"content":{"body":"Domenic: there is also complexity when there is no Window yet","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: there is also complexity when there is no Window yet","msgtype":"m.text"},"ts":1680153804706,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$gA_eWE1BwuXQZxJVPmgHpyHyvu9DR5A-gYlZTVAtaCk"},
{"content":{"body":"Domenic: that's the main reason we have the former cc Jeffrey Yasskin ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: that's the main reason we have the former cc <a href=\"https://matrix.to/#/@jyasskin:matrix.org\">Jeffrey Yasskin</a>","msgtype":"m.text"},"ts":1680153835515,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$oA5bGzVMd8FP1PZYUwHnF5aoRuodGoRi9LHzvuHAxYo"},
{"content":{"body":"So about the spec links such as https://dom.spec.whatwg.org/#ref-for-dom-abortcontroller-abortcontroller① — to the for-developers parts of specs — that we’re currently referencing in MDN/BCD but that aren’t guaranteed to forever keep pointing to the parts we intend: I’ve been wondering if I should just go ahead and manually add stable IDs to the specs for all those","msgtype":"m.text"},"ts":1680157527718,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$uvT1dl1BZbLnClXqmIY_PEvFthw9dalCFw7Cv4HeoIs"},
{"content":{"body":"that is, so the one I cited above would instead be https://dom.spec.whatwg.org/#dom-abortcontroller-abortcontroller-dev","msgtype":"m.text"},"ts":1680157556844,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$BhlXbVAuVpy0aFV8conq17G0uMpWstEnk4kHNAT2AAA"},
{"content":{"body":"…and I mean, rather than patching Bikeshed to auto-add them, I’d just manually patch the specs with patches that add the new IDs","msgtype":"m.text"},"ts":1680157607932,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$ghOuh6DbsszebwJ5bPFt9dDLjHo2NfE2mVWaquSAyZ0"},
{"content":{"body":"Would anybody (especially the spec editors) object to me doing that?\nThe specs that would need patching include DOM, Encoding, Fetch, File System, Fullscreen, Streams, WebSockets, IndexedDB, and a few others","msgtype":"m.text"},"ts":1680157840079,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$QXRC40YNlFM-dDuv5w_3ebQlSHd3Xq5YUvXLQbthpis"},
{"content":{"body":"…and most of those specs would need less than 10 new IDs added — but a few others would need dozens of them.\nDOM would need the most — 188, and IndexedDB and Fetch and Streams would need a few dozen each","msgtype":"m.text"},"ts":1680158015074,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$FVa4k_SzN4xNhcSJ9-5SqlNDym6sAMc5kcPEtctItU8"},
{"content":{"body":"sideshowbarker: I'd slightly prefer we add the generated Bikeshed ID if that doesn't change the output","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: I'd slightly prefer we add the generated Bikeshed ID if that doesn't change the output","msgtype":"m.text"},"ts":1680158037287,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$v2iN0EA-tpyyNNQCilOns555ADEyzDgfAt4lNRM3xDg"},
{"content":{"body":"The more stable we can keep existing IDs the better as people might have copied them from MDN and such","msgtype":"m.text"},"ts":1680158078416,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$5W-8XeO_1_0DjFoortMCbjpcnFv9YQvbuXT0SUxCanc"},
{"content":{"body":"but we could keep the existing generated IDs while adding new ones in addition to those, right?","msgtype":"m.text"},"ts":1680158129749,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$uKOqSSm_tyl6WSXQhOUmqPS5SZjKBt20dIKqHUs9WBc"},
{"content":{"body":"so no existing IDs would break","msgtype":"m.text"},"ts":1680158150943,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$IYRTy1vi5_aNuPQtTGmYVoIVJyIiSt5xQBlebV8NMx4"},
{"content":{"body":"I can’t remember now who objected to me adding all the -①  etc. links to MDN to begin with — but whoever did, their objection was that we have no way of ensuring those generated IDs will always continue to point to the for-developers targets they currently point to","msgtype":"m.text"},"ts":1680158269542,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$NP93ULk1YLcyYjMogiLxzxlFlgEvRQ05Lygsaq2zEMo"},
{"content":{"body":"In fact, we don’t have any way of knowing which of those might already now have changed to point to different parts of the specs (due to some new reference to a term being added somewhere earlier in a spec)","msgtype":"m.text"},"ts":1680158329973,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$FnrX-QjkM4y0HdnTcmGR7eaPrz63E3hp60tcSLR4Eng"},
{"content":{"body":"I don’t personally feel super strongly about it either way — it’s just something that’s been open and unresolved for a while now. And the attempt I made at patching Bikeshed to auto-generate them wasn’t approved, and I’ve not managed to make time to try completely re-doing the Bikeshed patching approach in the way that was suggested as an alternative to my Bikeshed patch","msgtype":"m.text"},"ts":1680158446576,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$j7vZjgmaajtrI6-ct4uw4_5WNU3fvQ_PFyE-Z2aZor8"},
{"content":{"body":"sideshowbarker: what I mean is that if the ID is `ref-for-dom-abortcontroller-abortcontroller①` for some element today, we just add that directly; or will Bikeshed trip on that?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: what I mean is that if the ID is <code>ref-for-dom-abortcontroller-abortcontroller①</code> for some element today, we just add that directly; or will Bikeshed trip on that?","msgtype":"m.text"},"ts":1680158872676,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$YypP1mA8XwtfIRopJr4y3CPbQpT_1iu3_7T9fiNrks8"},
{"content":{"body":"> <@annevk:matrix.org> sideshowbarker: what I mean is that if the ID is `ref-for-dom-abortcontroller-abortcontroller①` for some element today, we just add that directly; or will Bikeshed trip on that?\n\nAh, yeah, I can test that and see","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$YypP1mA8XwtfIRopJr4y3CPbQpT_1iu3_7T9fiNrks8?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br /><a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: what I mean is that if the ID is <code>ref-for-dom-abortcontroller-abortcontroller①</code> for some element today, we just add that directly; or will Bikeshed trip on that?</blockquote></mx-reply>Ah, yeah, I can test that and see","m.relates_to":{"m.in_reply_to":{"event_id":"$YypP1mA8XwtfIRopJr4y3CPbQpT_1iu3_7T9fiNrks8"}},"msgtype":"m.text"},"ts":1680160363653,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$tvSfguV6WCqSUOhQXeYXEXM8Fn25PNijOZ4j0Jc0NnY"},
{"content":{"body":"I wonder if other browsers are interested in revisiting defining element attribute order. I guess I need to figure out where we last discussed that.","msgtype":"m.text"},"ts":1680162451480,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$jXoPGyot4WUg5ybmZtfmZHdZkTZd6PwGreeN9tRcCiU"},
{"content":{"body":"IDL interface attribute order?","msgtype":"m.text"},"ts":1680162577602,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$yUTe5EW_bbJf8sMt5muis6_sfsANt7gMhY1i2TmsPoE"},
{"content":{"body":"Oh, no, element content attributes also have an order, don't they","msgtype":"m.text"},"ts":1680162603116,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$UZLu6bGE1fpeCnqA-kE_ggFDJmhMiOR8MzgIIhlFyOc"}
]