[
{"content":{"body":"Domenic: that's a great thread <3; I'm on board","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: that's a great thread &lt;3; I'm on board","msgtype":"m.text"},"ts":1629048288088,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$CiRVeI6e6Ja9uxp7uWJEEKo9FCq5yUKHTnd6tnEiP9M"},
{"content":{"body":"hello! I'm thinking of making a proposal for a new web platform API that lets web developers imperatively set the `prefers-color-scheme` media query, or an allowlist of other keys.\n\nsomething like\n```js\nawait navigator.setMedia('prefers-color-scheme', 'dark');\n```\nthe case I have in mind is \"toggle color scheme\" buttons, which right now typically set a class on the body. This works, but leads to duplication of code, as users would have to \n```css\nbody {\n  --my-theme-color: darkgrey;\n}\n@media(prefers-color-scheme: dark) {\n  body {\n    --my-theme-color: lightgrey;\n  }\n}\nbody.dark {\n    --my-theme-color: lightgrey;","format":"org.matrix.custom.html","formatted_body":"<p>hello! I'm thinking of making a proposal for a new web platform API that lets web developers imperatively set the <code>prefers-color-scheme</code> media query, or an allowlist of other keys.</p>\n<p>something like</p>\n<pre><code class=\"language-js\">await navigator.setMedia('prefers-color-scheme', 'dark');\n</code></pre>\n<p>the case I have in mind is &quot;toggle color scheme&quot; buttons, which right now typically set a class on the body. This works, but leads to duplication of code, as users would have to</p>\n<pre><code class=\"language-css\">body {\n  --my-theme-color: darkgrey;\n}\n@media(prefers-color-scheme: dark) {\n  body {\n    --my-theme-color: lightgrey;\n  }\n}\nbody.dark {\n    --my-theme-color: lightgrey;\n</code></pre>\n","msgtype":"m.text"},"ts":1629048490468,"senderName":"Benny Powers","senderId":"@bennypowers:matrix.org","id":"$Ztn4R-2qP02q9lha_PfBkeaQ6i4ouUdqc9XUv1mj8xI"},
{"content":{"body":" * hello! I'm thinking of making a proposal for a new web platform API that lets web developers imperatively set the `prefers-color-scheme` media query, or an allowlist of other keys.\n\nsomething like\n```js\nawait navigator.setMedia('prefers-color-scheme', 'dark');\n```\n\nthe case I have in mind is \"toggle color scheme\" buttons, which right now typically set a class on the body. This works, but leads to duplication of code, as users would have to\n```css\nbody {\n  --my-theme-color: darkgrey;\n}\n@media(prefers-color-scheme: dark) {\n  body {\n    --my-theme-color: lightgrey;\n  }\n}\nbody.dark {\n    --my-theme-color: lightgrey;\n}\n```\n\nIs this something that WHATWG might consider? is it worth my time trying a formal proposal?","format":"org.matrix.custom.html","formatted_body":" * <p>hello! I'm thinking of making a proposal for a new web platform API that lets web developers imperatively set the <code>prefers-color-scheme</code> media query, or an allowlist of other keys.</p>\n<p>something like</p>\n<pre><code class=\"language-js\">await navigator.setMedia('prefers-color-scheme', 'dark');\n</code></pre>\n<p>the case I have in mind is &quot;toggle color scheme&quot; buttons, which right now typically set a class on the body. This works, but leads to duplication of code, as users would have to</p>\n<pre><code class=\"language-css\">body {\n  --my-theme-color: darkgrey;\n}\n@media(prefers-color-scheme: dark) {\n  body {\n    --my-theme-color: lightgrey;\n  }\n}\nbody.dark {\n    --my-theme-color: lightgrey;\n}\n</code></pre>\n<p>Is this something that WHATWG might consider? is it worth my time trying a formal proposal?</p>\n","m.new_content":{"body":"hello! I'm thinking of making a proposal for a new web platform API that lets web developers imperatively set the `prefers-color-scheme` media query, or an allowlist of other keys.\n\nsomething like\n```js\nawait navigator.setMedia('prefers-color-scheme', 'dark');\n```\n\nthe case I have in mind is \"toggle color scheme\" buttons, which right now typically set a class on the body. This works, but leads to duplication of code, as users would have to\n```css\nbody {\n  --my-theme-color: darkgrey;\n}\n@media(prefers-color-scheme: dark) {\n  body {\n    --my-theme-color: lightgrey;\n  }\n}\nbody.dark {\n    --my-theme-color: lightgrey;\n}\n```\n\nIs this something that WHATWG might consider? is it worth my time trying a formal proposal?","format":"org.matrix.custom.html","formatted_body":"<p>hello! I'm thinking of making a proposal for a new web platform API that lets web developers imperatively set the <code>prefers-color-scheme</code> media query, or an allowlist of other keys.</p>\n<p>something like</p>\n<pre><code class=\"language-js\">await navigator.setMedia('prefers-color-scheme', 'dark');\n</code></pre>\n<p>the case I have in mind is &quot;toggle color scheme&quot; buttons, which right now typically set a class on the body. This works, but leads to duplication of code, as users would have to</p>\n<pre><code class=\"language-css\">body {\n  --my-theme-color: darkgrey;\n}\n@media(prefers-color-scheme: dark) {\n  body {\n    --my-theme-color: lightgrey;\n  }\n}\nbody.dark {\n    --my-theme-color: lightgrey;\n}\n</code></pre>\n<p>Is this something that WHATWG might consider? is it worth my time trying a formal proposal?</p>\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$Ztn4R-2qP02q9lha_PfBkeaQ6i4ouUdqc9XUv1mj8xI","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1629048514536,"senderName":"Benny Powers","senderId":"@bennypowers:matrix.org","id":"$czOJq71flFxlT2jerRU4eJo-nMp8DH7NHANByUuhy-c"}
]