[
{"content":{"body":"> <@annevk:matrix.org> Domenic: one thing I noticed with `review.py` is that it didn't reuse the existing origin branch when doing the update. It's not too hard to correct later as git push will tell you what to do, but it would be nice if it sorted that automatically. Would you happen to know offhand what we need to change? Otherwise I can look into it.\n\nMaybe pass `--set-upstream-to=X`?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$eKKEzO6R2BUXKs63ue9szKqW3ds9mOIIuf89Th4sfGE?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br><a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: one thing I noticed with <code>review.py</code> is that it didn't reuse the existing origin branch when doing the update. It's not too hard to correct later as git push will tell you what to do, but it would be nice if it sorted that automatically. Would you happen to know offhand what we need to change? Otherwise I can look into it.</blockquote></mx-reply>Maybe pass <code>--set-upstream-to=X</code>?","m.relates_to":{"m.in_reply_to":{"event_id":"$eKKEzO6R2BUXKs63ue9szKqW3ds9mOIIuf89Th4sfGE"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@annevk:matrix.org> Domenic: one thing I noticed with `review.py` is that it didn't reuse the existing origin branch when doing the update. It's not too hard to correct later as git push will tell you what to do, but it would be nice if it sorted that automatically. Would you happen to know offhand what we need to change? Otherwise I can look into it.\n\nMaybe pass `--set-upstream-to=X`?","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$eKKEzO6R2BUXKs63ue9szKqW3ds9mOIIuf89Th4sfGE?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br><a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: one thing I noticed with <code>review.py</code> is that it didn't reuse the existing origin branch when doing the update. It's not too hard to correct later as git push will tell you what to do, but it would be nice if it sorted that automatically. Would you happen to know offhand what we need to change? Otherwise I can look into it.</blockquote></mx-reply>Maybe pass <code>--set-upstream-to=X</code>?","mimetype":"text/html"}]},"ts":1664500771666,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$1TkLqlnsV1TlMIbC-IeRyXvI4OQMPRqbbdj84Z0uTb0"},
{"content":{"body":"The interop 2023 proposal for history & navigation is live: https://github.com/web-platform-tests/interop/issues/170","msgtype":"m.text","org.matrix.msc1767.text":"The interop 2023 proposal for history & navigation is live: https://github.com/web-platform-tests/interop/issues/170"},"ts":1664510600441,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$P87opFvoJ064hhaA-AXW6TBPeP4D_mRmVj-i3F9IvOM"},
{"content":{"body":"Is there anything in modern specs that strips usernames/passwords from URLs before fetching? Apparently we do this in at least one place in Chromium and I'm trying to figure out why...","msgtype":"m.text","org.matrix.msc1767.text":"Is there anything in modern specs that strips usernames/passwords from URLs before fetching? Apparently we do this in at least one place in Chromium and I'm trying to figure out why..."},"ts":1664511132145,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$W_QfksI90tCYmYo1gdXvhkuUYVak2EOmDg9ReShiZ44"},
{"content":{"body":"> <@domenicdenicola:matrix.org> Is there anything in modern specs that strips usernames/passwords from URLs before fetching? Apparently we do this in at least one place in Chromium and I'm trying to figure out why...\n\nNot an answer, but found https://bugs.chromium.org/p/chromium/issues/detail?id=82250. But that also doesn't provide any clarity about why or what spec the behavior might be based on","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$W_QfksI90tCYmYo1gdXvhkuUYVak2EOmDg9ReShiZ44?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br />Is there anything in modern specs that strips usernames/passwords from URLs before fetching? Apparently we do this in at least one place in Chromium and I'm trying to figure out why...</blockquote></mx-reply>Not an answer, but found https://bugs.chromium.org/p/chromium/issues/detail?id=82250. But that also doesn't provide any clarity about why or what spec the behavior might be based on","m.relates_to":{"m.in_reply_to":{"event_id":"$W_QfksI90tCYmYo1gdXvhkuUYVak2EOmDg9ReShiZ44"}},"msgtype":"m.text"},"ts":1664512914575,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$2sfH1IevTs7VzzSrlWSd-HeWXGQX6nbR72MhK8dDhXQ"},
{"content":{"body":"And found https://twitter.com/mikewest/status/846308572124397569","msgtype":"m.text"},"ts":1664513221743,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$dYk-mBUiVKpQJ9d5P-Guk59eymzOHVISsSYUCEWT1RU"},
{"content":{"body":"https://github.com/whatwg/fetch/pull/465","msgtype":"m.text"},"ts":1664513372882,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$KbjQLs_R3Zw2B4RP-jI1q25O79T6ky8pdKdg7qw-iGI"},
{"content":{"body":"Domenic: are those relevant or do you mean in some other context?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: are those relevant or do you mean in some other context?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: are those relevant or do you mean in some other context?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: are those relevant or do you mean in some other context?","mimetype":"text/html"}]},"ts":1664513463575,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$mNk2px59ahXCsZx-a9dXUD6RLGMi6YZaU5h7-mNcT5k"},
{"content":{"body":"These are helpful, but the code we actually have seems to strip out the URL credentials, instead of blocking the request entirely... https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/platform/loader/fetch/fetch_parameters.cc;l=94;drc=a432cd59d51281057ba2a2673ca645a9600bb927 . I can't find any evidence of this in specs.","msgtype":"m.text","org.matrix.msc1767.text":"These are helpful, but the code we actually have seems to strip out the URL credentials, instead of blocking the request entirely... https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/platform/loader/fetch/fetch_parameters.cc;l=94;drc=a432cd59d51281057ba2a2673ca645a9600bb927 . I can't find any evidence of this in specs."},"ts":1664513571321,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$UBGOsHYBma0Qhu7vxCnDD9-Azes946bX6xA2VKemTCc"},
{"content":{"body":"It seems like we do this somewhat randomly... for various cross-origin images, prefetches, preloads, modules, stylesheets??","msgtype":"m.text","org.matrix.msc1767.text":"It seems like we do this somewhat randomly... for various cross-origin images, prefetches, preloads, modules, stylesheets??"},"ts":1664513662999,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$HfTWKmCPe6jztohcyBGra6DeLX_wtnVE9mge1EOWT50"},
{"content":{"body":"I guess I'll comment on the PR 465","msgtype":"m.text","org.matrix.msc1767.text":"I guess I'll comment on the PR 465"},"ts":1664513810444,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$ZprE5NxZZJDnnCKExFVx_UoBAfPKyRfCLfpGz4mu4Ks"},
{"content":{"body":"Commented with what I suspect is the cause","msgtype":"m.text","org.matrix.msc1767.text":"Commented with what I suspect is the cause"},"ts":1664525385891,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$YBmScwfY4GgTYDG6dTwFK5XfsUyGjv5XTCHwaqAaWY0"},
{"content":{"body":"Do you know what the rationale is behind which fetches set use-URL-credentials and which don't?","msgtype":"m.text","org.matrix.msc1767.text":"Do you know what the rationale is behind which fetches set use-URL-credentials and which don't?"},"ts":1664526462828,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$cf8cIKKrSTHimuuRwv4hgCwPUGyFYjmam4ClVntCvPo"},
{"content":{"body":"Domenic: for CORS and new APIs we wanted to avoid it","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: for CORS and new APIs we wanted to avoid it","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: for CORS and new APIs we wanted to avoid it","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: for CORS and new APIs we wanted to avoid it","mimetype":"text/html"}]},"ts":1664526905089,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$ASxcnwzl6sCEc0YKN0Xn5CTpA5_7NW9EHHPX1Mp9ytU"},
{"content":{"body":"Domenic: stripping could work too btw, but have to be careful with redirects and service workers","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: stripping could work too btw, but have to be careful with redirects and service workers","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: stripping could work too btw, but have to be careful with redirects and service workers","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: stripping could work too btw, but have to be careful with redirects and service workers","mimetype":"text/html"}]},"ts":1664527120241,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$k_3xmkiN4tiTC0krV8pzbaStAracbZ377kSGmly4biE"},
{"content":{"body":"> If there’s an authentication entry for httpRequest and either httpRequest’s use-URL-credentials flag is unset or httpRequest’s current URL does not include credentials, then set authorizationValue to authentication entry. \n\nThis is not great, \"authentication entry\" is a concept but I think it's saying to extract the credentials from the URL... Will file an editorial issue I guess.","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>If there’s an authentication entry for httpRequest and either httpRequest’s use-URL-credentials flag is unset or httpRequest’s current URL does not include credentials, then set authorizationValue to authentication entry.</p>\n</blockquote>\n<p>This is not great, &quot;authentication entry&quot; is a concept but I think it's saying to extract the credentials from the URL... Will file an editorial issue I guess.</p>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> If there’s an authentication entry for httpRequest and either httpRequest’s use-URL-credentials flag is unset or httpRequest’s current URL does not include credentials, then set authorizationValue to authentication entry. \n\nThis is not great, \"authentication entry\" is a concept but I think it's saying to extract the credentials from the URL... Will file an editorial issue I guess.","mimetype":"text/plain"},{"body":"<blockquote>\n<p>If there’s an authentication entry for httpRequest and either httpRequest’s use-URL-credentials flag is unset or httpRequest’s current URL does not include credentials, then set authorizationValue to authentication entry.</p>\n</blockquote>\n<p>This is not great, &quot;authentication entry&quot; is a concept but I think it's saying to extract the credentials from the URL... Will file an editorial issue I guess.</p>\n","mimetype":"text/html"}]},"ts":1664527144954,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$ayuk78Q39LJHHCB-MTp_pB3CyRmGqDVx7mid19TtBcw"},
{"content":{"body":"Domenic: well an authentication entry is the user agent having authorization data for some URL, but if there's also credentials in the URL itself those might override that","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: well an authentication entry is the user agent having authorization data for some URL, but if there's also credentials in the URL itself those might override that","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: well an authentication entry is the user agent having authorization data for some URL, but if there's also credentials in the URL itself those might override that","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: well an authentication entry is the user agent having authorization data for some URL, but if there's also credentials in the URL itself those might override that","mimetype":"text/html"}]},"ts":1664527233880,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$TVFR0raymumx7vUgC-SQKUHpeca4c7L3yFqUHYIHFC4"},
{"content":{"body":"Domenic: those used to be the semantics, but I'm not really sure what has happened in the intervening years as there's been a bunch of interventions with poor cross-browser coordination","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: those used to be the semantics, but I'm not really sure what has happened in the intervening years as there's been a bunch of interventions with poor cross-browser coordination","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: those used to be the semantics, but I'm not really sure what has happened in the intervening years as there's been a bunch of interventions with poor cross-browser coordination","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: those used to be the semantics, but I'm not really sure what has happened in the intervening years as there's been a bunch of interventions with poor cross-browser coordination","mimetype":"text/html"}]},"ts":1664527265680,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$iiIIsQoap0d6YNFV9ARwSt4SkDQIVUkk-leayB4ddaI"},
{"content":{"body":"Yeah I mean I'd at least expect this to say \"the authentication entry for the URL\", ideally with an algorithm detailing how to extract the username/password components from the URL itself.","msgtype":"m.text","org.matrix.msc1767.text":"Yeah I mean I'd at least expect this to say \"the authentication entry for the URL\", ideally with an algorithm detailing how to extract the username/password components from the URL itself."},"ts":1664527276862,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$bWnYlwRPelrS342qcfDugdZB06G37h_I3BZkmW42BUE"},
{"content":{"body":"Yeah, there's definitely a bunch of XXX around this","msgtype":"m.text","org.matrix.msc1767.text":"Yeah, there's definitely a bunch of XXX around this"},"ts":1664527361595,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$VPeGHF0h2s5FMyNuwT5WM9VQW5pAJN7u87eLWpoVkQY"}
]