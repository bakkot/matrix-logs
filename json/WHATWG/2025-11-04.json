[
{"content":{"body":"`div` is now allowed as a descendant of `select`?","format":"org.matrix.custom.html","formatted_body":"<code>div</code> is now allowed as a descendant of <code>select</code>?","m.mentions":{},"msgtype":"m.text"},"ts":1762244255475,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$vBxKYCuTyz7pEhP-Echm1x_QwelMcNzOlOh9jOc4hsQ"},
{"content":{"body":"https://html.spec.whatwg.org/multipage/dom.html#select-element-inner-content-elements-2","m.mentions":{},"msgtype":"m.text"},"ts":1762244258229,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$IKOmNMz3Omz-axkVthMc7vTfXpK8BuvDdCtA5uhIuoc"},
{"content":{"body":"The following are [select element inner content elements](https://html.spec.whatwg.org/multipage/dom.html#select-element-inner-content-elements-2):\n\n    [option](https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element)[optgroup](https://html.spec.whatwg.org/multipage/form-elements.html#the-optgroup-element)[hr](https://html.spec.whatwg.org/multipage/grouping-content.html#the-hr-element)[script-supporting elements](https://html.spec.whatwg.org/multipage/dom.html#script-supporting-elements-2)[noscript](https://html.spec.whatwg.org/multipage/scripting.html#the-noscript-element)[div](https://html.spec.whatwg.org/multipage/grouping-content.html#the-div-element)","format":"org.matrix.custom.html","formatted_body":"<p>The following are <a href=\"https://html.spec.whatwg.org/multipage/dom.html#select-element-inner-content-elements-2\">select element inner content elements</a>:</p>\n<pre><code>[option](https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element)[optgroup](https://html.spec.whatwg.org/multipage/form-elements.html#the-optgroup-element)[hr](https://html.spec.whatwg.org/multipage/grouping-content.html#the-hr-element)[script-supporting elements](https://html.spec.whatwg.org/multipage/dom.html#script-supporting-elements-2)[noscript](https://html.spec.whatwg.org/multipage/scripting.html#the-noscript-element)[div](https://html.spec.whatwg.org/multipage/grouping-content.html#the-div-element)\n</code></pre>\n","m.mentions":{},"msgtype":"m.text"},"ts":1762244312451,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$p9Fn6R-SO1ERbFoarjqhOCNk2V_hDSOCJduG8jysUCI"},
{"content":{"body":"* The following are [select element inner content elements](https://html.spec.whatwg.org/multipage/dom.html#select-element-inner-content-elements-2):\n\n[option](https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element)[optgroup](https://html.spec.whatwg.org/multipage/form-elements.html#the-optgroup-element)[hr](https://html.spec.whatwg.org/multipage/grouping-content.html#the-hr-element)[script-supporting elements](https://html.spec.whatwg.org/multipage/dom.html#script-supporting-elements-2)[noscript](https://html.spec.whatwg.org/multipage/scripting.html#the-noscript-element)[div](https://html.spec.whatwg.org/multipage/grouping-content.html#the-div-element)\n```","format":"org.matrix.custom.html","formatted_body":"* <p>The following are <a href=\"https://html.spec.whatwg.org/multipage/dom.html#select-element-inner-content-elements-2\">select element inner content elements</a>:</p>\n<p><a href=\"https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element\">option</a><a href=\"https://html.spec.whatwg.org/multipage/form-elements.html#the-optgroup-element\">optgroup</a><a href=\"https://html.spec.whatwg.org/multipage/grouping-content.html#the-hr-element\">hr</a><a href=\"https://html.spec.whatwg.org/multipage/dom.html#script-supporting-elements-2\">script-supporting elements</a><a href=\"https://html.spec.whatwg.org/multipage/scripting.html#the-noscript-element\">noscript</a><a href=\"https://html.spec.whatwg.org/multipage/grouping-content.html#the-div-element\">div</a></p>\n<pre><code></code></pre>\n","m.mentions":{},"m.new_content":{"body":"The following are [select element inner content elements](https://html.spec.whatwg.org/multipage/dom.html#select-element-inner-content-elements-2):\n\n[option](https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element)[optgroup](https://html.spec.whatwg.org/multipage/form-elements.html#the-optgroup-element)[hr](https://html.spec.whatwg.org/multipage/grouping-content.html#the-hr-element)[script-supporting elements](https://html.spec.whatwg.org/multipage/dom.html#script-supporting-elements-2)[noscript](https://html.spec.whatwg.org/multipage/scripting.html#the-noscript-element)[div](https://html.spec.whatwg.org/multipage/grouping-content.html#the-div-element)\n```","format":"org.matrix.custom.html","formatted_body":"<p>The following are <a href=\"https://html.spec.whatwg.org/multipage/dom.html#select-element-inner-content-elements-2\">select element inner content elements</a>:</p>\n<p><a href=\"https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element\">option</a><a href=\"https://html.spec.whatwg.org/multipage/form-elements.html#the-optgroup-element\">optgroup</a><a href=\"https://html.spec.whatwg.org/multipage/grouping-content.html#the-hr-element\">hr</a><a href=\"https://html.spec.whatwg.org/multipage/dom.html#script-supporting-elements-2\">script-supporting elements</a><a href=\"https://html.spec.whatwg.org/multipage/scripting.html#the-noscript-element\">noscript</a><a href=\"https://html.spec.whatwg.org/multipage/grouping-content.html#the-div-element\">div</a></p>\n<pre><code></code></pre>\n","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$p9Fn6R-SO1ERbFoarjqhOCNk2V_hDSOCJduG8jysUCI","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1762244323621,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$efQvPLXSJOkZIMyFLCp5m0NLsdYt_eK82Df4Mo8Pqsg"},
{"content":{"body":"*    \n> The following are select element inner content elements:\n>      * option\n>      * optgroup\n>      * hr\n>      * script-supporting elements\n>      * noscript\n>      * div\n","format":"org.matrix.custom.html","formatted_body":"* <blockquote>\n<p>The following are select element inner content elements:<br>* option<br>* optgroup<br>* hr<br>* script-supporting elements<br>* noscript<br>* div</p>\n</blockquote>\n","m.mentions":{},"m.new_content":{"body":"   \n> The following are select element inner content elements:\n>      * option\n>      * optgroup\n>      * hr\n>      * script-supporting elements\n>      * noscript\n>      * div\n","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>The following are select element inner content elements:<br>* option<br>* optgroup<br>* hr<br>* script-supporting elements<br>* noscript<br>* div</p>\n</blockquote>\n","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$p9Fn6R-SO1ERbFoarjqhOCNk2V_hDSOCJduG8jysUCI","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1762244380764,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$6xf9ja2foRDkr4BBG889hTAh9kq-Dp8Lhzayj9BiaN0"},
{"content":{"body":"Do current parsers actually support that?","m.mentions":{},"msgtype":"m.text"},"ts":1762244405746,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$SK44Jjd7rKY9RTRZqfyUwr6GBQDsOwZz1n5AWTGru6Y"},
{"content":{"body":"The Gecko/validator.nu parser doesn’t seem to ","m.mentions":{},"msgtype":"m.text"},"ts":1762244424711,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$QMtJ-SLKGSTI-gPyZVma_A1GYES7ZoaRxDlHc4flL4A"},
{"content":{"body":"trying the HTML checker with this:\n```html\n<!doctype html><html lang=en><meta charset=utf-8>\n<title>select with hr and div children</title>\n<select id=\"theme-select\">\n  <option value=\"light\">Light</option>\n  <option value=\"dark\">Dark</option>\n  <hr>\n  <div class=\"group-label\">Custom themes</div>\n  <option value=\"solarized\">Solarized</option>\n  <option value=\"dracula\">Dracula</option>\n</select>\n```\nI get parse-error messages:\n\n\"file:/Users/mike/workspace/validator/tests/html/elements/select/hr-and-div-children-isvalid.html\":7.3-7.27: error: Stray start tag “div”.\n\"file:/Users/mike/workspace/validator/tests/html/elements/select/hr-and-div-children-isvalid.html\":7.3-7.40: error: Text not allowed in element “select” in this context.\n\"file:/Users/mike/workspace/validator/tests/html/elements/select/hr-and-div-children-isvalid.html\":7.41-7.46: error: Stray end tag “div”.","format":"org.matrix.custom.html","formatted_body":"<p>trying the HTML checker with this:</p>\n<pre><code class=\"language-html\">&lt;!doctype html&gt;&lt;html lang=en&gt;&lt;meta charset=utf-8&gt;\n&lt;title&gt;select with hr and div children&lt;/title&gt;\n&lt;select id=\"theme-select\"&gt;\n  &lt;option value=\"light\"&gt;Light&lt;/option&gt;\n  &lt;option value=\"dark\"&gt;Dark&lt;/option&gt;\n  &lt;hr&gt;\n  &lt;div class=\"group-label\"&gt;Custom themes&lt;/div&gt;\n  &lt;option value=\"solarized\"&gt;Solarized&lt;/option&gt;\n  &lt;option value=\"dracula\"&gt;Dracula&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n<p>I get parse-error messages:</p>\n<p>\"file:/Users/mike/workspace/validator/tests/html/elements/select/hr-and-div-children-isvalid.html\":7.3-7.27: error: Stray start tag “div”.<br>\"file:/Users/mike/workspace/validator/tests/html/elements/select/hr-and-div-children-isvalid.html\":7.3-7.40: error: Text not allowed in element “select” in this context.<br>\"file:/Users/mike/workspace/validator/tests/html/elements/select/hr-and-div-children-isvalid.html\":7.41-7.46: error: Stray end tag “div”.</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1762244580748,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$xEq6zFqWURe-Bijx9sk8nSWDehz2sTPGAQQew-t-Y54"},
{"content":{"body":"* trying the HTML checker with this:\n\n```html\n<!doctype html><html lang=en><meta charset=utf-8>\n<title>select with hr and div children</title>\n<select id=\"theme-select\">\n  <option value=\"light\">Light</option>\n  <option value=\"dark\">Dark</option>\n  <hr>\n  <div class=\"group-label\">Custom themes</div>\n  <option value=\"solarized\">Solarized</option>\n  <option value=\"dracula\">Dracula</option>\n</select>\n```\n\nI get parse-error messages:\n\n:7.3-7.27: error: Stray start tag “div”.\n:7.3-7.40: error: Text not allowed in element “select” in this context.\n:7.41-7.46: error: Stray end tag “div”.","format":"org.matrix.custom.html","formatted_body":"* <p>trying the HTML checker with this:</p>\n<pre><code class=\"language-html\">&lt;!doctype html&gt;&lt;html lang=en&gt;&lt;meta charset=utf-8&gt;\n&lt;title&gt;select with hr and div children&lt;/title&gt;\n&lt;select id=\"theme-select\"&gt;\n  &lt;option value=\"light\"&gt;Light&lt;/option&gt;\n  &lt;option value=\"dark\"&gt;Dark&lt;/option&gt;\n  &lt;hr&gt;\n  &lt;div class=\"group-label\"&gt;Custom themes&lt;/div&gt;\n  &lt;option value=\"solarized\"&gt;Solarized&lt;/option&gt;\n  &lt;option value=\"dracula\"&gt;Dracula&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n<p>I get parse-error messages:</p>\n<p>:7.3-7.27: error: Stray start tag “div”.<br>:7.3-7.40: error: Text not allowed in element “select” in this context.<br>:7.41-7.46: error: Stray end tag “div”.</p>\n","m.mentions":{},"m.new_content":{"body":"trying the HTML checker with this:\n\n```html\n<!doctype html><html lang=en><meta charset=utf-8>\n<title>select with hr and div children</title>\n<select id=\"theme-select\">\n  <option value=\"light\">Light</option>\n  <option value=\"dark\">Dark</option>\n  <hr>\n  <div class=\"group-label\">Custom themes</div>\n  <option value=\"solarized\">Solarized</option>\n  <option value=\"dracula\">Dracula</option>\n</select>\n```\n\nI get parse-error messages:\n\n:7.3-7.27: error: Stray start tag “div”.\n:7.3-7.40: error: Text not allowed in element “select” in this context.\n:7.41-7.46: error: Stray end tag “div”.","format":"org.matrix.custom.html","formatted_body":"<p>trying the HTML checker with this:</p>\n<pre><code class=\"language-html\">&lt;!doctype html&gt;&lt;html lang=en&gt;&lt;meta charset=utf-8&gt;\n&lt;title&gt;select with hr and div children&lt;/title&gt;\n&lt;select id=\"theme-select\"&gt;\n  &lt;option value=\"light\"&gt;Light&lt;/option&gt;\n  &lt;option value=\"dark\"&gt;Dark&lt;/option&gt;\n  &lt;hr&gt;\n  &lt;div class=\"group-label\"&gt;Custom themes&lt;/div&gt;\n  &lt;option value=\"solarized\"&gt;Solarized&lt;/option&gt;\n  &lt;option value=\"dracula\"&gt;Dracula&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n<p>I get parse-error messages:</p>\n<p>:7.3-7.27: error: Stray start tag “div”.<br>:7.3-7.40: error: Text not allowed in element “select” in this context.<br>:7.41-7.46: error: Stray end tag “div”.</p>\n","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$xEq6zFqWURe-Bijx9sk8nSWDehz2sTPGAQQew-t-Y54","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1762244627826,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$JHcY28Tw5x7WnAb9In0RdtkwOtEj3ZkiDcyhgrShKP4"},
{"content":{"body":"hmm yeah also in Firefox — the DOM looks like this:\n```html\n<select id=\"theme-select\">\n  <option value=\"light\">Light</option>\n  <option value=\"dark\">Dark</option>\n  <hr>\n  Custom themes\n  <option value=\"solarized\">Solarized</option>\n  <option value=\"dracula\">Dracula</option>\n</select>\n```","format":"org.matrix.custom.html","formatted_body":"<p>hmm yeah also in Firefox — the DOM looks like this:</p>\n<pre><code class=\"language-html\">&lt;select id=\"theme-select\"&gt;\n  &lt;option value=\"light\"&gt;Light&lt;/option&gt;\n  &lt;option value=\"dark\"&gt;Dark&lt;/option&gt;\n  &lt;hr&gt;\n  Custom themes\n  &lt;option value=\"solarized\"&gt;Solarized&lt;/option&gt;\n  &lt;option value=\"dracula\"&gt;Dracula&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n","m.mentions":{},"msgtype":"m.text"},"ts":1762244715190,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$IUDNZAUESZkIO-6k1I14WPTKKNm3o6qxIEBYkNzyDf4"},
{"content":{"body":"hmm yeah same DOM in Safari — no `div` in the DOM","format":"org.matrix.custom.html","formatted_body":"hmm yeah same DOM in Safari —&nbsp;no <code>div</code> in the DOM","m.mentions":{},"msgtype":"m.text"},"ts":1762244786013,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$ltzrRUgXDQze-lkF3e83Kzkt8z5Z53FACh9rEzCKJOU"},
{"content":{"body":"sideshowbarker: that's a very recent change; I think Chrome might have shipped it. I did implement these aspects in WebKit, but nothing shipped as-of-yet.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: that's a very recent change; I think Chrome might have shipped it. I did implement these aspects in WebKit, but nothing shipped as-of-yet.","m.mentions":{"user_ids":["@sideshowbarker:matrix.org"]},"msgtype":"m.text"},"ts":1762244835821,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Ka3GZq0XBIP-Jbbewcu2w_Su42Yj725s3V_paAIpepk"},
{"content":{"body":"ah OK","m.mentions":{},"msgtype":"m.text"},"ts":1762244853313,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$lkJ9-jv0ugw4dfECUoi91Rao4pBBFowQ3c7gssZgS2A"},
{"content":{"body":"so I guess I may need to implement in the vnu HTML parser — or wait til Henri or somebody does","m.mentions":{},"msgtype":"m.text"},"ts":1762244888061,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$GVtq4Q1ot90bTbJnTnMWDyl184krh91UNw5j3maL8Mo"},
{"content":{"body":"Do you know if there’s an open gecko bug for it?","m.mentions":{},"msgtype":"m.text"},"ts":1762244915131,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$EnQ7JxSzVyo1xq82Fis1Ul1xxRJiB8LBtrewbefh-uY"},
{"content":{"body":"sideshowbarker: https://bugzilla.mozilla.org/show_bug.cgi?id=1933591","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: https://bugzilla.mozilla.org/show_bug.cgi?id=1933591","m.mentions":{"user_ids":["@sideshowbarker:matrix.org"]},"msgtype":"m.text"},"ts":1762244989896,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$YJH4V1mXBMGKQJZEm_lkInOilEOf_kn3P1wi1KCc150"},
{"content":{"body":"incidentelly I've seen dl/dt/dd got similar changes too, but I haven't checked if that was implemented","m.mentions":{},"msgtype":"m.text"},"ts":1762249664977,"senderName":"julienw","senderId":"@julienw:mozilla.org","id":"$BF_MAowv5oBvY_k0-Syewkm1PiUbgyOKdGREym5ExAA"},
{"content":{"body":"* incidentaly I've seen dl/dt/dd got similar changes too, but I haven't checked if that was implemented","m.mentions":{},"m.new_content":{"body":"incidentaly I've seen dl/dt/dd got similar changes too, but I haven't checked if that was implemented","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$BF_MAowv5oBvY_k0-Syewkm1PiUbgyOKdGREym5ExAA","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1762249669895,"senderName":"julienw","senderId":"@julienw:mozilla.org","id":"$YFrdHcKvF1grSpHJmRq9kRWADZR_RIxZBcJIB0iuefA"},
{"content":{"body":"I think those were just conformance changes. The parser wasn't changed for those elements.","m.mentions":{},"msgtype":"m.text"},"ts":1762250297174,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$NT4bfCTEA7VLnOtGLf6oV8jxaMHIO0XWAUQ71BRFe5c"},
{"content":{"body":"annevk & smaug are we OK marking Menu Elements (https://github.com/whatwg/html/issues/11729) as stage 1? This was raised a few WHATNOTs ago","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a> &amp; <a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a> are we OK marking Menu Elements (https://github.com/whatwg/html/issues/11729) as stage 1? This was raised a few WHATNOTs ago","m.mentions":{"user_ids":["@annevk:matrix.org","@smaug:mozilla.org"]},"msgtype":"m.text"},"ts":1762261634754,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$1vdWzMi4tjf3zFGaAIw6JXhxqz08aEJ-NtN1SuVEEwg"},
{"content":{"body":"Dominic Farolino: okay from our side.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domfarolino:matrix.org\">Dominic Farolino</a>: okay from our side.","m.mentions":{"user_ids":["@domfarolino:matrix.org"]},"msgtype":"m.text"},"ts":1762262902363,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$0sV9MV_UmOllElo3h97pZZggOTpea0GSvl9AM3RElYQ"}
]