[
{"content":{"body":"emilio: so :active/:hover use the flat tree, but :has() uses the node tree? Is using the flat tree for selector matching not really expensive?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@emilio:mozilla.org\">emilio</a>: so :active/:hover use the flat tree, but :has() uses the node tree? Is using the flat tree for selector matching not really expensive?","msgtype":"m.text"},"ts":1641556599689,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$WU12gaMZGi7sxyI-dyHUQuw2JTsxJ55ro9stDlTeFUw"},
{"content":{"body":"> <@annevk:mozilla.org> emilio: so :active/:hover use the flat tree, but :has() uses the node tree? Is using the flat tree for selector matching not really expensive?\n\nThat is right. :has() uses the node tree like all other selector combinators, why would it use the flat tree?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$WU12gaMZGi7sxyI-dyHUQuw2JTsxJ55ro9stDlTeFUw?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br /><a href=\"https://matrix.to/#/@emilio:mozilla.org\">emilio</a>: so :active/:hover use the flat tree, but :has() uses the node tree? Is using the flat tree for selector matching not really expensive?</blockquote></mx-reply>That is right. :has() uses the node tree like all other selector combinators, why would it use the flat tree?","m.relates_to":{"m.in_reply_to":{"event_id":"$WU12gaMZGi7sxyI-dyHUQuw2JTsxJ55ro9stDlTeFUw"}},"msgtype":"m.text"},"ts":1641558399976,"senderName":"emilio","senderId":"@emilio:mozilla.org","id":"$h8bl2cUBwKgVHe9MR2iSxPgOD1htFU9tfo3_53zJRm0"},
{"content":{"body":"Not that it would be impossible to do but it'd be weird ","msgtype":"m.text"},"ts":1641558416527,"senderName":"emilio","senderId":"@emilio:mozilla.org","id":"$vHX1d7UZ4EKX-NEP8Nbba2p-VRxsiJwt4PsmNXU1OeM"},
{"content":{"body":"emilio: yeah never mind, I guess it all makes sense. And :has can't really use the flat tree as that'd break encapsulation, I think.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@emilio:mozilla.org\">emilio</a>: yeah never mind, I guess it all makes sense. And :has can't really use the flat tree as that'd break encapsulation, I think.","msgtype":"m.text"},"ts":1641558511240,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$Zg0Li090ILaFpR9vOzvDKdwwaSYtRBbkZy4m5xJ3214"},
{"content":{"body":"Right","msgtype":"m.text"},"ts":1641558659627,"senderName":"emilio","senderId":"@emilio:mozilla.org","id":"$XzWyBQGnJ5_BzrKguWpQ3oPx9BMw3dG1yCnjHg4u8-c"},
{"content":{"body":"Thinking of trying to tackle https://github.com/whatwg/dom/issues/849 again, or at least make progress ... is there any easy way to know what element names the HTML parser accepts? Or do I have to walk through various parser states?","msgtype":"m.text"},"ts":1641570527837,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$HkKbFbslGYhwJ5fOOeM1_SLh1qemqtIyRWp2bJ2IKQg"},
{"content":{"body":"I guess looking at https://html.spec.whatwg.org/#tag-open-state + tag name state is not too bad...","msgtype":"m.text"},"ts":1641570573344,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$V0OPcWKPTbyzi5v_6V9BOO7eDZb6zd4KAbstyk45iBk"},
{"content":{"body":"can someone who understands how event dispatch is specified comment on https://bugs.webkit.org/show_bug.cgi?id=234730? because I've utterly confused myself now.","msgtype":"m.text"},"ts":1641572077657,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$hbeWTTxm1AEQ0rZG_qe7QtfpoJaQSVLk6dEuwyEyko0"},
{"content":{"body":"Domenic: can element names contain `>` today? That seems problematic","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: can element names contain <code>&gt;</code> today? That seems problematic","msgtype":"m.text"},"ts":1641572829889,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$guCX3zv_1zf9jy319vubMjf_5Lh86TS4jcC50BzePpo"},
{"content":{"body":"Domenic: I doubt we want to allow CR","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: I doubt we want to allow CR","msgtype":"m.text"},"ts":1641572866860,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$FcstTr7WSQkSHga75V1gPzz0XSD0yjv2ZeMjyWqC1XI"},
{"content":{"body":"\\> is excluded from LenientElementNameStartChar and LenientElementNameChar in my sketch","format":"org.matrix.custom.html","formatted_body":"&gt; is excluded from LenientElementNameStartChar and LenientElementNameChar in my sketch","msgtype":"m.text"},"ts":1641572877487,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$JZR-IkfpwfOmxGQEqVP8aSIR59Iati_wwSwgczX0DEY"},
{"content":{"body":" * \\> is excluded from LenientElementNameStartChar and LenientElementNameChar in my sketch","format":"org.matrix.custom.html","formatted_body":" * &gt; is excluded from LenientElementNameStartChar and LenientElementNameChar in my sketch","m.new_content":{"body":"\\> is excluded from LenientElementNameStartChar and LenientElementNameChar in my sketch","format":"org.matrix.custom.html","formatted_body":"&gt; is excluded from LenientElementNameStartChar and LenientElementNameChar in my sketch","msgtype":"m.text"},"m.relates_to":{"event_id":"$JZR-IkfpwfOmxGQEqVP8aSIR59Iati_wwSwgczX0DEY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1641572883756,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$C9X6fy7CJPrCzRNXLahcwc1RKfjQI3pvOBaj34W8EbA"},
{"content":{"body":"I think CR is probably disallowed by the parser but as preprocessing, so I didn't see it when reading. Good catch.","msgtype":"m.text"},"ts":1641572907629,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$Xo5AeI7DGqsVCRqmtXr4qaZz-pYjcJlFJLf_1c2FQDE"},
{"content":{"body":"Although what about entities hmm","msgtype":"m.text"},"ts":1641572914509,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$PtcNlJqqkLd4U_PRIHIaMBxMYmQv857JqRgZe3e0tE0"},
{"content":{"body":"Entities don't work in tag names, huh","msgtype":"m.text"},"ts":1641572996557,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$NYn9D7jNb168UWPRmITzAZYx-EZLtK7KXvGKBJAXhkc"}
]