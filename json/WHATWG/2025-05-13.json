[
{"content":{"body":"If you have tests impacted by partitioned BroadcastChannel, what would be the best replacement at this point in time? The stash feature? Is there a client-side wrapper for that available today?","m.mentions":{},"msgtype":"m.text"},"ts":1747125077136,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$ZpV2a-xpkVc-Du-74Uh9ks9phe9bCf1HyeAtxYhpwrg"},
{"content":{"body":"`stash` was more about retaining shared state than message-passing, no?","format":"org.matrix.custom.html","formatted_body":"<code>stash</code> was more about retaining shared state than message-passing, no?","m.mentions":{"user_ids":["@annevk:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$ZpV2a-xpkVc-Du-74Uh9ks9phe9bCf1HyeAtxYhpwrg"}},"msgtype":"m.text"},"ts":1747126208081,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$A5JBiTn-_BaYyQ8lRseEvwxmYkPJTpXwnpdTWGpt4zo"},
{"content":{"body":"annevk: https://github.com/web-platform-tests/wpt/tree/master/common/dispatcher#sendreceive-message-passing-apis","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: https://github.com/web-platform-tests/wpt/tree/master/common/dispatcher#sendreceive-message-passing-apis","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1747126817809,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$Evd7pI2kBqGj5DrnQ4yzMhCDzox2HccjJLHmMUkyM38"},
{"content":{"body":"or maybe there's a replacement for those? https://github.com/web-platform-tests/rfcs/pull/90","m.mentions":{},"msgtype":"m.text"},"ts":1747126959959,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$pTr-Oe3m0R5EXddgKKpseeFdZLg8bMXZzzEeqwvzMa0"},
{"content":{"body":"or https://github.com/web-platform-tests/rfcs/pull/98","m.mentions":{},"msgtype":"m.text"},"ts":1747127071022,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$bWJkaAnVKGfxlFuDDR-pmZNTUEaOc_9L7PnmV89tFOo"},
{"content":{"body":"Docs here https://web-platform-tests.org/writing-tests/channels.html","m.mentions":{},"msgtype":"m.text"},"ts":1747127239674,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$b1ibAKzrqQC77RHqk32i7J1IGbqUC7MdpbaoBZFidWg"},
{"content":{"body":"ooh I needed these a while back when we were porting prerender out of `BroadcastChannel`.","format":"org.matrix.custom.html","formatted_body":"ooh I needed these a while back when we were porting prerender out of <code>BroadcastChannel</code>.","m.mentions":{},"msgtype":"m.text"},"ts":1747127634160,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$PbhQ8R1v9EYCCBhjxgV4wgYhkpyXTrL-1nxl3rt9xxU"},
{"content":{"body":"zcorpan: thanks, that's very helpful. I'm surprised the cross-origin-opener-policy tests haven't yet been rewritten to make use of those, but I suppose I can take a look at that.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: thanks, that's very helpful. I'm surprised the cross-origin-opener-policy tests haven't yet been rewritten to make use of those, but I suppose I can take a look at that.","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"msgtype":"m.text"},"ts":1747128030728,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$gSJyYIDaqr6B0ArKz7XcjHvWfJfLtZ5UUyfSm2-2zj4"},
{"content":{"body":"```\ndata:text/html,<!DOCTYPE%20html><script>document.addEventListener('keypress',console.log);</script>\n```\n\nChrome & Firefox don't fire a `keypress` event for the `Escape` key. WebKit seems to. I'm curious if there's a spec detail that represents this, or if this is something known?","format":"org.matrix.custom.html","formatted_body":"<pre><code>data:text/html,&lt;!DOCTYPE%20html&gt;&lt;script&gt;document.addEventListener('keypress',console.log);&lt;/script&gt;\n</code></pre>\n<p>Chrome &amp; Firefox don't fire a <code>keypress</code> event for the <code>Escape</code> key. WebKit seems to. I'm curious if there's a spec detail that represents this, or if this is something known?</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1747128214874,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$uBEhxO8k8PthRJPBNG445tSTdTr9fBUyal-aDlNhD7Y"},
{"content":{"body":"keithamus: WebKit doesn't fire it when in fullscreen https://software.hixie.ch/utilities/js/live-dom-viewer/saved/13781","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@keithamus:matrix.org\">keithamus</a>: WebKit doesn't fire it when in fullscreen https://software.hixie.ch/utilities/js/live-dom-viewer/saved/13781","m.mentions":{"user_ids":["@keithamus:matrix.org"]},"msgtype":"m.text"},"ts":1747128435096,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$OhbyYHhydFchzksZ9tcijsJW2AKH54tz8MMh2l39Io0"},
{"content":{"body":"interesting.","m.mentions":{},"msgtype":"m.text"},"ts":1747128491620,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$4gUDmLDyqvwwGJmUSmpNcCeQDLDF7sOzvnrw-UZ5Oag"},
{"content":{"body":"Also see https://github.com/whatwg/fullscreen/issues/231","m.mentions":{},"msgtype":"m.text"},"ts":1747128494352,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$EcazWZ4piczXlirWCjRabOthvsT8N7DLthklHjngRK0"},
{"content":{"body":"https://w3c.github.io/uievents/#event-type-keypress seems to suggest it shouldn't fire because it doesn't produce a printable character:\n\n> only if that key normally produces a character value","format":"org.matrix.custom.html","formatted_body":"<p>https://w3c.github.io/uievents/#event-type-keypress seems to suggest it shouldn't fire because it doesn't produce a printable character:</p>\n<blockquote>\n<p>only if that key normally produces a character value</p>\n</blockquote>\n","m.mentions":{},"msgtype":"m.text"},"ts":1747128528686,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$jyiDasG8AnVZJmpNZUN7rRK2spQv9EUPeCvmhCQt6O8"},
{"content":{"body":"Ah, then it seems like a bug in webkit. But `keydown`/`keyup` are still interesting wrt fullscreen","format":"org.matrix.custom.html","formatted_body":"Ah, then it seems like a bug in webkit. But <code>keydown</code>/<code>keyup</code> are still interesting wrt fullscreen","m.mentions":{},"msgtype":"m.text"},"ts":1747128710693,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$YlEzKbz8-dGExAFjzRfgUBdLGsI-BxrI-oQ1-zYqaVk"},
{"content":{"body":"zcorpan: how does executing functions in random globals from https://web-platform-tests.org/writing-tests/channels.html work? It's also not clear to me where RemoteGlobal's postMessage might end up or how they can reply. As far as I can tell this isn't actually used by anyone.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: how does executing functions in random globals from https://web-platform-tests.org/writing-tests/channels.html work? It's also not clear to me where RemoteGlobal's postMessage might end up or how they can reply. As far as I can tell this isn't actually used by anyone.","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"msgtype":"m.text"},"ts":1747135123894,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$I_K54Xj8X1cVtM9cSbddoS-2xzRejqhxqR2VTGuwfk0"},
{"content":{"body":"annevk: https://github.com/web-platform-tests/rfcs/blob/master/rfcs/remote_channel.md cc jgraham ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: https://github.com/web-platform-tests/rfcs/blob/master/rfcs/remote_channel.md cc <a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>","m.mentions":{"user_ids":["@annevk:matrix.org","@jgraham_:matrix.org"]},"msgtype":"m.text"},"ts":1747139113199,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$Q4bSHhMpk8pgMg9CRR-xXjB3X_t5il9UuOLoYCHZUww"},
{"content":{"body":"zcorpan: thanks. I'm going to use dispatcher.js for now. That seems to suffice and is already integrated to some extent.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: thanks. I'm going to use dispatcher.js for now. That seems to suffice and is already integrated to some extent.","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"msgtype":"m.text"},"ts":1747143355191,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$FlBEVj9AbEjEjOsxU8tP2ICXuK1I4kIQeo9Re6PGd9Q"}
]