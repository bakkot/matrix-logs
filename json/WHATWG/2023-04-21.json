[
{"content":{"body":"I feel like there must be a good answer for https://stackoverflow.com/questions/76068346/is-it-possible-to-restrict-the-visibility-of-domains-in-csp-frame-ancestors but if so, I don’t know what the answer might be","msgtype":"m.text"},"ts":1682040721421,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$nn7JoivtKMfvM6Wygik8AtFZ_HsYvNjMwns895LgNaA"},
{"content":{"body":"annevk: So, to clarify: The tests you found failing in Firefox but succeeding in Safari & WebKit were (a) missing padding and (b) base64url decoding works. The case (a) seems to be in WPT; but looks like (b) is not even tested in wpt?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: So, to clarify: The tests you found failing in Firefox but succeeding in Safari &amp; WebKit were (a) missing padding and (b) base64url decoding works. The case (a) seems to be in WPT; but looks like (b) is not even tested in wpt?","msgtype":"m.text"},"ts":1682058398981,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$0_XH2B1wSD4Ej9C6ujLm7XE1qgh_CDh3b5tWm56hOH0"},
{"content":{"body":"aLoha","msgtype":"m.text"},"ts":1682058841951,"senderName":"cdravcte","senderId":"@cdravcte:matrix.org","id":"$favpYXCrUnutEB6ZDhGqHb1jMmizwcbJJs2_isrhh7w"},
{"content":{"body":"freddy: could be, it would also be interesting to test base64 that has whitespace and whether implementations strip it or not (as they do for data: URLs and atob/btoa)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>: could be, it would also be interesting to test base64 that has whitespace and whether implementations strip it or not (as they do for data: URLs and atob/btoa)","msgtype":"m.text"},"ts":1682059113458,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$tgQqIG8RpSZldmhFJ_aGv29i-Jd0edJpLkdBB_-0bzA"},
{"content":{"body":"Austin Keener: Chrome and Firefox are buggy, Safari does this correctly; hopefully it'll get addressed as part of Interop 2023","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@dv8fromtheworld:matrix.org\">Austin Keener</a>: Chrome and Firefox are buggy, Safari does this correctly; hopefully it'll get addressed as part of Interop 2023","msgtype":"m.text"},"ts":1682059226744,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$_q7u9IuSyXKCG9gTS19fQT0QPqBjvMVFYSaQUNhxHsg"},
{"content":{"body":"Script files with whitespace or integrity metadata with whitespace?","msgtype":"m.text"},"ts":1682059233040,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$7Vz1aJXQCPklR0Gz56lEKizUlMKckaGKgA4Cgfw60M0"},
{"content":{"body":"freddy: something like sha256-base64withtab\\tandspaces init","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>: something like sha256-base64withtab\\tandspaces init","msgtype":"m.text"},"ts":1682059279940,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Ft9ENQ6rrVwn37TvOUMEe89c38VyfGyDMMYc5lNySwU"},
{"content":{"body":"freddy: hmm, I guess that naturally ends up failing due to how integrity is parsed","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>: hmm, I guess that naturally ends up failing due to how integrity is parsed","msgtype":"m.text"},"ts":1682059308849,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$45kqZ-SIBBCRkkT3vlJQItTi2hwcXPPmQDouw0ke4Dc"},
{"content":{"body":"well, we split multiple items of integrity metadata on spaces, so not sure if that's even expected to work","msgtype":"m.text"},"ts":1682059311437,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$5HcvgjQGTIf1X_ndXjOxaDSIZFR5uiFcgEiDlev1614"},
{"content":{"body":"freddy: so maybe that cannot be tested","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>: so maybe that cannot be tested","msgtype":"m.text"},"ts":1682059314358,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$IxMp-KpgkpLYJi4FLHKuubdMcOlJ4QhitloZUIOnq1I"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1682059323554,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$eZLnMOeKYPxbHQVvNlM-FSyzxVjCj7o0pgRdNrt2hUY"},
{"content":{"body":"freddy: and I guess \"spaces\" there is HTML/Infra's definition of ASCII whitespace?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>: and I guess &quot;spaces&quot; there is HTML/Infra's definition of ASCII whitespace?","msgtype":"m.text"},"ts":1682059334057,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$3r-hP9pNh0QCIKbk8XUFPFrVmQr54eWCcvTIfPOVuAY"},
{"content":{"body":"freddy: could still test \\v then, but that's about it","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>: could still test \\v then, but that's about it","msgtype":"m.text"},"ts":1682059353556,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$58Bya_1HS5ZZmlRoueWD5Tyg_1c6gyexAB-LikssG1U"},
{"content":{"body":"With the \"missing padding\" and base64url already working in other browsers, it seems unlikely that we can deprecate in Safari and Chrome. I consider just filing a bug for Firefox to support it","msgtype":"m.text"},"ts":1682059354822,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$Y6qYxjgt4z4mPmuzOdhWxyWtMkbLwWM5wwGGi_l9Opc"},
{"content":{"body":"freddy: I kinda wish we could remove missing padding from base64 \"default\"","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>: I kinda wish we could remove missing padding from base64 &quot;default&quot;","msgtype":"m.text"},"ts":1682059403604,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$uxRuwdtsf8ewLlT6x18BvIq7NzWKfzrJdxbIIRnTFBY"},
{"content":{"body":"Do you want to drive a deprecation in Safari and Chrome?","msgtype":"m.text"},"ts":1682059431344,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$ynxnIXJAOTymfVeEjulow_3v-mNKR1uKqVzXpaKz1IY"},
{"content":{"body":"Even forgiving base64 is stricter on padding than that","msgtype":"m.text"},"ts":1682059432880,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$M6NcVbryR8AWVffPcE8FgcOtR3760wqTT2qIkjEtZv4"},
{"content":{"body":"I want fewer base64 decoding options, yes; I'm not personally signing up for Chromium work","msgtype":"m.text"},"ts":1682059477956,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$LZDm22HK7F30CrcJduccU8zzbWTLsaqzdRdZj6IG7kg"},
{"content":{"body":"Well, how bad do you want them?","msgtype":"m.text"},"ts":1682059546256,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$mfTtCYkBGzIQ_zzXO8KyHH66F119vFB8lOcj0qQj7pY"},
{"content":{"body":"Especially with the test case for \"missing padding\" passing since forever in wpt, I don't see anyone care if Safari and Firefox were to stop supporting it","msgtype":"m.text"},"ts":1682059869134,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$xxS8UxIOf53yHKlDYMrrwdmVsotsJrTchC8IaesILJw"},
{"content":{"body":"freddy: there's not just that problem right, it also needs to be specified","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>: there's not just that problem right, it also needs to be specified","msgtype":"m.text"},"ts":1682060025812,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$u18tc8txh3Sq_fOTvXrQmZd0Qa367m97EFGGQ4vldjc"},
{"content":{"body":"so, \"base64 decoding with padding ignored\" is a new thing in terms of standards infra?","msgtype":"m.text"},"ts":1682060058607,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$XyFC9RX3Q5zyjuoWwuMlk1luxsfLK6IgXsirDuNFdRQ"},
{"content":{"body":"freddy: I could totally see this getting fixed as part of some interior effort, esp as base64 encoders will add padding so I doubt this is a problem in practice","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>: I could totally see this getting fixed as part of some interior effort, esp as base64 encoders will add padding so I doubt this is a problem in practice","msgtype":"m.text"},"ts":1682060072794,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$O9QHp8Zc98D9N-2pcicYeKlZUn5Fec04KDcP6hL6jgI"},
{"content":{"body":"freddy: yes","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>: yes","msgtype":"m.text"},"ts":1682060078493,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$d_guh6lXKlBakllVVT-pNPKziQrKWQaSxLWY38DcOzo"},
{"content":{"body":"But is it also a new thing in terms of how browsers implements decoding across other features?","msgtype":"m.text"},"ts":1682060081955,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$fVg1yZxlGdJjJIpgumBCLo6p3J3nH7D_W2Fq576fbIs"},
{"content":{"body":" * But is it also a new thing in terms of how browsers implement decoding across other features?","m.new_content":{"body":"But is it also a new thing in terms of how browsers implement decoding across other features?","msgtype":"m.text"},"m.relates_to":{"event_id":"$fVg1yZxlGdJjJIpgumBCLo6p3J3nH7D_W2Fq576fbIs","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1682060093035,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$FkMK5wfJvjo0pvzjTcE65nPtUhEgshrdt1g0JnZ1sEI"},
{"content":{"body":"freddy: I'm not currently aware of features besides CSP/SRI","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>: I'm not currently aware of features besides CSP/SRI","msgtype":"m.text"},"ts":1682060099988,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$W1CBI80vRI8EDnu_HxeLayEIiyuu5ZS7r9KL0gxsuOw"},
{"content":{"body":"freddy: though there are some code paths that have used it due to lack of care","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>: though there are some code paths that have used it due to lack of care","msgtype":"m.text"},"ts":1682060116456,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$8lmEPI-7z6OZgCyju6nPm_zUblno6ya4toput504T_k"},
{"content":{"body":"Firefox does not seem to have an \"ignore padding\" setting in the existing base64decoder but  there is a setting for the base64urldecoder","msgtype":"m.text"},"ts":1682060127609,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$o5JiE1FNjzpD_dC3GD9HBdTRJIJ2R_QYhEydscLVi_E"},
{"content":{"body":"freddy: for base64url WebKit never is strict on padding, but I believe that is somewhat expected for base64url even though that could have sec consequences as well","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>: for base64url WebKit never is strict on padding, but I believe that is somewhat expected for base64url even though that could have sec consequences as well","msgtype":"m.text"},"ts":1682060176385,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$OSRy8NOPVux8-9ZsBqhJBkQ0hC4QOO0D17H4cDg7qFg"},
{"content":{"body":"well \"never\" except that one integrity test case","msgtype":"m.text"},"ts":1682060550252,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$TKnbkxVghP19WNVeskKoUMaOKrRHYAXfgTDEQbHNGKI"},
{"content":{"body":"freddy: that's a base64 failure, not a base64url one","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>: that's a base64 failure, not a base64url one","msgtype":"m.text"},"ts":1682061109970,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$5dqef7TiI0DF5UwO4TYsMs2fZMnS9mpC7V4NFtaa7CY"},
{"content":{"body":"I think for now I'll update that patch to have 4 encoding modes, DefaultWithoutStrictPadding, DefaultWithStrictPadding, DefaultWithStrictPaddingAndIgnoreWhiteSpace, and URL (equivalent to DefaultWithoutStrictPadding except for the map used); that's what WebKit has today minus a mode for treating \\v as whitespace, which was just a bug due to have C defines ASCII whitespace","format":"org.matrix.custom.html","formatted_body":"I think for now I'll update that patch to have 4 encoding modes, DefaultWithoutStrictPadding, DefaultWithStrictPadding, DefaultWithStrictPaddingAndIgnoreWhiteSpace, and URL (equivalent to DefaultWithoutStrictPadding except for the map used); that's what WebKit has today minus a mode for treating \\v as whitespace, which was just a bug due to have C defines ASCII whitespace","msgtype":"m.text"},"ts":1682061241363,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$TnumsOhlkyRA7vSmAjqUFBQj5Zdba74bwbBkCPfDqN4"},
{"content":{"body":" * I think for now I'll update that patch to have 4 encoding modes, DefaultWithoutStrictPadding, DefaultWithStrictPadding, DefaultWithStrictPaddingAndIgnoreWhiteSpace, and URL (equivalent to DefaultWithoutStrictPadding except for the map used); that's what WebKit has today minus a mode for treating \\\\v as whitespace, which was just a bug due to how C defines ASCII whitespace","format":"org.matrix.custom.html","formatted_body":" * I think for now I'll update that patch to have 4 encoding modes, DefaultWithoutStrictPadding, DefaultWithStrictPadding, DefaultWithStrictPaddingAndIgnoreWhiteSpace, and URL (equivalent to DefaultWithoutStrictPadding except for the map used); that's what WebKit has today minus a mode for treating \\v as whitespace, which was just a bug due to how C defines ASCII whitespace","m.new_content":{"body":"I think for now I'll update that patch to have 4 encoding modes, DefaultWithoutStrictPadding, DefaultWithStrictPadding, DefaultWithStrictPaddingAndIgnoreWhiteSpace, and URL (equivalent to DefaultWithoutStrictPadding except for the map used); that's what WebKit has today minus a mode for treating \\\\v as whitespace, which was just a bug due to how C defines ASCII whitespace","format":"org.matrix.custom.html","formatted_body":"I think for now I'll update that patch to have 4 encoding modes, DefaultWithoutStrictPadding, DefaultWithStrictPadding, DefaultWithStrictPaddingAndIgnoreWhiteSpace, and URL (equivalent to DefaultWithoutStrictPadding except for the map used); that's what WebKit has today minus a mode for treating \\v as whitespace, which was just a bug due to how C defines ASCII whitespace","msgtype":"m.text"},"m.relates_to":{"event_id":"$TnumsOhlkyRA7vSmAjqUFBQj5Zdba74bwbBkCPfDqN4","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1682061251186,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$lIAghx35HhLj5MkmgCWz04V_JcKeyA3tucJOdDD-EYU"},
{"content":{"body":" * I think for now I'll update that patch to have 4 decoding modes, DefaultWithoutStrictPadding, DefaultWithStrictPadding, DefaultWithStrictPaddingAndIgnoreWhiteSpace, and URL (equivalent to DefaultWithoutStrictPadding except for the map used); that's what WebKit has today minus a mode for treating \\\\v as whitespace, which was just a bug due to how C defines ASCII whitespace","format":"org.matrix.custom.html","formatted_body":" * I think for now I'll update that patch to have 4 decoding modes, DefaultWithoutStrictPadding, DefaultWithStrictPadding, DefaultWithStrictPaddingAndIgnoreWhiteSpace, and URL (equivalent to DefaultWithoutStrictPadding except for the map used); that's what WebKit has today minus a mode for treating \\v as whitespace, which was just a bug due to how C defines ASCII whitespace","m.new_content":{"body":"I think for now I'll update that patch to have 4 decoding modes, DefaultWithoutStrictPadding, DefaultWithStrictPadding, DefaultWithStrictPaddingAndIgnoreWhiteSpace, and URL (equivalent to DefaultWithoutStrictPadding except for the map used); that's what WebKit has today minus a mode for treating \\\\v as whitespace, which was just a bug due to how C defines ASCII whitespace","format":"org.matrix.custom.html","formatted_body":"I think for now I'll update that patch to have 4 decoding modes, DefaultWithoutStrictPadding, DefaultWithStrictPadding, DefaultWithStrictPaddingAndIgnoreWhiteSpace, and URL (equivalent to DefaultWithoutStrictPadding except for the map used); that's what WebKit has today minus a mode for treating \\v as whitespace, which was just a bug due to how C defines ASCII whitespace","msgtype":"m.text"},"m.relates_to":{"event_id":"$TnumsOhlkyRA7vSmAjqUFBQj5Zdba74bwbBkCPfDqN4","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1682061264095,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$WHcxzF-vwTS_IQtkv4lsLw54hyAx-K6QZs9R5bYXwWw"},
{"content":{"body":"I somewhat hope that DefaultWithoutStrictPadding can be removed and some investigation is needed whether we should have URLWithStrictPadding","msgtype":"m.text"},"ts":1682061326988,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$DpAqWnhzVvLKciiGmx6_Ryv9CM_ke89PylwL6iFwKLY"},
{"content":{"body":"And I need to look into whether \"StrictPadding\" is accurate enough of a term as data: URLs and the like aren't super strict on it either (but they do have some checks at least)","msgtype":"m.text"},"ts":1682061389394,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$QQElsAphmmuZ8x8UtHXTvc8jUDJsVqmnHzwHp4nfPd0"},
{"content":{"body":"What happened to the Trusted Types spec?","msgtype":"m.text"},"ts":1682063190108,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$YX-Nx8dW9RLeNVEzOehOWMq4CnWsIMUCcmcmw3clZ0U"},
{"content":{"body":"nevermind, I guess the URL just changed","msgtype":"m.text"},"ts":1682063247813,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$zKReQ3NCxhwAaIfzUT_xG4mzYi1bhI_5oJ0Rc9SpK3s"},
{"content":{"body":"…or else I had it wrong to begin with","msgtype":"m.text"},"ts":1682063278680,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$HDDE3oH4g2nqYyR3hOQXqvQCEkCjEz3XF5u-n_OCgVc"},
{"content":{"body":"freddy: what would be even better btw is if we could make CSP/SRI rely on base64 *en*coding exclusively; that would be even stricter, but also a lot cleaner for security-sensitive stuff","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>: what would be even better btw is if we could make CSP/SRI rely on base64 <em>en</em>coding exclusively; that would be even stricter, but also a lot cleaner for security-sensitive stuff","msgtype":"m.text"},"ts":1682071741603,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$iyKYFDvbnMQUDFhOAKXDxc4Y8iSibV2b0pMQGddEj3U"},
{"content":{"body":"Changeea home password ","msgtype":"m.text"},"ts":1682089644818,"senderName":"Ansya Waka","senderId":"@ansyawaka:matrix.org","id":"$QvPsr4Izz3U3HDZmBNBV6OjZ_OVJ0PiNU7ACzVp18aA"}
]