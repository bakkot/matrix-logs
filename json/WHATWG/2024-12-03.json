[
{"content":{"body":"> <@kaiido:matrix.org> Ok, but given that a node's `children` is already an ordered set, it's thus redundant to iterate it in tree order, no? Unless its order is something else than tree order.\n\nI'm not sure I follow your question - the children are ordered, and you should iterate over them in that order. You might imagine in some case you'd want to iterate over them in reverse order, or in other cases it might not matter at all","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$t2yBzBSfUnzvgeiDpNvbitjK3uLyHqoYIWjKbuULRKE?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@kaiido:matrix.org\">@kaiido:matrix.org</a><br>Ok, but given that a node's <code>children</code> is already an ordered set, it's thus redundant to iterate it in tree order, no? Unless its order is something else than tree order.</blockquote></mx-reply>I'm not sure I follow your question - the children are ordered, and you should iterate over them in that order. You might imagine in some case you'd want to iterate over them in reverse order, or in other cases it might not matter at all","m.mentions":{"user_ids":["@kaiido:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$t2yBzBSfUnzvgeiDpNvbitjK3uLyHqoYIWjKbuULRKE"}},"msgtype":"m.text"},"ts":1733217731977,"senderName":"Ms2ger","senderId":"@ms2ger:igalia.com","id":"$nlERNzbX-rpY8PFEpUJ7MQJqOSTLOB-gMCW2lI4d0is"},
{"content":{"body":"Yes, so my point is that in at least [node insert](https://dom.spec.whatwg.org/#concept-node-insert), at step 7, it's asked to iterate over `children` in tree order. That made me wonder if `children` could ever not be in tree order, since it's already an ordered set (which I assume is already in tree order).  So either this \"in tree order\" at this step is redundant, either `children` can indeed be in an other order.","format":"org.matrix.custom.html","formatted_body":"Yes, so my point is that in at least <a href=\"https://dom.spec.whatwg.org/#concept-node-insert\">node insert</a>, at step 7, it's asked to iterate over <code>children</code> in tree order. That made me wonder if <code>children</code> could ever not be in tree order, since it's already an ordered set (which I assume is already in tree order).  So either this \"in tree order\" at this step is redundant, either <code>children</code> can indeed be in an other order.","m.mentions":{},"msgtype":"m.text"},"ts":1733218542132,"senderName":"Kaiido","senderId":"@kaiido:matrix.org","id":"$MhJS-iSuBy-2L5oPJtYU8mKsQaUkUO5ZQI07qctVrtg"},
{"content":{"body":" * Yes, so my point is that in at least [node insert](https://dom.spec.whatwg.org/#concept-node-insert), at step 7, it's asked to iterate over `children` in tree order. That made me wonder if `children` could ever not be in tree order, since it's already an ordered set (which I assume is already in tree order).  So either this \"in tree order\" at this step is redundant, either `children` can indeed be in an other order.\n\nPs: I'm fine with it being redundant, that's really just something that got me curious.","format":"org.matrix.custom.html","formatted_body":" * <p>Yes, so my point is that in at least <a href=\"https://dom.spec.whatwg.org/#concept-node-insert\">node insert</a>, at step 7, it's asked to iterate over <code>children</code> in tree order. That made me wonder if <code>children</code> could ever not be in tree order, since it's already an ordered set (which I assume is already in tree order).  So either this \"in tree order\" at this step is redundant, either <code>children</code> can indeed be in an other order.</p>\n<p>Ps: I'm fine with it being redundant, that's really just something that got me curious.</p>\n","m.mentions":{},"m.new_content":{"body":"Yes, so my point is that in at least [node insert](https://dom.spec.whatwg.org/#concept-node-insert), at step 7, it's asked to iterate over `children` in tree order. That made me wonder if `children` could ever not be in tree order, since it's already an ordered set (which I assume is already in tree order).  So either this \"in tree order\" at this step is redundant, either `children` can indeed be in an other order.\n\nPs: I'm fine with it being redundant, that's really just something that got me curious.","format":"org.matrix.custom.html","formatted_body":"<p>Yes, so my point is that in at least <a href=\"https://dom.spec.whatwg.org/#concept-node-insert\">node insert</a>, at step 7, it's asked to iterate over <code>children</code> in tree order. That made me wonder if <code>children</code> could ever not be in tree order, since it's already an ordered set (which I assume is already in tree order).  So either this \"in tree order\" at this step is redundant, either <code>children</code> can indeed be in an other order.</p>\n<p>Ps: I'm fine with it being redundant, that's really just something that got me curious.</p>\n","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$MhJS-iSuBy-2L5oPJtYU8mKsQaUkUO5ZQI07qctVrtg","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1733218795067,"senderName":"Kaiido","senderId":"@kaiido:matrix.org","id":"$AAPDGWvrqHywaHgPngmz7NrPsdq-FcJQ2PQq42FE8JM"},
{"content":{"body":"I don't understand. It's not a question of whether children is in tree order or not; it's a question of the order in which you handle them","m.mentions":{},"msgtype":"m.text"},"ts":1733220149178,"senderName":"Ms2ger","senderId":"@ms2ger:igalia.com","id":"$ZDgujX4drl6Skjk8jy-DvHs74VjyeTMUHbEAupTog7E"},
{"content":{"body":"Say you have a tree `<a><b></b><i></i></a>` and you say \"for each child x of the a element, print the local name of x\", you could print either \"bi\" or \"ib\"","format":"org.matrix.custom.html","formatted_body":"Say you have a tree <code>&lt;a&gt;&lt;b&gt;&lt;/b&gt;&lt;i&gt;&lt;/i&gt;&lt;/a&gt;</code> and you say \"for each child x of the a element, print the local name of x\", you could print either \"bi\" or \"ib\"","m.mentions":{},"msgtype":"m.text"},"ts":1733220212176,"senderName":"Ms2ger","senderId":"@ms2ger:igalia.com","id":"$vHL5LdYsthsCDdt7zDOSwICzpjqVsifN_976aUGCqCE"},
{"content":{"body":"The default order for this ordered set is \"tree order\" so it's redundant, but it's good to be explicit as sometimes iterations don't care about order","m.mentions":{},"msgtype":"m.text"},"ts":1733220269472,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$EAxE2CJ8U6jNBh_ZSytVTwvCJS90ABKqN5Ad2Z6C4sU"},
{"content":{"body":"Thanks Noam. That's just what I wanted to know, and yes, I agree it's good to be explicit here.\n\nSorry Ms2ger I wasn't clear enough.","msgtype":"m.text"},"ts":1733221984553,"senderName":"Kaiido","senderId":"@kaiido:matrix.org","id":"$LcpNOdUgELQ11ObyofLfJ1z4mh7r3-05YwF5AvZd78E"},
{"content":{"body":"zcorpan: Domenic: yeah, I'd like to hear from jarhar before moving ahead. And given that there's already been some fallout maybe we should at least give it a couple of weeks of shipping.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: yeah, I'd like to hear from <a href=\"https://matrix.to/#/@jarhar:matrix.org\">jarhar</a> before moving ahead. And given that there's already been some fallout maybe we should at least give it a couple of weeks of shipping.","m.mentions":{"user_ids":["@zcorpan:mozilla.org","@domenicdenicola:matrix.org","@jarhar:matrix.org"]},"msgtype":"m.text"},"ts":1733222115378,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$tMvLZ-vYzT7E7pYjiaR9BfPJAJTM-XEoaa5ke0-BoqM"},
{"content":{"body":"Noam Rosenthal: Kaiido: when it's just children we might be able to omit the term these days, but when it's descendants we can't. That we can omit it for children is new as we didn't define their data structure until quite recently and I didn't actually think it had implications when I did that. So maybe this is something to open an issue for and figure out what we want to do.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: <a href=\"https://matrix.to/#/@kaiido:matrix.org\">Kaiido</a>: when it's just children we might be able to omit the term these days, but when it's descendants we can't. That we can omit it for children is new as we didn't define their data structure until quite recently and I didn't actually think it had implications when I did that. So maybe this is something to open an issue for and figure out what we want to do.","m.mentions":{"user_ids":["@noamr:matrix.org","@kaiido:matrix.org"]},"msgtype":"m.text"},"ts":1733222254519,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$9L7Qix6nEa-y9-lkknhNmyuuAmnt4xkAo_iAMw8DIQM"},
{"content":{"body":"zcorpan: see also https://github.com/whatwg/html/issues/10310#issuecomment-2506360351 btw on `<select>` parsing","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: see also https://github.com/whatwg/html/issues/10310#issuecomment-2506360351 btw on <code>&lt;select&gt;</code> parsing","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"msgtype":"m.text"},"ts":1733234491175,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$n3EMlG9JNrK-m2Ste7kvqoPPNA2JQ6-CdDJRHss25do"}
]