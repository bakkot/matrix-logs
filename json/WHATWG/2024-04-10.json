[
{"content":{"body":"emilio: (or anybody else who might remember) Do you recall how we ended up with the W3C being the home for the Intersection Observer work/spec — rather than WHATWG? ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@emilio:mozilla.org\">emilio</a>: (or anybody else who might remember) Do you recall how we ended up with the W3C being the home for the Intersection Observer work/spec — rather than WHATWG?","m.mentions":{"user_ids":["@emilio:mozilla.org"]},"msgtype":"m.text"},"ts":1712715272582,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$9xVHRiwLbh2C7dKk6Oy3v8_Kwwn_VyDJcz0JXmWCnIk"},
{"content":{"body":"Domenic: zcorpan: either of you around to rs https://github.com/whatwg/html/pull/10260?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: <a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: either of you around to rs https://github.com/whatwg/html/pull/10260?","m.mentions":{"user_ids":["@domenicdenicola:matrix.org","@zcorpan:mozilla.org"]},"msgtype":"m.text"},"ts":1712730242058,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$_VbN3jFxM4-mQPJm2p2Z55kLAYe9V4m6qANfUBn5aMk"},
{"content":{"body":"> <@sideshowbarker:matrix.org> emilio: (or anybody else who might remember) Do you recall how we ended up with the W3C being the home for the Intersection Observer work/spec — rather than WHATWG? \n\nI think it predates my involvement with that spec. I assume because it's very css-related? But then arguably it should move to csswg-drafts, like resizeobserver","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$9xVHRiwLbh2C7dKk6Oy3v8_Kwwn_VyDJcz0JXmWCnIk?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">@sideshowbarker:matrix.org</a><br /><a href=\"https://matrix.to/#/@emilio:mozilla.org\">emilio</a>: (or anybody else who might remember) Do you recall how we ended up with the W3C being the home for the Intersection Observer work/spec — rather than WHATWG?</blockquote></mx-reply>I think it predates my involvement with that spec. I assume because it's very css-related? But then arguably it should move to csswg-drafts, like resizeobserver","m.relates_to":{"m.in_reply_to":{"event_id":"$9xVHRiwLbh2C7dKk6Oy3v8_Kwwn_VyDJcz0JXmWCnIk"}},"msgtype":"m.text"},"ts":1712731537404,"senderName":"emilio","senderId":"@emilio:mozilla.org","id":"$2YKD9cz_FB32rLvLtongdMSkkPcx0s-PN35HbYqS1NE"},
{"content":{"body":"Does `location.reload()` end up calling \"navigate\" somewhere? Or no?","format":"org.matrix.custom.html","formatted_body":"Does <code>location.reload()</code> end up calling \"navigate\" somewhere? Or no?","m.mentions":{},"msgtype":"m.text"},"ts":1712759339721,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$jOW4tJEowhwAqr-uWYkPBHVUSBFCDsB14tkBoKx7B1Q"},
{"content":{"body":"it does not I believe, navigate is only for regular push/replace navigations","m.mentions":{},"msgtype":"m.text"},"ts":1712760154664,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$g7-aVCPezMHoUb0XMegFl4Osow5eg3u93EkOUkfUod4"},
{"content":{"body":" * it does not I believe, navigate is only for regular push/replace navigations ^ zcorpan ","format":"org.matrix.custom.html","formatted_body":" * it does not I believe, navigate is only for regular push/replace navigations ^ <a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"m.new_content":{"body":"it does not I believe, navigate is only for regular push/replace navigations ^ zcorpan ","format":"org.matrix.custom.html","formatted_body":"it does not I believe, navigate is only for regular push/replace navigations ^ <a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$g7-aVCPezMHoUb0XMegFl4Osow5eg3u93EkOUkfUod4","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1712760193730,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$CcHzkLCVgGi8hJ0eqyaLG4DvuZ-xciO5oeec0qe0aJ8"},
{"content":{"body":"https://html.spec.whatwg.org/multipage/browsing-the-web.html#navigate 20.9 populates the history entry with type \"navigate\". when you traverse/reload you wouldn't do that","m.mentions":{},"msgtype":"m.text"},"ts":1712760225576,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$qT1XzZAkM1f7gMpfw0P6xqiNnz4_jFN7iQGubFYcYuM"},
{"content":{"body":"Noam Rosenthal: thanks. Yeah that's my conclusion as well, but stepping through the spec from `reload()` is not easy :)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: thanks. Yeah that's my conclusion as well, but stepping through the spec from <code>reload()</code> is not easy :)","m.mentions":{"user_ids":["@noamr:matrix.org"]},"msgtype":"m.text"},"ts":1712760250842,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$gT1zOgqyIRAYJUuMV8xFuxITuI5MKWprZsTggMQtcR8"},
{"content":{"body":"zcorpan: yea, the \"session history traversal queue\" (aka the browser process in some implementations) is a very technical part of the spec. I get lost in it a lot","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: yea, the \"session history traversal queue\" (aka the browser process in some implementations) is a very technical part of the spec. I get lost in it a lot","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"msgtype":"m.text"},"ts":1712760318826,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$_L7ndShoGvFIfx1pxxwwyfGHL16FrCbvhukpylsKMbU"},
{"content":{"body":"I'm working on tests for https://github.com/whatwg/html/pull/10226 - so reload or history traversal would not cancel the lazy load","m.mentions":{},"msgtype":"m.text"},"ts":1712760582652,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$90cHl2aDKBjitLL3js92b42_Kb9j35dDJKNsWi8V7rY"},
{"content":{"body":"zcorpan: that iframe will always be on the initial about:blank page, no? since it's lazy and hasn't been loaded yet?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: that iframe will always be on the initial about:blank page, no? since it's lazy and hasn't been loaded yet?","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"msgtype":"m.text"},"ts":1712760958591,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$tSLKtQB7QlhaGvX1yU9BqmH9_qcGoX-GH_FeG33GfXQ"},
{"content":{"body":"Noam Rosenthal: I believe so","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: I believe so","m.mentions":{"user_ids":["@noamr:matrix.org"]},"msgtype":"m.text"},"ts":1712761008379,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$QLkfGOnPKpsxUU8N31V5K4N9tsXbs8-gqIOubn0eQCk"},
{"content":{"body":"zcorpan: wondering what should be the behavior with same-document navigations. e.g. you `pushState` in that `about:blank` page before it's lazy-loaded","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: wondering what should be the behavior with same-document navigations. e.g. you <code>pushState</code> in that <code>about:blank</code> page before it's lazy-loaded","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"msgtype":"m.text"},"ts":1712761125668,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$urY8Up4J2yYbE3pC95xLiPMK8K4po0j1KEDI4_XLf2Y"},
{"content":{"body":"perhaps a safe-ish way to look at this is to cancel those steps when the about:blank page is about to be unloaded","m.mentions":{},"msgtype":"m.text"},"ts":1712761164534,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$-M-ZmuojCxiCPpBMH_z6_I4Zg1KMLOAUaUHC_jcXfkc"},
{"content":{"body":"though maybe that's too late for the replace case","m.mentions":{},"msgtype":"m.text"},"ts":1712761192657,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$vM_N7MvSg1BxHZSUWDdHNKfl9lo55KSfK1jUCt4vIF0"},
{"content":{"body":"Noam Rosenthal: the spec change only cancels lazy-load in \"navigate\", which should match Chromium. I think it's a sufficient fix.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: the spec change only cancels lazy-load in \"navigate\", which should match Chromium. I think it's a sufficient fix.","m.mentions":{"user_ids":["@noamr:matrix.org"]},"msgtype":"m.text"},"ts":1712761351583,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$dxhw4HgwgYXCEuH3HDVkzsSUgQrvoqScv9ptqO3Jzvg"},
{"content":{"body":"zcorpan: This particular `navigate` in the PR is also for e.g. fragment navigations","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: This particular <code>navigate</code> in the PR is also for e.g. fragment navigations","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"msgtype":"m.text"},"ts":1712761395278,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$QtB-Ky-MMm-3E0D1stITfaZVIAOTegiFmCa5XJgzxeI"},
{"content":{"body":"Noam Rosenthal: yeah","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: yeah","m.mentions":{"user_ids":["@noamr:matrix.org"]},"msgtype":"m.text"},"ts":1712761442740,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$4c76lx1UXsPX-yQnYlmh15d3jSYYoP5T4upXCXmeVpQ"}
]