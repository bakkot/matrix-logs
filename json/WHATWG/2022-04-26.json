[
{"content":{"body":"Is there any mechanism to enforce subresource integrity upon a document, such that one can know that a document-like entity (e.g. an iframe or Document object) was initialized from a resource with a given content hash?","msgtype":"m.text","org.matrix.msc1767.text":"Is there any mechanism to enforce subresource integrity upon a document, such that one can know that a document-like entity (e.g. an iframe or Document object) was initialized from a resource with a given content hash?"},"ts":1650935948196,"senderName":"Justin Martin","senderId":"@thefrozenfire:matrix.org","id":"$7rBuHhJ09NCPaJXrRmPCxDNcM4wDcNHWaKrD_dXtRKA"},
{"content":{"body":"Justin Martin: no and no plans for that either at this point that I know of","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@thefrozenfire:matrix.org\">Justin Martin</a>: no and no plans for that either at this point that I know of","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Justin Martin: no and no plans for that either at this point that I know of","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@thefrozenfire:matrix.org\">Justin Martin</a>: no and no plans for that either at this point that I know of","mimetype":"text/html"}]},"ts":1650950171985,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$YCR9szIehIFed352_Nxk4O7sjpX41RglbNZZ0HWD21s"},
{"content":{"body":"Domenic: to be clear, I agree that ideally <link rel=preload> does not do type-specific fetching, but how is it not a layering violation for `fetch()` to act on `Link` headers? At that point it would no longer be the lowest-level primitive we could offer. Definitely seems counter to its design goals.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: to be clear, I agree that ideally &lt;link rel=preload&gt; does not do type-specific fetching, but how is it not a layering violation for <code>fetch()</code> to act on <code>Link</code> headers? At that point it would no longer be the lowest-level primitive we could offer. Definitely seems counter to its design goals.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: to be clear, I agree that ideally <link rel=preload> does not do type-specific fetching, but how is it not a layering violation for `fetch()` to act on `Link` headers? At that point it would no longer be the lowest-level primitive we could offer. Definitely seems counter to its design goals.","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: to be clear, I agree that ideally &lt;link rel=preload&gt; does not do type-specific fetching, but how is it not a layering violation for <code>fetch()</code> to act on <code>Link</code> headers? At that point it would no longer be the lowest-level primitive we could offer. Definitely seems counter to its design goals.","mimetype":"text/html"}]},"ts":1650987450389,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$tr38YVefaqEZMP-KUovPnDZNjqllp7frvrJEGNkaN3Q"},
{"content":{"body":"fetch() is already not the lowest-level primitive; it builds on top of HTTP which has a bunch of header-triggered behaviors (including further fetches), like Location, CORS, etc.","msgtype":"m.text","org.matrix.msc1767.text":"fetch() is already not the lowest-level primitive; it builds on top of HTTP which has a bunch of header-triggered behaviors (including further fetches), like Location, CORS, etc."},"ts":1650987506624,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$vKNDnEUDGgpBf63D9DsqCuYiKDutdhAInbLwvKm0wTQ"},
{"content":{"body":"Link being another one of those seems reasonable to me; there's a bit of an IETF/WHATWG mess where IETF doesn't have the toolbox to specify Link caches in proper detail but that's fine, we can do it.","msgtype":"m.text","org.matrix.msc1767.text":"Link being another one of those seems reasonable to me; there's a bit of an IETF/WHATWG mess where IETF doesn't have the toolbox to specify Link caches in proper detail but that's fine, we can do it."},"ts":1650987560128,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$eS5-0XCEx2ZdwD3Yw04yWF0qIxK9qx166MMJAGee1jg"},
{"content":{"body":"(We already have to specify things like Location redirect limits)","msgtype":"m.text","org.matrix.msc1767.text":"(We already have to specify things like Location redirect limits)"},"ts":1650987581566,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$7HVjO6z9K5VZeuGgfsaAfibPyNbDfiVsvPmSZkSW_HQ"},
{"content":{"body":"The Link header is not part of HTTP proper though, Location is.","msgtype":"m.text","org.matrix.msc1767.text":"The Link header is not part of HTTP proper though, Location is."},"ts":1650987618246,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$IY66aFkk1v8_3pt-fjxVNG98rOu7Zz2SAamjckOhhMc"},
{"content":{"body":"I think that's just a SDO split and does not reflect any interesting architecture","msgtype":"m.text","org.matrix.msc1767.text":"I think that's just a SDO split and does not reflect any interesting architecture"},"ts":1650987632537,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$EG_AygTKkCUOysTtoYoUMbUwQ1vs8tlhjCXbCPBVmks"},
{"content":{"body":"It's the same SDO and that SDO has pulled in headers that are part of the core HTTP architecture into HTTP, so I'm not really sure you understand the setup...","msgtype":"m.text","org.matrix.msc1767.text":"It's the same SDO and that SDO has pulled in headers that are part of the core HTTP architecture into HTTP, so I'm not really sure you understand the setup..."},"ts":1650987676688,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$q1TjYDWuQniYMjR2orpVU8rfq0hnIqBsAlKrX7Y3mWI"},
{"content":{"body":"I think I understand the IETF's desired setup. I don't think it matches how the web actually works in browsers.","msgtype":"m.text","org.matrix.msc1767.text":"I think I understand the IETF's desired setup. I don't think it matches how the web actually works in browsers."},"ts":1650987705567,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$c79UEHWfxEVJ0KlzypyUaOutE7JoYMzcoIBhwZ_y0Bg"},
{"content":{"body":"Or how it is experienced by web developers","msgtype":"m.text","org.matrix.msc1767.text":"Or how it is experienced by web developers"},"ts":1650987716540,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$fAr_e5JgqPdjaqEDfOOVWvK47-2-aiCailDd136YcJ0"},
{"content":{"body":"I don't think any web developer thinks of Link and Location and X-Content-Type-Options and Access-Control-Allow-Origin as on different layers of the stack.","msgtype":"m.text","org.matrix.msc1767.text":"I don't think any web developer thinks of Link and Location and X-Content-Type-Options and Access-Control-Allow-Origin as on different layers of the stack."},"ts":1650987745751,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$3LojiMO_JylFjWIpYPUe5hjsqXlzqxrIPF0WcrN8uw4"},
{"content":{"body":"And I don't think they should have to","msgtype":"m.text","org.matrix.msc1767.text":"And I don't think they should have to"},"ts":1650987758532,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$XP2fDwPBnthdLlnkWgCCxF0RJ_eZH_OBaNV3H72hZyo"},
{"content":{"body":"And I don't think that reflects any implementation split (in web browsers at least)","msgtype":"m.text","org.matrix.msc1767.text":"And I don't think that reflects any implementation split (in web browsers at least)"},"ts":1650987773570,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$NdZ6TtT183HjOq1nHD4v-aWn3xVKBvJRsWYnx7O5jEw"},
{"content":{"body":"Web browsers actually have that kind of split quite a bit (and match Fetch far less than would be ideal)","msgtype":"m.text","org.matrix.msc1767.text":"Web browsers actually have that kind of split quite a bit (and match Fetch far less than would be ideal)"},"ts":1650987820457,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$-AjCo3IWxMaZbJjemw5FgvbLdajZB4C38DJH812okXQ"},
{"content":{"body":"That is not my understanding of the Chromium and Gecko codebases.","msgtype":"m.text","org.matrix.msc1767.text":"That is not my understanding of the Chromium and Gecko codebases."},"ts":1650987856467,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$csBQm8WvtdAseL5Q6x24vFWBtxZx0bPHGKg18h2NHqc"},
{"content":{"body":"I agree that web developers might perceive things differently","msgtype":"m.text","org.matrix.msc1767.text":"I agree that web developers might perceive things differently"},"ts":1650987871397,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$WvTT8ka-CeWmmgQNKsAUAAbzO2G6XLiNmB1Yb75eT6o"},
{"content":{"body":"The main split there is renderer vs. browser/network processes","msgtype":"m.text","org.matrix.msc1767.text":"The main split there is renderer vs. browser/network processes"},"ts":1650987875276,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$qGNFdcjXIFn2Jw94RKKH9bbhBq-dAJnz88FCRhAmfJU"},
{"content":{"body":"And that largely has to do with whether stuff should or needs to be accessible to the main thread","msgtype":"m.text","org.matrix.msc1767.text":"And that largely has to do with whether stuff should or needs to be accessible to the main thread"},"ts":1650987895636,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$dSfri4HilvUmUshw_wCsRHE7MbViE33uQJIcFZTAJXU"}
]