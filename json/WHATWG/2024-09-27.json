[
{"content":{"body":"annevk: Luke Warlow: I think Firefox is right? https://drafts.csswg.org/selectors/#lang-pseudo works in terms of language comparisons","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: <a href=\"https://matrix.to/#/@lwarlow:igalia.com\">Luke Warlow</a>: I think Firefox is right? https://drafts.csswg.org/selectors/#lang-pseudo works in terms of language comparisons","m.mentions":{"user_ids":["@annevk:matrix.org","@lwarlow:igalia.com"]},"msgtype":"m.text"},"ts":1727395218612,"senderName":"emilio","senderId":"@emilio:mozilla.org","id":"$lt4XDTxxRPNhEYG3fQCr6toOXvQjWCtWKwXFmk_9U9A"},
{"content":{"body":" * annevk: Luke Warlow: I think Firefox is right? https://drafts.csswg.org/selectors/#lang-pseudo works in terms of somewhat strict language comparisons","format":"org.matrix.custom.html","formatted_body":" * <a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: <a href=\"https://matrix.to/#/@lwarlow:igalia.com\">Luke Warlow</a>: I think Firefox is right? https://drafts.csswg.org/selectors/#lang-pseudo works in terms of somewhat strict language comparisons","m.mentions":{},"m.new_content":{"body":"annevk: Luke Warlow: I think Firefox is right? https://drafts.csswg.org/selectors/#lang-pseudo works in terms of somewhat strict language comparisons","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: <a href=\"https://matrix.to/#/@lwarlow:igalia.com\">Luke Warlow</a>: I think Firefox is right? https://drafts.csswg.org/selectors/#lang-pseudo works in terms of somewhat strict language comparisons","m.mentions":{"user_ids":["@annevk:matrix.org","@lwarlow:igalia.com"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$lt4XDTxxRPNhEYG3fQCr6toOXvQjWCtWKwXFmk_9U9A","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1727395228766,"senderName":"emilio","senderId":"@emilio:mozilla.org","id":"$YLF6KTq0ZdEAECFVpTTTIpWN1BIDd9uNHeB8OYckjcM"},
{"content":{"body":"> <@emilio:mozilla.org> annevk: Luke Warlow: I think Firefox is right? https://drafts.csswg.org/selectors/#lang-pseudo works in terms of somewhat strict language comparisons\n\nInterestingly if you try `el.matches(\":lang(\\31test)\")` it throws in all 3 engines. I'm not sure if that's expected to work or not?\n\nIf that should match the CSS behaviour than as you say it seems Firefox is right and the other two miss this validation when actually matching?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$lt4XDTxxRPNhEYG3fQCr6toOXvQjWCtWKwXFmk_9U9A?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@emilio:mozilla.org\">@emilio:mozilla.org</a><br><a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: <a href=\"https://matrix.to/#/@lwarlow:igalia.com\">Luke Warlow</a>: I think Firefox is right? https://drafts.csswg.org/selectors/#lang-pseudo works in terms of somewhat strict language comparisons</blockquote></mx-reply><p>Interestingly if you try <code>el.matches(\":lang(\\31test)\")</code> it throws in all 3 engines. I'm not sure if that's expected to work or not?</p>\n<p>If that should match the CSS behaviour than as you say it seems Firefox is right and the other two miss this validation when actually matching?</p>\n","m.mentions":{"user_ids":["@emilio:mozilla.org","@annevk:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$lt4XDTxxRPNhEYG3fQCr6toOXvQjWCtWKwXFmk_9U9A"}},"msgtype":"m.text"},"ts":1727395388587,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$zhc4_nwGWsbBquHjK9Up2cR_ylQHQ9K7fjAefnPcAa8"},
{"content":{"body":"> <@emilio:mozilla.org> annevk: Luke Warlow: I think Firefox is right? https://drafts.csswg.org/selectors/#lang-pseudo works in terms of somewhat strict language comparisons\n\n * Interestingly if you try `el.matches(\":lang(\\31test)\")` it throws in all 3 engines. I'm not sure if that's expected to work or not?\n\nIf that should match the CSS behaviour than as you say it seems Firefox is right and the other two miss this validation when actually matching?\n\nThough that seems to also fail for `:lang(\"\")` which should be valid?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$lt4XDTxxRPNhEYG3fQCr6toOXvQjWCtWKwXFmk_9U9A?via=matrix.org&amp;via=mozilla.org&amp;via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@emilio:mozilla.org\">@emilio:mozilla.org</a><br><a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: <a href=\"https://matrix.to/#/@lwarlow:igalia.com\">Luke Warlow</a>: I think Firefox is right? https://drafts.csswg.org/selectors/#lang-pseudo works in terms of somewhat strict language comparisons</blockquote></mx-reply> * <p>Interestingly if you try <code>el.matches(\":lang(\\31test)\")</code> it throws in all 3 engines. I'm not sure if that's expected to work or not?</p>\n<p>If that should match the CSS behaviour than as you say it seems Firefox is right and the other two miss this validation when actually matching?</p>\n<p>Though that seems to also fail for <code>:lang(\"\")</code> which should be valid?</p>\n","m.mentions":{},"m.new_content":{"body":"Interestingly if you try `el.matches(\":lang(\\31test)\")` it throws in all 3 engines. I'm not sure if that's expected to work or not?\n\nIf that should match the CSS behaviour than as you say it seems Firefox is right and the other two miss this validation when actually matching?\n\nThough that seems to also fail for `:lang(\"\")` which should be valid?","format":"org.matrix.custom.html","formatted_body":"<p>Interestingly if you try <code>el.matches(\":lang(\\31test)\")</code> it throws in all 3 engines. I'm not sure if that's expected to work or not?</p>\n<p>If that should match the CSS behaviour than as you say it seems Firefox is right and the other two miss this validation when actually matching?</p>\n<p>Though that seems to also fail for <code>:lang(\"\")</code> which should be valid?</p>\n","m.mentions":{"user_ids":["@emilio:mozilla.org","@annevk:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$zhc4_nwGWsbBquHjK9Up2cR_ylQHQ9K7fjAefnPcAa8","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1727395504541,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$rzQ-rqNM5J2XNSIiNNXo-NN3GaQCjQPaHe9OOdI7XMQ"},
{"content":{"body":"Luke Warlow: you need double-escape for JS","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@lwarlow:igalia.com\">Luke Warlow</a>: you need double-escape for JS","m.mentions":{"user_ids":["@lwarlow:igalia.com"]},"msgtype":"m.text"},"ts":1727395570484,"senderName":"emilio","senderId":"@emilio:mozilla.org","id":"$YBKikoQiOV2De9Z2wO3xdHSfb4PMfceQoVH3JyB0lZg"},
{"content":{"body":"`document.body.matches(\":lang(\\\\31test)\")`","format":"org.matrix.custom.html","formatted_body":"<code>document.body.matches(\":lang(\\\\31test)\")</code>","m.mentions":{},"msgtype":"m.text"},"ts":1727395597529,"senderName":"emilio","senderId":"@emilio:mozilla.org","id":"$gtvTb1vZMWA1rW8OFV2rqLXmMW1cJ60UDaOugwbwiao"},
{"content":{"body":"And `:lang('')` works here","format":"org.matrix.custom.html","formatted_body":"And <code>:lang('')</code> works here","m.mentions":{},"msgtype":"m.text"},"ts":1727395665644,"senderName":"emilio","senderId":"@emilio:mozilla.org","id":"$xOsnlWc8zO4CiquUveElYuySmJDZflF2F_UIFtp4Oo4"},
{"content":{"body":"But not sure?","m.mentions":{},"msgtype":"m.text"},"ts":1727395670347,"senderName":"emilio","senderId":"@emilio:mozilla.org","id":"$OlnAsF1Ol-YBMTtsUiq0S3iRgjwQYrYN7sSRshaZVz8"},
{"content":{"body":"spam https://github.com/whatwg/html/issues/10653","m.mentions":{},"msgtype":"m.text"},"ts":1727427979309,"senderName":"Meghan Denny","senderId":"@meghanbun:matrix.org","id":"$p9PiD5g7JsStVxJoARWdMZAY5lpVFRPpJ0rcEkYkee0"},
{"content":{"body":"Closed as not planned for now, but would be good if someone with more authority could deal with this better.","m.mentions":{},"msgtype":"m.text"},"ts":1727434761855,"senderName":"Kaiido","senderId":"@kaiido:matrix.org","id":"$LdGC8WlCdQ0RrlOM0TX7f73F3vO3y_5uwusqL2m5g3Q"},
{"content":{"body":" * Closed for now, but would be good if someone with more authority could deal with this better.","m.mentions":{},"m.new_content":{"body":"Closed for now, but would be good if someone with more authority could deal with this better.","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$LdGC8WlCdQ0RrlOM0TX7f73F3vO3y_5uwusqL2m5g3Q","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1727434954371,"senderName":"Kaiido","senderId":"@kaiido:matrix.org","id":"$fVXVEH3OJ-yOYrnumSBSoua5TcIIZzHn5GE9IqNU3zw"},
{"content":{"body":"Meghan Denny: thanks for reporting. I'd be happy to give you triage access so you can label these invalid going forward and close them. If you're interested I'd need your GitHub ID. You can also DM keithamus who will route it internally at GitHub.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@meghanbun:matrix.org\">Meghan Denny</a>: thanks for reporting. I'd be happy to give you triage access so you can label these invalid going forward and close them. If you're interested I'd need your GitHub ID. You can also DM <a href=\"https://matrix.to/#/@keithamus:matrix.org\">keithamus</a> who will route it internally at GitHub.","m.mentions":{"user_ids":["@meghanbun:matrix.org","@keithamus:matrix.org"]},"msgtype":"m.text"},"ts":1727440351313,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$_YhmXywsW9GDifA1tn031EXs2CogssnPhERGDgWJCck"},
{"content":{"body":"emilio: I was reading \"extended filtering\" yesterday and I didn't spot it doing any validation of the language tag","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@emilio:mozilla.org\">emilio</a>: I was reading \"extended filtering\" yesterday and I didn't spot it doing any validation of the language tag","m.mentions":{"user_ids":["@emilio:mozilla.org"]},"msgtype":"m.text"},"ts":1727440426473,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$6u057t787MATM6azXZqnIMm1RQRyE0EUQcZy-HRvY4k"},
{"content":{"body":"Thanks annevk, Meghan Denny I’ll look into this from the GitHub side. ","format":"org.matrix.custom.html","formatted_body":"Thanks <a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>, <a href=\"https://matrix.to/#/@meghanbun:matrix.org\">Meghan Denny</a> I’ll look into this from the GitHub side.","msgtype":"m.text"},"ts":1727450554827,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$22JxG7_w86u7W3hxxtKyxI84ARoTaR9-TqUzDqjqSDE"},
{"content":{"body":"annevk: I pinged jfkthame, it's probably not clear, but the spec says to use BCP comparison and that tag is ill-formed because it starts with a number","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: I pinged jfkthame, it's probably not clear, but the spec says to use BCP comparison and that tag is ill-formed because it starts with a number","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1727454285161,"senderName":"emilio","senderId":"@emilio:mozilla.org","id":"$D-EWtuaAiSsEDw-DKfjpT8OtK5HGCIoIiROuMtR4-Hk"},
{"content":{"body":" * annevk: I pinged jfkthame, it's probably not clear, the spec says to use BCP comparison and that tag is ill-formed because it starts with a number","format":"org.matrix.custom.html","formatted_body":" * <a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: I pinged jfkthame, it's probably not clear, the spec says to use BCP comparison and that tag is ill-formed because it starts with a number","m.mentions":{},"m.new_content":{"body":"annevk: I pinged jfkthame, it's probably not clear, the spec says to use BCP comparison and that tag is ill-formed because it starts with a number","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: I pinged jfkthame, it's probably not clear, the spec says to use BCP comparison and that tag is ill-formed because it starts with a number","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$D-EWtuaAiSsEDw-DKfjpT8OtK5HGCIoIiROuMtR4-Hk","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1727454292797,"senderName":"emilio","senderId":"@emilio:mozilla.org","id":"$9wKKKkfFuWfYYmlECZGOIJjhY00Tr7BAxsTWJuOh_Zs"}
]