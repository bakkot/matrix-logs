[
{"content":{"body":"Looks like many (all?) agenda+ items for WHATNOT got the label well before WHATUP, and most of them were discussed last week. ","m.mentions":{},"msgtype":"m.text"},"ts":1763625641788,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$CqBFtztelY_TEkzPrD3jbaNPWn1dR8bDS5cmXls1zK8"},
{"content":{"body":"Hmm, some pages are getting mad with cross site iframes (mostly ads etc.). Easily 50 different sites, and if implementation uses separate process per site and process overhead + ad page is ~20MB (which seems to be the case in couple of browsers), one has ~1GB overhead from ads. Easily.","m.mentions":{},"msgtype":"m.text"},"ts":1763630723334,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$8zM5lLos8JUGvPwxdK4RjE0RAcEF-gnLbUS3T5iAQbU"},
{"content":{"body":"We should limit the number of sites a tab can contain simultaneously. Let's say 5 ðŸ™‚ ","m.mentions":{},"msgtype":"m.text"},"ts":1763631150878,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$HeqVh86qMOuV1yonNzKp314pd47RCVdZi-cozl8h3vk"},
{"content":{"body":"If anyone has any opinion on specification singleton types (success, failure, etc.) that is different from what https://github.com/whatwg/infra/pull/687 attempts to do please speak up now.","m.mentions":{},"msgtype":"m.text"},"ts":1763647572958,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$PJozOlm94v57Q3ad9-fHQdrU7MOTfSpw_D84_9XGaVU"},
{"content":{"body":"emilio: What do you make of the tests in https://github.com/web-platform-tests/wpt/blob/master/html/interaction/focus/processing-model/focusVisible.html#L59-L60? It seems like they expect `focusVisible: false` to force `:focus-visible` to not match, but the spec text only indicates that `focusVisible: true` forces `:focus-visible`, but can't *unforce* it? Am I right in thinking there's a mismatch here?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@emilio:mozilla.org\">emilio</a>: What do you make of the tests in https://github.com/web-platform-tests/wpt/blob/master/html/interaction/focus/processing-model/focusVisible.html#L59-L60? It seems like they expect <code>focusVisible: false</code> to force <code>:focus-visible</code> to not match, but the spec text only indicates that <code>focusVisible: true</code> forces <code>:focus-visible</code>, but can't <em>unforce</em> it? Am I right in thinking there's a mismatch here?","m.mentions":{"user_ids":["@emilio:mozilla.org"]},"msgtype":"m.text"},"ts":1763651645994,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$k9WR7pSoW8IFbS24viGH5a0xEJSoMS1dEFAIXiQlJBE"},
{"content":{"body":"Gah.  I have failed to get back ahead of the curve.  I don't see anything new agenda+ for today; cancel?","m.mentions":{},"msgtype":"m.text"},"ts":1763653093252,"senderName":"cwilso","senderId":"@cwilso:matrix.org","id":"$pC3gdf-eQmRFGawLzBUvNXVgi4E7H0OtGNfFdITu_M0"},
{"content":{"body":"cwilso: that would work for me. I wanted to share that Fetch might hold its own call dedicated to cookies (a more formalized version of an informal call we have today), but that can wait.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@cwilso:matrix.org\">cwilso</a>: that would work for me. I wanted to share that Fetch might hold its own call dedicated to cookies (a more formalized version of an informal call we have today), but that can wait.","m.mentions":{"user_ids":["@cwilso:matrix.org"]},"msgtype":"m.text"},"ts":1763653473061,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$EajK_CSnE-WjHD0MQ85fXR3CrrYK_xGlt2GVvX9tHLA"},
{"content":{"body":"Kaiido: FYI: https://github.com/whatwg/html/pull/11529","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@kaiido:matrix.org\">Kaiido</a>: FYI: https://github.com/whatwg/html/pull/11529","m.mentions":{"user_ids":["@kaiido:matrix.org"]},"msgtype":"m.text"},"ts":1763653853365,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Znsj80zOok7FUe1AbokIOlRCpWU6DCQW3kBN-IdKmcU"},
{"content":{"body":"It doesn't change focus on that call, so if the element already has focus then it keeps it. But this test resets focus between each test","m.mentions":{"user_ids":["@domfarolino:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$k9WR7pSoW8IFbS24viGH5a0xEJSoMS1dEFAIXiQlJBE"}},"msgtype":"m.text"},"ts":1763654073574,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$GxlErMh3NzBLlVOeblMjcscEzB-Y5Dks1IgJumnb0eo"},
{"content":{"body":"* It doesn't change focus on that call, so if the element already has focus then it keeps it. But this test resets focus between each test. So the test is correct imo.","m.mentions":{},"m.new_content":{"body":"It doesn't change focus on that call, so if the element already has focus then it keeps it. But this test resets focus between each test. So the test is correct imo.","m.mentions":{"user_ids":["@domfarolino:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$GxlErMh3NzBLlVOeblMjcscEzB-Y5Dks1IgJumnb0eo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1763654094946,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$B1LmeDWm-xIjbaRaNi32rD08ejV1FdyoWyw6TUoT7J0"},
{"content":{"body":"* It doesn't change focus indication on that call of focus(), so if the element already has focus indication then it keeps it. But this test resets focus between each test. So the test is correct imo.","m.mentions":{},"m.new_content":{"body":"It doesn't change focus indication on that call of focus(), so if the element already has focus indication then it keeps it. But this test resets focus between each test. So the test is correct imo.","m.mentions":{"user_ids":["@domfarolino:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$GxlErMh3NzBLlVOeblMjcscEzB-Y5Dks1IgJumnb0eo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1763654128685,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$OUY-6Pkhxy15ZGEejn82SmWqI0Jxt4bZ9Bim3K_0R54"},
{"content":{"body":"* It doesn't change focus indication on that call of focus(), so if the element already has focus indication then it keeps it. But this test resets focus between each test. So the test is correct imo.\n\nI implemented this in WebKit and remember getting slightly confused but the test did seem correct in the end.","m.mentions":{},"m.new_content":{"body":"It doesn't change focus indication on that call of focus(), so if the element already has focus indication then it keeps it. But this test resets focus between each test. So the test is correct imo.\n\nI implemented this in WebKit and remember getting slightly confused but the test did seem correct in the end.","m.mentions":{"user_ids":["@domfarolino:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$GxlErMh3NzBLlVOeblMjcscEzB-Y5Dks1IgJumnb0eo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1763654155606,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$e-95NwcmUarPlEt_VXFPcINqKWcYeXPVIf0jRp00qk0"},
{"content":{"body":"* It doesn't change focus indication on that call of focus(), so if the element already has focus indication then it keeps it. But this test resets focus between each test. So the test is correct imo.\n\nI implemented this in WebKit and remember getting slightly confused but the test did seem correct in the end.\n\nEdit: Oh oops looks like this reply didn't link properly. Dominic Farolino: ","m.new_content":{"body":"> <@domfarolino:matrix.org> emilio: What do you make of the tests in https://github.com/web-platform-tests/wpt/blob/master/html/interaction/focus/processing-model/focusVisible.html#L59-L60? It seems like they expect `focusVisible: false` to force `:focus-visible` to not match, but the spec text only indicates that `focusVisible: true` forces `:focus-visible`, but can't *unforce* it? Am I right in thinking there's a mismatch here?\n\nIt doesn't change focus indication on that call of focus(), so if the element already has focus indication then it keeps it. But this test resets focus between each test. So the test is correct imo.\n\nI implemented this in WebKit and remember getting slightly confused but the test did seem correct in the end.\n\nEdit: Oh oops looks like this reply didn't link properly. Dominic Farolino: ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$k9WR7pSoW8IFbS24viGH5a0xEJSoMS1dEFAIXiQlJBE?via=igalia.com&via=matrix.org&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@domfarolino:matrix.org\">Dominic Farolino</a><br /><a href=\"https://matrix.to/#/@emilio:mozilla.org\">emilio</a>: What do you make of the tests in https://github.com/web-platform-tests/wpt/blob/master/html/interaction/focus/processing-model/focusVisible.html#L59-L60? It seems like they expect <code>focusVisible: false</code> to force <code>:focus-visible</code> to not match, but the spec text only indicates that <code>focusVisible: true</code> forces <code>:focus-visible</code>, but can't <em>unforce</em> it? Am I right in thinking there's a mismatch here?</blockquote></mx-reply><p>It doesn't change focus indication on that call of focus(), so if the element already has focus indication then it keeps it. But this test resets focus between each test. So the test is correct imo.</p>\n<p>I implemented this in WebKit and remember getting slightly confused but the test did seem correct in the end.</p>\n<p>Edit: Oh oops looks like this reply didn't link properly. <a href=\"https://matrix.to/#/@domfarolino:matrix.org\">@domfarolino:matrix.org</a>:</p>","msgtype":"m.text"},"m.relates_to":{"event_id":"$GxlErMh3NzBLlVOeblMjcscEzB-Y5Dks1IgJumnb0eo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1763654935338,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$55HCpJdsmcqAnpp94AHGywcT0gRGFYqAQavNMUVctCo"},
{"content":{"body":"Luke Warlow: Ahh I see. OK so HTML only sets the focus ring if `focusVisible` is true, or missing. It never calls into CSS's \"indicate focus\" if it's false, and that's the \"force-invisible\" mechanism I guess. ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@lwarlow:igalia.com\">Luke Warlow</a>: Ahh I see. OK so HTML only sets the focus ring if <code>focusVisible</code> is true, or missing. It never calls into CSS's \"indicate focus\" if it's false, and that's the \"force-invisible\" mechanism I guess.","m.mentions":{"user_ids":["@lwarlow:igalia.com"]},"msgtype":"m.text"},"ts":1763656098030,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$RWp8b4Iw_ws-6dTDRgimhNReYksY0uUO7MKXV3tvvvo"},
{"content":{"body":"> <@domfarolino:matrix.org> Luke Warlow: Ahh I see. OK so HTML only sets the focus ring if `focusVisible` is true, or missing. It never calls into CSS's \"indicate focus\" if it's false, and that's the \"force-invisible\" mechanism I guess. \n\nYeah exactly. Idk if one exists but ideally there should be a test that calling focus with false after calling it with true still keeps the indicator. To make sure it doesn't *remove* it in that case.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$RWp8b4Iw_ws-6dTDRgimhNReYksY0uUO7MKXV3tvvvo?via=igalia.com&via=matrix.org&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@domfarolino:matrix.org\">@domfarolino:matrix.org</a><br /><a href=\"https://matrix.to/#/@lwarlow:igalia.com\">Luke Warlow</a>: Ahh I see. OK so HTML only sets the focus ring if <code>focusVisible</code> is true, or missing. It never calls into CSS's \"indicate focus\" if it's false, and that's the \"force-invisible\" mechanism I guess.</blockquote></mx-reply>Yeah exactly. Idk if one exists but ideally there should be a test that calling focus with false after calling it with true still keeps the indicator. To make sure it doesn't <em>remove</em> it in that case.","m.relates_to":{"m.in_reply_to":{"event_id":"$RWp8b4Iw_ws-6dTDRgimhNReYksY0uUO7MKXV3tvvvo"}},"msgtype":"m.text"},"ts":1763656191030,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$JEcY_g9i1Z2-aQssTsOhhoLo1C3lWVzEC1uvSdp1DL4"},
{"content":{"body":"I think I recall seeing tests that exercise that calling focus on an already-focused element has no effect, so I guess that would implicitly catch this case? Not sure really","m.mentions":{},"msgtype":"m.text"},"ts":1763656415623,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$FIWMxhtzuNnqYUrnmz4oU2xtR50PA8Wa83TXO_zx1sc"}
]