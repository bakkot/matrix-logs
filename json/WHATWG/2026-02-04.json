[
{"content":{"body":"sure, as long as when publishing a new spec someone makes sure that it's not wrongly marked as current work","m.mentions":{"user_ids":["@sideshowbarker:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$orqpjE63aSEIMHJzT4v7ktyY8fZLQM_1cj6u8hA2oc0"}},"msgtype":"m.text"},"ts":1770163216210,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$5svoNs6E4VyjUX_r5_X67nj6CRZYSsho7JW5JMkec6M"},
{"content":{"body":"got https://github.com/nektro/zig-whatwg-url to pass 100% of `urltestdata.json` and `IdnaTestV2.json` (w/ base included this time)","format":"org.matrix.custom.html","formatted_body":"got https://github.com/nektro/zig-whatwg-url to pass 100% of <code>urltestdata.json</code> and <code>IdnaTestV2.json</code> (w/ base included this time)","m.mentions":{},"msgtype":"m.text"},"ts":1770181128741,"senderName":"nektro","senderId":"@nektro:matrix.org","id":"$dV46BCpdwbdQaOV0bqwZ09qZ0fWuC5ufxqwaKtJFxKw"},
{"content":{"body":"What's up with https://www.w3.org/TR/xml/#NT-NameStartChar claiming that names in XML can start with \":\"?","m.mentions":{},"msgtype":"m.text"},"ts":1770205514859,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$Y4bdOvk-Kp_YMzpJ40pOpy5KDMrFSwg5y_OuIkMpjcU"},
{"content":{"body":"https://www.w3.org/TR/xml-names/#orphans seems to touch on this, but is non-normative...","m.mentions":{},"msgtype":"m.text"},"ts":1770205711668,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$BIPXpoKgDAu75zdOfWYYGoqtXkxzrx_vaIRwqkZA-dM"},
{"content":{"body":"Namespaces","m.mentions":{"user_ids":["@foolip:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$Y4bdOvk-Kp_YMzpJ40pOpy5KDMrFSwg5y_OuIkMpjcU"}},"msgtype":"m.text"},"ts":1770206162507,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$WZAwwrljtX8CsE-5Wjg9sNqHE3ywQRRShEha4Pai5Qw"},
{"content":{"body":"it’s superseded by Namespaces, right?","m.mentions":{},"msgtype":"m.text"},"ts":1770206175314,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$2VG_w_9Q62dKpkefq-goPzSbFCCrZ5o3Mrrl9rb5gU4"},
{"content":{"body":"so I guess in a non-Namespace aware XML implementation, it would be allowed","m.mentions":{},"msgtype":"m.text"},"ts":1770206205038,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$bq7WpoeNESqATUnstNJU-u1fW66zRu9CcOUnZ9lSTsE"},
{"content":{"body":"but there are no such implementations, I guess","m.mentions":{},"msgtype":"m.text"},"ts":1770206222264,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$pEuIJbUFE5ehqKi4QwM2-EMfbU3ziomYK-Ab_x6Is9k"},
{"content":{"body":"there would be no point in any non-Namespace-aware XML implementation","m.mentions":{},"msgtype":"m.text"},"ts":1770206244310,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$PXZGPL6oFqfOPctVj7HX9mDBhabIS_11XKNZrLiFmNc"},
{"content":{"body":"Hmm, seems like https://www.w3.org/TR/xml-names/ doesn't monkeypatch this in the way I'd expect and not normatively, but fine, it's namespaces.","m.mentions":{},"msgtype":"m.text"},"ts":1770206245444,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$AWSz5j9k5QBCZrImfjGOAh-Ys30jayc5q9IEl6xR2i8"},
{"content":{"body":"As long as \":\" is the only special case it's all good.","m.mentions":{},"msgtype":"m.text"},"ts":1770206271823,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$U_a-8aw30yGZzSC2ltn9cXLhHCdikde-hcxwH8qWKDw"},
{"content":{"body":"I thought I might be reading the wrong thing entirely.","m.mentions":{},"msgtype":"m.text"},"ts":1770206280417,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$Opjb8AS5ImOCtwKoHgwGhqvx02T1K3vHlLFJKdN0kWQ"},
{"content":{"body":"yeah, have fun trying to implement from those specs to begin with, I guess","m.mentions":{},"msgtype":"m.text"},"ts":1770206298125,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$DfD02nN7nf78XX_ehQSqx45M25_zjch3f77oks6Kv04"},
{"content":{"body":"I mean, they are not rigorous specs, by our current standards for such","m.mentions":{},"msgtype":"m.text"},"ts":1770206319354,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$iLc3frU00tCYPG420tD8kZiE8c-aDndsdIlDg8wbmJw"},
{"content":{"body":"I guess the productions are rigorous enough","m.mentions":{},"msgtype":"m.text"},"ts":1770206362482,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$uPoqW8pj4RvWJyunar2Aw0t4Uk--yjTyAgIZ2_l6Pyw"},
{"content":{"body":"`:` aside, this seems to be relatively close to `ID_Start` and `ID_Continue` in unicode (https://www.unicode.org/reports/tr31/#D1)\n(*TIL)\n\nWe can probably use those for valid PI targets in HTML as well, which would exclude current uses of bogus comment such as `lit$$`","format":"org.matrix.custom.html","formatted_body":"<p><code>:</code> aside, this seems to be relatively close to <code>ID_Start</code> and <code>ID_Continue</code> in unicode (https://www.unicode.org/reports/tr31/#D1)<br>(*TIL)</p>\n<p>We can probably use those for valid PI targets in HTML as well, which would exclude current uses of bogus comment such as <code>lit$$</code></p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1770206568049,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$PxeupY9rsXfQVIEHLoaMRDyz06U6DxYvWReJuIyIHXk"},
{"content":{"body":"hsivonen: friendly bump on https://github.com/validator/htmlparser/pull/113","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>: friendly bump on https://github.com/validator/htmlparser/pull/113","m.mentions":{"user_ids":["@hsivonen:mozilla.org"]},"msgtype":"m.text"},"ts":1770211407025,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$o4iwp-n0tzSIHGxhs_-gTSm3qf1Cq_kPKe560gXaV0k"},
{"content":{"body":"I happened to be already reviewing it, but I'm a bit confused. Should I be looking at some spec PR that's not landed, yet? ","m.mentions":{"user_ids":["@sideshowbarker:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$o4iwp-n0tzSIHGxhs_-gTSm3qf1Cq_kPKe560gXaV0k"}},"msgtype":"m.text"},"ts":1770211756813,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$HcVizg5paTzpIZFePOJRhFVOFU9-oAH6TrDoBP4IZTI"},
{"content":{"body":"XML's `NameStartChar` and `NameChar` have not been updated to match Unicode changes, so e.g. the invisible Arabic Letter Mark U+061C counts as a valid first (and potentially only) character of an XML name.","format":"org.matrix.custom.html","formatted_body":"XML's <code>NameStartChar</code> and <code>NameChar</code> have not been updated to match Unicode changes, so e.g. the invisible Arabic Letter Mark U+061C counts as a valid first (and potentially only) character of an XML name.","m.mentions":{},"msgtype":"m.text"},"ts":1770212002378,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$tC2_y0PLIjAhYwETGD5GpsvUFXHBZg_xPfIbVayy9Bk"},
{"content":{"body":"For sure XML tooling compat, one needs to stay within the XML rules as they were in 1998. I'm skeptical of mixing UAX 31 into HTML conformance requirements. Rules like https://html.spec.whatwg.org/#custom-data-attribute have worked well enough so far. I suppose the validator could complain about going outside UAX 31, but UAX 31 checks would be bad for browser DOM perf.","m.mentions":{},"msgtype":"m.text"},"ts":1770212401775,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$WaR7iRL3TwvidMQ0JD076gJYAWLWl4Y9VlVR_oquO7M"},
{"content":{"body":"Agreed, I think we can remain with a simple ascii subset of this.","m.mentions":{},"msgtype":"m.text"},"ts":1770212433067,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$UeyMXid6TndAa-fgGwcwV-PJuhcR4K4JieaS5u9wd-k"},
{"content":{"body":"No, that is intended to functionally match the spec requirements as I understand them. But if it’s too much of deviation that it’s not mapping back to the spec clearly enough, then I guess I need to revisit it. Or if you’re saying that as currently written, it’s not even functionally matching the spec requirements, then I guess I definitely need to go back and try again.","m.mentions":{"user_ids":["@hsivonen:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$HcVizg5paTzpIZFePOJRhFVOFU9-oAH6TrDoBP4IZTI"}},"msgtype":"m.text"},"ts":1770212688388,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$wR6W4OThnJ5RsC0w27KWpUKhyxvBKdy32QlfI6OoGaA"},
{"content":{"body":"sideshowbarker: At least it _looks_ different from the spec. I haven't worked out if it's actually functionally equivalent, but I'll try to think about that more now that I know that I'm not supposed to be looking at an in-flight spec PR.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: At least it <em>looks</em> different from the spec. I haven't worked out if it's actually functionally equivalent, but I'll try to think about that more now that I know that I'm not supposed to be looking at an in-flight spec PR.","m.mentions":{"user_ids":["@sideshowbarker:matrix.org"]},"msgtype":"m.text"},"ts":1770212784992,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$d6awrp2w3C667J45AGA4y-n10U-8ft4Mh270iO20mo0"},
{"content":{"body":"Well also go back in right now and make a re-try at seeing if I can make it strictly follow the spec algorithm. To be honest, in the first crack I took at it, I was focused just making it work for what I needed in the context of the HTML checker. Wasn’t remembering that it’d need to work in, you know, the more-important context of being in browser engine.","m.mentions":{},"msgtype":"m.text"},"ts":1770212994447,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$IejvuJas_AYDjttvjYGXRa7hhRvw_WfJuUAFhfVXUwc"},
{"content":{"body":"For me it’s always a bit of a challenge working and another level of remove, the way that’s necessary for working on the parser source in Java","m.mentions":{},"msgtype":"m.text"},"ts":1770213058750,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$rjC93f0h6K12YLC5kfeJOsD3IQ4JFd1qSC1pSCb78Wk"},
{"content":{"body":"* For me it’s always a bit of a challenge working at another level of remove, the way that’s necessary for working on the parser source in Java","m.mentions":{},"m.new_content":{"body":"For me it’s always a bit of a challenge working at another level of remove, the way that’s necessary for working on the parser source in Java","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$rjC93f0h6K12YLC5kfeJOsD3IQ4JFd1qSC1pSCb78Wk","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1770213064461,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$3BcdJnAXvCQC3sGjqEoo3RDdDBEOlzkfPiSHCe-fEfs"},
{"content":{"body":"hsivonen: well, and to put it in other terms, I was also writing against getting it to pass the tests. And it does pass the tests","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>: well, and to put it in other terms, I was also writing against getting it to pass the tests. And it does pass the tests","m.mentions":{"user_ids":["@hsivonen:mozilla.org"]},"msgtype":"m.text"},"ts":1770213234462,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$F1GSPbUgAQb8fyc-_nezbbjYVFHpPtxmNScNs8VLV1s"},
{"content":{"body":"sideshowbarker: Does the validator need to know in the steaming SAX mode whether a target that a browser would clone an \"option\" into exists earlier in the doc?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: Does the validator need to know in the steaming SAX mode whether a target that a browser would clone an \"option\" into exists earlier in the doc?","m.mentions":{"user_ids":["@sideshowbarker:matrix.org"]},"msgtype":"m.text"},"ts":1770213366823,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$J7WBPepv3nspjJx86Di8-CxOQT_6XH8P0Wxa2VOXqPw"},
{"content":{"body":"No. Because it’s using SAXStreamer, right? We don’t use SAXTreeBuilder for the checker. It builds no tree at all. So, never clones any content itself. Never fires any events for the cloning. It only ever knows about the source elements, and not at all about the browser-would-clone-this content.","m.mentions":{"user_ids":["@hsivonen:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$J7WBPepv3nspjJx86Di8-CxOQT_6XH8P0Wxa2VOXqPw"}},"msgtype":"m.text"},"ts":1770214130308,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$bsEf4SnwTPVr9w2JGn4-VfIpbFakm-xtgNta6RiDTUg"},
{"content":{"body":"sideshowbarker: So there's no validator hard requirement to track `selectedcontent` in the tree builder?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: So there's no validator hard requirement to track <code>selectedcontent</code> in the tree builder?","m.mentions":{"user_ids":["@sideshowbarker:matrix.org"]},"msgtype":"m.text"},"ts":1770214208660,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$m-MsW6mZAjaULkKQhFEzHajIP4eTZbD8mvWVzHHMXh0"},
{"content":{"body":"Right. No such requirement. So the selectedContentPointer etc. stuff gets called — but it’s all a no-op. But it’s there because of the inheritance from TreeBuilder. I mean, the only alternative would be to just have it in the code of the actual-tree-building-implementation subclasses where it’s not a no-op.","m.mentions":{},"msgtype":"m.text"},"ts":1770214722825,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$VIRJz3UuXy4tKEev7HrWb-rEvxgajbtwk-eFQ-1dlYM"},
{"content":{"body":"I guess I could try to see if I could make it be that way, if you that’d be better.","m.mentions":{},"msgtype":"m.text"},"ts":1770214760174,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$ft4sNNZtgXzjd91xME82bcO6NO9Lk3LsLf55UWMz088"},
{"content":{"body":"zcorpan hsivonen I'm curious if you have revised thoughts on > vs ?> for both conformance and serialization? https://github.com/whatwg/html/pull/12118#issuecomment-3844500491","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a> <a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a> I'm curious if you have revised thoughts on &gt; vs ?&gt; for both conformance and serialization? https://github.com/whatwg/html/pull/12118#issuecomment-3844500491","m.mentions":{"user_ids":["@zcorpan:mozilla.org","@hsivonen:mozilla.org"]},"msgtype":"m.text"},"ts":1770214783345,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$IFjXrdqmuLL2SyNKI1B0siHAQdBcq_lBARyXGRC_XUI"},
{"content":{"body":"At first I was convinced about the argument that a stray > could be flagged if we require ?>, but then I couldn't write an example that made sense...","m.mentions":{},"msgtype":"m.text"},"ts":1770214834087,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$VdeQYuWpiff2obTS6YG0ZV5gjqiVdTkXEKwH4MWODMU"},
{"content":{"body":"foolip: `<?xml-stylesheet href=\"data:text/css,a>b{}\"?>`","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@foolip:matrix.org\">foolip</a>: <code>&lt;?xml-stylesheet href=\"data:text/css,a&gt;b{}\"?&gt;</code>","m.mentions":{"user_ids":["@foolip:matrix.org"]},"msgtype":"m.text"},"ts":1770214919411,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$7XdyXaciSdDTGBGz_qP0n7YJAsFjZp9h-uzKmD82aIQ"},
{"content":{"body":"That's still a syntax error because the attribute value doesn't have a closing \", right?","msgtype":"m.text"},"ts":1770215187935,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$Gc0l6gTS9FeKPWcZPIRl9mYdhPcoYe3T6zmm9SDgBng"},
{"content":{"body":"A syntax error on another layer, right?","m.mentions":{},"msgtype":"m.text"},"ts":1770215220459,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$Mkhd6tXmhaWnuzVVkG7IBfsCvYLrDYbJxPfzvd25g3Y"},
{"content":{"body":"Yes, true with the plan I suggested. If we want it to be an error in the first layer, we could tokenize pseudo-attributes in the main parser.","msgtype":"m.text"},"ts":1770215377873,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$ho8yUOKVMh9er6ySuqBlnXIWtV41P27bEh6Q6Qb9zss"},
{"content":{"body":"Do we have any way to signal parse errors that would happen in the data setter? That's a question regardless of conformance, since you can get > in data.","msgtype":"m.text"},"ts":1770215462514,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$9QMJgXhPiD_x3bUVGOmdgih8r5S_3G5O4CYerKEJMN4"},
{"content":{"body":"We can have > without a preceding question mark be a HTML-layer conformance error even if pseudo attributes are parsed on the DOM layer. As for the DOM setters, I believe we already have plenty of ways to cause problematic serializations using DOM setters.","m.mentions":{},"msgtype":"m.text"},"ts":1770215643075,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$Pqpwg6Mi9BOc8hBg93aipyLv6a-gbpSoohVUX8lpgrA"},
{"content":{"body":"Right, e.g. --> in comment data is allowed","m.mentions":{},"msgtype":"m.text"},"ts":1770215686856,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$VZEDBlpTON40rhC1dG_1eG10awPRO8wo_64Y_O516Dw"},
{"content":{"body":"If I did tokenize pseudo-attributes in the main parser and did the parse errors in all the right places, would that tip the balance in favor of making just > the recommended syntax? My concern in a nutshell is that with ?> it looks like > in data should work but still it doesn't.","msgtype":"m.text"},"ts":1770216055896,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$v-7Ele57ZLHEbiKLgBycbbnntFdpbj3tz6QSkNzqH3E"},
{"content":{"body":"foolip: What would happen when dynamically changing .data? Still need DOM-level parsing also?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@foolip:matrix.org\">foolip</a>: What would happen when dynamically changing .data? Still need DOM-level parsing also?","m.mentions":{"user_ids":["@foolip:matrix.org"]},"msgtype":"m.text"},"ts":1770216261387,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$0m-ENVHSj-GviN041HOfRMlgKtfKpjrnjvp4YjWX6nA"},
{"content":{"body":"We should not put the pseudo-attribute parsing in the HTML parser.","m.mentions":{},"msgtype":"m.text"},"ts":1770216287300,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$vAURjWI0lNMAQcexM8d3r0pbN_-vbLa6CoNdj51E1LA"},
{"content":{"body":"foolip: Would you change how Blink and WebKti serialize?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@foolip:matrix.org\">foolip</a>: Would you change how Blink and WebKti serialize?","m.mentions":{"user_ids":["@foolip:matrix.org"]},"msgtype":"m.text"},"ts":1770216330423,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$0fiYACAp1WSYyLmZDcmu77K1xLobZLsMdzilBgMGbC8"},
{"content":{"body":"sideshowbarker: I posted non-exhaustive review comments. I suspect that removing the tree builder tracking of `selectedcontent` will result in coming closer to the spec generally.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: I posted non-exhaustive review comments. I suspect that removing the tree builder tracking of <code>selectedcontent</code> will result in coming closer to the spec generally.","m.mentions":{"user_ids":["@sideshowbarker:matrix.org"]},"msgtype":"m.text"},"ts":1770216383332,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$MRKtcCPXdupmWtxl1BvB6VKVRNwbnGbwZ0uO4NZP3iY"},
{"content":{"body":"Ok, I’ll take a look there","m.mentions":{},"msgtype":"m.text"},"ts":1770216414340,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$WuYNGx9mErnLTWBPwN-IcZczq5DHTS-In1bQ-yKhnqg"},
{"content":{"body":"(I need to step away from the chat now, unfortunately.)","m.mentions":{},"msgtype":"m.text"},"ts":1770216501743,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$vzvwTToxOEXhd8P8NM2kwbwMt8cRnqHKm5n-4Q0sq-w"},
{"content":{"body":"I'd be happy to change it in Blink if the decision is to make <?foo> the more canonical HTML syntax, with whatever parsing and conformance changes required, yes.","m.mentions":{"user_ids":["@hsivonen:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$0fiYACAp1WSYyLmZDcmu77K1xLobZLsMdzilBgMGbC8"}},"msgtype":"m.text"},"ts":1770219014262,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$jCf8neJ1dAjIWu-2-174gjxVFY5MQjTCZ8cLWAP3Css"},
{"content":{"body":"I have to admit this is probably the right stance, because there's no way we can put the parsing in the XML parser for for PIs.","m.mentions":{"user_ids":["@hsivonen:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$vAURjWI0lNMAQcexM8d3r0pbN_-vbLa6CoNdj51E1LA"}},"msgtype":"m.text"},"ts":1770219071957,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$X_LuisLdaIQAk5bmkX8due8JwP7dau2qVIih-7LboZI"},
{"content":{"body":"I'm ok with optional ? if the serializer omits it","m.mentions":{},"msgtype":"m.text"},"ts":1770219130922,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$IrJSK_YlUer-6QMOPap0BxdMqsIoHklFXs9idPlLowQ"},
{"content":{"body":"I think this is equivalent to the stray slash in `<img />`, it should be tolerated but not be canonical","format":"org.matrix.custom.html","formatted_body":"I think this is equivalent to the stray slash in <code>&lt;img /&gt;</code>, it should be tolerated but not be canonical","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$IrJSK_YlUer-6QMOPap0BxdMqsIoHklFXs9idPlLowQ"}},"msgtype":"m.text"},"ts":1770219669103,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$SVe8vapLMt9FLl7rIBam6tHFhmGC13jDiDiXEbK75q8"},
{"content":{"body":"zcorpan: do you think we could define conformance rules for PI data to say that they have to follow certain rules, so that this becomes more like validating an attribute value than a parse error produced by the tokenizer?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: do you think we could define conformance rules for PI data to say that they have to follow certain rules, so that this becomes more like validating an attribute value than a parse error produced by the tokenizer?","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"msgtype":"m.text"},"ts":1770222568084,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$Y2PXga_kqMLokc-5bHPN45dSlbbCAtV3LWh3ei5Rnlw"},
{"content":{"body":"What would be an example of such a rule?","m.mentions":{"user_ids":["@foolip:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$Y2PXga_kqMLokc-5bHPN45dSlbbCAtV3LWh3ei5Rnlw"}},"msgtype":"m.text"},"ts":1770231507564,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$6r82fETyl-bpcXETxM-QH_EyWTqmHk6KpDcwCVlt9ow"},
{"content":{"body":"foolip: sure, can say that the data must follow the syntax for pseudo attributes","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@foolip:matrix.org\">@foolip:matrix.org</a>: sure, can say that the data must follow the syntax for pseudo attributes","msgtype":"m.text"},"ts":1770234061220,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$ZVodh0PkesA_jFsyOa2c5kkh_20MvDtTKvNl4Q6k1mE"}
]