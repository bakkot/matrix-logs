[
{"content":{"body":"annevk: hey, re: shadowrealms: do I understand correctly that queuing microtasks is fine, and it's just \"real\" tasks that are an issue","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: hey, re: shadowrealms: do I understand correctly that queuing microtasks is fine, and it's just \"real\" tasks that are an issue","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1707734924751,"senderName":"Ms2ger","senderId":"@ms2ger:igalia.com","id":"$WuTTlRK0RRBQoIg2vIqtmSbHjN0_9frXvMvZLpps9tg"},
{"content":{"body":"?","m.mentions":{},"msgtype":"m.text"},"ts":1707734926061,"senderName":"Ms2ger","senderId":"@ms2ger:igalia.com","id":"$9RMBJMPqlt8Q_dNS_1wTLjF7fLc6aOXQZvy6-B52JoI"},
{"content":{"body":"Ms2ger: what is the context? (I'm just curious because of microtasks)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@ms2ger:igalia.com\">Ms2ger</a>: what is the context? (I'm just curious because of microtasks)","m.mentions":{"user_ids":["@ms2ger:igalia.com"]},"msgtype":"m.text"},"ts":1707754038264,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$-r4lxOCmLwdtohEfx2pbStX0fGo96SUV7Pcmai-rpqY"},
{"content":{"body":"smaug: https://github.com/tc39/proposal-shadowrealm/issues/398 - we got feedback that exposing timers would be useful in shadow realms, but those need more of an event loop than worklets offer, so I'm reviewing the list of APIs to make sure we don't have other similar issues. It seems like they do support microtasks, though","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: https://github.com/tc39/proposal-shadowrealm/issues/398 - we got feedback that exposing timers would be useful in shadow realms, but those need more of an event loop than worklets offer, so I'm reviewing the list of APIs to make sure we don't have other similar issues. It seems like they do support microtasks, though","m.mentions":{"user_ids":["@smaug:mozilla.org"]},"msgtype":"m.text"},"ts":1707754312197,"senderName":"Ms2ger","senderId":"@ms2ger:igalia.com","id":"$0F-3yGjK-BhMR1nAVC9b-822hDGSqEzTLWDcTpIjp98"},
{"content":{"body":"Ms2ger: hmm, is shadowrealm now closer to a worklet?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@ms2ger:igalia.com\">Ms2ger</a>: hmm, is shadowrealm now closer to a worklet?","m.mentions":{"user_ids":["@ms2ger:igalia.com"]},"msgtype":"m.text"},"ts":1707754380449,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$Cw_KZTeZwSeSoVcfxWQh6q-CKtYcQsPVL3zr-mjMnNM"},
{"content":{"body":"or do you mean that using shadowrealms in worklets wouldn't work?","m.mentions":{},"msgtype":"m.text"},"ts":1707754410211,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$fkS1IjbVr3e_P_4bAS4HMZJGvhUrXGLWq4ECJ2aY1Kg"},
{"content":{"body":"The idea is that worklets will be able to use a shadow realm as well","m.mentions":{},"msgtype":"m.text"},"ts":1707754412390,"senderName":"Ms2ger","senderId":"@ms2ger:igalia.com","id":"$qP7RqBJs9sqIIyeBuUV9-oWXPSO7KywDs60uN-usAEI"},
{"content":{"body":"Yeah","m.mentions":{},"msgtype":"m.text"},"ts":1707754419747,"senderName":"Ms2ger","senderId":"@ms2ger:igalia.com","id":"$4kmdOz64b27xvgenWIBlYsuLb2BuFWH-0SbxQ4RSCro"},
{"content":{"body":"What would be even the use case for shadow realms in worklets?","m.mentions":{},"msgtype":"m.text"},"ts":1707754469092,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$G_966McX4jUxW5tJfIlprZaRIj9XYoIys8BSHQQ1Vgw"}
]