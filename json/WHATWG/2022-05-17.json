[
{"content":{"body":"Andreu Botella: https://andreubotella.com/csswg-auto-build/ doesn’t seem to mirror https://drafts.csswg.org/scroll-animations/ …","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a>: https://andreubotella.com/csswg-auto-build/ doesn’t seem to mirror https://drafts.csswg.org/scroll-animations/ …","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Andreu Botella: https://andreubotella.com/csswg-auto-build/ doesn’t seem to mirror https://drafts.csswg.org/scroll-animations/ …","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a>: https://andreubotella.com/csswg-auto-build/ doesn’t seem to mirror https://drafts.csswg.org/scroll-animations/ …","mimetype":"text/html"}]},"ts":1652774396399,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$VWrvGn4r9hWdl8zWDF3_8E0TikKengWFRELGPbg4PZw"},
{"content":{"body":"as far as I can tell, that’s the only CSS spec that it’s not mirroring","msgtype":"m.text","org.matrix.msc1767.text":"as far as I can tell, that’s the only CSS spec that it’s not mirroring"},"ts":1652774480429,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$NyiXqH9qVcAf5_4uvt3Skcq1BCwFrmGXFPdTlV8UvzQ"},
{"content":{"body":"> <@sideshowbarker:mozilla.org> Andreu Botella: https://andreubotella.com/csswg-auto-build/ doesn’t seem to mirror https://drafts.csswg.org/scroll-animations/ …\n\nit's on https://andreubotella.com/csswg-auto-build/scroll-animations-1/ and on the index as \"scroll-linked animations\"","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$VWrvGn4r9hWdl8zWDF3_8E0TikKengWFRELGPbg4PZw?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">@sideshowbarker:mozilla.org</a><br><a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a>: https://andreubotella.com/csswg-auto-build/ doesn’t seem to mirror https://drafts.csswg.org/scroll-animations/ …</blockquote></mx-reply>it's on https://andreubotella.com/csswg-auto-build/scroll-animations-1/ and on the index as &quot;scroll-linked animations&quot;","m.relates_to":{"m.in_reply_to":{"event_id":"$VWrvGn4r9hWdl8zWDF3_8E0TikKengWFRELGPbg4PZw"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@sideshowbarker:mozilla.org> Andreu Botella: https://andreubotella.com/csswg-auto-build/ doesn’t seem to mirror https://drafts.csswg.org/scroll-animations/ …\n\nit's on https://andreubotella.com/csswg-auto-build/scroll-animations-1/ and on the index as \"scroll-linked animations\"","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$VWrvGn4r9hWdl8zWDF3_8E0TikKengWFRELGPbg4PZw?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">@sideshowbarker:mozilla.org</a><br><a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a>: https://andreubotella.com/csswg-auto-build/ doesn’t seem to mirror https://drafts.csswg.org/scroll-animations/ …</blockquote></mx-reply>it's on https://andreubotella.com/csswg-auto-build/scroll-animations-1/ and on the index as &quot;scroll-linked animations&quot;","mimetype":"text/html"}]},"ts":1652776047954,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$LCYZJlj2bGzs50Vnowlmeb8YKe4DM_zj9gqW4sDECkY"},
{"content":{"body":"but weird that the shortname https://andreubotella.com/csswg-auto-build/scroll-animations doesn't link to it","msgtype":"m.text","org.matrix.msc1767.text":"but weird that the shortname https://andreubotella.com/csswg-auto-build/scroll-animations doesn't link to it"},"ts":1652776059307,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$KZ-hs2COUynmKHq75me3WOotPbt1OfM-BaX4eg3IHzs"},
{"content":{"body":"aha","msgtype":"m.text","org.matrix.msc1767.text":"aha"},"ts":1652776065344,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$c9ByCAWJ9KmteVrV92UgcCkyfqftj4mRHq7Yf4pQv1g"},
{"content":{"body":"That's of course because the shortname in the bikeshed metadata is given as `scroll-animations-1`, of course: https://github.com/w3c/csswg-drafts/blob/main/scroll-animations-1/Overview.bs#L10","format":"org.matrix.custom.html","formatted_body":"That's of course because the shortname in the bikeshed metadata is given as <code>scroll-animations-1</code>, of course: https://github.com/w3c/csswg-drafts/blob/main/scroll-animations-1/Overview.bs#L10","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"That's of course because the shortname in the bikeshed metadata is given as `scroll-animations-1`, of course: https://github.com/w3c/csswg-drafts/blob/main/scroll-animations-1/Overview.bs#L10","mimetype":"text/plain"},{"body":"That's of course because the shortname in the bikeshed metadata is given as <code>scroll-animations-1</code>, of course: https://github.com/w3c/csswg-drafts/blob/main/scroll-animations-1/Overview.bs#L10","mimetype":"text/html"}]},"ts":1652776168227,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$UtMZOiUBi11Uv9jdO6GHSpHvMXRwOcySveT59x-teWk"},
{"content":{"body":"I've had to special case some shortnames so they show up linked in the index, I guess I missed this one because it has a single level","msgtype":"m.text","org.matrix.msc1767.text":"I've had to special case some shortnames so they show up linked in the index, I guess I missed this one because it has a single level"},"ts":1652776196507,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$Px5UqF6S3tXOBgdleX4h_t-9bbr-ScjvrFqh4Pq2yjg"},
{"content":{"body":"it is easy to fix/workaround on your side?","msgtype":"m.text","org.matrix.msc1767.text":"it is easy to fix/workaround on your side?"},"ts":1652776425972,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$ItcwJ_5iXVYxOt5xVRtsObrF7gqtHf7gcKMkV50-fJE"},
{"content":{"body":"I just did","msgtype":"m.text","org.matrix.msc1767.text":"I just did"},"ts":1652776437508,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$bgbW2oJPzUiB6bzif_gyBrRhfgDuuWzVPVz8HHCoXdA"},
{"content":{"body":"give it a few minutes so it builds","msgtype":"m.text","org.matrix.msc1767.text":"give it a few minutes so it builds"},"ts":1652776445170,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$OiNM4X9NGlCQ6JP9191SPoEtGfOa_tcI3KEOWFuXs1g"},
{"content":{"body":"ah cool — thanks","msgtype":"m.text","org.matrix.msc1767.text":"ah cool — thanks"},"ts":1652776446781,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$xb9nFEgF5ie8v8FZ27nd0l79-tsjuIaIutLuqPuiVn8"},
{"content":{"body":"hai","msgtype":"m.text","org.matrix.msc1767.text":"hai"},"ts":1652776449628,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$RlUqQN0yE2eIw87kLMOC-KOYuo5F2aICzdzZGh68jts"},
{"content":{"body":"Mattias Buelens: hey, do we have some kind of \"peek\" primitive yet for streams?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@mattiasbuelens:matrix.org\">Mattias Buelens</a>: hey, do we have some kind of &quot;peek&quot; primitive yet for streams?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Mattias Buelens: hey, do we have some kind of \"peek\" primitive yet for streams?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@mattiasbuelens:matrix.org\">Mattias Buelens</a>: hey, do we have some kind of &quot;peek&quot; primitive yet for streams?","mimetype":"text/html"}]},"ts":1652777800367,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$yDv2CEjtercFzY84xc11DMuhT38lN_B23Ya7Zq1xrvE"},
{"content":{"body":"Mattias Buelens: I'm guessing I might be stuck with some kind of transform stream?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@mattiasbuelens:matrix.org\">Mattias Buelens</a>: I'm guessing I might be stuck with some kind of transform stream?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Mattias Buelens: I'm guessing I might be stuck with some kind of transform stream?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@mattiasbuelens:matrix.org\">Mattias Buelens</a>: I'm guessing I might be stuck with some kind of transform stream?","mimetype":"text/html"}]},"ts":1652777899616,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$781g0VSb9bmOqWst7xRxNJiMKIbQst9NCBZj829LZSE"},
{"content":{"body":"> <@annevk:mozilla.org> Mattias Buelens: hey, do we have some kind of \"peek\" primitive yet for streams?\n\nNo, we don't have that yet.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$yDv2CEjtercFzY84xc11DMuhT38lN_B23Ya7Zq1xrvE?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br><a href=\"https://matrix.to/#/@mattiasbuelens:matrix.org\">Mattias Buelens</a>: hey, do we have some kind of \"peek\" primitive yet for streams?</blockquote></mx-reply>No, we don't have that yet.","m.relates_to":{"m.in_reply_to":{"event_id":"$yDv2CEjtercFzY84xc11DMuhT38lN_B23Ya7Zq1xrvE"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@annevk:mozilla.org> Mattias Buelens: hey, do we have some kind of \"peek\" primitive yet for streams?\n\nNo, we don't have that yet.","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$yDv2CEjtercFzY84xc11DMuhT38lN_B23Ya7Zq1xrvE?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br><a href=\"https://matrix.to/#/@mattiasbuelens:matrix.org\">Mattias Buelens</a>: hey, do we have some kind of \"peek\" primitive yet for streams?</blockquote></mx-reply>No, we don't have that yet.","mimetype":"text/html"}]},"ts":1652778023173,"senderName":"Mattias Buelens","senderId":"@mattiasbuelens:matrix.org","id":"$eH0_WSkYv0k9j2SLvGZdmJ_advpjR2QQBk4iWcwq1rQ"},
{"content":{"body":"Andreu Botella: so in my https://github.com/w3c/mdn-spec-links/ build automation, I’m trying to replace requests to https://drafts.csswg.org/ URLs with requests to https://andreubotella.com/csswg-auto-build/ URLs — but what I’m finding is that a lot of the documents at the URLs I’m requesting actually just have client-side redirects — e.g., `<meta http-equiv=\"refresh\" content=\"0; URL=../css-variables-1/\" />` — which the documents at the equivalent https://drafts.csswg.org/ URLs don’t seem to have. Instead the documents at the https://drafts.csswg.org/ URLs seem to be copies…","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a>: so in my https://github.com/w3c/mdn-spec-links/ build automation, I’m trying to replace requests to https://drafts.csswg.org/ URLs with requests to https://andreubotella.com/csswg-auto-build/ URLs — but what I’m finding is that a lot of the documents at the URLs I’m requesting actually just have client-side redirects — e.g., <code>&lt;meta http-equiv=&quot;refresh&quot; content=&quot;0; URL=../css-variables-1/&quot; /&gt;</code> — which the documents at the equivalent https://drafts.csswg.org/ URLs don’t seem to have. Instead the documents at the https://drafts.csswg.org/ URLs seem to be copies…","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Andreu Botella: so in my https://github.com/w3c/mdn-spec-links/ build automation, I’m trying to replace requests to https://drafts.csswg.org/ URLs with requests to https://andreubotella.com/csswg-auto-build/ URLs — but what I’m finding is that a lot of the documents at the URLs I’m requesting actually just have client-side redirects — e.g., `<meta http-equiv=\"refresh\" content=\"0; URL=../css-variables-1/\" />` — which the documents at the equivalent https://drafts.csswg.org/ URLs don’t seem to have. Instead the documents at the https://drafts.csswg.org/ URLs seem to be copies…","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a>: so in my https://github.com/w3c/mdn-spec-links/ build automation, I’m trying to replace requests to https://drafts.csswg.org/ URLs with requests to https://andreubotella.com/csswg-auto-build/ URLs — but what I’m finding is that a lot of the documents at the URLs I’m requesting actually just have client-side redirects — e.g., <code>&lt;meta http-equiv=&quot;refresh&quot; content=&quot;0; URL=../css-variables-1/&quot; /&gt;</code> — which the documents at the equivalent https://drafts.csswg.org/ URLs don’t seem to have. Instead the documents at the https://drafts.csswg.org/ URLs seem to be copies…","mimetype":"text/html"}]},"ts":1652778098064,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$vdu9baP4LLicEy8YjOzu6EESG1EJSnN4og7SvtxclRw"},
{"content":{"body":"Thanks; for ORB I need to look at the first 1024 bytes of a response, so I guess I essentially have to replace the underlying stream with a transform stream where I collect the first 1024 bytes, scan them, and then forward them","msgtype":"m.text","org.matrix.msc1767.text":"Thanks; for ORB I need to look at the first 1024 bytes of a response, so I guess I essentially have to replace the underlying stream with a transform stream where I collect the first 1024 bytes, scan them, and then forward them"},"ts":1652778118548,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$o0gB4wjwp3b0Q0OhuPm1HCSQl-PHPsBI1fmzpEBqcK0"},
{"content":{"body":"sideshowbarker: Github Pages doesn't let you do server-side redirects, so I'm making all of them client-side","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">sideshowbarker</a>: Github Pages doesn't let you do server-side redirects, so I'm making all of them client-side","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"sideshowbarker: Github Pages doesn't let you do server-side redirects, so I'm making all of them client-side","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">sideshowbarker</a>: Github Pages doesn't let you do server-side redirects, so I'm making all of them client-side","mimetype":"text/html"}]},"ts":1652778155220,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$8yBI5o3p6v5nRRuv_tIFb-V5QwQxTlYBHYp-QimRk7I"},
{"content":{"body":"if you link to the actual level of a spec, it shouldn't redirect","msgtype":"m.text","org.matrix.msc1767.text":"if you link to the actual level of a spec, it shouldn't redirect"},"ts":1652778180002,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$56gx2cjSbAVMZEYfPmBV2eBiMzjK6usieDKaIc0V5gA"},
{"content":{"body":"yeah I can’t link to the leveled versions","msgtype":"m.text","org.matrix.msc1767.text":"yeah I can’t link to the leveled versions"},"ts":1652778197935,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$axVpZqiJ3XUwS-uvsi36Mwb-WK0iWRSkhfhAQIFlbQI"},
{"content":{"body":"for MDN and BCD we have a policy of intentionally not linking to the leveled versions","msgtype":"m.text","org.matrix.msc1767.text":"for MDN and BCD we have a policy of intentionally not linking to the leveled versions"},"ts":1652778234211,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$DuMgtUHqJIunYcwmzw8QrftoDkPMgF_ZlSWSRuZ2YLA"},
{"content":{"body":"> <@annevk:mozilla.org> Thanks; for ORB I need to look at the first 1024 bytes of a response, so I guess I essentially have to replace the underlying stream with a transform stream where I collect the first 1024 bytes, scan them, and then forward them\n\nThat's correct. I did something similar for streaming AES-CBC decryption in https://github.com/MattiasBuelens/crypto-aes-stream/blob/08f28cebbd02f9feb9d0e8d6d2ae9135cbe27ce2/src/aes-cbc-stream.ts#L39-L47","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$o0gB4wjwp3b0Q0OhuPm1HCSQl-PHPsBI1fmzpEBqcK0?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br>Thanks; for ORB I need to look at the first 1024 bytes of a response, so I guess I essentially have to replace the underlying stream with a transform stream where I collect the first 1024 bytes, scan them, and then forward them</blockquote></mx-reply>That's correct. I did something similar for streaming AES-CBC decryption in https://github.com/MattiasBuelens/crypto-aes-stream/blob/08f28cebbd02f9feb9d0e8d6d2ae9135cbe27ce2/src/aes-cbc-stream.ts#L39-L47","m.relates_to":{"m.in_reply_to":{"event_id":"$o0gB4wjwp3b0Q0OhuPm1HCSQl-PHPsBI1fmzpEBqcK0"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@annevk:mozilla.org> Thanks; for ORB I need to look at the first 1024 bytes of a response, so I guess I essentially have to replace the underlying stream with a transform stream where I collect the first 1024 bytes, scan them, and then forward them\n\nThat's correct. I did something similar for streaming AES-CBC decryption in https://github.com/MattiasBuelens/crypto-aes-stream/blob/08f28cebbd02f9feb9d0e8d6d2ae9135cbe27ce2/src/aes-cbc-stream.ts#L39-L47","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$o0gB4wjwp3b0Q0OhuPm1HCSQl-PHPsBI1fmzpEBqcK0?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br>Thanks; for ORB I need to look at the first 1024 bytes of a response, so I guess I essentially have to replace the underlying stream with a transform stream where I collect the first 1024 bytes, scan them, and then forward them</blockquote></mx-reply>That's correct. I did something similar for streaming AES-CBC decryption in https://github.com/MattiasBuelens/crypto-aes-stream/blob/08f28cebbd02f9feb9d0e8d6d2ae9135cbe27ce2/src/aes-cbc-stream.ts#L39-L47","mimetype":"text/html"}]},"ts":1652778307280,"senderName":"Mattias Buelens","senderId":"@mattiasbuelens:matrix.org","id":"$zMBzYKZBiNYnUaTzqhhW4fVclVzZab9UUkZ15Qo-YAI"},
{"content":{"body":"I will also have another place where I need to look at the full response before forwarding it. Might look at whether that makes it worth abstracting somehow.","msgtype":"m.text","org.matrix.msc1767.text":"I will also have another place where I need to look at the full response before forwarding it. Might look at whether that makes it worth abstracting somehow."},"ts":1652778547039,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$j4s-_3V1-f6bGxk_REz2xpfe59X_MazDEyNodL0mWEk"},
{"content":{"body":"with jsdom, anybody know if I can get it to follow a `<meta http-equiv=\"refresh\" content…` and load the contents of the document that’s redirecting to?","format":"org.matrix.custom.html","formatted_body":"with jsdom, anybody know if I can get it to follow a <code>&lt;meta http-equiv=&quot;refresh&quot; content…</code> and load the contents of the document that’s redirecting to?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"with jsdom, anybody know if I can get it to follow a `<meta http-equiv=\"refresh\" content…` and load the contents of the document that’s redirecting to?","mimetype":"text/plain"},{"body":"with jsdom, anybody know if I can get it to follow a <code>&lt;meta http-equiv=&quot;refresh&quot; content…</code> and load the contents of the document that’s redirecting to?","mimetype":"text/html"}]},"ts":1652778609246,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$fivHSbHnbYPkRW6bUARoBMyzg3OuKYDAHdTv8cYNtys"},
{"content":{"body":"Andreu Botella: OK I reckon I’ll try grabbing out the redirect URLs with jsdom, and re-requesting with those URLs. I think it should work.\nBecause it’ll be making additional requests, I guess it’ll end up being a bit slower than using drafts.csswg.org — but today after the Nth time of drafts.csswg.org unreliability completely breaking my build, it’s worth the added effort and time to have something else that’ll actually work reliably rather than totally break every week","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a>: OK I reckon I’ll try grabbing out the redirect URLs with jsdom, and re-requesting with those URLs. I think it should work.<br>Because it’ll be making additional requests, I guess it’ll end up being a bit slower than using drafts.csswg.org — but today after the Nth time of drafts.csswg.org unreliability completely breaking my build, it’s worth the added effort and time to have something else that’ll actually work reliably rather than totally break every week","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Andreu Botella: OK I reckon I’ll try grabbing out the redirect URLs with jsdom, and re-requesting with those URLs. I think it should work.\nBecause it’ll be making additional requests, I guess it’ll end up being a bit slower than using drafts.csswg.org — but today after the Nth time of drafts.csswg.org unreliability completely breaking my build, it’s worth the added effort and time to have something else that’ll actually work reliably rather than totally break every week","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a>: OK I reckon I’ll try grabbing out the redirect URLs with jsdom, and re-requesting with those URLs. I think it should work.<br>Because it’ll be making additional requests, I guess it’ll end up being a bit slower than using drafts.csswg.org — but today after the Nth time of drafts.csswg.org unreliability completely breaking my build, it’s worth the added effort and time to have something else that’ll actually work reliably rather than totally break every week","mimetype":"text/html"}]},"ts":1652780071344,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$QpVu4rRsDPuJGwNZIdDXfcZcF2WhswnJEsrlB8NGk6U"},
{"content":{"body":"Andreu Botella: OK, with https://github.com/w3c/mdn-spec-links/commit/18de692 my build tooling is now switched over to making requests to your mirror rather than to drafts.csswg.org — and it seems to be working as expected. Dunno if GitHub has request/bandwidth limits for Pages content, but anyway that part of the build normally only runs once a day, so I don’t think it will generate a huge amount of extra traffic","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a>: OK, with https://github.com/w3c/mdn-spec-links/commit/18de692 my build tooling is now switched over to making requests to your mirror rather than to drafts.csswg.org — and it seems to be working as expected. Dunno if GitHub has request/bandwidth limits for Pages content, but anyway that part of the build normally only runs once a day, so I don’t think it will generate a huge amount of extra traffic","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Andreu Botella: OK, with https://github.com/w3c/mdn-spec-links/commit/18de692 my build tooling is now switched over to making requests to your mirror rather than to drafts.csswg.org — and it seems to be working as expected. Dunno if GitHub has request/bandwidth limits for Pages content, but anyway that part of the build normally only runs once a day, so I don’t think it will generate a huge amount of extra traffic","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a>: OK, with https://github.com/w3c/mdn-spec-links/commit/18de692 my build tooling is now switched over to making requests to your mirror rather than to drafts.csswg.org — and it seems to be working as expected. Dunno if GitHub has request/bandwidth limits for Pages content, but anyway that part of the build normally only runs once a day, so I don’t think it will generate a huge amount of extra traffic","mimetype":"text/html"}]},"ts":1652785568657,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$hlHCaOEsKk7isVEloOACr5olTd571P2vDqWM6wAhg6w"},
{"content":{"body":"sounds good","msgtype":"m.text","org.matrix.msc1767.text":"sounds good"},"ts":1652785583335,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$BTrVelaXWSHsHPOyopCj3ONuQ9GpG6-T6ZwLRXR5Q4E"},
{"content":{"body":"thanks much for providing that mirror","msgtype":"m.text","org.matrix.msc1767.text":"thanks much for providing that mirror"},"ts":1652785604546,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$osdb9IlibxhVn_l2f7Kzbn51XowmtU1Tf-PoT3ApT38"},
{"content":{"body":"Noam Rosenthal: could you perhaps triage the issues here that are filed by me: https://github.com/WICG/background-fetch/issues? Now that HTML depends on some of this stuff, it would be good to know if we should move some of these definitions to Fetch","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: could you perhaps triage the issues here that are filed by me: https://github.com/WICG/background-fetch/issues? Now that HTML depends on some of this stuff, it would be good to know if we should move some of these definitions to Fetch","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Noam Rosenthal: could you perhaps triage the issues here that are filed by me: https://github.com/WICG/background-fetch/issues? Now that HTML depends on some of this stuff, it would be good to know if we should move some of these definitions to Fetch","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: could you perhaps triage the issues here that are filed by me: https://github.com/WICG/background-fetch/issues? Now that HTML depends on some of this stuff, it would be good to know if we should move some of these definitions to Fetch","mimetype":"text/html"}]},"ts":1652799296318,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$RCnLDygAbtMUa74YWecYIEQuPi9KnjTxPRPyrLUHBvk"},
{"content":{"body":"Noam Rosenthal: my interest atm is mainly with \"validate a partial response\" which ORB needs, but all of it seems important","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: my interest atm is mainly with &quot;validate a partial response&quot; which ORB needs, but all of it seems important","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Noam Rosenthal: my interest atm is mainly with \"validate a partial response\" which ORB needs, but all of it seems important","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: my interest atm is mainly with &quot;validate a partial response&quot; which ORB needs, but all of it seems important","mimetype":"text/html"}]},"ts":1652799337116,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$YU6etuXJ1cK_7o9XVlJpl2tTobuEJYkgdvGwk4cVR7E"},
{"content":{"body":"annevk: I don't know much about the background-fetch spec but would be happy to give it a go","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: I don't know much about the background-fetch spec but would be happy to give it a go","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"annevk: I don't know much about the background-fetch spec but would be happy to give it a go","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: I don't know much about the background-fetch spec but would be happy to give it a go","mimetype":"text/html"}]},"ts":1652799402569,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$akfHF_9IJia_QZBluLjKI9YTtk4Jf3FPDD_Zfc10mFw"},
{"content":{"body":"Noam Rosenthal: this is mainly about the range thingies that media elements now depend in part on","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: this is mainly about the range thingies that media elements now depend in part on","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Noam Rosenthal: this is mainly about the range thingies that media elements now depend in part on","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: this is mainly about the range thingies that media elements now depend in part on","mimetype":"text/html"}]},"ts":1652799567871,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$JhFIlyAoMcARJ-r0jjmmjFiE-Qgs8ty0ApmdzzeKG-g"},
{"content":{"body":"annevk: ah yes, I originally used some of the definition from background-fetch with small but important modifications","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: ah yes, I originally used some of the definition from background-fetch with small but important modifications","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"annevk: ah yes, I originally used some of the definition from background-fetch with small but important modifications","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: ah yes, I originally used some of the definition from background-fetch with small but important modifications","mimetype":"text/html"}]},"ts":1652799629273,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$5ik1Q_4f0nVI60snqPFKv4Past3eBe6r4jjob6bMh88"},
{"content":{"body":"It seems HTML only has \"extract content-range values\", so maybe I'm on my own","msgtype":"m.text","org.matrix.msc1767.text":"It seems HTML only has \"extract content-range values\", so maybe I'm on my own"},"ts":1652800394494,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$n0r1wUIlpzUhceJDfyqdU8NfLjcQxaSk0r5DXSlmMKk"},
{"content":{"body":"Well maybe not, \"validate a partial response\" depends on that","msgtype":"m.text","org.matrix.msc1767.text":"Well maybe not, \"validate a partial response\" depends on that"},"ts":1652800445214,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$J-LlIt0N6c_U_p2p8LZ0M-1JQJDWs33zYlU73UQE8E0"},
{"content":{"body":"yea the validation bit is semi-duplicated between HTML and background-fetch with minor differences and both depend on \"extract content-range values\" IIRC","msgtype":"m.text","org.matrix.msc1767.text":"yea the validation bit is semi-duplicated between HTML and background-fetch with minor differences and both depend on \"extract content-range values\" IIRC"},"ts":1652800700173,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$OFVRq-OYGj0X8ytP_QoYEZw5TUwADTcAEYF2TEUyUws"},
{"content":{"body":"I see, if you could it would be great to have some follow-up issues documenting what would make things more usable for HTML","msgtype":"m.text","org.matrix.msc1767.text":"I see, if you could it would be great to have some follow-up issues documenting what would make things more usable for HTML"},"ts":1652801048893,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$dDCGolO__Q10dbUn_vjElG8CaYhQEiu3PzNfBdfKGWo"},
{"content":{"body":"I suspect that in implementations these don't have different code paths per se so might also be good to test","msgtype":"m.text","org.matrix.msc1767.text":"I suspect that in implementations these don't have different code paths per se so might also be good to test"},"ts":1652801090212,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$CNbcXNnnB4M01MZpur-uezaXRHD6p8hSKA_q557LrZc"},
{"content":{"body":"annevk: sure, will get to it soon-ish","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: sure, will get to it soon-ish","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"annevk: sure, will get to it soon-ish","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: sure, will get to it soon-ish","mimetype":"text/html"}]},"ts":1652801348282,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$FYSQDnVGsLQWIl5ZL9Am4YUA94Uk2sTTbGBtsb1EtOo"},
{"content":{"body":"annevk: I wanted to finish with https://github.com/whatwg/html/pull/7782 before the next steps with range-responses though, waiting for a final merge","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: I wanted to finish with https://github.com/whatwg/html/pull/7782 before the next steps with range-responses though, waiting for a final merge","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"annevk: I wanted to finish with https://github.com/whatwg/html/pull/7782 before the next steps with range-responses though, waiting for a final merge","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: I wanted to finish with https://github.com/whatwg/html/pull/7782 before the next steps with range-responses though, waiting for a final merge","mimetype":"text/html"}]},"ts":1652803023831,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$ZGxsRHseX-atwEcrXLqiOzzDriQd5GyQw7HALTsI7X4"},
{"content":{"body":"Noam Rosenthal: added a comment","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: added a comment","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Noam Rosenthal: added a comment","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: added a comment","mimetype":"text/html"}]},"ts":1652805607174,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$84ALakhX8hkSYE-x8S1ui9d2ffvh4nkG2QsZeYruOjc"},
{"content":{"body":"Noam Rosenthal: annevk sorry for coming back with another TAO check question. For a simple redirect, A->B, when doing the `serializing a request origin` check for B, Should it return...`null`?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: <a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a> sorry for coming back with another TAO check question. For a simple redirect, A-&gt;B, when doing the <code>serializing a request origin</code> check for B, Should it return...<code>null</code>?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Noam Rosenthal: annevk sorry for coming back with another TAO check question. For a simple redirect, A->B, when doing the `serializing a request origin` check for B, Should it return...`null`?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: <a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a> sorry for coming back with another TAO check question. For a simple redirect, A-&gt;B, when doing the <code>serializing a request origin</code> check for B, Should it return...<code>null</code>?","mimetype":"text/html"}]},"ts":1652806114707,"senderName":"sefeng","senderId":"@sefeng:mozilla.org","id":"$ZD-U5dA3MBGM5fdQXo-TQH4hEIZfUc1vhWNzlzPaPB8"},
{"content":{"body":"sefeng: I was surprised with this as well about a month ago :)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sefeng:mozilla.org\">sefeng</a>: I was surprised with this as well about a month ago :)","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"sefeng: I was surprised with this as well about a month ago :)","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@sefeng:mozilla.org\">sefeng</a>: I was surprised with this as well about a month ago :)","mimetype":"text/html"}]},"ts":1652806312999,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$jzq2BfWC8SCbQSfPmlDaqo3qNaCtRymO3GPo-G5mX88"},
{"content":{"body":"Noam Rosenthal: yeah I mean..it looks like B has to have `*` specified to make TAO passes, it can't just have A's origin","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: yeah I mean..it looks like B has to have <code>*</code> specified to make TAO passes, it can't just have A's origin","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Noam Rosenthal: yeah I mean..it looks like B has to have `*` specified to make TAO passes, it can't just have A's origin","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: yeah I mean..it looks like B has to have <code>*</code> specified to make TAO passes, it can't just have A's origin","mimetype":"text/html"}]},"ts":1652806378172,"senderName":"sefeng","senderId":"@sefeng:mozilla.org","id":"$IJgDqKZcM65qOEET9aGr8P0ORZOkrwBh1CQltIG1txI"},
{"content":{"body":"sefeng: so request's URL list is [A, B], what's request's origin?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sefeng:mozilla.org\">sefeng</a>: so request's URL list is [A, B], what's request's origin?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"sefeng: so request's URL list is [A, B], what's request's origin?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@sefeng:mozilla.org\">sefeng</a>: so request's URL list is [A, B], what's request's origin?","mimetype":"text/html"}]},"ts":1652806411598,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$hNkTC3SnougYWwPNcbFbpigVdZyG7j_Birop73Mqq-E"},
{"content":{"body":"annevk: B","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: B","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"annevk: B","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: B","mimetype":"text/html"}]},"ts":1652806425555,"senderName":"sefeng","senderId":"@sefeng:mozilla.org","id":"$qdhc_g8ak6PVivipWNRbruErB2biI8CxmWELTvlxeM4"},
{"content":{"body":"Yeah then it's tainted","msgtype":"m.text","org.matrix.msc1767.text":"Yeah then it's tainted"},"ts":1652806445233,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$kt4lpjk_99Y5BBEUNyZg6z49ZUJfxG2IR83v9r3N4LE"},
{"content":{"body":"sefeng: It can theoretically have the string \"null\" though I don't think that's tested or implemented","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sefeng:mozilla.org\">sefeng</a>: It can theoretically have the string &quot;null&quot; though I don't think that's tested or implemented","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"sefeng: It can theoretically have the string \"null\" though I don't think that's tested or implemented","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@sefeng:mozilla.org\">sefeng</a>: It can theoretically have the string &quot;null&quot; though I don't think that's tested or implemented","mimetype":"text/html"}]},"ts":1652806459818,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$sW1IiKZnlHDoS1p1KSTc4ybt-w5-m6Zp6SIbv9jEUUI"},
{"content":{"body":"If it wasn't A could make requests on B with the authority of B","msgtype":"m.text","org.matrix.msc1767.text":"If it wasn't A could make requests on B with the authority of B"},"ts":1652806462065,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$NgFNnbhs3GmaSL8sgaghYBWL18ymELhq8o8S-CB30cw"},
{"content":{"body":"If request's origin was A, it would end up saying A to B","msgtype":"m.text","org.matrix.msc1767.text":"If request's origin was A, it would end up saying A to B"},"ts":1652806494166,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$DubMhZG10KgUb29JTTiSVqWtKINEVHR50C0fGHCEHNE"},
{"content":{"body":"annevk: maybe I misunderstanding something. So when an redirect like this, I should use A as the origin? ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: maybe I misunderstanding something. So when an redirect like this, I should use A as the origin?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"annevk: maybe I misunderstanding something. So when an redirect like this, I should use A as the origin? ","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: maybe I misunderstanding something. So when an redirect like this, I should use A as the origin?","mimetype":"text/html"}]},"ts":1652806649698,"senderName":"sefeng","senderId":"@sefeng:mozilla.org","id":"$_CG7MPsPgJdvzjDKSrsHu70FZ-62SJApqmTVZFqbk9w"},
{"content":{"body":"sefeng: in the scenario you described a website B does a fetch to A and A redirects to B, right?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sefeng:mozilla.org\">sefeng</a>: in the scenario you described a website B does a fetch to A and A redirects to B, right?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"sefeng: in the scenario you described a website B does a fetch to A and A redirects to B, right?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@sefeng:mozilla.org\">sefeng</a>: in the scenario you described a website B does a fetch to A and A redirects to B, right?","mimetype":"text/html"}]},"ts":1652806715763,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$xsqlDK7eY7PfmuRMVMJL2GcpNLz1HgGOOxuLQWOQjBs"}
]