[
{"content":{"body":"> <@noamr:matrix.org> I guess https://developer.mozilla.org/en-US/docs/Web/API/Window/frameElement ?\n\nso I’m now realizing that while that seems to work in some cases of cross-origin iframes, it returns null in others","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$aHs3lNK6kcx85oazxhM0wdIS7ZnD_EFjvxWX5xxyqRo?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@noamr:matrix.org\">@noamr:matrix.org</a><br>I guess https://developer.mozilla.org/en-US/docs/Web/API/Window/frameElement ?</blockquote></mx-reply>so I’m now realizing that while that seems to work in some cases of cross-origin iframes, it returns null in others","m.relates_to":{"m.in_reply_to":{"event_id":"$aHs3lNK6kcx85oazxhM0wdIS7ZnD_EFjvxWX5xxyqRo"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@noamr:matrix.org> I guess https://developer.mozilla.org/en-US/docs/Web/API/Window/frameElement ?\n\nso I’m now realizing that while that seems to work in some cases of cross-origin iframes, it returns null in others","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$aHs3lNK6kcx85oazxhM0wdIS7ZnD_EFjvxWX5xxyqRo?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@noamr:matrix.org\">@noamr:matrix.org</a><br>I guess https://developer.mozilla.org/en-US/docs/Web/API/Window/frameElement ?</blockquote></mx-reply>so I’m now realizing that while that seems to work in some cases of cross-origin iframes, it returns null in others","mimetype":"text/html"}]},"ts":1644217047484,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$2H3y9e7IJSTARc7ZNT1lquvAccntu-dvJKgn8qnPLPk"},
{"content":{"body":"> <@sideshowbarker:mozilla.org> so I’m now realizing that while that seems to work in some cases of cross-origin iframes, it returns null in others\n\nyea this is not for cross-origin","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$2H3y9e7IJSTARc7ZNT1lquvAccntu-dvJKgn8qnPLPk?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">@sideshowbarker:mozilla.org</a><br>so I’m now realizing that while that seems to work in some cases of cross-origin iframes, it returns null in others</blockquote></mx-reply>yea this is not for cross-origin","m.relates_to":{"m.in_reply_to":{"event_id":"$2H3y9e7IJSTARc7ZNT1lquvAccntu-dvJKgn8qnPLPk"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@sideshowbarker:mozilla.org> so I’m now realizing that while that seems to work in some cases of cross-origin iframes, it returns null in others\n\nyea this is not for cross-origin","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$2H3y9e7IJSTARc7ZNT1lquvAccntu-dvJKgn8qnPLPk?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">@sideshowbarker:mozilla.org</a><br>so I’m now realizing that while that seems to work in some cases of cross-origin iframes, it returns null in others</blockquote></mx-reply>yea this is not for cross-origin","mimetype":"text/html"}]},"ts":1644217077352,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$dIRW9dP2d4tlKBu8WppqflN-h5kBsD8xf5NMYoAY2J4"},
{"content":{"body":"yeah I thought it _never_ worked cross-origin — but then I found for the case of the iframe at the end of https://developer.mozilla.org/en-US/docs/Web/API/Notifications_API/Using_the_Notifications_API#replacing_existing_notifications it did actually seem to work","format":"org.matrix.custom.html","formatted_body":"yeah I thought it <em>never</em> worked cross-origin — but then I found for the case of the iframe at the end of https://developer.mozilla.org/en-US/docs/Web/API/Notifications_API/Using_the_Notifications_API#replacing_existing_notifications it did actually seem to work","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"yeah I thought it _never_ worked cross-origin — but then I found for the case of the iframe at the end of https://developer.mozilla.org/en-US/docs/Web/API/Notifications_API/Using_the_Notifications_API#replacing_existing_notifications it did actually seem to work","mimetype":"text/plain"},{"body":"yeah I thought it <em>never</em> worked cross-origin — but then I found for the case of the iframe at the end of https://developer.mozilla.org/en-US/docs/Web/API/Notifications_API/Using_the_Notifications_API#replacing_existing_notifications it did actually seem to work","mimetype":"text/html"}]},"ts":1644217133464,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$HBqr8vihxxordejPhwJnNpwwKEjXxuf3BRZ76gqh5Fo"},
{"content":{"body":"but maybe I was just testing it wrong","msgtype":"m.text","org.matrix.msc1767.text":"but maybe I was just testing it wrong"},"ts":1644217143906,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$BpTljuu1xH3AZClvZ2Mrnv7xo1Gz1ehaQ6IhSnNV0-w"},
{"content":{"body":"anyway, reverting to just the usual `window.self !== window.top` ","format":"org.matrix.custom.html","formatted_body":"anyway, reverting to just the usual <code>window.self !== window.top</code>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"anyway, reverting to just the usual `window.self !== window.top` ","mimetype":"text/plain"},{"body":"anyway, reverting to just the usual <code>window.self !== window.top</code>","mimetype":"text/html"}]},"ts":1644217181476,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$VDwAwsASH0W6uqQ6owT_HkBMM1efdmtH3TA4E3uReGM"},
{"content":{"body":"oh, cool to see there’s a `.top` TLD now — recursively appropriate…","format":"org.matrix.custom.html","formatted_body":"oh, cool to see there’s a <code>.top</code> TLD now — recursively appropriate…","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"oh, cool to see there’s a `.top` TLD now — recursively appropriate…","mimetype":"text/plain"},{"body":"oh, cool to see there’s a <code>.top</code> TLD now — recursively appropriate…","mimetype":"text/html"}]},"ts":1644217272292,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$kHUEtpmj1ugRANV-XkVjvmP2Q0IWQH5BOwgkgPyFokM"},
{"content":{"body":"makes for some good fun and confusion for any technical writer who has to document it","msgtype":"m.text","org.matrix.msc1767.text":"makes for some good fun and confusion for any technical writer who has to document it"},"ts":1644217316977,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$XBxSEjIrUtJHFfmSkfd2dT9VzYBTDq6rP8-7FEhVnJQ"},
{"content":{"body":"kind of a “Who’s on first?” thing","msgtype":"m.text","org.matrix.msc1767.text":"kind of a “Who’s on first?” thing"},"ts":1644217340327,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$IyvVJbDxp1btVhZQAZx8hT56G1UNfCT7wzqkghPwebE"},
{"content":{"body":"“the top top-level domain“","msgtype":"m.text","org.matrix.msc1767.text":"“the top top-level domain“"},"ts":1644217355945,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$V6jCL2dMwmKdEubSB8flE1kQ3pjLhBnB89DK76EjaqY"},
{"content":{"body":"or “top top” for short","msgtype":"m.text","org.matrix.msc1767.text":"or “top top” for short"},"ts":1644217373312,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$avusibnUOmSjphtW_qsbvLqTCVLET6B_VeXFn-k8-jc"},
{"content":{"body":"`frameElement` can only work cross-origin when `document.domain` is involved and the documents are same-site. If you find it does something in other cases I'd love to see a testcase.","format":"org.matrix.custom.html","formatted_body":"<code>frameElement</code> can only work cross-origin when <code>document.domain</code> is involved and the documents are same-site. If you find it does something in other cases I'd love to see a testcase.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"`frameElement` can only work cross-origin when `document.domain` is involved and the documents are same-site. If you find it does something in other cases I'd love to see a testcase.","mimetype":"text/plain"},{"body":"<code>frameElement</code> can only work cross-origin when <code>document.domain</code> is involved and the documents are same-site. If you find it does something in other cases I'd love to see a testcase.","mimetype":"text/html"}]},"ts":1644221230484,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$xaxSHf6ak1GeTvjHv0CNmi64mvwwWRr9S5DoMERDkPE"},
{"content":{"body":"> <@annevk:mozilla.org> `frameElement` can only work cross-origin when `document.domain` is involved and the documents are same-site. If you find it does something in other cases I'd love to see a testcase.\n\nprobably I just made a mistake, when I thought I had it working with the one case","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$xaxSHf6ak1GeTvjHv0CNmi64mvwwWRr9S5DoMERDkPE?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br><code>frameElement</code> can only work cross-origin when <code>document.domain</code> is involved and the documents are same-site. If you find it does something in other cases I'd love to see a testcase.</blockquote></mx-reply>probably I just made a mistake, when I thought I had it working with the one case","m.relates_to":{"m.in_reply_to":{"event_id":"$xaxSHf6ak1GeTvjHv0CNmi64mvwwWRr9S5DoMERDkPE"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@annevk:mozilla.org> `frameElement` can only work cross-origin when `document.domain` is involved and the documents are same-site. If you find it does something in other cases I'd love to see a testcase.\n\nprobably I just made a mistake, when I thought I had it working with the one case","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$xaxSHf6ak1GeTvjHv0CNmi64mvwwWRr9S5DoMERDkPE?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br><code>frameElement</code> can only work cross-origin when <code>document.domain</code> is involved and the documents are same-site. If you find it does something in other cases I'd love to see a testcase.</blockquote></mx-reply>probably I just made a mistake, when I thought I had it working with the one case","mimetype":"text/html"}]},"ts":1644222060720,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$JlOeqjDGrwmfaFynqNqHUWKaAw30hkAts50U7aj4wxc"},
{"content":{"body":"I will re-try it and see ","msgtype":"m.text","org.matrix.msc1767.text":"I will re-try it and see "},"ts":1644222068502,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$ssOQ0tbDxBxhBygK4VnVNyl4kFxVpQJXV7orO_ZimQU"},
{"content":{"body":"Domenic: Yoav Weiss: shouldn't the introduction of new browsing contexts be done in a bit more coordinated manner? Re: https://groups.google.com/a/chromium.org/g/blink-dev/c/jr2fQUh6xEI/m/Oqge6pPtAAAJ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: <a href=\"https://matrix.to/#/@yoavweiss:matrix.org\">Yoav Weiss</a>: shouldn't the introduction of new browsing contexts be done in a bit more coordinated manner? Re: https://groups.google.com/a/chromium.org/g/blink-dev/c/jr2fQUh6xEI/m/Oqge6pPtAAAJ","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: Yoav Weiss: shouldn't the introduction of new browsing contexts be done in a bit more coordinated manner? Re: https://groups.google.com/a/chromium.org/g/blink-dev/c/jr2fQUh6xEI/m/Oqge6pPtAAAJ","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: <a href=\"https://matrix.to/#/@yoavweiss:matrix.org\">Yoav Weiss</a>: shouldn't the introduction of new browsing contexts be done in a bit more coordinated manner? Re: https://groups.google.com/a/chromium.org/g/blink-dev/c/jr2fQUh6xEI/m/Oqge6pPtAAAJ","mimetype":"text/html"}]},"ts":1644223555636,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$P0CiLMc2im0E_iXS4GA0oU-OFwB_SuP0W2eoYYJpNic"},
{"content":{"body":"annevk: Potentially... This effort is still in very early stages AFAIK. I think it'd be helpful for the team if you chimed in on that thread to say what you'd like to see defined for this to be interoperable.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: Potentially... This effort is still in very early stages AFAIK. I think it'd be helpful for the team if you chimed in on that thread to say what you'd like to see defined for this to be interoperable.","msgtype":"m.text"},"ts":1644224582873,"senderName":"Yoav Weiss","senderId":"@yoavweiss:matrix.org","id":"$yMsdiEf-2X3MDNF8wQ8YBRKb5S3NJNa_-K7Xx8bW6Gw"},
{"content":{"body":"> <@annevk:mozilla.org> `frameElement` can only work cross-origin when `document.domain` is involved and the documents are same-site. If you find it does something in other cases I'd love to see a testcase.\n\nso yeah, for the record here, I was mistaken — it wasn’t working cross-origin (I just thought it was) Noam Rosenthal ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$xaxSHf6ak1GeTvjHv0CNmi64mvwwWRr9S5DoMERDkPE?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br><code>frameElement</code> can only work cross-origin when <code>document.domain</code> is involved and the documents are same-site. If you find it does something in other cases I'd love to see a testcase.</blockquote></mx-reply>so yeah, for the record here, I was mistaken — it wasn’t working cross-origin (I just thought it was) <a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>","m.relates_to":{"m.in_reply_to":{"event_id":"$xaxSHf6ak1GeTvjHv0CNmi64mvwwWRr9S5DoMERDkPE"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@annevk:mozilla.org> `frameElement` can only work cross-origin when `document.domain` is involved and the documents are same-site. If you find it does something in other cases I'd love to see a testcase.\n\nso yeah, for the record here, I was mistaken — it wasn’t working cross-origin (I just thought it was) Noam Rosenthal ","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$xaxSHf6ak1GeTvjHv0CNmi64mvwwWRr9S5DoMERDkPE?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br><code>frameElement</code> can only work cross-origin when <code>document.domain</code> is involved and the documents are same-site. If you find it does something in other cases I'd love to see a testcase.</blockquote></mx-reply>so yeah, for the record here, I was mistaken — it wasn’t working cross-origin (I just thought it was) <a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>","mimetype":"text/html"}]},"ts":1644225282137,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$mAkYHLa7MfjzbStEnHM6wFj0JZizC3mgLPp4waqwIVs"}
]