[
{"content":{"body":"> <@domenicdenicola:matrix.org> hsivonen: you may enjoy borrowing from https://github.com/jsdom/html-encoding-sniffer/tree/master/test . Not very exhaustive I imagine but it caught a few bugs in our implementation as you can see from https://github.com/jsdom/html-encoding-sniffer/commits/master/test\n\nThanks. These are much simpler than what I had in mind (but also test things that I wasn't about to test).","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$OaESrFbPD-iBnqL6iwWmDzsVeEsppFfXyxIknd04wUM?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br><a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>: you may enjoy borrowing from https://github.com/jsdom/html-encoding-sniffer/tree/master/test . Not very exhaustive I imagine but it caught a few bugs in our implementation as you can see from https://github.com/jsdom/html-encoding-sniffer/commits/master/test</blockquote></mx-reply>Thanks. These are much simpler than what I had in mind (but also test things that I wasn't about to test).","m.relates_to":{"m.in_reply_to":{"event_id":"$OaESrFbPD-iBnqL6iwWmDzsVeEsppFfXyxIknd04wUM"}},"msgtype":"m.text"},"ts":1632291532370,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$jfquzLrgb2d1EjPNUGdtRECqJPJZAzoeKKWAs-po9hI"}
]