[
{"content":{"body":"Hmm, maybe a bug. I think https://html.spec.whatwg.org/multipage/browsing-the-web.html#make-active used to set the associated Document, but doesn't anymore?","msgtype":"m.text"},"ts":1695525370295,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$_q2yaf2k0rVDCjCCRpSLiB7OZTZL2ppTtiObaK31Pkg"},
{"content":{"body":"I don't know what is going on when you have nested forms https://codesandbox.io/s/nested-forms-9zgg4x?file=/src/App.js:717-722","msgtype":"m.text"},"ts":1695539171419,"senderName":"vrafaeli","senderId":"@vrafaeli:matrix.org","id":"$Sj4xTXQteaSRt-Jyca-mTGWqQ8X9iqXyHYPGeXjfnHM"},
{"content":{"body":"Try submitting the inner form and observe what happens. I know that having nested forms is not really according to specs (I don't know why) but something strange happens. I also tried e.stopPropagation() and the same happens.","msgtype":"m.text"},"ts":1695539281597,"senderName":"vrafaeli","senderId":"@vrafaeli:matrix.org","id":"$LE9VmOtzbhpRJ1iiMSo_eBe2B5I0wmcWgozbqOjDmQ0"},
{"content":{"body":"> <@domenicdenicola:matrix.org> Hmm, maybe a bug. I think https://html.spec.whatwg.org/multipage/browsing-the-web.html#make-active used to set the associated Document, but doesn't anymore?\n\nYea also seems like a bug to me, trying to follow the links...","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$_q2yaf2k0rVDCjCCRpSLiB7OZTZL2ppTtiObaK31Pkg?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br>Hmm, maybe a bug. I think https://html.spec.whatwg.org/multipage/browsing-the-web.html#make-active used to set the associated Document, but doesn&#39;t anymore?</blockquote></mx-reply>Yea also seems like a bug to me, trying to follow the links...","m.relates_to":{"m.in_reply_to":{"event_id":"$_q2yaf2k0rVDCjCCRpSLiB7OZTZL2ppTtiObaK31Pkg"}},"msgtype":"m.text"},"ts":1695543300276,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$6JNAiUvCjnYixcWFg9yLKHUjyZa1FdWqv1gFBqTl1ag"},
{"content":{"body":"vrafaeli: nested forms are not spec-compilant and have all kind of incompatible behavior across browsers. Unexpected behavior sounds like something you should be expecting.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@vrafaeli:matrix.org\">vrafaeli</a>: nested forms are not spec-compilant and have all kind of incompatible behavior across browsers. Unexpected behavior sounds like something you should be expecting.","msgtype":"m.text"},"ts":1695544631111,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$g8yF0w5IlZ9YyDimX4p3Dsq6xyV-K9OVcE-SYWzjxcc"},
{"content":{"body":"Ok. What is the reason for nested forms not being allowed by the spec?","msgtype":"m.text"},"ts":1695547643702,"senderName":"vrafaeli","senderId":"@vrafaeli:matrix.org","id":"$ctK0eMrv7epRhzR-xlW5S5dFQdseIwtWAZVFY2lRsgo"},
{"content":{"body":"vrafaeli: I wasn't there but AFAIK it's a very old thing (HTML3?)... like many things in the web platform, trying to change the behavior at this point would make an even bigger mess. The `form` attribute on input elements provides an alternative that should be sufficient.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@vrafaeli:matrix.org\">vrafaeli</a>: I wasn't there but AFAIK it's a very old thing (HTML3?)... like many things in the web platform, trying to change the behavior at this point would make an even bigger mess. The <code>form</code> attribute on input elements provides an alternative that should be sufficient.","msgtype":"m.text"},"ts":1695558578527,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$5g5WJxIk0M7vC72MnoWtBLTfc5FQIgCKGbHHbZdh2SI"},
{"content":{"body":"> <@vrafaeli:matrix.org> Ok. What is the reason for nested forms not being allowed by the spec?\n\nFWIW the HTML checker does catch that and attempt to provide a helpful message:\n> _Saw a form start tag, but there was already an active form element. Nested forms are not allowed. Ignoring the tag._\n\nI also don’t know why nested forms aren’t allowed. But if we can find an explanation and write it up somewhere, I could make the _“Nested forms are not allowed”_ text in that message into a hyperlink to the explanation.\n\nAnd I guess the best place for the explanation would be as a non-normative Note in the HTML spec itself.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$ctK0eMrv7epRhzR-xlW5S5dFQdseIwtWAZVFY2lRsgo?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@vrafaeli:matrix.org\">@vrafaeli:matrix.org</a><br>Ok. What is the reason for nested forms not being allowed by the spec?</blockquote></mx-reply><p>FWIW the HTML checker does catch that and attempt to provide a helpful message:</p>\n<blockquote>\n<p><em>Saw a form start tag, but there was already an active form element. Nested forms are not allowed. Ignoring the tag.</em></p>\n</blockquote>\n<p>I also don’t know why nested forms aren’t allowed. But if we can find an explanation and write it up somewhere, I could make the <em>“Nested forms are not allowed”</em> text in that message into a hyperlink to the explanation.</p>\n<p>And I guess the best place for the explanation would be as a non-normative Note in the HTML spec itself.</p>\n","m.relates_to":{"m.in_reply_to":{"event_id":"$ctK0eMrv7epRhzR-xlW5S5dFQdseIwtWAZVFY2lRsgo"}},"msgtype":"m.text"},"ts":1695563895618,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$XxBYYSTmkl_Zac01OPKyg9IJ_2tyCDnHNjeZXdv_XKQ"},
{"content":{"body":"sideshowbarker: FWIW the HTML checker does catch that and attempt to provide a helpful message:\n\nYea I noticed that","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: FWIW the HTML checker does catch that and attempt to provide a helpful message:</p>\n<p>Yea I noticed that</p>\n","msgtype":"m.text"},"ts":1695581866483,"senderName":"vrafaeli","senderId":"@vrafaeli:matrix.org","id":"$sbtQT2HY_h1SCMBaf2S_oCunMU4uNlp6EAK6S_QKcaY"}
]