[
{"content":{"body":"wanderview: yeah I think so, would love to hear from Google security folks too","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@wanderview:matrix.org\">wanderview</a>: yeah I think so, would love to hear from Google security folks too","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"wanderview: yeah I think so, would love to hear from Google security folks too","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@wanderview:matrix.org\">wanderview</a>: yeah I think so, would love to hear from Google security folks too","mimetype":"text/html"}]},"ts":1655363124237,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Xh1tCOkRsNx6Y-EYhkQOeVjEpob-uwv0oXd1iffJGT0"},
{"content":{"body":"not sure what the question for the security folks is","msgtype":"m.text","org.matrix.msc1767.text":"not sure what the question for the security folks is"},"ts":1655390346543,"senderName":"wanderview","senderId":"@wanderview:matrix.org","id":"$TRa2D9i0RuLyNCyTCj5MTKsgPcEh97TOTn8JCwQF0xc"},
{"content":{"body":"wanderview: \"could you please evaluate this idea and let us know your thoughts?\"","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@wanderview:matrix.org\">wanderview</a>: &quot;could you please evaluate this idea and let us know your thoughts?&quot;","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"wanderview: \"could you please evaluate this idea and let us know your thoughts?\"","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@wanderview:matrix.org\">wanderview</a>: &quot;could you please evaluate this idea and let us know your thoughts?&quot;","mimetype":"text/html"}]},"ts":1655405513272,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$kfJZd2Nn5JmRcKjSBzMv6ZG4dk-jl-nNgR3GglS6jFs"},
{"content":{"body":"\"this\" == the refactor to add auth container?  or some other part of what we have been talking about?","msgtype":"m.text","org.matrix.msc1767.text":"\"this\" == the refactor to add auth container?  or some other part of what we have been talking about?"},"ts":1655405618469,"senderName":"wanderview","senderId":"@wanderview:matrix.org","id":"$kKS5qy3ULmptlcJquK1WuNzNc6dLqH22oHBst1WCfxE"},
{"content":{"body":"Domenic: to solve https://github.com/whatwg/html/issues/7976 we need to solve https://github.com/whatwg/html/issues/1013 , right? Especially if we only want to allow adding new render-blocking things if the \"current script\" was itself render-blocking","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: to solve https://github.com/whatwg/html/issues/7976 we need to solve https://github.com/whatwg/html/issues/1013 , right? Especially if we only want to allow adding new render-blocking things if the &quot;current script&quot; was itself render-blocking","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: to solve https://github.com/whatwg/html/issues/7976 we need to solve https://github.com/whatwg/html/issues/1013 , right? Especially if we only want to allow adding new render-blocking things if the \"current script\" was itself render-blocking","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: to solve https://github.com/whatwg/html/issues/7976 we need to solve https://github.com/whatwg/html/issues/1013 , right? Especially if we only want to allow adding new render-blocking things if the &quot;current script&quot; was itself render-blocking","mimetype":"text/html"}]},"ts":1655408621531,"senderName":"zcorpan","senderId":"@zcorpan_:matrix.org","id":"$Vak-VFhyglyY5BaydvuRFtkl4U8PbIpItoUYyu8IqE0"},
{"content":{"body":"zcorpan: I don't understand the connection","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan_:matrix.org\">zcorpan</a>: I don't understand the connection","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"zcorpan: I don't understand the connection","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@zcorpan_:matrix.org\">zcorpan</a>: I don't understand the connection","mimetype":"text/html"}]},"ts":1655410272701,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$kTRRjZFagdUipxhGcHcImng5Js2MM1fUE5CXYo8iEcs"},
{"content":{"body":"Domenic: when import() runs, how can it tell whether the running script is render-blocking? (Assuming we don't want async scripts in <body> to be able to add render-blocking imports, or from setTimeout and such)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: when import() runs, how can it tell whether the running script is render-blocking? (Assuming we don't want async scripts in &lt;body&gt; to be able to add render-blocking imports, or from setTimeout and such)","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: when import() runs, how can it tell whether the running script is render-blocking? (Assuming we don't want async scripts in <body> to be able to add render-blocking imports, or from setTimeout and such)","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: when import() runs, how can it tell whether the running script is render-blocking? (Assuming we don't want async scripts in &lt;body&gt; to be able to add render-blocking imports, or from setTimeout and such)","mimetype":"text/html"}]},"ts":1655410381815,"senderName":"zcorpan","senderId":"@zcorpan_:matrix.org","id":"$A51r0eHOIXMpewieEFj_jsQUPZH7B5ASra6lNjlVfIk"},
{"content":{"body":"I guess the web-exposed mechanism for #1013 is not necessary, but the same internal mechanism","msgtype":"m.text","org.matrix.msc1767.text":"I guess the web-exposed mechanism for #1013 is not necessary, but the same internal mechanism"},"ts":1655410438686,"senderName":"zcorpan","senderId":"@zcorpan_:matrix.org","id":"$FSRJERE6VT2cI9NzIHfcr627ccmAMcGHiBg8DMASNj4"},
{"content":{"body":"I thought import(..., { blocking: \"render\" }) would just set the render-blocking flag on the script when it runs","msgtype":"m.text","org.matrix.msc1767.text":"I thought import(..., { blocking: \"render\" }) would just set the render-blocking flag on the script when it runs"},"ts":1655411506785,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$N0b3z--1MuQKeTR3u7LYBB5--0jNpq7_qLKMiRjzSO8"},
{"content":{"body":"Domenic: See https://github.com/whatwg/html/issues/7976#issuecomment-1145105267 it should not set the flag if the script was in <body>. Which makes me think the import() steps need to check if the <script> that contains the import() statement is render-blocking, to decide whether to allow the import to also be render-blocking","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: See https://github.com/whatwg/html/issues/7976#issuecomment-1145105267 it should not set the flag if the script was in &lt;body&gt;. Which makes me think the import() steps need to check if the &lt;script&gt; that contains the import() statement is render-blocking, to decide whether to allow the import to also be render-blocking","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: See https://github.com/whatwg/html/issues/7976#issuecomment-1145105267 it should not set the flag if the script was in <body>. Which makes me think the import() steps need to check if the <script> that contains the import() statement is render-blocking, to decide whether to allow the import to also be render-blocking","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: See https://github.com/whatwg/html/issues/7976#issuecomment-1145105267 it should not set the flag if the script was in &lt;body&gt;. Which makes me think the import() steps need to check if the &lt;script&gt; that contains the import() statement is render-blocking, to decide whether to allow the import to also be render-blocking","mimetype":"text/html"}]},"ts":1655413889374,"senderName":"zcorpan","senderId":"@zcorpan_:matrix.org","id":"$HNI66DOwUf8aCQZiVRpqq0ONHNiYUFjEdKcCThr-fAw"},
{"content":{"body":"Well, the problem is probably solvable here. The issue with module scripts is that they have many ancestors. We can \"just\" check that none of their ancestors is in the <body>.","msgtype":"m.text","org.matrix.msc1767.text":"Well, the problem is probably solvable here. The issue with module scripts is that they have many ancestors. We can \"just\" check that none of their ancestors is in the <body>."},"ts":1655414021936,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$AW5E4hdHvHUG8L7J_ibH-Od0uv1-OAczZSof5K7Wyvo"},
{"content":{"body":"Although, by default all module scripts are defer, so run after </body> is encountered. So I am skeptical about this framing making sense.","msgtype":"m.text","org.matrix.msc1767.text":"Although, by default all module scripts are defer, so run after </body> is encountered. So I am skeptical about this framing making sense."},"ts":1655414054160,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$Dy_B_0GR04bhPYFV8XKDMeHlYbyRBszODzHB_kKG8-E"},
{"content":{"body":"You'd use async","msgtype":"m.text","org.matrix.msc1767.text":"You'd use async"},"ts":1655414079645,"senderName":"zcorpan","senderId":"@zcorpan_:matrix.org","id":"$z-EkZZG0dESDohsx6WeqRvvI0DTM1UYVpyxxHVfR9AM"},
{"content":{"body":"I agree it should be solvable. I struggle to find existing terms in the spec to solve it tho :)","msgtype":"m.text","org.matrix.msc1767.text":"I agree it should be solvable. I struggle to find existing terms in the spec to solve it tho :)"},"ts":1655414368601,"senderName":"zcorpan","senderId":"@zcorpan_:matrix.org","id":"$DwifGfEVjBOUH0ely0ICXTDsE3QJ8M-k9s9RqatXDVg"}
]