[
{"content":{"body":"> <@annevk:matrix.org> meacer: happy to try review quickly if you also address the comments somewhat quickly\n\nThank you. I resolved the non-structural comments. As for the HTTP fetch vs HTTP-network fetch, I did misunderstand your previous comments (thought you were referring to why were modifying Main fetch). It looks like I can move the fallback handling to somewhere before step 23 of network-or-cache fetch (that is, before any cache handling is done). I'll look into doing that, if that makes sense.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$42nIn-ePTuojH8bnahNk_D8SUkrn4gGHoxjF5m5ZJQ4?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br><a href=\"https://matrix.to/#/@meacer:matrix.org\">meacer</a>: happy to try review quickly if you also address the comments somewhat quickly</blockquote></mx-reply>Thank you. I resolved the non-structural comments. As for the HTTP fetch vs HTTP-network fetch, I did misunderstand your previous comments (thought you were referring to why were modifying Main fetch). It looks like I can move the fallback handling to somewhere before step 23 of network-or-cache fetch (that is, before any cache handling is done). I'll look into doing that, if that makes sense.","m.mentions":{"user_ids":["@annevk:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$42nIn-ePTuojH8bnahNk_D8SUkrn4gGHoxjF5m5ZJQ4"}},"msgtype":"m.text"},"ts":1699514120269,"senderName":"meacer","senderId":"@meacer:matrix.org","id":"$rJ4mwrvMmzgOgPP2H00-c934tGpPR-uJtyXD0d1UTlc"},
{"content":{"body":"meacer: in that case you can probably put it directly in HTTP-network fetch?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@meacer:matrix.org\">meacer</a>: in that case you can probably put it directly in HTTP-network fetch?","m.mentions":{"user_ids":["@meacer:matrix.org"]},"msgtype":"m.text"},"ts":1699516548387,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$0jwVlz8KipaND70JkGNXSmjrTU5vHBcp36DRZPS2FHA"},
{"content":{"body":"meacer: because the early cache lookup in 25 is very specific and I don't think ends up applying here","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@meacer:matrix.org\">meacer</a>: because the early cache lookup in 25 is very specific and I don't think ends up applying here","m.mentions":{"user_ids":["@meacer:matrix.org"]},"msgtype":"m.text"},"ts":1699516879534,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$f43ay18ICb-Mm99V2JVOZzM3Kgp-FxPlx_EBJuWMrL8"},
{"content":{"body":"Great to see such speedy reviews and patch feedback loops on HTTPS Upgrades.  I'm curious about the answers to my questions about a) redirects and b) IP addresses in the hostname","m.mentions":{},"msgtype":"m.text"},"ts":1699518763324,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$dLvfXSoCA7iCiZlaJyZ5q_HweMoFlRFoRovFyZLXD2g"},
{"content":{"body":"So if we do this in HTTP-network fetch it would be way before redirects are handled. Not sure if that answers your question or not.","m.mentions":{},"msgtype":"m.text"},"ts":1699519549667,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$AALbLSLa9r8qCt1e3VCnWt3tyz6lUTA_buutwKoA6Rk"},
{"content":{"body":"meacer: do we have any kind of cross-browser testing story for this feature?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@meacer:matrix.org\">meacer</a>: do we have any kind of cross-browser testing story for this feature?","m.mentions":{"user_ids":["@meacer:matrix.org"]},"msgtype":"m.text"},"ts":1699519577769,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$S-KZ45lcfzrb3gZS9bGqvwUVoDfyQMtVRYmSezMVwVM"},
{"content":{"body":"The tests linked from the pull requests are just https://github.com/web-platform-tests/wpt/tree/master/https-upgrades/tentative.","m.mentions":{},"msgtype":"m.text"},"ts":1699521419797,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$OxLBiI_UIlcW4Rb8RMHip88pszVyZg6VBjUOg2_MJ8w"},
{"content":{"body":"I see, I'm not sure there is a lot more that can be tested as most everything else is handled by Mixed Content presumably","m.mentions":{},"msgtype":"m.text"},"ts":1699523294255,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$ztGD0XIR89oEft4V6O3plagtXh5NQ4UWICWpS574cu8"},
{"content":{"body":"Redirects? :)","m.mentions":{},"msgtype":"m.text"},"ts":1699525666993,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$GUYpzerEytjlfWrzgP9HF8h1ENe_fujxncKBtoLNLRg"}
]