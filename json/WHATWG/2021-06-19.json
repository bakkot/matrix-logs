[
{"content":{"body":"if a service worker was written stupidly to never update, is there a way to kill it without telling everyone who ever opened the website to hard refresh ","msgtype":"m.text"},"ts":1624109871591,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$D811p0O-gogiC63NW08HwLJ7ngC0b5YnpHj2jB6v1z8"},
{"content":{"body":"I was reading some old gh threads mentioning this but it didn't look like anything concrete ever came about","msgtype":"m.text"},"ts":1624109926927,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$HvmiXu7nKbMqlEW1_rubuqjuQHb2WWMwVdSYz_pGe2Q"},
{"content":{"body":"> <@devsnek:matrix.org> if a service worker was written stupidly to never update, is there a way to kill it without telling everyone who ever opened the website to hard refresh\n\nI don't think it's possible to write a service worker that never updates","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$D811p0O-gogiC63NW08HwLJ7ngC0b5YnpHj2jB6v1z8?via=mozilla.org&via=matrix.org\">In reply to</a> <a href=\"https://matrix.to/#/@devsnek:matrix.org\">@devsnek:matrix.org</a><br>if a service worker was written stupidly to never update, is there a way to kill it without telling everyone who ever opened the website to hard refresh </blockquote></mx-reply>I don't think it's possible to write a service worker that never updates","m.relates_to":{"m.in_reply_to":{"event_id":"$D811p0O-gogiC63NW08HwLJ7ngC0b5YnpHj2jB6v1z8"}},"msgtype":"m.text"},"ts":1624112768295,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$GqPzYbZPQNzpeTikBnqgdOQeoQxRcFathu115Ns7dXc"},
{"content":{"body":"Even if you far-future cache it, that's capped to one day","msgtype":"m.text"},"ts":1624112789155,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$mopwBD-14UEb0emh-Yeb3SIJRNBAYsmbPiTUVr6KJs8"},
{"content":{"body":"it has been a couple weeks now and my phone, for example, where I can't hit hard refresh, still shows the old site","msgtype":"m.text"},"ts":1624112815362,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$wwjM-ptp0lMYvXznUt3uaTJbn0t0kpGDv5jF63dHWhQ"},
{"content":{"body":"Are you sure it isn't trying to update, and failing?","msgtype":"m.text"},"ts":1624112841718,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$FqtDPCL8kgeYnPPyk2rVaU_LWXt4g3ADIpvBZAAxNCg"},
{"content":{"body":"rather than not trying to update","msgtype":"m.text"},"ts":1624112849044,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$ahL-o9pjl9AOzGA0ff_8r9UMlGccSOceCuUnR0_42pk"},
{"content":{"body":"ü§∑‚Äç‚ôÇÔ∏è","msgtype":"m.text"},"ts":1624112863643,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$PH7wiJSYmdy3CMdw4LeRqEeD1qi0Twi9wl-IJY05F_k"},
{"content":{"body":"what does update here imply, just trying to re-fetch the worker url?","msgtype":"m.text"},"ts":1624112875444,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$FPOtFRfvagOQdVqRzI_JH_Xe8rgPbLdGCYle9u6agjM"},
{"content":{"body":"Jake Archibald: do you still need me to say something on that bug?","msgtype":"m.text"},"ts":1624112911080,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$RWDg4HHirOGBJ1XZjFcNEZdjq99B1BYOUpVuEDAo3kY"},
{"content":{"body":"devsnek: https://developers.google.com/web/fundamentals/primers/service-workers/lifecycle","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@devsnek:matrix.org\">devsnek</a>: https://developers.google.com/web/fundamentals/primers/service-workers/lifecycle","msgtype":"m.text"},"ts":1624112938940,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$C6gRfcjlIqltiYfBsjOxVSj-xM6PoWLnuEtXqSsWMis"},
{"content":{"body":"foolip: If you feel it's something that can & should be fixed, yeah. The triage guy still seems to think it's behaving correctly","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@foolip:matrix.org\">foolip</a>: If you feel it's something that can &amp; should be fixed, yeah. The triage guy still seems to think it's behaving correctly","msgtype":"m.text"},"ts":1624112992861,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$ozk74I9R3Y2aRP2QYVg6nhBEx2d0VgYW2aK2B0C2IX0"},
{"content":{"body":"(kinda a bad experience, if I didn't work for the company I'd have given up by now)","msgtype":"m.text"},"ts":1624113016873,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$98k4ntPB3-0KXA13tiaifbPXaOy0RNsFVNsQR_pUlGM"},
{"content":{"body":"Doesn't need to be a lengthy reply, just a nod that it shouldn't be closed \"wontfix\", which has happened twice already","msgtype":"m.text"},"ts":1624113075933,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$m18Mz6NWCjAqT_xRQ2KqpK7PYdChfdKDv7s9s5RotBs"},
{"content":{"body":"Jake Archibald: That‚Äôs Aleks of TablesNG and microtask timing game, I think you‚Äôd get along well in real life :)","msgtype":"m.text"},"ts":1624113091286,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$B4IKQaVtDCIgMKT7b9gGLJB2d-7MDjG-c-KAJsAVDY8"},
{"content":{"body":"* Jake Archibald: That‚Äôs Aleks of TablesNG and microtask timing fame, I think you‚Äôd get along well in real life :)","m.new_content":{"body":"Jake Archibald: That‚Äôs Aleks of TablesNG and microtask timing fame, I think you‚Äôd get along well in real life :)","msgtype":"m.text"},"m.relates_to":{"event_id":"$B4IKQaVtDCIgMKT7b9gGLJB2d-7MDjG-c-KAJsAVDY8","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1624113103881,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$9GsOJSqA9uJg9djh7DjTwinA5WtNR0EroQjaaijtv9Q"},
{"content":{"body":"foolip: eh maybe. I just feel the reduced cases I created were ignored","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@foolip:matrix.org\">foolip</a>: eh maybe. I just feel the reduced cases I created were ignored","msgtype":"m.text"},"ts":1624113165853,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$fVCzDtp8l-t7cqhlXLH9Fi1O-wb5b8kBEL4m6C-6JI0"},
{"content":{"body":"jake is this saying if the worker url 404s, it will keep the old one?","msgtype":"m.text"},"ts":1624113172565,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$oHNs91YVzJehQD1wIAu0f6IDtAYKnJ2TCw9uHXSv-oM"},
{"content":{"body":"devsnek: correct","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@devsnek:matrix.org\">devsnek</a>: correct","msgtype":"m.text"},"ts":1624113185466,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$D9sEYrxfjGEJzaeJQRh6fwOkzc2pndx6EDGEuGrtkKk"},
{"content":{"body":"devsnek: lots of history there if you want to get into it https://github.com/w3c/ServiceWorker/issues/204","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@devsnek:matrix.org\">devsnek</a>: lots of history there if you want to get into it https://github.com/w3c/ServiceWorker/issues/204","msgtype":"m.text"},"ts":1624113247457,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$YN18EUGKx_NWULzjE9EHDLdesDtFP5CzN_y37sTvU2w"},
{"content":{"body":"thx jake","msgtype":"m.text"},"ts":1624113328537,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$Z7rQyBZmnVaf7-hS-vUx4nnb_aHN9ZeN6qX_N7WupW0"},
{"content":{"body":"foolip: oh, wait, I do know the guy, and yeah we got on. Guess we're just having an off day communication-wise.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@foolip:matrix.org\">foolip</a>: oh, wait, I do know the guy, and yeah we got on. Guess we're just having an off day communication-wise.","msgtype":"m.text"},"ts":1624113417962,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$SLKDtEj6exgr71aqkNgsh3GfD_G6KspwSLcFA_LQEdc"},
{"content":{"body":"Jake Archibald: commented with typos","msgtype":"m.text"},"ts":1624113608343,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$RRIg8urhlERyF-EB3W0JqzbStNN0nzjgEbJibNmOJnk"},
{"content":{"body":"best kind of comment","msgtype":"m.text"},"ts":1624113623599,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$YtufXqvrONI1Z7rYugoKPzY-xvyI0r1zevtXI5d03n4"},
{"content":{"body":"Or what‚Äôs the word when you omit some words?","msgtype":"m.text"},"ts":1624113625005,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$yznnHlw765_qAgmOtS3OAhwzVygkyJ4-iDkXxEDMs0s"},
{"content":{"body":"Whatever it is, it's what I do in like half of my tweets","msgtype":"m.text"},"ts":1624113680756,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$I2Dr2_GsTmVGlFE3zm7Q4FZcX3ELV6jwXM-D4KiR_Xw"},
{"content":{"body":"Thanks for adding the comment!","msgtype":"m.text"},"ts":1624113705282,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$E6TIqN0g6vJLCIExK5Sq3kMGeGqxAHrxVPyqfE4BhzQ"},
{"content":{"body":"I'll create some spec issues for this and file bugs in other browsers on Monday","msgtype":"m.text"},"ts":1624113729530,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$OAG86HvI7AvxsNywK-koFdy0wA5iZxVmTzVf87QrXIc"},
{"content":{"body":"(even if it's just to match the language currently there for mutation observers)","msgtype":"m.text"},"ts":1624113749593,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$UdzyKdmgiFb9upIQCDxZLdxdu14zmNp8aAvzptz_bNU"},
{"content":{"body":"Kinda surprising that all browsers seem to have the same pattern where listeners and MutationObserver don't leak, whereas IntersectionObserver and ResizeObserver leak. I guess it's because layout is seen as being outside the element.","msgtype":"m.text"},"ts":1624113827846,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$Dk1QuCQHvsVue18CBXtrmz58AyRZnCyDQLY3MR7HtWk"},
{"content":{"body":"devsnek, tried having server send a Clear-Site-Data header?","msgtype":"m.text"},"ts":1624122308408,"senderName":"aja","senderId":"@aja:mozilla.org","id":"$UefDL1N17FbBAiLNm0dYWeIsSG5WtPuVw6SNywv0HTo"},
{"content":{"body":"fixing the 404 worked","msgtype":"m.text"},"ts":1624122381383,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$PiT2x9Cyt3Wi5ill87UwTpuSx9ogFC19k7rMfU-QhxU"},
{"content":{"body":"https://github.com/discordjs/website/blob/main/public/service-worker.js","msgtype":"m.text"},"ts":1624122412650,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$SqmdfuxY2IprCmrqrdVZvcfYEVUH2m3bBvegU6IjcNs"},
{"content":{"body":"what happened to the CSS on the webidl spec?","msgtype":"m.text"},"ts":1624143392179,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$k_p2N73JRt3QzpAxoPB388nKay6HcmnkU64_jBe6TEA"},
{"content":{"body":"oh, https://www.w3.org/ is giving a 503, I see","msgtype":"m.text"},"ts":1624143402334,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$rWOYujqotfuqnMHTk4kFsV80dKahUAoCdW48MDLKSDU"},
{"content":{"body":"yeah it went down about 11 hours, and stayed down for more than 2 hours before coming back ","msgtype":"m.text"},"ts":1624143584416,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$5s5cwT_5L4yxdNZDnk-1HbHhZtZypRhQeuTO4vb9FDE"},
{"content":{"body":"so it‚Äôs likely to be down again for a while","msgtype":"m.text"},"ts":1624143595362,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$-kiVTHv6LnE7WIY45kKtRpHYjLjjpormFob8x6fnE8k"}
]