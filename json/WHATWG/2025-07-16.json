[
{"content":{"body":"What's the right repo to open an issue about/look at the spec for parsing nodes in XHTML documents? Ladybird at the moment sees \"application/xhtml+xml\" and creates an HTML document. So we follow the rules for parsing/tokenizing/creating nodes as per HTML spec. But that's not what anyone else does. Leading to this issue: https://github.com/LadybirdBrowser/ladybird/issues/840","m.mentions":{},"msgtype":"m.text"},"ts":1752625438325,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$FkIWVlEmRtj8T9vTiF2LgNSJhY5D5JijT4BKX-jiCHg"},
{"content":{"body":"based on my reading of the HTML spec, and looking at https://github.com/whatwg/html/issues/10801 and https://github.com/whatwg/html/issues/8558 it seems like we're doing the correct thing to these XML-only constructs","m.mentions":{},"m.relates_to":{"event_id":"$FkIWVlEmRtj8T9vTiF2LgNSJhY5D5JijT4BKX-jiCHg","is_falling_back":true,"m.in_reply_to":{"event_id":"$FkIWVlEmRtj8T9vTiF2LgNSJhY5D5JijT4BKX-jiCHg"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1752625482957,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$ISW9VlKUHh1f0ouniP71lkaqsMXcbFgUV8yzKP3zPFg"},
{"content":{"body":"both firefox 140 and chromium 138 create CDATASection and ProcessingInstruction nodes inside the div","m.mentions":{},"m.relates_to":{"event_id":"$FkIWVlEmRtj8T9vTiF2LgNSJhY5D5JijT4BKX-jiCHg","is_falling_back":true,"m.in_reply_to":{"event_id":"$ISW9VlKUHh1f0ouniP71lkaqsMXcbFgUV8yzKP3zPFg"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1752625580274,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$ivS2f5gbx9SgaVWgiDlyjzRJaPGFMjE0dajkSk4JptE"},
{"content":{"body":"application/xhtml+xml is not a HTML MIME type, it's an XML MIME type. So it should go down the \"load an XML document\" path of https://html.spec.whatwg.org/#loading-a-document .","m.mentions":{},"m.relates_to":{"event_id":"$FkIWVlEmRtj8T9vTiF2LgNSJhY5D5JijT4BKX-jiCHg","is_falling_back":true,"m.in_reply_to":{"event_id":"$ivS2f5gbx9SgaVWgiDlyjzRJaPGFMjE0dajkSk4JptE"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1752627391264,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$Zw7qrMrGwgmMunjNKi7nYPbKI-IAGJ3_CrZg6nmmejY"},
{"content":{"body":"As https://html.spec.whatwg.org/#read-xml , there is no actual specification for how to turn a stream of XML bytes into DOM nodes.","m.mentions":{},"m.relates_to":{"event_id":"$FkIWVlEmRtj8T9vTiF2LgNSJhY5D5JijT4BKX-jiCHg","is_falling_back":true,"m.in_reply_to":{"event_id":"$Zw7qrMrGwgmMunjNKi7nYPbKI-IAGJ3_CrZg6nmmejY"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1752627426137,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$O4A_L9uTNhut0PrS0a_0kbqsK4OCX94jqeMOzWzurs4"},
{"content":{"body":"I think the main things that are rather weird compared to what you might expect when reading the XML specification are `<template>` and `<script>`. There's also no good interop for handling parse errors.","format":"org.matrix.custom.html","formatted_body":"I think the main things that are rather weird compared to what you might expect when reading the XML specification are <code>&lt;template&gt;</code> and <code>&lt;script&gt;</code>. There's also no good interop for handling parse errors.","m.mentions":{},"m.relates_to":{"event_id":"$FkIWVlEmRtj8T9vTiF2LgNSJhY5D5JijT4BKX-jiCHg","is_falling_back":true,"m.in_reply_to":{"event_id":"$O4A_L9uTNhut0PrS0a_0kbqsK4OCX94jqeMOzWzurs4"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1752649768259,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$kksHtqViS62iHnaPlNFQJEiZY3_mOvv_W29VgPbJBM0"},
{"content":{"body":"Luke Warlow: I think Darin added ReflectSetter to WebKit recently. Seems useful.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@lwarlow:igalia.com\">Luke Warlow</a>: I think Darin added ReflectSetter to WebKit recently. Seems useful.","m.mentions":{"user_ids":["@lwarlow:igalia.com"]},"msgtype":"m.text"},"ts":1752666418846,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$PXVAdus1AV8pGyMn0tEjoHxy769rwz-eWyebi8ZtIEo"},
{"content":{"body":"Ah nice! Yeah I was looking through and I think there's enough cases to warrant it in the spec too. Especially if there's implementations already benefiting.","m.mentions":{"user_ids":["@annevk:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$PXVAdus1AV8pGyMn0tEjoHxy769rwz-eWyebi8ZtIEo"}},"msgtype":"m.text"},"ts":1752666804518,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$vyPC9nfJ7vmZIL38mOtI_46TEGEXkP5EMsygLA3vWQ8"},
{"content":{"body":"https://mimesniff.spec.whatwg.org doesn't say anything about application/xhtml+xml","m.mentions":{},"m.relates_to":{"event_id":"$FkIWVlEmRtj8T9vTiF2LgNSJhY5D5JijT4BKX-jiCHg","is_falling_back":true,"m.in_reply_to":{"event_id":"$kksHtqViS62iHnaPlNFQJEiZY3_mOvv_W29VgPbJBM0"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1752697737342,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$oecz02WTmcMxvUrALTbcXG3AAFvyVAM_8-sW7TEYeQQ"},
{"content":{"body":"> An XML MIME type is any MIME type whose subtype ends in \"+xml\" or whose essence is \"text/xml\" or \"application/xml\". [RFC7303]","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>An XML MIME type is any MIME type whose subtype ends in \"+xml\" or whose essence is \"text/xml\" or \"application/xml\". [RFC7303]</p>\n</blockquote>\n","m.mentions":{},"m.relates_to":{"event_id":"$FkIWVlEmRtj8T9vTiF2LgNSJhY5D5JijT4BKX-jiCHg","is_falling_back":true,"m.in_reply_to":{"event_id":"$oecz02WTmcMxvUrALTbcXG3AAFvyVAM_8-sW7TEYeQQ"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1752697778314,"senderName":"AtkinsSJ","senderId":"@atkinssj:serenityos.org","id":"$lBJBeLjsotk_8CU_eSbYUE5-RzXNAEKvQ2P5WV847L0"},
{"content":{"body":"So we should be seeing that as XML already, I thought someone implemented all of mimesniff","m.mentions":{},"m.relates_to":{"event_id":"$FkIWVlEmRtj8T9vTiF2LgNSJhY5D5JijT4BKX-jiCHg","is_falling_back":true,"m.in_reply_to":{"event_id":"$lBJBeLjsotk_8CU_eSbYUE5-RzXNAEKvQ2P5WV847L0"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1752697804516,"senderName":"AtkinsSJ","senderId":"@atkinssj:serenityos.org","id":"$vxZlCnu7lBlOJHP4trGxbJ4FvXMGj7ToKhN0UupCIUg"}
]