[
{"content":{"body":"> <@gogo2464:matrix.org> Hello. I want to document the latest version of the w3c parser for finding client side vulnerabilities.\n> \n> I started with a DOM XSS using the RFC of the parser with element.innerHTML = \"XSS\";. My goal is to have the syntax possible for each XSS possible. \n> \n> I started with:\n> \n> https://html.spec.whatwg.org/multipage/parsing.html#overview-of-the-parsing-model\n> \n> according to the schema, the loop starts at the HTML tree builder at https://github.com/WebKit/WebKit/blob/main/Source/WebCore/html/parser/HTMLTreeBuilder.cpp#L816 and then \n> \n> \n> I am wondering if according to the code at https://github.com/WebKit/WebKit/blob/2246a2aa28d527e129ebec66183569db035fdc8a/Source/WebCore/dom/Element.cpp#L4347 , the policy of innerHTML could deny to execute a script even if not sanitized. I need to find the parser location to see the grammar syntax for potential XSS as mentrionned there: https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-element-innerhtml .\n> \n> Is Elements::replaceChildrenWithMarkup the parser please?\n\nCould I ask again for the setinnerhtml parser please?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$oPBdTh6c4gHz4iu6yJgGG43EQorE3uNWwXUbCaV8NOY\">In reply to</a> <a href=\"https://matrix.to/#/@gogo2464:matrix.org\">@gogo2464:matrix.org</a><br>Hello. I want to document the latest version of the w3c parser for finding client side vulnerabilities.<br><br>I started with a DOM XSS using the RFC of the parser with element.innerHTML = &quot;XSS&quot;;. My goal is to have the syntax possible for each XSS possible. <br><br>I started with:<br><br>https://html.spec.whatwg.org/multipage/parsing.html#overview-of-the-parsing-model<br><br>according to the schema, the loop starts at the HTML tree builder at https://github.com/WebKit/WebKit/blob/main/Source/WebCore/html/parser/HTMLTreeBuilder.cpp#L816 and then <br><br><br>I am wondering if according to the code at https://github.com/WebKit/WebKit/blob/2246a2aa28d527e129ebec66183569db035fdc8a/Source/WebCore/dom/Element.cpp#L4347 , the policy of innerHTML could deny to execute a script even if not sanitized. I need to find the parser location to see the grammar syntax for potential XSS as mentrionned there: https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-element-innerhtml .<br><br>Is Elements::replaceChildrenWithMarkup the parser please?</blockquote></mx-reply>Could I ask again for the setinnerhtml parser please?","m.mentions":{},"m.relates_to":{"m.in_reply_to":{"event_id":"$oPBdTh6c4gHz4iu6yJgGG43EQorE3uNWwXUbCaV8NOY"}},"msgtype":"m.text"},"ts":1749626187253,"senderName":"gogo","senderId":"@gogo2464:matrix.org","id":"$_0X3jdgu_yEfq5ECgQgS1IQhzXXysGIWU0giAw3dcpI"},
{"content":{"body":"> <@gogo2464:matrix.org> Could I ask again for the setinnerhtml parser please?\n\nI need the policy parser","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$_0X3jdgu_yEfq5ECgQgS1IQhzXXysGIWU0giAw3dcpI\">In reply to</a> <a href=\"https://matrix.to/#/@gogo2464:matrix.org\">@gogo2464:matrix.org</a><br>Could I ask again for the setinnerhtml parser please?</blockquote></mx-reply>I need the policy parser","m.mentions":{},"m.relates_to":{"m.in_reply_to":{"event_id":"$_0X3jdgu_yEfq5ECgQgS1IQhzXXysGIWU0giAw3dcpI"}},"msgtype":"m.text"},"ts":1749626222473,"senderName":"gogo","senderId":"@gogo2464:matrix.org","id":"$I5-e6V0FYcaxuf8pEO9dnpJBhgyegKxzEePvxXarsIk"},
{"content":{"body":"If anyone wanted to review https://github.com/whatwg/html/pull/10548 before it lands, now would be a very good time.","m.mentions":{},"msgtype":"m.text"},"ts":1749649348205,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$z08kz16yM7iQHAs_PYSlO_-IOrU9x5o6zeDoCU9QIOQ"},
{"content":{"body":"gogo: Re \"the setinnerhtml parser\": You linked to  https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-element-innerhtml . So 2 lines down from that is \"Element's innerHTML setter steps\" (which refer to \"the fragment parsing algorithm steps\", which refer to \"the HTML fragment parsing algorithm\", etc). Does that answer your question? If not, could you be more specific?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@gogo2464:matrix.org\">gogo</a>: Re \"the setinnerhtml parser\": You linked to  https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#dom-element-innerhtml . So 2 lines down from that is \"Element's innerHTML setter steps\" (which refer to \"the fragment parsing algorithm steps\", which refer to \"the HTML fragment parsing algorithm\", etc). Does that answer your question? If not, could you be more specific?","m.mentions":{"user_ids":["@gogo2464:matrix.org"]},"msgtype":"m.text"},"ts":1749650376635,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$Qx_4AmAfe6DHirxmWQE2nbaYJHUdiZu9EtbsDB_iTxA"},
{"content":{"body":"Luca Casonato: https://github.com/whatwg/webidl/pull/1489","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">Luca Casonato</a>: https://github.com/whatwg/webidl/pull/1489","m.mentions":{"user_ids":["@lucacasonato:matrix.org"]},"msgtype":"m.text"},"ts":1749650412369,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$DnsEaxDXMdhVbLO_rC_LqD0FRTH_y87aWgyGhe3CbLQ"}
]