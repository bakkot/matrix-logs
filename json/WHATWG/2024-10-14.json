[
{"content":{"body":"Hello! I think i've spotted a typo in `nooopener-allow-popups`. there is an additional o in https://html.spec.whatwg.org/multipage/browsers.html#coop-noopener-allow-popups . I'm opening n MR to fix this","format":"org.matrix.custom.html","formatted_body":"Hello! I think i've spotted a typo in <code>nooopener-allow-popups</code>. there is an additional o in https://html.spec.whatwg.org/multipage/browsers.html#coop-noopener-allow-popups . I'm opening n MR to fix this","m.mentions":{},"msgtype":"m.text"},"ts":1728894664300,"senderName":"quadristan","senderId":"@quadristan:matrix.org","id":"$mRSCkXOGgooBWlkNtuJnSPRsrzKOwDVwI97fNMNC0z8"},
{"content":{"body":"keithamus:  Hmm, doesn't the step 4 assert in https://html.spec.whatwg.org/#show-popover fail if beforetoggle (once:true) listener doesn't call preventDefault() but calls showPopover()","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@keithamus:matrix.org\">keithamus</a>:  Hmm, doesn't the step 4 assert in https://html.spec.whatwg.org/#show-popover fail if beforetoggle (once:true) listener doesn't call preventDefault() but calls showPopover()","m.mentions":{"user_ids":["@keithamus:matrix.org"]},"msgtype":"m.text"},"ts":1728894764131,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$Qmdq4iaGcqAiCNsOsmVqbT4t8vMZA-FrTKOsgHYFLKc"},
{"content":{"body":"(happened to read that algorithm while looking at the other relevant stuff)","m.mentions":{},"msgtype":"m.text"},"ts":1728894794278,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$O2vaAh6sfdmc-o867Q8ur54Uv_Vm5GwAVM5I8uQO4SA"},
{"content":{"body":"keithamus: looping back on https://github.com/whatwg/html/issues/10666#issuecomment-2408260094 (keeping focus for moving elements during `moveBefore` from the last WHATNOT). You've raised concerns about a11y with focused elements. Is w3c/aria the right place to open an issue about this or somewhere else? https://www.w3.org/WAI/about/groups/ariawg/contribute/ is kinda confusing in that regard.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@keithamus:matrix.org\">keithamus</a>: looping back on https://github.com/whatwg/html/issues/10666#issuecomment-2408260094 (keeping focus for moving elements during <code>moveBefore</code> from the last WHATNOT). You've raised concerns about a11y with focused elements. Is w3c/aria the right place to open an issue about this or somewhere else? https://www.w3.org/WAI/about/groups/ariawg/contribute/ is kinda confusing in that regard.","m.mentions":{"user_ids":["@keithamus:matrix.org"]},"msgtype":"m.text"},"ts":1728895794694,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$B5Dzd6_RuYMrs3PuD91zmsmz0LMxsJr2bkU7H0JkPio"},
{"content":{"body":"> <@noamr:matrix.org> keithamus: looping back on https://github.com/whatwg/html/issues/10666#issuecomment-2408260094 (keeping focus for moving elements during `moveBefore` from the last WHATNOT). You've raised concerns about a11y with focused elements. Is w3c/aria the right place to open an issue about this or somewhere else? https://www.w3.org/WAI/about/groups/ariawg/contribute/ is kinda confusing in that regard.\n\nWe did have an internal a11y review specifically for this, and there were no concerned raised. That's because elements can already stay in place and everything else move around them, and the developer can call `focus()` programatically anyway as well. So `moveBefore` doesn't add anything new here as long as we make sure the AT is up to date","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$B5Dzd6_RuYMrs3PuD91zmsmz0LMxsJr2bkU7H0JkPio?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@noamr:matrix.org\">@noamr:matrix.org</a><br><a href=\"https://matrix.to/#/@keithamus:matrix.org\">keithamus</a>: looping back on https://github.com/whatwg/html/issues/10666#issuecomment-2408260094 (keeping focus for moving elements during <code>moveBefore</code> from the last WHATNOT). You've raised concerns about a11y with focused elements. Is w3c/aria the right place to open an issue about this or somewhere else? https://www.w3.org/WAI/about/groups/ariawg/contribute/ is kinda confusing in that regard.</blockquote></mx-reply>We did have an internal a11y review specifically for this, and there were no concerned raised. That's because elements can already stay in place and everything else move around them, and the developer can call <code>focus()</code> programatically anyway as well. So <code>moveBefore</code> doesn't add anything new here as long as we make sure the AT is up to date","m.mentions":{"user_ids":["@keithamus:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$B5Dzd6_RuYMrs3PuD91zmsmz0LMxsJr2bkU7H0JkPio"}},"msgtype":"m.text"},"ts":1728895889213,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$clzIxdt6_ebwAsm-esWdp92ufBiCeosGM0gDBdcChhA"},
{"content":{"body":"> <@smaug:mozilla.org> keithamus:  Hmm, doesn't the step 4 assert in https://html.spec.whatwg.org/#show-popover fail if beforetoggle (once:true) listener doesn't call preventDefault() but calls showPopover()\n\nStep `9` prevents going further though right?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$Qmdq4iaGcqAiCNsOsmVqbT4t8vMZA-FrTKOsgHYFLKc?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@smaug:mozilla.org\">@smaug:mozilla.org</a><br><a href=\"https://matrix.to/#/@keithamus:matrix.org\">keithamus</a>:  Hmm, doesn't the step 4 assert in https://html.spec.whatwg.org/#show-popover fail if beforetoggle (once:true) listener doesn't call preventDefault() but calls showPopover()</blockquote></mx-reply>Step <code>9</code> prevents going further though right?","m.mentions":{"user_ids":["@smaug:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$Qmdq4iaGcqAiCNsOsmVqbT4t8vMZA-FrTKOsgHYFLKc"}},"msgtype":"m.text"},"ts":1728895930562,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$seBR5tMpOQdzb7Fgzsk4uUwTZ0Wb7_8ERyjcq_NxovU"},
{"content":{"body":"Ah","msgtype":"m.text"},"ts":1728896052822,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$Z8T75Bo_zS9Mz67T40mPEmSfWawT1xH60IAx2mwHB4c"},
{"content":{"body":"> <@noamr:matrix.org> keithamus: looping back on https://github.com/whatwg/html/issues/10666#issuecomment-2408260094 (keeping focus for moving elements during `moveBefore` from the last WHATNOT). You've raised concerns about a11y with focused elements. Is w3c/aria the right place to open an issue about this or somewhere else? https://www.w3.org/WAI/about/groups/ariawg/contribute/ is kinda confusing in that regard.\n\nif you've had an internal review and it was deemed okay then I won't raise any further objections. I'm not an expert by any means but it seemed perhaps not-ideal IMO to move focus, because - yes while the user retains focus - their position relative to the page may have moved which may be very confusing as the traverse onward.\n\nI think it is perhaps analogous to talk about `remove()` than to talk about `focus()`. If a developer calls `remove()` then browsers try to traverse the hole up to a nearest container to set the sequential focus start point, no? I'd perhaps offer that _might_ be more preferable than moving their focus, because the position in the page hasn't change but there is also an acknowledgement that something on the page has changed.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$B5Dzd6_RuYMrs3PuD91zmsmz0LMxsJr2bkU7H0JkPio?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@noamr:matrix.org\">@noamr:matrix.org</a><br><a href=\"https://matrix.to/#/@keithamus:matrix.org\">keithamus</a>: looping back on https://github.com/whatwg/html/issues/10666#issuecomment-2408260094 (keeping focus for moving elements during <code>moveBefore</code> from the last WHATNOT). You've raised concerns about a11y with focused elements. Is w3c/aria the right place to open an issue about this or somewhere else? https://www.w3.org/WAI/about/groups/ariawg/contribute/ is kinda confusing in that regard.</blockquote></mx-reply><p>if you've had an internal review and it was deemed okay then I won't raise any further objections. I'm not an expert by any means but it seemed perhaps not-ideal IMO to move focus, because - yes while the user retains focus - their position relative to the page may have moved which may be very confusing as the traverse onward.</p>\n<p>I think it is perhaps analogous to talk about <code>remove()</code> than to talk about <code>focus()</code>. If a developer calls <code>remove()</code> then browsers try to traverse the hole up to a nearest container to set the sequential focus start point, no? I'd perhaps offer that <em>might</em> be more preferable than moving their focus, because the position in the page hasn't change but there is also an acknowledgement that something on the page has changed.</p>\n","m.mentions":{"user_ids":["@noamr:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$B5Dzd6_RuYMrs3PuD91zmsmz0LMxsJr2bkU7H0JkPio"}},"msgtype":"m.text"},"ts":1728896135039,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$w_6Emhm7adtPTKdFcGaunbQjgZYi8JKEFS2ND32-tmw"},
{"content":{"body":"keithamus: on remove, the focus is simply lost. Frameworks today sometimes compensate by calling `focus` programatically","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@keithamus:matrix.org\">keithamus</a>: on remove, the focus is simply lost. Frameworks today sometimes compensate by calling <code>focus</code> programatically","m.mentions":{"user_ids":["@keithamus:matrix.org"]},"msgtype":"m.text"},"ts":1728896196059,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$VsyS95JFhM7P_YLNk68SIVh_eyg9is08WZyIY4bFG9w"},
{"content":{"body":"> <@keithamus:matrix.org> if you've had an internal review and it was deemed okay then I won't raise any further objections. I'm not an expert by any means but it seemed perhaps not-ideal IMO to move focus, because - yes while the user retains focus - their position relative to the page may have moved which may be very confusing as the traverse onward.\n> \n> I think it is perhaps analogous to talk about `remove()` than to talk about `focus()`. If a developer calls `remove()` then browsers try to traverse the hole up to a nearest container to set the sequential focus start point, no? I'd perhaps offer that _might_ be more preferable than moving their focus, because the position in the page hasn't change but there is also an acknowledgement that something on the page has changed.\n\nIME the biggest pitfall and biggest source of complaints we have when building out accessible interfaces is the user getting no acknowledgement of the page changing. Calling `.focus()` _is_ an acknowledgement (because AT potentially re-reads the content).","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$w_6Emhm7adtPTKdFcGaunbQjgZYi8JKEFS2ND32-tmw?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@keithamus:matrix.org\">@keithamus:matrix.org</a><br><p>if you've had an internal review and it was deemed okay then I won't raise any further objections. I'm not an expert by any means but it seemed perhaps not-ideal IMO to move focus, because - yes while the user retains focus - their position relative to the page may have moved which may be very confusing as the traverse onward.</p>\n<p>I think it is perhaps analogous to talk about <code>remove()</code> than to talk about <code>focus()</code>. If a developer calls <code>remove()</code> then browsers try to traverse the hole up to a nearest container to set the sequential focus start point, no? I'd perhaps offer that <em>might</em> be more preferable than moving their focus, because the position in the page hasn't change but there is also an acknowledgement that something on the page has changed.</p>\n</blockquote></mx-reply>IME the biggest pitfall and biggest source of complaints we have when building out accessible interfaces is the user getting no acknowledgement of the page changing. Calling <code>.focus()</code> <em>is</em> an acknowledgement (because AT potentially re-reads the content).","m.mentions":{"user_ids":["@noamr:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$w_6Emhm7adtPTKdFcGaunbQjgZYi8JKEFS2ND32-tmw"}},"msgtype":"m.text"},"ts":1728896201629,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$2Jp2vC74o4qvc6PIUyV2VpZmjdv8e6Eqil_DxUMNHvo"},
{"content":{"body":"> <@keithamus:matrix.org> IME the biggest pitfall and biggest source of complaints we have when building out accessible interfaces is the user getting no acknowledgement of the page changing. Calling `.focus()` _is_ an acknowledgement (because AT potentially re-reads the content).\n\nAT is a different story, we have to update AT after calling `moveBefore` to account for the focused element perhaps moving, or regardless because the tree could change in many ways when the DOM hierarchy is modified","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$2Jp2vC74o4qvc6PIUyV2VpZmjdv8e6Eqil_DxUMNHvo?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@keithamus:matrix.org\">@keithamus:matrix.org</a><br>IME the biggest pitfall and biggest source of complaints we have when building out accessible interfaces is the user getting no acknowledgement of the page changing. Calling <code>.focus()</code> <em>is</em> an acknowledgement (because AT potentially re-reads the content).</blockquote></mx-reply>AT is a different story, we have to update AT after calling <code>moveBefore</code> to account for the focused element perhaps moving, or regardless because the tree could change in many ways when the DOM hierarchy is modified","m.mentions":{"user_ids":["@keithamus:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$2Jp2vC74o4qvc6PIUyV2VpZmjdv8e6Eqil_DxUMNHvo"}},"msgtype":"m.text"},"ts":1728896264863,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$arlvNyuoJkvlSrmV9bqgjF5PzXH-VuzDGyKE9RMJ1KM"},
{"content":{"body":"> <@noamr:matrix.org> AT is a different story, we have to update AT after calling `moveBefore` to account for the focused element perhaps moving, or regardless because the tree could change in many ways when the DOM hierarchy is modified\n\nThat makes sense. I wonder if the move operations should cause explicit announcements in AT?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$arlvNyuoJkvlSrmV9bqgjF5PzXH-VuzDGyKE9RMJ1KM?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@noamr:matrix.org\">@noamr:matrix.org</a><br>AT is a different story, we have to update AT after calling <code>moveBefore</code> to account for the focused element perhaps moving, or regardless because the tree could change in many ways when the DOM hierarchy is modified</blockquote></mx-reply>That makes sense. I wonder if the move operations should cause explicit announcements in AT?","m.mentions":{"user_ids":["@noamr:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$arlvNyuoJkvlSrmV9bqgjF5PzXH-VuzDGyKE9RMJ1KM"}},"msgtype":"m.text"},"ts":1728896338440,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$9SNZS1AU-S5P6nGyIpKSXcb1MfmQnDwG40DzbhlWAsU"},
{"content":{"body":"> <@keithamus:matrix.org> That makes sense. I wonder if the move operations should cause explicit announcements in AT?\n\nThey do in blink; Not sure how that translates to spec-land","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$9SNZS1AU-S5P6nGyIpKSXcb1MfmQnDwG40DzbhlWAsU?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@keithamus:matrix.org\">@keithamus:matrix.org</a><br>That makes sense. I wonder if the move operations should cause explicit announcements in AT?</blockquote></mx-reply>They do in blink; Not sure how that translates to spec-land","m.mentions":{"user_ids":["@keithamus:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$9SNZS1AU-S5P6nGyIpKSXcb1MfmQnDwG40DzbhlWAsU"}},"msgtype":"m.text"},"ts":1728896374756,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$Odkno6uxJv60cC6azZAF42oX_Ph7V6CsTSSUbOB6FYo"},
{"content":{"body":"> <@keithamus:matrix.org> That makes sense. I wonder if the move operations should cause explicit announcements in AT?\n\nThough that might be too noisy. This is why I encouraged y'all reaching out to ARIA WG btw, I don't intend to throw spanners I am just _unsure_ what should happen here and would rather hear from the experts. ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$9SNZS1AU-S5P6nGyIpKSXcb1MfmQnDwG40DzbhlWAsU?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@keithamus:matrix.org\">@keithamus:matrix.org</a><br>That makes sense. I wonder if the move operations should cause explicit announcements in AT?</blockquote></mx-reply>Though that might be too noisy. This is why I encouraged y'all reaching out to ARIA WG btw, I don't intend to throw spanners I am just <em>unsure</em> what should happen here and would rather hear from the experts.","m.mentions":{"user_ids":["@noamr:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$9SNZS1AU-S5P6nGyIpKSXcb1MfmQnDwG40DzbhlWAsU"}},"msgtype":"m.text"},"ts":1728896389784,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$VorKrtKGeq_uZTnGW9glBkjOBHzpn1augOFd0zurq7I"},
{"content":{"body":"oh you mean that the user will get notifications that something changed? I don't think sdo","m.mentions":{},"msgtype":"m.text"},"ts":1728896400093,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$moynWMZzi41whxtpheXggYxQ4PW8bVHs8lcVpQ_iWig"}
]