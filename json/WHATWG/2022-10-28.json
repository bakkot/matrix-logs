[
{"content":{"body":"Domenic: ensuring the map has the correct thing for element-references requires duplicating most of reflect for element-references, no?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: ensuring the map has the correct thing for element-references requires duplicating most of reflect for element-references, no?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: ensuring the map has the correct thing for element-references requires duplicating most of reflect for element-references, no?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: ensuring the map has the correct thing for element-references requires duplicating most of reflect for element-references, no?","mimetype":"text/html"}]},"ts":1666942717022,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$vwXJwL-CI_s0uNjM9CIiTb9tRLVjSc578IqBqd0G5N8"},
{"content":{"body":"It's not just a single concept after all","msgtype":"m.text","org.matrix.msc1767.text":"It's not just a single concept after all"},"ts":1666942755147,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$9pDONSg0fHl4LVWzemMKZeVShQzFanLylNiumBhyqeU"},
{"content":{"body":"Also, I think that we should try to update the ARIA attributes that only allow a couple strings to be enumerated attributes (this indeed doesn't address the problem with how invalid values map to AT, but it might help with it, pending further updates to accname)","msgtype":"m.text","org.matrix.msc1767.text":"Also, I think that we should try to update the ARIA attributes that only allow a couple strings to be enumerated attributes (this indeed doesn't address the problem with how invalid values map to AT, but it might help with it, pending further updates to accname)"},"ts":1666942816936,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Q28VwnQiGUj_ZbPtGnj3Hsn8mw21KUoxU5hzpdzB5DA"},
{"content":{"body":"Domenic: overall it seems somewhat reasonable to attempt to stick the element-references in the map directly, but I think we still need most of my setup if we actually want to improve ARIA attributes overall (which WebKit wants to try at least)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: overall it seems somewhat reasonable to attempt to stick the element-references in the map directly, but I think we still need most of my setup if we actually want to improve ARIA attributes overall (which WebKit wants to try at least)","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: overall it seems somewhat reasonable to attempt to stick the element-references in the map directly, but I think we still need most of my setup if we actually want to improve ARIA attributes overall (which WebKit wants to try at least)","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: overall it seems somewhat reasonable to attempt to stick the element-references in the map directly, but I think we still need most of my setup if we actually want to improve ARIA attributes overall (which WebKit wants to try at least)","mimetype":"text/html"}]},"ts":1666943249335,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$zdlOQBPW-yLzycDBV_JuxhxsZ42K2yMWSOIg24tIWCU"},
{"content":{"body":"> <@annevk:matrix.org> Domenic: ensuring the map has the correct thing for element-references requires duplicating most of reflect for element-references, no?\n\nI don't think it does, because the complexity of reflect is the interaction of strings and element references. For ElementInternals it's literally just an element reference (or FrozenArray of them)","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$vwXJwL-CI_s0uNjM9CIiTb9tRLVjSc578IqBqd0G5N8?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br><a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: ensuring the map has the correct thing for element-references requires duplicating most of reflect for element-references, no?</blockquote></mx-reply>I don't think it does, because the complexity of reflect is the interaction of strings and element references. For ElementInternals it's literally just an element reference (or FrozenArray of them)","m.relates_to":{"m.in_reply_to":{"event_id":"$vwXJwL-CI_s0uNjM9CIiTb9tRLVjSc578IqBqd0G5N8"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@annevk:matrix.org> Domenic: ensuring the map has the correct thing for element-references requires duplicating most of reflect for element-references, no?\n\nI don't think it does, because the complexity of reflect is the interaction of strings and element references. For ElementInternals it's literally just an element reference (or FrozenArray of them)","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$vwXJwL-CI_s0uNjM9CIiTb9tRLVjSc578IqBqd0G5N8?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br><a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: ensuring the map has the correct thing for element-references requires duplicating most of reflect for element-references, no?</blockquote></mx-reply>I don't think it does, because the complexity of reflect is the interaction of strings and element references. For ElementInternals it's literally just an element reference (or FrozenArray of them)","mimetype":"text/html"}]},"ts":1666943290215,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$t0GIytu1jupkvIYe6qf2E8eUascCPE4b3UOByquwV-A"},
{"content":{"body":"Agreed it would be nice if ARIA attributes were enumerated.","msgtype":"m.text","org.matrix.msc1767.text":"Agreed it would be nice if ARIA attributes were enumerated."},"ts":1666943303321,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$1z7YupXMtyXoSiy5AfGqrt-Tf5XlmXze6XCqu8f0wzY"},
{"content":{"body":"Domenic: why do we not need the difference between explicitly set attr-element and attr-associated element for ElementInternals?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: why do we not need the difference between explicitly set attr-element and attr-associated element for ElementInternals?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: why do we not need the difference between explicitly set attr-element and attr-associated element for ElementInternals?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: why do we not need the difference between explicitly set attr-element and attr-associated element for ElementInternals?","mimetype":"text/html"}]},"ts":1666943344543,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$LRBjub5o3V5wjAF3nytYTUd5OpsRgighsV1TBdfF1I4"},
{"content":{"body":"attr-associated = explicitly set + whatever's going on with the string-valued content attribute","msgtype":"m.text","org.matrix.msc1767.text":"attr-associated = explicitly set + whatever's going on with the string-valued content attribute"},"ts":1666943366951,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$FZvtIgZpWkmOYk-DATz1Eg-i0F4OEFi8T0Xfp_rPBog"},
{"content":{"body":"There is no string-valued content attribute for ElementInternals","msgtype":"m.text","org.matrix.msc1767.text":"There is no string-valued content attribute for ElementInternals"},"ts":1666943381871,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$dblEk61-Ft9OQcEPpn9Lrti1aRKZp6s2IGTxEwNBFLc"},
{"content":{"body":"I guess attr-associated also has some shadow root censoring stuff","msgtype":"m.text","org.matrix.msc1767.text":"I guess attr-associated also has some shadow root censoring stuff"},"ts":1666943413266,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$ER6YdiU9SoS2-SvdZdcT2KoZjx4KKXCspA8JgiQxoP4"},
{"content":{"body":"I don't think I ever understood that","msgtype":"m.text","org.matrix.msc1767.text":"I don't think I ever understood that"},"ts":1666943446310,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$DWfn3nV33hXnwA4ShTN5J9A6O4tpzdwn84wSe3wpMWY"},
{"content":{"body":"That's why the explicitly set thing can be a weak reference, so if you lose access to the shadow tree the element is in and you that reference wasn't allowed anyway you can collect things","msgtype":"m.text","org.matrix.msc1767.text":"That's why the explicitly set thing can be a weak reference, so if you lose access to the shadow tree the element is in and you that reference wasn't allowed anyway you can collect things"},"ts":1666943556174,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$s4FJZa6KPfB-PaWRffyFwcwfeUhlJz2fnWmjZhjku_8"},
{"content":{"body":"And the collecting isn't observable","msgtype":"m.text","org.matrix.msc1767.text":"And the collecting isn't observable"},"ts":1666943594513,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$2SAKeDyVQuY8b6mowyoFq017dfg1N3TVgTqhQg7tRmI"},
{"content":{"body":"I guess it just seems weird we're censoring access to something the developer explicitly already had access to and set themselves, but I've never understood the encapsulation invariants attempted here, so shrug","msgtype":"m.text","org.matrix.msc1767.text":"I guess it just seems weird we're censoring access to something the developer explicitly already had access to and set themselves, but I've never understood the encapsulation invariants attempted here, so shrug"},"ts":1666943645281,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$Ku2as61Qu9vcrwJxdg2pEsihkHBW-2YJjuaILJ-XgaQ"},
{"content":{"body":"Domenic: we're getting a bit astray here, but there's two reasons for that: 1) avoiding accidental dependency by other scripts on the exact layout of the shadow tree 2) forcing developers to think through encapsulation and come up with a better design such that the shadow tree can be redesigned independent from the outside world","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: we're getting a bit astray here, but there's two reasons for that: 1) avoiding accidental dependency by other scripts on the exact layout of the shadow tree 2) forcing developers to think through encapsulation and come up with a better design such that the shadow tree can be redesigned independent from the outside world","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: we're getting a bit astray here, but there's two reasons for that: 1) avoiding accidental dependency by other scripts on the exact layout of the shadow tree 2) forcing developers to think through encapsulation and come up with a better design such that the shadow tree can be redesigned independent from the outside world","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: we're getting a bit astray here, but there's two reasons for that: 1) avoiding accidental dependency by other scripts on the exact layout of the shadow tree 2) forcing developers to think through encapsulation and come up with a better design such that the shadow tree can be redesigned independent from the outside world","mimetype":"text/html"}]},"ts":1666943788838,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$ncPRtbVj1D9n37rqe-3nKm85AbvBLDi1k6DXccsYSjM"}
]