[
{"content":{"body":"> <@domenicdenicola:matrix.org> Seems like another case of people trying to use CSP for exfiltration prevention, which it isn't designed for?\n\nout of curiosity do you have any ideas on alternatives? it seemed to me that CSP was intended for this (among other things) so if there's something else i should be looking at instead i'd be very interested","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$NFKXBtJrb2DfXDJb36mEBJynTjcTZ8NbvVkvCybB8d8?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br>Seems like another case of people trying to use CSP for exfiltration prevention, which it isn&#39;t designed for?</blockquote></mx-reply>out of curiosity do you have any ideas on alternatives? it seemed to me that CSP was intended for this (among other things) so if there's something else i should be looking at instead i'd be very interested","m.relates_to":{"m.in_reply_to":{"event_id":"$NFKXBtJrb2DfXDJb36mEBJynTjcTZ8NbvVkvCybB8d8"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@domenicdenicola:matrix.org> Seems like another case of people trying to use CSP for exfiltration prevention, which it isn't designed for?\n\nout of curiosity do you have any ideas on alternatives? it seemed to me that CSP was intended for this (among other things) so if there's something else i should be looking at instead i'd be very interested","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$NFKXBtJrb2DfXDJb36mEBJynTjcTZ8NbvVkvCybB8d8?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br>Seems like another case of people trying to use CSP for exfiltration prevention, which it isn&#39;t designed for?</blockquote></mx-reply>out of curiosity do you have any ideas on alternatives? it seemed to me that CSP was intended for this (among other things) so if there's something else i should be looking at instead i'd be very interested","mimetype":"text/html"}]},"ts":1668574842665,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$MT84JSwJZqwD_sUfYorMQQJDeGIF3TJAoM6Fqmh9rRc"},
{"content":{"body":"Don't run untrusted code on your page?","msgtype":"m.text","org.matrix.msc1767.text":"Don't run untrusted code on your page?"},"ts":1668575058440,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$KH8T0egNT0CEZBLCpvftemDSE09_5yITrhzCA2q2u-8"},
{"content":{"body":"lol","msgtype":"m.text","org.matrix.msc1767.text":"lol"},"ts":1668575063799,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$fZ7byCIVae64BoCy1Ge9ZGKKDufazrgc1fWFdxRhQhQ"},
{"content":{"body":"CSP is designed to prevent XSS, so that you can achieve that goal","msgtype":"m.text","org.matrix.msc1767.text":"CSP is designed to prevent XSS, so that you can achieve that goal"},"ts":1668575071027,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$ItpuN_mBtIvyLZcuZPOql5Y2rDB4GyzYGXBwcD0rsHo"},
{"content":{"body":"thats generally my philosophy as well","msgtype":"m.text","org.matrix.msc1767.text":"thats generally my philosophy as well"},"ts":1668575072634,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$PoW6UZ4xPdRMIkquKWR9sFueOzlGfRp49Yy0IrCBrG0"},
{"content":{"body":"Once there's untrusted code on your page though through XSS (including self-XSS), there's no good technology to prevent it from doing various network requests","msgtype":"m.text","org.matrix.msc1767.text":"Once there's untrusted code on your page though through XSS (including self-XSS), there's no good technology to prevent it from doing various network requests"},"ts":1668575102678,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$wtDLx7IGXcle_QbzHGhvFMVFXxXyzdsTvxwa5ofnxwA"},
{"content":{"body":"looks like they added a `connect-src` check to chromium's webtransport code","format":"org.matrix.custom.html","formatted_body":"looks like they added a <code>connect-src</code> check to chromium's webtransport code","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"looks like they added a `connect-src` check to chromium's webtransport code","mimetype":"text/plain"},{"body":"looks like they added a <code>connect-src</code> check to chromium's webtransport code","mimetype":"text/html"}]},"ts":1668575138967,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$SNO-3K5uAS2wcfmLN4oI8gadl_h5lj42aUX64SyCguM"},
{"content":{"body":" * looks like they added a `connect-src` check to chromium's webtransport code","format":"org.matrix.custom.html","formatted_body":" * looks like they added a <code>connect-src</code> check to chromium's webtransport code","m.new_content":{"body":"looks like they added a `connect-src` check to chromium's webtransport code","format":"org.matrix.custom.html","formatted_body":"looks like they added a <code>connect-src</code> check to chromium's webtransport code","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"looks like they added a `connect-src` check to chromium's webtransport code","mimetype":"text/plain"},{"body":"looks like they added a <code>connect-src</code> check to chromium's webtransport code","mimetype":"text/html"}]},"m.relates_to":{"event_id":"$SNO-3K5uAS2wcfmLN4oI8gadl_h5lj42aUX64SyCguM","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":" * looks like they added a `connect-src` check to chromium's webtransport code","mimetype":"text/plain"},{"body":" * looks like they added a <code>connect-src</code> check to chromium's webtransport code","mimetype":"text/html"}]},"ts":1668575142150,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$J_mxDZQVe1eZ3viShNnapeUhuAYPu6Lukyv8TWhBTFQ"},
{"content":{"body":"so that's nice","msgtype":"m.text","org.matrix.msc1767.text":"so that's nice"},"ts":1668575145943,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$zFS3dF0fISIG6a1Lk_gWESeET-9AhZaM3vpnOCjUbPU"},
{"content":{"body":"guess its just down to webrtc","msgtype":"m.text","org.matrix.msc1767.text":"guess its just down to webrtc"},"ts":1668575185160,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$LeRCs0xVOxngCIixAcd1fZE5nrNXROIhgzjok9uWfqg"},
{"content":{"body":"Some discussion on https://blog.compass-security.com/2016/10/bypassing-content-security-policy-with-dns-prefetching/ , not a primary source though","msgtype":"m.text","org.matrix.msc1767.text":"Some discussion on https://blog.compass-security.com/2016/10/bypassing-content-security-policy-with-dns-prefetching/ , not a primary source though"},"ts":1668575231800,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$WEZzq7KnIxTrWQEw2nuQCOZvTWcx4w3O-YmtohWh6Jk"},
{"content":{"body":"i guess i'm sort of being the person i always hate, some random guy from a company trying to do something that is probably a dumb idea :)","msgtype":"m.text","org.matrix.msc1767.text":"i guess i'm sort of being the person i always hate, some random guy from a company trying to do something that is probably a dumb idea :)"},"ts":1668575272317,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$8KqArT5vO6pZyT6frXVRWNUGlTdr0Mtm8LtA7rRisoA"},
{"content":{"body":"https://www.cse.chalmers.se/~andrei/asiaccs16.pdf is better","msgtype":"m.text","org.matrix.msc1767.text":"https://www.cse.chalmers.se/~andrei/asiaccs16.pdf is better"},"ts":1668575272637,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$SjDOp_jMROczrmCLeUbEzvwQ4GnBohALOpWRR209nPs"},
{"content":{"body":"That paper gives quite a good overview actually, in section 2.2","msgtype":"m.text","org.matrix.msc1767.text":"That paper gives quite a good overview actually, in section 2.2"},"ts":1668575369612,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$tm7B3LaBUniF5QkG_pLqF7LsMbazO749uKr3elYr5ao"},
{"content":{"body":"discord has an interesting feature called activities which is basically little games and stuff you can play with your friends. the problem is that these games are written as web apps, so currently we can't really open them up to random third party developers. i'm exploring some ways to make things better, and i really don't want my endpoint to be \"full wasm sandbox that draws to a canvas\" cuz that sucks in many many ways","msgtype":"m.text","org.matrix.msc1767.text":"discord has an interesting feature called activities which is basically little games and stuff you can play with your friends. the problem is that these games are written as web apps, so currently we can't really open them up to random third party developers. i'm exploring some ways to make things better, and i really don't want my endpoint to be \"full wasm sandbox that draws to a canvas\" cuz that sucks in many many ways"},"ts":1668575479055,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$7d30tVswxGf7K1I6lHmf1MvWvMNijBwpC7eCV3I4tXc"},
{"content":{"body":"Sandboxed iframes?","msgtype":"m.text","org.matrix.msc1767.text":"Sandboxed iframes?"},"ts":1668577334723,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$9OICnBzFhjl2f3Sk9zAyki6HOXGLGTuJSKkkS6UPKH4"},
{"content":{"body":"I guess that doesn't really have exfiltration controls either, sorry, forgot the threat model","msgtype":"m.text","org.matrix.msc1767.text":"I guess that doesn't really have exfiltration controls either, sorry, forgot the threat model"},"ts":1668577353512,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$v1K99JmJOrkLKlu4v5gsOI0FrFPW5WsfS-uVAYXQ8bk"},
{"content":{"body":"If you ensure no interesting information gets into the sandboxed iframe to exfiltrate, maybe","msgtype":"m.text","org.matrix.msc1767.text":"If you ensure no interesting information gets into the sandboxed iframe to exfiltrate, maybe"},"ts":1668577375659,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$PyNf1EAUJqh_8iyg3lOZsdci2Hf-OwzoghqspPiKShE"},
{"content":{"body":"yeah the iframes are already pretty locked down. the interesting thing i discovered is that you can work around it _slightly_ by creating an iframe (inside the sandbox iframe) with no src, which gives you a fresh window instance somehow? so none of our safety scripts have run yet","format":"org.matrix.custom.html","formatted_body":"yeah the iframes are already pretty locked down. the interesting thing i discovered is that you can work around it <em>slightly</em> by creating an iframe (inside the sandbox iframe) with no src, which gives you a fresh window instance somehow? so none of our safety scripts have run yet","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"yeah the iframes are already pretty locked down. the interesting thing i discovered is that you can work around it _slightly_ by creating an iframe (inside the sandbox iframe) with no src, which gives you a fresh window instance somehow? so none of our safety scripts have run yet","mimetype":"text/plain"},{"body":"yeah the iframes are already pretty locked down. the interesting thing i discovered is that you can work around it <em>slightly</em> by creating an iframe (inside the sandbox iframe) with no src, which gives you a fresh window instance somehow? so none of our safety scripts have run yet","mimetype":"text/html"}]},"ts":1668577539036,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$9n0UX8ElaSVgMAI4GrMTadS6FXWw0YtszOFHpJNds9k"},
{"content":{"body":" * yeah the iframes are already pretty locked down. the interesting thing i discovered is that you can work around it _slightly_ by creating an iframe (inside the sandbox iframe) with no src, which gives you a fresh window instance somehow? so none of our safety scripts have run yet","format":"org.matrix.custom.html","formatted_body":" * yeah the iframes are already pretty locked down. the interesting thing i discovered is that you can work around it <em>slightly</em> by creating an iframe (inside the sandbox iframe) with no src, which gives you a fresh window instance somehow? so none of our safety scripts have run yet","m.new_content":{"body":"yeah the iframes are already pretty locked down. the interesting thing i discovered is that you can work around it _slightly_ by creating an iframe (inside the sandbox iframe) with no src, which gives you a fresh window instance somehow? so none of our safety scripts have run yet","format":"org.matrix.custom.html","formatted_body":"yeah the iframes are already pretty locked down. the interesting thing i discovered is that you can work around it <em>slightly</em> by creating an iframe (inside the sandbox iframe) with no src, which gives you a fresh window instance somehow? so none of our safety scripts have run yet","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"yeah the iframes are already pretty locked down. the interesting thing i discovered is that you can work around it _slightly_ by creating an iframe (inside the sandbox iframe) with no src, which gives you a fresh window instance somehow? so none of our safety scripts have run yet","mimetype":"text/plain"},{"body":"yeah the iframes are already pretty locked down. the interesting thing i discovered is that you can work around it <em>slightly</em> by creating an iframe (inside the sandbox iframe) with no src, which gives you a fresh window instance somehow? so none of our safety scripts have run yet","mimetype":"text/html"}]},"m.relates_to":{"event_id":"$9n0UX8ElaSVgMAI4GrMTadS6FXWw0YtszOFHpJNds9k","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":" * yeah the iframes are already pretty locked down. the interesting thing i discovered is that you can work around it _slightly_ by creating an iframe (inside the sandbox iframe) with no src, which gives you a fresh window instance somehow? so none of our safety scripts have run yet","mimetype":"text/plain"},{"body":" * yeah the iframes are already pretty locked down. the interesting thing i discovered is that you can work around it <em>slightly</em> by creating an iframe (inside the sandbox iframe) with no src, which gives you a fresh window instance somehow? so none of our safety scripts have run yet","mimetype":"text/html"}]},"ts":1668577675381,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$Or-ZhnL89RSZxh8tZzTZw67ns6BxusmSAikDjb8VZqU"},
{"content":{"body":"lol this makes me sad https://csplite.com/csp/test368","msgtype":"m.text","org.matrix.msc1767.text":"lol this makes me sad https://csplite.com/csp/test368"},"ts":1668579771653,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$_girNipQK0tFo7BysJfTUWGNKwUis0_Fr5wXLxrmE5Y"},
{"content":{"body":"i have no idea who runs this site","msgtype":"m.text","org.matrix.msc1767.text":"i have no idea who runs this site"},"ts":1668579861937,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$bhqz0aMp5y-RDljnoLIxo9dT0O-rM7D_bm5p5ieasBw"},
{"content":{"body":"hah same thing https://github.com/web-platform-tests/wpt/blob/master/content-security-policy/frame-src/frame-src-about-blank-allowed-by-default.sub.html","msgtype":"m.text","org.matrix.msc1767.text":"hah same thing https://github.com/web-platform-tests/wpt/blob/master/content-security-policy/frame-src/frame-src-about-blank-allowed-by-default.sub.html"},"ts":1668579946417,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$g7bS4KdmC2GwDQnG7WwTPnGLoozpTECYCdYTaRUIVIo"},
{"content":{"body":"annevk: https://github.com/mdn/content/issues/22333","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: https://github.com/mdn/content/issues/22333","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"annevk: https://github.com/mdn/content/issues/22333","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: https://github.com/mdn/content/issues/22333","mimetype":"text/html"}]},"ts":1668584858424,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$1ghtdbZEmtVA7d7fdL4k_p4ddvelN8jR7G1vqoRyBXw"},
{"content":{"body":"sideshowbarker: the spec is pretty clear, the getter invokes https://url.spec.whatwg.org/#url-path-serializer","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: the spec is pretty clear, the getter invokes https://url.spec.whatwg.org/#url-path-serializer","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"sideshowbarker: the spec is pretty clear, the getter invokes https://url.spec.whatwg.org/#url-path-serializer","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: the spec is pretty clear, the getter invokes https://url.spec.whatwg.org/#url-path-serializer","mimetype":"text/html"}]},"ts":1668585624002,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$3Z8GE8Ya9b766Fl3QFuDf7-3tjT5YDNlrCxGEvHaLzE"},
{"content":{"body":"Yeah the MDN wording just needs to be fixed","msgtype":"m.text"},"ts":1668585761107,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$0gGhMb1uwsw5r_ukI01UN-Z4J4y3QAcYbpHyiivnroo"},
{"content":{"body":"I hope some contributor picks up the issue so that I don't have to","msgtype":"m.text"},"ts":1668585789021,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$suFUAHEehIinTV0BwP9QQyK3UsnhDKLA0zMCq4FwCb4"},
{"content":{"body":"It should be a quick fix","msgtype":"m.text"},"ts":1668585811303,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$yBjocGRFxxEPQzwMkkjApJncG02lCEQxhAIlrEXOoNQ"},
{"content":{"body":"* I hope some contributor picks up the issue so that I don't have to","m.new_content":{"body":"I hope some contributor picks up the issue so that I don't have to","msgtype":"m.text"},"m.relates_to":{"event_id":"$suFUAHEehIinTV0BwP9QQyK3UsnhDKLA0zMCq4FwCb4","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1668585832915,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$1qyUUcQt3mXAzKKaAgWokSpeLNKq6_gNtaW68uS1BTM"},
{"content":{"body":"Domenic: I think you're right that it'll be awkward at best to define content attributes for ElementInternals... One problem with doing [Reflect] is that ARIA really needs enumerated attributes and we don't have a thing for that as of yet. But maybe a structured table in prose could be sufficient.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: I think you're right that it'll be awkward at best to define content attributes for ElementInternals... One problem with doing [Reflect] is that ARIA really needs enumerated attributes and we don't have a thing for that as of yet. But maybe a structured table in prose could be sufficient.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: I think you're right that it'll be awkward at best to define content attributes for ElementInternals... One problem with doing [Reflect] is that ARIA really needs enumerated attributes and we don't have a thing for that as of yet. But maybe a structured table in prose could be sufficient.","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: I think you're right that it'll be awkward at best to define content attributes for ElementInternals... One problem with doing [Reflect] is that ARIA really needs enumerated attributes and we don't have a thing for that as of yet. But maybe a structured table in prose could be sufficient.","mimetype":"text/html"}]},"ts":1668589503564,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Wz0CShhaJWjhdxUzHdZsEELiv7owzynMNvpIAoLz330"},
{"content":{"body":"Right... ideally ARIA would define its various content attributes as enumerated attributes, and the ElementInternals part could delegate to those definitions?","msgtype":"m.text","org.matrix.msc1767.text":"Right... ideally ARIA would define its various content attributes as enumerated attributes, and the ElementInternals part could delegate to those definitions?"},"ts":1668598489090,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$zrmjUae4lComdQBDJbPkr0QB1W_mazMzAttS3UwLKuM"},
{"content":{"body":"But so far ARIA doesn't really have that level of rigor anyway","msgtype":"m.text","org.matrix.msc1767.text":"But so far ARIA doesn't really have that level of rigor anyway"},"ts":1668598500204,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$tJiDmyZ-gxGSyPb9VKtIuUw0Ruzb920obmLN74-6OrE"}
]