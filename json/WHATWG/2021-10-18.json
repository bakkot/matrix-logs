[
{"content":{"body":"> <@hsivonen:mozilla.org> sideshowbarker: https://github.com/hsivonen/chardetng_j\n\nmakes me want to write more HTML checker source in Rust ðŸ˜„","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$Hdk3zWsKLm6xM2BX3nQ5K_MlAEO-zZpApvAAglxrdw8?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">@hsivonen:mozilla.org</a><br><a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">sideshowbarker</a>: https://github.com/hsivonen/chardetng_j</blockquote></mx-reply>makes me want to write more HTML checker source in Rust ðŸ˜„","m.relates_to":{"m.in_reply_to":{"event_id":"$Hdk3zWsKLm6xM2BX3nQ5K_MlAEO-zZpApvAAglxrdw8"}},"msgtype":"m.text"},"ts":1634522826377,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$ZiqB8OQfmOCvbba6F0chphhbCbhJ5AH3mf-SmiTxy64"},
{"content":{"body":"> <@sideshowbarker:mozilla.org> makes me want to write more HTML checker source in Rust ðŸ˜„\n\nSadly, the ergonomics of the language boundary are poor if arguments and return values of types other than int, long, float, and double. Sequences of bytes work the next best, and even those are rather bad, because the Java `ByteBuffer` API is stateful. I suppose it gets better with Java > 8 that can efficiently copy one `ByteBuffer` into another without changing the internal state of either.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$ZiqB8OQfmOCvbba6F0chphhbCbhJ5AH3mf-SmiTxy64?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">@sideshowbarker:mozilla.org</a><br>makes me want to write more HTML checker source in Rust ðŸ˜„</blockquote></mx-reply>Sadly, the ergonomics of the language boundary are poor if arguments and return values of types other than int, long, float, and double. Sequences of bytes work the next best, and even those are rather bad, because the Java <code>ByteBuffer</code> API is stateful. I suppose it gets better with Java &gt; 8 that can efficiently copy one <code>ByteBuffer</code> into another without changing the internal state of either.","m.relates_to":{"m.in_reply_to":{"event_id":"$ZiqB8OQfmOCvbba6F0chphhbCbhJ5AH3mf-SmiTxy64"}},"msgtype":"m.text"},"ts":1634531882207,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$2IjBCAe0dc_ZZM3pCj7fomiBECuoqf2xLdgBeQdB27Y"},
{"content":{"body":"https://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html#put-java.nio.ByteBuffer- vs. https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/nio/ByteBuffer.html#put(int,java.nio.ByteBuffer,int,int)","msgtype":"m.text"},"ts":1634532019163,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$eqWCzRXsGxXy_g1VHI7fMHjXBcqjCt5HOWPOkrq66yI"},
{"content":{"body":"Where > 8 means 16","msgtype":"m.text"},"ts":1634532034936,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$oBErfj8uQ0yMB6I14ZQAqbuunySPsXwN6EPwWHr-oZM"},
{"content":{"body":"OK","msgtype":"m.text"},"ts":1634532045373,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$Y1BI3tBibbJ33KKASl0QX51LY3bvtLQEPZpZJ2nnCQ0"},
{"content":{"body":"well, maybe time anyway to not try to preserve Java 8 compatibility","msgtype":"m.text"},"ts":1634532066522,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$tIr5v9WWIEMAOfc7YQ1fpT0F_UaTHF3nn4X0i7RPL3A"},
{"content":{"body":"I think maybe the htmlparser code already has some Java > 8 code in it?","msgtype":"m.text"},"ts":1634532112524,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$xf43W8KQ_Us3R9sSChQVc0kK7rHUb5wNHZ30MyHlCuU"},
{"content":{"body":"at least I think our CI is no longer testing Java 8","msgtype":"m.text"},"ts":1634532130586,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$5s1klwot0vwS262qNQnxcAwgEmRj3yCV9j2g70oaMv0"},
{"content":{"body":"â€¦and I donâ€™t think I would have changed that unless it was no-longer Java8-compatible","msgtype":"m.text"},"ts":1634532156694,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$t8H74eqZxjxMsnPWPodVdDzLamVjYqr25QFrFhzJ6k0"},
{"content":{"body":"I'd expect it not to have Java > 8. In fact, the source still looks quite Java 5ish.","msgtype":"m.text"},"ts":1634532171345,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$Rou-AxMUO8P0BjgOLeXOZpuYknfq2ZCh7lPYBeJpYy0"},
{"content":{"body":"well yeah, overall itâ€™s relatively classic ","msgtype":"m.text"},"ts":1634532196972,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$03AVDlJNrwUNAWp3PPKkLUjOA0L-k7zeFRqCQXxTQlg"},
{"content":{"body":"I wonder now why I turned off Java 8 testing in CIâ€¦","msgtype":"m.text"},"ts":1634532227510,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$U_9hAPGYfdYk4mBajKQ7f3xjMHJETZH3-7yCy70kGTw"},
{"content":{"body":"I'm still very disappointed at Java breaking it's compatibility story after 8. For example, in order to run asmble, I had to roll the JDK back to 8, because I got an exception with a newer one.","msgtype":"m.text"},"ts":1634532275144,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$22u7d5abK98wPwBvpqFZFVqvp7VLPsrxn2XT29mPsQg"},
{"content":{"body":"Fortunately, asmble generates code that doesn't depend on asmble itself at runtime.","msgtype":"m.text"},"ts":1634532298469,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$V1CWDQBK7EEQHPfQpXyzAGPFpaUOpYqMUj9XJ-bMKhQ"},
{"content":{"body":"Iâ€™m just glad it doesnâ€™t break more","msgtype":"m.text"},"ts":1634532404429,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$xSuwP_JYoj8tZTIptXtwWWuAzq6TGsB7FDgJTwmbPrw"},
{"content":{"body":"HTML checker build has for years emitted a lot of deprecation warnings","msgtype":"m.text"},"ts":1634532436472,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$gTRjB3ZfTqTqzv6JO8sonq2oG1LoKAPPEYq6eN86c4k"},
{"content":{"body":"some day I guess with some new Java version those are gonna turn into failures","msgtype":"m.text"},"ts":1634532460695,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$1Fbh0hD6UkeM9CkjRWudwYgDvdNL55Z4LGzEyuGfFUU"},
{"content":{"body":"I think the main deprecation warnings are related to code thatâ€™s using old reflection stuff","msgtype":"m.text"},"ts":1634532507928,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$dqi6OfuLUlgRiavMMzEzOA5uS5jwKQ8OVj-7DwZhJN4"},
{"content":{"body":"Jake Archibald:  https://bugs.chromium.org/p/chromium/issues/detail?id=1260776 â€” and proof-of-concept patch at https://chromium-review.googlesource.com/c/chromium/src/+/3226189 (much or most of which came from Dominic Farolino  helping me out)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a>:  https://bugs.chromium.org/p/chromium/issues/detail?id=1260776 â€” and proof-of-concept patch at https://chromium-review.googlesource.com/c/chromium/src/+/3226189 (much or most of which came from <a href=\"https://matrix.to/#/@domfarolino:matrix.org\">Dominic Farolino</a>  helping me out)","msgtype":"m.text"},"ts":1634532551487,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$50dOih27OCpxyl1y17kIgrS3RsQvRtTmnq5JylzBYYk"},
{"content":{"body":"I admit that I still don't intuitively understand modules. Or maven.","msgtype":"m.text"},"ts":1634532553041,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$8TIuJPSgdvquSMFOoaLGuoEvbRqgv5QKBP2fw9m2Hms"},
{"content":{"body":"I hate maven â€” I have never used it for anything, but because of others requesting packages of the HTML checker, have burned up a huge amount of time creating the maven package ","msgtype":"m.text"},"ts":1634532647446,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$FqN0RdFLxcE4Y30RdX9o3IsGggy9R2x_wdFtHRGVKjY"},
{"content":{"body":"and releasing anything to Maven is still just a massive PITA â€” even though I have it all automated","msgtype":"m.text"},"ts":1634532671091,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$rop9_ml65SLQ8dRAOTi728Um1ZOG_LR24UYOEGzL59g"},
{"content":{"body":"Itâ€™s possible now to release Maven packages directly through GitHub, and I actually have that set up","msgtype":"m.text"},"ts":1634532716846,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$3GjFkb9shm6etUfaHwfexGIbZUUCGYs091Q8XZAgrnk"},
{"content":{"body":"the release process for that is much easier","msgtype":"m.text"},"ts":1634532737875,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$jSRirxqeoks0iL_EERiDdakmGqepaCB9p9CpB5kJrk4"},
{"content":{"body":"for the Central Repo, the whole UI of there Web thing really looks like some circa 1990s Oracle application or something","msgtype":"m.text"},"ts":1634532789922,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$uioG3v63I9GyVW9ItzPusrRltM-JSnTMRLoN-1shGLE"},
{"content":{"body":"horrible","msgtype":"m.text"},"ts":1634532801725,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$keZrm8o8NKyAiY2Kt17GtJeOP50TvTbT_cbxECoitXY"},
{"content":{"body":"Sonatype thing","msgtype":"m.text"},"ts":1634532903429,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$FctRpwL2gmdoUPC7DEjUvnlBkkXmQm9jQ3UYz6OG_kA"},
{"content":{"body":"GitHub thing is at https://github.com/validator/validator/packages/892686","msgtype":"m.text"},"ts":1634532927168,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$2iMo23YBQqXmL5FjUHrLb9Pg9-_xHF8HzWbSvHjZx50"},
{"content":{"body":"also now releasing Docker images of the HTML checker through GitHub: https://github.com/validator/validator/pkgs/container/validator","msgtype":"m.text"},"ts":1634532975763,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$zJFtyXTsShfBJ54e3OdUsSY4qo6PLP1jRErtSs_sl20"},
{"content":{"body":"â€¦and NPMs too: https://github.com/validator/validator/packages/892707","msgtype":"m.text"},"ts":1634532998677,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$CZLct95XT9BrlVZT9JUTAjAU6z0_pL-a5aFEIDk_umA"},
{"content":{"body":"> <@sideshowbarker:mozilla.org> Jake Archibald:  https://bugs.chromium.org/p/chromium/issues/detail?id=1260776 â€” and proof-of-concept patch at https://chromium-review.googlesource.com/c/chromium/src/+/3226189 (much or most of which came from Dominic Farolino  helping me out)\n\nThis is great, cheers!","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$50dOih27OCpxyl1y17kIgrS3RsQvRtTmnq5JylzBYYk?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">@sideshowbarker:mozilla.org</a><br /><a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a>:  https://bugs.chromium.org/p/chromium/issues/detail?id=1260776 â€” and proof-of-concept patch at https://chromium-review.googlesource.com/c/chromium/src/+/3226189 (much or most of which came from <a href=\"https://matrix.to/#/@domfarolino:matrix.org\">Dominic Farolino</a>  helping me out)</blockquote></mx-reply>This is great, cheers!","m.relates_to":{"m.in_reply_to":{"event_id":"$50dOih27OCpxyl1y17kIgrS3RsQvRtTmnq5JylzBYYk"}},"msgtype":"m.text"},"ts":1634535316292,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$C-R0SJfYgnv1Fo8BJlk-gGLRNCDaeg0_Iz7rRvm2yH8"},
{"content":{"body":"Anyone want to review https://github.com/whatwg/dom/pull/1028? Should be quite straightforward. Fixes a 12yo bug with code point values.","msgtype":"m.text"},"ts":1634542987585,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$gdFMfHOYOm9d6XdzhDe2kTfedTkFNij2_njcs9niihU"},
{"content":{"body":"Can anyone help me understand what I am doing wrong in the following? I am missing something that should be obvious... https://github.com/whatwg/fetch/pull/1311#discussion_r729970913","msgtype":"m.text"},"ts":1634547797749,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$Dz9uO7vndtvA8uzmviH6SIZ3sCTE2O-B9L6O5eEVSPI"},
{"content":{"body":"(A infra-usage nit I got stuck with)","msgtype":"m.text"},"ts":1634548194607,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$-0_bsA5uHtBduJSe3FIY_8X5HEBMGTfd8ojeCdcfL1Y"},
{"content":{"body":"Noam Rosenthal: I wonder if your choice of font shows different characters from mine, but a problem is that `â‰«` != `Â»`; at various stages there were other problems as well","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: I wonder if your choice of font shows different characters from mine, but a problem is that <code>â‰«</code> != <code>Â»</code>; at various stages there were other problems as well","msgtype":"m.text"},"ts":1634548777662,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$G2FitqBRqk6QWTt1xDHK6JbjB5BiQRiGB5jR45jlnHs"},
{"content":{"body":"> <@annevk:mozilla.org> Noam Rosenthal: I wonder if your choice of font shows different characters from mine, but a problem is that `â‰«` != `Â»`; at various stages there were other problems as well\n\nAhhh OK I had unicode blindness. Gotcha","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs%3Amatrix.org/%24G2FitqBRqk6QWTt1xDHK6JbjB5BiQRiGB5jR45jlnHs\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br><a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: I wonder if your choice of font shows different characters from mine, but a problem is that <code>â‰«</code> != <code>Â»</code>; at various stages there were other problems as well</blockquote></mx-reply>Ahhh OK I had unicode blindness. Gotcha","m.relates_to":{"m.in_reply_to":{"event_id":"$G2FitqBRqk6QWTt1xDHK6JbjB5BiQRiGB5jR45jlnHs"}},"msgtype":"m.text"},"ts":1634549065856,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$RszNKKuytgqDWhhXTrr1P8rCEvkXLqB2PoZKsDALRY4"},
{"content":{"body":"Yes I originally misunderstood that operator.","msgtype":"m.text"},"ts":1634549115248,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$JpYLh_ubVMvUXyzFyl_H2Wk-5ZadJeEz4sjRFz7IHvs"},
{"content":{"body":"foolip: whatâ€™s the link for the State of CSS video conference?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@foolip:matrix.org\">foolip</a>: whatâ€™s the link for the State of CSS video conference?","msgtype":"m.text"},"ts":1634565715849,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$rV6o4xkn-6hBxwq70LcrVVgw7WJbwr6GKHL6S5PJ9XQ"},
{"content":{"body":"timothygu and Domenic: let me know if https://github.com/whatwg/url/pull/655 looks good; quite nice that applying it to whatwg-url worked directly","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@timothygu:matrix.org\">timothygu</a> and <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: let me know if https://github.com/whatwg/url/pull/655 looks good; quite nice that applying it to whatwg-url worked directly","msgtype":"m.text"},"ts":1634568810167,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$uRT5xp7RVsMm_-NtiN3plClrqS8QSTY-ffsh2BNO9h0"},
{"content":{"body":"> <@sideshowbarker:mozilla.org> foolip: whatâ€™s the link for the State of CSS video conference?\n\nGood question! I guess Dom did the recording and can access it?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs%3Amatrix.org/%24rV6o4xkn-6hBxwq70LcrVVgw7WJbwr6GKHL6S5PJ9XQ\">In reply to</a> <a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">@sideshowbarker:mozilla.org</a><br><a href=\"https://matrix.to/#/@foolip:matrix.org\">foolip</a>: whatâ€™s the link for the State of CSS video conference?</blockquote></mx-reply>Good question! I guess Dom did the recording and can access it?","m.relates_to":{"m.in_reply_to":{"event_id":"$rV6o4xkn-6hBxwq70LcrVVgw7WJbwr6GKHL6S5PJ9XQ"}},"msgtype":"m.text"},"ts":1634590554012,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$-CIQIo6a25MxNHo9Q5ycxPcUDMG2Gc2c1hbJXOBkKUU"}
]