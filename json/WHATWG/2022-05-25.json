[
{"content":{"body":"Is there a list of implementations of https://url.spec.whatwg.org/ somewhere? Specifically looking for a python implementation.","msgtype":"m.text","org.matrix.msc1767.text":"Is there a list of implementations of https://url.spec.whatwg.org/ somewhere? Specifically looking for a python implementation."},"ts":1653479469396,"senderName":"iwan.aucamp","senderId":"@iwan.aucamp:matrix.org","id":"$QXTGSyQmdz1pqHk0AbgMjO8eHaxOE2DAeWFJSArIOtU"},
{"content":{"body":"But would settle for library in any other language also","msgtype":"m.text","org.matrix.msc1767.text":"But would settle for library in any other language also"},"ts":1653479484472,"senderName":"iwan.aucamp","senderId":"@iwan.aucamp:matrix.org","id":"$eypWYnRYbGAzQjmKIPSK_xjuMOGjN6VNGE5Cxy-gYuA"},
{"content":{"body":"Ah nvm, I found some","msgtype":"m.text","org.matrix.msc1767.text":"Ah nvm, I found some"},"ts":1653479550887,"senderName":"iwan.aucamp","senderId":"@iwan.aucamp:matrix.org","id":"$pJi0rzTxAItGhVqrXNfPqo40Ufok4owRRlXdJFl1tTs"},
{"content":{"body":"Mattias Buelens: how does transformAlgorithm convey stream closure or an error of some kind?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@mattiasbuelens:matrix.org\">Mattias Buelens</a>: how does transformAlgorithm convey stream closure or an error of some kind?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Mattias Buelens: how does transformAlgorithm convey stream closure or an error of some kind?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@mattiasbuelens:matrix.org\">Mattias Buelens</a>: how does transformAlgorithm convey stream closure or an error of some kind?","mimetype":"text/html"}]},"ts":1653479659426,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$eckg3lulcAkM52s97AigesjNfPWELDPwyC7u4Uqk_pY"},
{"content":{"body":"In a `TransformStream` that is; from the surface it seems like it only deals with successful scenarios","format":"org.matrix.custom.html","formatted_body":"In a <code>TransformStream</code> that is; from the surface it seems like it only deals with successful scenarios","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"In a `TransformStream` that is; from the surface it seems like it only deals with successful scenarios","mimetype":"text/plain"},{"body":"In a <code>TransformStream</code> that is; from the surface it seems like it only deals with successful scenarios","mimetype":"text/html"}]},"ts":1653479700191,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$Gj-3msygf5S_dWP7QGf1450CwQUYpZa7VSBm6FhEF3M"},
{"content":{"body":"annevk: yes this is an issue. There is an open issue on the spec for this that one of our engineers was going to look into. Let me find it","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: yes this is an issue. There is an open issue on the spec for this that one of our engineers was going to look into. Let me find it","msgtype":"m.text"},"ts":1653479763244,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$c5kQPbt2W5ToFZvlRRLWsZOLWScsZVQI5fwifKVHGsw"},
{"content":{"body":"> <@lucacasonato:matrix.org> annevk: yes this is an issue. There is an open issue on the spec for this that one of our engineers was going to look into. Let me find it\n\nhttps://github.com/whatwg/streams/issues/1212","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$c5kQPbt2W5ToFZvlRRLWsZOLWScsZVQI5fwifKVHGsw?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">@lucacasonato:matrix.org</a><br><a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: yes this is an issue. There is an open issue on the spec for this that one of our engineers was going to look into. Let me find it</blockquote></mx-reply>https://github.com/whatwg/streams/issues/1212","m.relates_to":{"m.in_reply_to":{"event_id":"$c5kQPbt2W5ToFZvlRRLWsZOLWScsZVQI5fwifKVHGsw"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@lucacasonato:matrix.org> annevk: yes this is an issue. There is an open issue on the spec for this that one of our engineers was going to look into. Let me find it\n\nhttps://github.com/whatwg/streams/issues/1212","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$c5kQPbt2W5ToFZvlRRLWsZOLWScsZVQI5fwifKVHGsw?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">@lucacasonato:matrix.org</a><br><a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: yes this is an issue. There is an open issue on the spec for this that one of our engineers was going to look into. Let me find it</blockquote></mx-reply>https://github.com/whatwg/streams/issues/1212","mimetype":"text/html"}]},"ts":1653479779749,"senderName":"Mattias Buelens","senderId":"@mattiasbuelens:matrix.org","id":"$Up5Uu9kEHtu1eeVzbkW1X6VioQHBjtcUSL0L26rSaXg"},
{"content":{"body":"crowlkats has started work on that. Don't know what the current progress is though","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@crowlkats:matrix.org\">crowlkats</a> has started work on that. Don't know what the current progress is though","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"crowlkats has started work on that. Don't know what the current progress is though","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@crowlkats:matrix.org\">crowlkats</a> has started work on that. Don't know what the current progress is though","mimetype":"text/html"}]},"ts":1653479860763,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$---E3SMBFR_e-ZcQsXgs3PtkrshQQEOicbhsj9CRreA"},
{"content":{"body":"Thanks! Since this is mainly about specification language I guess I can figure something out whereby I either wait for sufficient chunks or the stream to close or error. The error does propagate at the moment, right? Or does everything in Fetch that uses TransformStream have some kind of bug?","msgtype":"m.text","org.matrix.msc1767.text":"Thanks! Since this is mainly about specification language I guess I can figure something out whereby I either wait for sufficient chunks or the stream to close or error. The error does propagate at the moment, right? Or does everything in Fetch that uses TransformStream have some kind of bug?"},"ts":1653483251992,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$Ljh9nkHdfR6WDz3ePI13pDUPFnVz5iDJL55EAOrqlh0"},
{"content":{"body":"> <@annevk:mozilla.org> Thanks! Since this is mainly about specification language I guess I can figure something out whereby I either wait for sufficient chunks or the stream to close or error. The error does propagate at the moment, right? Or does everything in Fetch that uses TransformStream have some kind of bug?\n\nYeah, the error does propagate, but `TransformStream` is just completely oblivious to the error right now.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$Ljh9nkHdfR6WDz3ePI13pDUPFnVz5iDJL55EAOrqlh0?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br>Thanks! Since this is mainly about specification language I guess I can figure something out whereby I either wait for sufficient chunks or the stream to close or error. The error does propagate at the moment, right? Or does everything in Fetch that uses TransformStream have some kind of bug?</blockquote></mx-reply>Yeah, the error does propagate, but <code>TransformStream</code> is just completely oblivious to the error right now.","m.relates_to":{"m.in_reply_to":{"event_id":"$Ljh9nkHdfR6WDz3ePI13pDUPFnVz5iDJL55EAOrqlh0"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@annevk:mozilla.org> Thanks! Since this is mainly about specification language I guess I can figure something out whereby I either wait for sufficient chunks or the stream to close or error. The error does propagate at the moment, right? Or does everything in Fetch that uses TransformStream have some kind of bug?\n\nYeah, the error does propagate, but `TransformStream` is just completely oblivious to the error right now.","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$Ljh9nkHdfR6WDz3ePI13pDUPFnVz5iDJL55EAOrqlh0?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br>Thanks! Since this is mainly about specification language I guess I can figure something out whereby I either wait for sufficient chunks or the stream to close or error. The error does propagate at the moment, right? Or does everything in Fetch that uses TransformStream have some kind of bug?</blockquote></mx-reply>Yeah, the error does propagate, but <code>TransformStream</code> is just completely oblivious to the error right now.","mimetype":"text/html"}]},"ts":1653484280020,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$rscR6eWvXz5MnTHyBRCIOy0QYREppPtxXYbw5toSaGo"},
{"content":{"body":"But if you error a readable stream that is piped through a transform stream into a writable stream, the writable stream will be aborted correctly.","msgtype":"m.text","org.matrix.msc1767.text":"But if you error a readable stream that is piped through a transform stream into a writable stream, the writable stream will be aborted correctly."},"ts":1653484360875,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$so1AK-MC_NKRUiL8bb4A4omg6Q6aRgCHauZZo9wihUo"},
{"content":{"body":"Thanks Luca, I guess I'll add a comment for now","msgtype":"m.text","org.matrix.msc1767.text":"Thanks Luca, I guess I'll add a comment for now"},"ts":1653484786454,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$uu5G7E68gzy8JIXeJ3Cef5buRJkuNE8og5mFWiU97RQ"},
{"content":{"body":"Mattias Buelens: Luca Casonato: here's a draft, would love your critique: https://gist.github.com/annevk/ca5475aa173820effdd90b5298bf49c1","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@mattiasbuelens:matrix.org\">Mattias Buelens</a>: <a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">Luca Casonato</a>: here's a draft, would love your critique: https://gist.github.com/annevk/ca5475aa173820effdd90b5298bf49c1","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Mattias Buelens: Luca Casonato: here's a draft, would love your critique: https://gist.github.com/annevk/ca5475aa173820effdd90b5298bf49c1","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@mattiasbuelens:matrix.org\">Mattias Buelens</a>: <a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">Luca Casonato</a>: here's a draft, would love your critique: https://gist.github.com/annevk/ca5475aa173820effdd90b5298bf49c1","mimetype":"text/html"}]},"ts":1653486049869,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$7cp7yqXs4EqG1Rf9hZG64COFJmaFARv_jiF3BnKW98w"},
{"content":{"body":"(the \"in parallel\" has a JS engine running concern is known btw, I'm not really sure how to solve that other than having \"concept\" streams, which I guess we should get to to solve a number of such issues)","msgtype":"m.text","org.matrix.msc1767.text":"(the \"in parallel\" has a JS engine running concern is known btw, I'm not really sure how to solve that other than having \"concept\" streams, which I guess we should get to to solve a number of such issues)"},"ts":1653486125271,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$WvN2s4W8gO0xnlAKbqFV-P4ZRkXSw9k9Z7CsnwrWiVY"},
{"content":{"body":"What if the response body is shorter than 1024 bytes? You'd wait forever in step 3, right?","msgtype":"m.text"},"ts":1653486357647,"senderName":"Mattias Buelens","senderId":"@mattiasbuelens:matrix.org","id":"$biDpRKor40J3TAAYfHGsuwMVAanD-clvFqR01CP5R_M"},
{"content":{"body":"You probably want a flushAlgorithm, so you can stop waiting if you reach EOF before filling up 1024 bytes.","msgtype":"m.text"},"ts":1653486427455,"senderName":"Mattias Buelens","senderId":"@mattiasbuelens:matrix.org","id":"$c4ph_FNv3HWblOoBO5QpJUgF7zKrm7ttyebvfIjB6J8"},
{"content":{"body":"Sort of related: In Firefox we also have non-standard error callback from UnderlyingSource, because that was required for something in fetch","msgtype":"m.text","org.matrix.msc1767.text":"Sort of related: In Firefox we also have non-standard error callback from UnderlyingSource, because that was required for something in fetch"},"ts":1653486509603,"senderName":"evilpie","senderId":"@evilpie:mozilla.org","id":"$CTBMkDzsDRecSI-qJyNz84c0jlq13GuVTP0aHOMPU0I"},
{"content":{"body":"Interesting, that's probably worth raising in an issue somewhere evilpie ","format":"org.matrix.custom.html","formatted_body":"Interesting, that's probably worth raising in an issue somewhere <a href=\"https://matrix.to/#/@evilpie:mozilla.org\">evilpie</a>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Interesting, that's probably worth raising in an issue somewhere evilpie ","mimetype":"text/plain"},{"body":"Interesting, that's probably worth raising in an issue somewhere <a href=\"https://matrix.to/#/@evilpie:mozilla.org\">evilpie</a>","mimetype":"text/html"}]},"ts":1653486669757,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$vs5z8F9DN6p-3KeDZr7ZXo1APVv3yMIcDyvb5ESKqYk"}
]