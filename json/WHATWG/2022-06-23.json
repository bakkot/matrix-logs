[
{"content":{"body":"smaug: Luca Casonato: see https://github.com/w3c/FileAPI/issues/43 for changing that (it shouldn't lowercase parameters as that can change meaning in certain cases, such as with `boundary`)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: <a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">Luca Casonato</a>: see https://github.com/w3c/FileAPI/issues/43 for changing that (it shouldn't lowercase parameters as that can change meaning in certain cases, such as with <code>boundary</code>)","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"smaug: Luca Casonato: see https://github.com/w3c/FileAPI/issues/43 for changing that (it shouldn't lowercase parameters as that can change meaning in certain cases, such as with `boundary`)","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: <a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">Luca Casonato</a>: see https://github.com/w3c/FileAPI/issues/43 for changing that (it shouldn't lowercase parameters as that can change meaning in certain cases, such as with <code>boundary</code>)","mimetype":"text/html"}]},"ts":1655970530751,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$S7eLLxG-XsXABmx0Kb_btOlRa4TFFRnaCpOS_SWZwO0"},
{"content":{"body":"sideshowbarker: when you're around, can you merge https://github.com/validator/htmlparser/pull/70? Henri will be afk for a couple weeks :)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">sideshowbarker</a>: when you're around, can you merge https://github.com/validator/htmlparser/pull/70? Henri will be afk for a couple weeks :)","msgtype":"m.text"},"ts":1655974172820,"senderName":"emilio","senderId":"@emilio:mozilla.org","id":"$LEHRMbey9YWmFXmgFwiIMcOEuQpEoNBv7n0G1QF8SSk"},
{"content":{"body":"> <@emilio:mozilla.org> sideshowbarker: when you're around, can you merge https://github.com/validator/htmlparser/pull/70? Henri will be afk for a couple weeks :)\n\nyup — just now merged","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$LEHRMbey9YWmFXmgFwiIMcOEuQpEoNBv7n0G1QF8SSk?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@emilio:mozilla.org\">@emilio:mozilla.org</a><br><a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">sideshowbarker</a>: when you're around, can you merge https://github.com/validator/htmlparser/pull/70? Henri will be afk for a couple weeks :)</blockquote></mx-reply>yup — just now merged","m.relates_to":{"m.in_reply_to":{"event_id":"$LEHRMbey9YWmFXmgFwiIMcOEuQpEoNBv7n0G1QF8SSk"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@emilio:mozilla.org> sideshowbarker: when you're around, can you merge https://github.com/validator/htmlparser/pull/70? Henri will be afk for a couple weeks :)\n\nyup — just now merged","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$LEHRMbey9YWmFXmgFwiIMcOEuQpEoNBv7n0G1QF8SSk?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@emilio:mozilla.org\">@emilio:mozilla.org</a><br><a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">sideshowbarker</a>: when you're around, can you merge https://github.com/validator/htmlparser/pull/70? Henri will be afk for a couple weeks :)</blockquote></mx-reply>yup — just now merged","mimetype":"text/html"}]},"ts":1655979989609,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$_o4fM-ldtStg-LNNpVi24DyeCZ5zS-F5HzBpze8B35w"},
{"content":{"body":"sideshowbarker: if you can review https://github.com/validator/htmlparser/pull/71 as well that'd be awesome, but no worries, it's not super-urgent (though it should be trivial :P). Tests and so have been reviewed already in https://bugzilla.mozilla.org/show_bug.cgi?id=1775477 fwiw :)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">sideshowbarker</a>: if you can review https://github.com/validator/htmlparser/pull/71 as well that'd be awesome, but no worries, it's not super-urgent (though it should be trivial :P). Tests and so have been reviewed already in https://bugzilla.mozilla.org/show_bug.cgi?id=1775477 fwiw :)","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"sideshowbarker: if you can review https://github.com/validator/htmlparser/pull/71 as well that'd be awesome, but no worries, it's not super-urgent (though it should be trivial :P). Tests and so have been reviewed already in https://bugzilla.mozilla.org/show_bug.cgi?id=1775477 fwiw :)","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">sideshowbarker</a>: if you can review https://github.com/validator/htmlparser/pull/71 as well that'd be awesome, but no worries, it's not super-urgent (though it should be trivial :P). Tests and so have been reviewed already in https://bugzilla.mozilla.org/show_bug.cgi?id=1775477 fwiw :)","mimetype":"text/html"}]},"ts":1655980165356,"senderName":"emilio","senderId":"@emilio:mozilla.org","id":"$hIiyOlWc6Br2s93-UoVwPC79A2oTe5d6Co21NK3SABs"},
{"content":{"body":"will look right now","msgtype":"m.text","org.matrix.msc1767.text":"will look right now"},"ts":1655980184686,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$DXkGa5m5J22mOIhMgQS-SkEdxGKXGbeNO9Mh3a1hxE0"},
{"content":{"body":"checks the spec","msgtype":"m.emote","org.matrix.msc1767.text":"checks the spec"},"ts":1655980238613,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$wUab9KYVeQxaWKTss_WgP5lXbUJTBvWY-TUtFerewZA"},
{"content":{"body":"hmm yeah `keygen` is not in the spec any longer, I see","format":"org.matrix.custom.html","formatted_body":"hmm yeah <code>keygen</code> is not in the spec any longer, I see","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"hmm yeah `keygen` is not in the spec any longer, I see","mimetype":"text/plain"},{"body":"hmm yeah <code>keygen</code> is not in the spec any longer, I see","mimetype":"text/html"}]},"ts":1655980287034,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$m7U-NnbnIuSx4npHDstEPaP2ASZ8LN0bj-m7p5RpnVs"},
{"content":{"body":"now reads https://bugzilla.mozilla.org/show_bug.cgi?id=1775477","msgtype":"m.emote","org.matrix.msc1767.text":"now reads https://bugzilla.mozilla.org/show_bug.cgi?id=1775477"},"ts":1655980300016,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$mK9pqX0ThiQjsx5aO8XvJew555e4g7ek2EbD86Q4ILY"},
{"content":{"body":"Yeah, all browsers agree on it being an HTMLUnknownElement _except_ gecko when created from the parser, because we forgot to regenerate the C++ sources / ElementName.java :-(","format":"org.matrix.custom.html","formatted_body":"Yeah, all browsers agree on it being an HTMLUnknownElement <em>except</em> gecko when created from the parser, because we forgot to regenerate the C++ sources / ElementName.java :-(","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Yeah, all browsers agree on it being an HTMLUnknownElement _except_ gecko when created from the parser, because we forgot to regenerate the C++ sources / ElementName.java :-(","mimetype":"text/plain"},{"body":"Yeah, all browsers agree on it being an HTMLUnknownElement <em>except</em> gecko when created from the parser, because we forgot to regenerate the C++ sources / ElementName.java :-(","mimetype":"text/html"}]},"ts":1655980373371,"senderName":"emilio","senderId":"@emilio:mozilla.org","id":"$IP7-xGObiue1X5_vX2JR9K5RIpVSpA6neE-o_u6BZdk"},
{"content":{"body":"heh :)","msgtype":"m.text","org.matrix.msc1767.text":"heh :)"},"ts":1655980385379,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$Y5_TZyCsL-c1bTpEcrD9FqHujqPRB6RjIj7bRRy6nEQ"},
{"content":{"body":"well, it’s merged now — so we’ll have proper interop for it","msgtype":"m.text","org.matrix.msc1767.text":"well, it’s merged now — so we’ll have proper interop for it"},"ts":1655980418987,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$qIOPEUCor3oll0OsWGS8gUUNVWo9mtFBvu9_AXidkr8"},
{"content":{"body":"minor win but hey, it’s still good","msgtype":"m.text","org.matrix.msc1767.text":"minor win but hey, it’s still good"},"ts":1655980430139,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$_WRg0jsJOXSQM2pN8UwxCOmcgRIJa6nFqYtxKPD6gKc"},
{"content":{"body":"yeah, fairly minor, but while I was at it seemed worth doing :)","msgtype":"m.text","org.matrix.msc1767.text":"yeah, fairly minor, but while I was at it seemed worth doing :)"},"ts":1655980447747,"senderName":"emilio","senderId":"@emilio:mozilla.org","id":"$aO3bHtwf5d2qCGvyGqYyCFjaJRd2WqEJ_DfAtZRhANY"},
{"content":{"body":"yup","msgtype":"m.text","org.matrix.msc1767.text":"yup"},"ts":1655980459346,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$nRSaON4Kq63klUhTzfV8JOLC_mfGlMBh-4iyZvM8I_I"},
{"content":{"body":"Hmm why is lists.whatwg.org incomplete? (Doesn't contain replies to the referenced email)","msgtype":"m.text","org.matrix.msc1767.text":"Hmm why is lists.whatwg.org incomplete? (Doesn't contain replies to the referenced email)"},"ts":1655991349416,"senderName":"zcorpan","senderId":"@zcorpan_:matrix.org","id":"$1USFofD_mduDk8Lq-dN-9x_gqUBK-hXskNmJic3zl-c"},
{"content":{"body":"referenced in https://twitter.com/fmalina/status/1539963473488011264","msgtype":"m.text","org.matrix.msc1767.text":"referenced in https://twitter.com/fmalina/status/1539963473488011264"},"ts":1655991357035,"senderName":"zcorpan","senderId":"@zcorpan_:matrix.org","id":"$98ShStMK4EQPEbsDjxYtAlHt2_XEeNSU0GsI-Glyx-g"},
{"content":{"body":"It was created from some static backup crawl that I believe was incomplete","msgtype":"m.text","org.matrix.msc1767.text":"It was created from some static backup crawl that I believe was incomplete"},"ts":1656004938614,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$g3V0Mklug9wP0nC0OEx-7J3p5wLG1rijYfOFcivZmPM"},
{"content":{"body":"https://github.com/whatwg/whatwg.org/pull/270","msgtype":"m.text","org.matrix.msc1767.text":"https://github.com/whatwg/whatwg.org/pull/270"},"ts":1656004962364,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$oLQHgQLluMNbAyJQlLuaqbMY6oKb2BtwjZBEu6DWT_s"},
{"content":{"body":"https://github.com/whatwg/meta/issues/153#issuecomment-566980200","msgtype":"m.text","org.matrix.msc1767.text":"https://github.com/whatwg/meta/issues/153#issuecomment-566980200"},"ts":1656005020181,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$47EAnph_MBKaPS01Z17rQVi3Egi_q9sAHpwGmODKB2I"},
{"content":{"body":"I think that the discrepancy between the HTML standard's `aside` element and WAI-ARIA's `contentinfo` role warrants breaking the first rule of ARIA, but I'm just a novice so i thought i should ask first:\nIn articles on my website, I have section permalinks following each `<h2>` (excluding those in sections with `role=\"doc-preface\"`, since those aren't in the TOC). I want these permalinks to look more or less the same whether you use a textual browser (e.g. lynx) or a graphical browser, and to not be radically different to screen reader users. Here's an example article (https://seirdy.one/posts/2022/06/10/cli-best-practices/).\nProblem: some article extractors (\"reader modes\") don't handle these section permalinks well. DOM Distiller (Chromium) completely removes the headings and permalinks; Readability (Firefox, Brave), Safari reading mode, and Immersive Reader (used in Edge) include the permalinks; Trafilatura sometimes combines the headings and permalinks without any whitespace between them. Ideally, a reading-mode implementation would just remove the section permalinks but keep the headings; none of them do this.\nOne change that would fix all these reading-modes would be wrapping the section permalinks in an `aside` element. That seems in line with the HTML Standard (ancilliary content that a reading-mode can exclude), but doesn't seem to be in line with WAI-ARIA: I don't want to create a `contentinfo` landmark for each section permalink! I could override the `aside` elements' implicit roles with an explicit `role` attribute, but I want to be careful; I've never broken the first rule of ARIA before, so I don't know if this is the \"right place\" to do so.\n\nAnyone more familiar with the standards know how I should navigate this discrepancy between the WHATWG HTML standard and WAI-ARIA?","format":"org.matrix.custom.html","formatted_body":"<p>I think that the discrepancy between the HTML standard's <code>aside</code> element and WAI-ARIA's <code>contentinfo</code> role warrants breaking the first rule of ARIA, but I'm just a novice so i thought i should ask first:<br>\nIn articles on my website, I have section permalinks following each <code>&lt;h2&gt;</code> (excluding those in sections with <code>role=&quot;doc-preface&quot;</code>, since those aren't in the TOC). I want these permalinks to look more or less the same whether you use a textual browser (e.g. lynx) or a graphical browser, and to not be radically different to screen reader users. <a href=\"https://seirdy.one/posts/2022/06/10/cli-best-practices/\">Here's an example article</a>.<br>\nProblem: some article extractors (&quot;reader modes&quot;) don't handle these section permalinks well. DOM Distiller (Chromium) completely removes the headings and permalinks; Readability (Firefox, Brave), Safari reading mode, and Immersive Reader (used in Edge) include the permalinks; Trafilatura sometimes combines the headings and permalinks without any whitespace between them. Ideally, a reading-mode implementation would just remove the section permalinks but keep the headings; none of them do this.<br>\nOne change that would fix all these reading-modes would be wrapping the section permalinks in an <code>aside</code> element. That seems in line with the HTML Standard (ancilliary content that a reading-mode can exclude), but doesn't seem to be in line with WAI-ARIA: I don't want to create a <code>contentinfo</code> landmark for each section permalink! I could override the <code>aside</code> elements' implicit roles with an explicit <code>role</code> attribute, but I want to be careful; I've never broken the first rule of ARIA before, so I don't know if this is the &quot;right place&quot; to do so.</p>\n<p>Anyone more familiar with the standards know how I should navigate this discrepancy between the WHATWG HTML standard and WAI-ARIA?</p>","msgtype":"m.text"},"ts":1656014930880,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$5WgownxQXdwIbrIVUFD6bL8lK5-TMNZP-UXr0_SD-ME"},
{"content":{"body":"Permalinks don't seem like <aside>s to me. Recall that aside is a \"section of the page\", i.e. something that traditionally has its own headings, content, etc.","msgtype":"m.text","org.matrix.msc1767.text":"Permalinks don't seem like <aside>s to me. Recall that aside is a \"section of the page\", i.e. something that traditionally has its own headings, content, etc."},"ts":1656015418820,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$ohDnZ6MJBFnlX6CVCjRhPb4daJoHIx-JsM8ZM_Th71c"},
{"content":{"body":"ah I see","msgtype":"m.text"},"ts":1656015492306,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$XjHDVgzXwJ9vjkLCe_SIZYLSyPjH_XqzuVvYho1Zdnk"},
{"content":{"body":"How would you go about this?","msgtype":"m.text"},"ts":1656015498316,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$YQSOQqbPT6YGrg7A7UXBHCgMZMMAIUmXS1lYep06USo"},
{"content":{"body":"I've seen many different ways of doing this but I'm not particularly fond of them","msgtype":"m.text"},"ts":1656015516380,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$K039TQzBOTza4fm5PzV95PoqyOfQgBSUAvFTGX8pQ8E"},
{"content":{"body":"because they make textual-browsers, graphical-browsers, and screen readers see content that is too different (IMO)","msgtype":"m.text"},"ts":1656015539448,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$MLL4sahui-p5CIDaXOch1iXkn-1J2pF_IpsPNFomtI0"},
{"content":{"body":"my current solution (no `<aside>`, just a hyperlink with an `aria-labelledby` that includes the visible link name and the section name) actuall works really well, in that all three aforementioned audiences perceive something almost identical and can navigate it pretty easily. That is, until you use literally any reading-mode implementation (hence the problem).","format":"org.matrix.custom.html","formatted_body":"my current solution (no <code>&lt;aside&gt;</code>, just a hyperlink with an <code>aria-labelledby</code> that includes the visible link name and the section name) actuall works really well, in that all three aforementioned audiences perceive something almost identical and can navigate it pretty easily. That is, until you use literally any reading-mode implementation (hence the problem).","msgtype":"m.text"},"ts":1656015608705,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$k6c_lRuHG0m-sGUqTvw6_IRt0w_MSOs_sWQeKcXdYd8"},
{"content":{"body":"* my current solution (no `<aside>`, just a hyperlink with an aria-label that includes the visible link name) actuall works really well, in that all three aforementioned audiences see something almost identical and can navigate it pretty easily. That is, until you use literally any reading-mode implementation (hence the problem).","format":"org.matrix.custom.html","formatted_body":"* my current solution (no <code>&lt;aside&gt;</code>, just a hyperlink with an aria-label that includes the visible link name) actuall works really well, in that all three aforementioned audiences see something almost identical and can navigate it pretty easily. That is, until you use literally any reading-mode implementation (hence the problem).","m.new_content":{"body":"my current solution (no `<aside>`, just a hyperlink with an aria-label that includes the visible link name) actuall works really well, in that all three aforementioned audiences see something almost identical and can navigate it pretty easily. That is, until you use literally any reading-mode implementation (hence the problem).","format":"org.matrix.custom.html","formatted_body":"my current solution (no <code>&lt;aside&gt;</code>, just a hyperlink with an aria-label that includes the visible link name) actuall works really well, in that all three aforementioned audiences see something almost identical and can navigate it pretty easily. That is, until you use literally any reading-mode implementation (hence the problem).","msgtype":"m.text"},"m.relates_to":{"event_id":"$k6c_lRuHG0m-sGUqTvw6_IRt0w_MSOs_sWQeKcXdYd8","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1656015680754,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$QEf8tv8Mc6r-OrtLQe0aEWwMgZ6PyoHA4SxqaQ-qAX4"},
{"content":{"body":"* How would you mark this up?","m.new_content":{"body":"How would you mark this up?","msgtype":"m.text"},"m.relates_to":{"event_id":"$YQSOQqbPT6YGrg7A7UXBHCgMZMMAIUmXS1lYep06USo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1656015744956,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$xhoTwFrFGsVPKhw66tSm0m_G6dWA0WlExQpjiKon4ts"},
{"content":{"body":"* because they make textual-browsers, graphical-browsers, and screen readers show content that is too different (IMO)","m.new_content":{"body":"because they make textual-browsers, graphical-browsers, and screen readers show content that is too different (IMO)","msgtype":"m.text"},"m.relates_to":{"event_id":"$MLL4sahui-p5CIDaXOch1iXkn-1J2pF_IpsPNFomtI0","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1656015799803,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$5N6T5-QnX-CJkWC6DVRtIGNbJ3SkHiokrjCnIw2_7I0"},
{"content":{"body":"* my current solution (no `<aside>`, just a hyperlink with an aria-label that includes the visible link name) actuall works really well, in that all three aforementioned audiences perceive something almost identical and can navigate it pretty easily. That is, until you use literally any reading-mode implementation (hence the problem).","format":"org.matrix.custom.html","formatted_body":"* my current solution (no <code>&lt;aside&gt;</code>, just a hyperlink with an aria-label that includes the visible link name) actuall works really well, in that all three aforementioned audiences perceive something almost identical and can navigate it pretty easily. That is, until you use literally any reading-mode implementation (hence the problem).","m.new_content":{"body":"my current solution (no `<aside>`, just a hyperlink with an aria-label that includes the visible link name) actuall works really well, in that all three aforementioned audiences perceive something almost identical and can navigate it pretty easily. That is, until you use literally any reading-mode implementation (hence the problem).","format":"org.matrix.custom.html","formatted_body":"my current solution (no <code>&lt;aside&gt;</code>, just a hyperlink with an aria-label that includes the visible link name) actuall works really well, in that all three aforementioned audiences perceive something almost identical and can navigate it pretty easily. That is, until you use literally any reading-mode implementation (hence the problem).","msgtype":"m.text"},"m.relates_to":{"event_id":"$k6c_lRuHG0m-sGUqTvw6_IRt0w_MSOs_sWQeKcXdYd8","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1656015815078,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$TYM-Qis_x9ViRr6BSsVpwKg0AqcoFGX66VMgt3SXcXY"},
{"content":{"body":"* my current solution (no `<aside>`, just a hyperlink with an `aria-labelledby` that includes the visible link name and the section name) actuall works really well, in that all three aforementioned audiences perceive something almost identical and can navigate it pretty easily. That is, until you use literally any reading-mode implementation (hence the problem).","format":"org.matrix.custom.html","formatted_body":"* my current solution (no <code>&lt;aside&gt;</code>, just a hyperlink with an <code>aria-labelledby</code> that includes the visible link name and the section name) actuall works really well, in that all three aforementioned audiences perceive something almost identical and can navigate it pretty easily. That is, until you use literally any reading-mode implementation (hence the problem).","m.new_content":{"body":"my current solution (no `<aside>`, just a hyperlink with an `aria-labelledby` that includes the visible link name and the section name) actuall works really well, in that all three aforementioned audiences perceive something almost identical and can navigate it pretty easily. That is, until you use literally any reading-mode implementation (hence the problem).","format":"org.matrix.custom.html","formatted_body":"my current solution (no <code>&lt;aside&gt;</code>, just a hyperlink with an <code>aria-labelledby</code> that includes the visible link name and the section name) actuall works really well, in that all three aforementioned audiences perceive something almost identical and can navigate it pretty easily. That is, until you use literally any reading-mode implementation (hence the problem).","msgtype":"m.text"},"m.relates_to":{"event_id":"$k6c_lRuHG0m-sGUqTvw6_IRt0w_MSOs_sWQeKcXdYd8","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1656015889992,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$LUVyRKFCXO8jhUYvbPcT9JNGSpBY6gJ5p1cT9mSVspE"},
{"content":{"body":"I don't know how I would mark it up because I don't know the exact heuristics article extractors use to get rid of elements","msgtype":"m.text","org.matrix.msc1767.text":"I don't know how I would mark it up because I don't know the exact heuristics article extractors use to get rid of elements"},"ts":1656016033095,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$qJ0qUf-tOnm-78w21lKTPSEEYML4VMTNzKKi1d1GPW8"},
{"content":{"body":"https://github.com/mozilla/readability/blob/master/Readability.js#L121 gives some potential clues... like if you put class=\"utility\" maybe they will go away? In Readability at least?","msgtype":"m.text","org.matrix.msc1767.text":"https://github.com/mozilla/readability/blob/master/Readability.js#L121 gives some potential clues... like if you put class=\"utility\" maybe they will go away? In Readability at least?"},"ts":1656016154488,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$jqodl2ES7WIuebFiUFQqykm2DDoQQKNBgRW2VE21qUQ"},
{"content":{"body":"hmm that's a last resort i guess","msgtype":"m.text"},"ts":1656016173033,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$QR3X6N_gGPjtp2EaUTOCdjcnOeNkV_0WcaoPAcy8CAs"},
{"content":{"body":"likes the perhaps-unrealistic ideal of making a website that sticks only to exisitng standards and doesn't have any implementation-specific quirks.","msgtype":"m.emote"},"ts":1656016243517,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$sF7MWlbUxWUG3NUpNYoGV5dWcGSkkIRUtJ9QmwEXN44"},
{"content":{"body":"But these tools you're trying to cater for don't have any standards governing them","msgtype":"m.text","org.matrix.msc1767.text":"But these tools you're trying to cater for don't have any standards governing them"},"ts":1656016257760,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$KpW-uhqEXitZ5js7zssRvKlwtNf5DnBi6JiQAeJD-J0"},
{"content":{"body":"(thi is  a personal site after all heh)","msgtype":"m.text"},"ts":1656016257770,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$pDYpN_bbIZKM2HPi2LtZjlmCsObLzAVNZYH9xHS9rGg"},
{"content":{"body":"well, they sort of do","msgtype":"m.text"},"ts":1656016272886,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$oJS7cHaD4VGOIxC_-5tUX7Yfp_ExkX_8rGIgpbac04A"},
{"content":{"body":"readability and apple reader mode at least","msgtype":"m.text"},"ts":1656016278886,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$Jxt3W-v7DdDZjmUeYUNpRmyuWhV72hEe6u-JaH4y9gY"},
{"content":{"body":"Oh, I wasn't aware? Where's the spec for them?","msgtype":"m.text","org.matrix.msc1767.text":"Oh, I wasn't aware? Where's the spec for them?"},"ts":1656016293032,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$W8UYPWWiPO4fTWbGfljYCv9PT9vago6YhTR0LjZmpXM"},
{"content":{"body":"they use microdata with schema.org vocab to identify articles (when that markup exists), semantic html elements like `aside` and `article`, Dublin Core and more microdata for metadata extraction, etc.","format":"org.matrix.custom.html","formatted_body":"they use microdata with schema.org vocab to identify articles (when that markup exists), semantic html elements like <code>aside</code> and <code>article</code>, Dublin Core and more microdata for metadata extraction, etc.","msgtype":"m.text"},"ts":1656016335131,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$bITWEUxFjztlJTdSteggGzPDypqyyFgDmf1jdoepRFU"},
{"content":{"body":"so i guess it's not a standard for their behavior","msgtype":"m.text"},"ts":1656016342978,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$LvkfoALQNGtk63RXJneViVfIDQYnTz-Vme8BlUSaef8"},
{"content":{"body":"more like standards they observe","msgtype":"m.text"},"ts":1656016352510,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$0JdwnTXSlIRhV6TE5zZPos51gItmkVmysnKr6N6W4L0"},
{"content":{"body":"DOM Distiller tries to be \"smart\" and also removes elements with high link-density","format":"org.matrix.custom.html","formatted_body":"DOM Distiller tries to be &quot;smart&quot; and also removes elements with high link-density","msgtype":"m.text"},"ts":1656016375635,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$jKUnFukFG3FtKdbJHTMAjPmmdy1hxcpVT3lxC4ytvP0"},
{"content":{"body":"that's not a standard behavior","msgtype":"m.text"},"ts":1656016383686,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$SkQ1immT_uz1jSfJwqlR5BbjlAngKnv3VrMLqyP-Il8"},
{"content":{"body":"Yeah, but the core behavior of stripping elements has no standard, so to the extent you want to interact with that, you're gonna have to use something nonstandard.","msgtype":"m.text","org.matrix.msc1767.text":"Yeah, but the core behavior of stripping elements has no standard, so to the extent you want to interact with that, you're gonna have to use something nonstandard."},"ts":1656016388770,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$ocZbvLjDkTstEsZRFUmPrZnwDXBlMcU9bXGMzrcEhzU"},
{"content":{"body":"yeah i mean they identify the meanings of elements when extracting content, and they perform that identification according to existing standards","msgtype":"m.text"},"ts":1656016423013,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$1iUh1qM55czA4C1qL9AKSu2dETBW0FOdjPl9kEz1hB0"},
{"content":{"body":"when they render that extracted content, that's nonstandard ofc","msgtype":"m.text"},"ts":1656016437934,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$nYXtuJXDawrh--wCwFwQDVgiuRPxCtl8MwObaqW169k"},
{"content":{"body":"It's not clear to me whether they perform the extraction before or after filtering out elements, but I take your meaning","msgtype":"m.text","org.matrix.msc1767.text":"It's not clear to me whether they perform the extraction before or after filtering out elements, but I take your meaning"},"ts":1656016473207,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$yzyWYOv-iH4kFAA_PLHr61UcUqQF3u-NvZIV2fx62go"},
{"content":{"body":"honestly im probably overthinking this, but it's fun. i just find the whole concept of article-distillation so interesting :3","msgtype":"m.text"},"ts":1656016517501,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$bhtTGHq7xjOBbFedSEejSGsFqaOzO1plFKtvBrlaWxU"},
{"content":{"body":"the way you gotta balance the need to observe standards (identify elements: what is an article and what isn't?) but still break them (remove parts of a page) presents a really fascinating problem.","msgtype":"m.text"},"ts":1656016592651,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$R1uEWerKDh0k7h695qQY58Td4Du2WRr4ZUtn6jMK71s"},
{"content":{"body":"Yeah, I find it pretty interesting too. It's unfortunately at that intersection of technologies like \"semantic web\" where, if everyone did perfect markup + maybe we made a couple more specs, we could have a nice result. But 95% of people won't do perfect markup so heuristics rule.","msgtype":"m.text","org.matrix.msc1767.text":"Yeah, I find it pretty interesting too. It's unfortunately at that intersection of technologies like \"semantic web\" where, if everyone did perfect markup + maybe we made a couple more specs, we could have a nice result. But 95% of people won't do perfect markup so heuristics rule."},"ts":1656016605295,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$v0zZPZEqNl9sh6Lp-cpIZIckk5XWaT_TNkdSl8RTRi8"},
{"content":{"body":"well it's a combination","msgtype":"m.text"},"ts":1656016618348,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$ITmsYtQ4KWQa1POwC8KKbc9p0Mivgt0Kegm48Cvo67c"},
{"content":{"body":"for instance, they use hueristics to determine _if_ reader mode should even be presented on a page","format":"org.matrix.custom.html","formatted_body":"for instance, they use hueristics to determine <em>if</em> reader mode should even be presented on a page","msgtype":"m.text"},"ts":1656016644446,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$dSM81Gb-M5kr6BcDYGuMKuHvjlTrjb8d0_P8764kc_U"},
{"content":{"body":"those hueristics are gerated by a ML program","msgtype":"m.text"},"ts":1656016656164,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$agIHPVNsnUXAw_FYLsBuTKjOYX1HTreFH36HqW1sOdg"},
{"content":{"body":"E.g. reader mode won't even trigger in Firefox for any WHATWG specs because they are at the root of their domain and Firefox has a heuristic to not allow reader mode on root domains.","msgtype":"m.text","org.matrix.msc1767.text":"E.g. reader mode won't even trigger in Firefox for any WHATWG specs because they are at the root of their domain and Firefox has a heuristic to not allow reader mode on root domains."},"ts":1656016658758,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$blvngjinP1mR9ruZ-T3YzKZkhJfHv_suqV9O-9vlrEA"},
{"content":{"body":"(Fathom on mozilla's side; check out #fathom:mozilla.org)","msgtype":"m.text"},"ts":1656016670294,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$VaOX_1wFjHuXm817bDoFq4akRX6FrW1fLcdzSACdXps"},
{"content":{"body":"but when it comes to the actual article-distillation process on a page that has decent markup, Readability is quite predictable. It observes existing standards quite well.","msgtype":"m.text"},"ts":1656016766814,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$TYeWwwJa4DVG76BciSFzycbgg5d1Z1x1z-w1o-7LhSg"},
{"content":{"body":"I wonder if an ML model would do better at article extraction than existing code like readability. If you had enough training data... but I do not know how much is \"enough\"","msgtype":"m.text","org.matrix.msc1767.text":"I wonder if an ML model would do better at article extraction than existing code like readability. If you had enough training data... but I do not know how much is \"enough\""},"ts":1656016768275,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$MOEMLPLTLsecUt1jG3aI1PenoK_xtBwTM7gM53uHZbE"},
{"content":{"body":"I don't find https://github.com/mozilla/readability/blob/master/Readability.js#L2062-L2142 very predictable tbh :)","msgtype":"m.text","org.matrix.msc1767.text":"I don't find https://github.com/mozilla/readability/blob/master/Readability.js#L2062-L2142 very predictable tbh :)"},"ts":1656016781444,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$9jduDFlk5K0R9tEwe3YGxWrKlArqY9iMfALDbwjYf8Q"},
{"content":{"body":"`(!isList && headingDensity < 0.9 && contentLength < 25 && (img === 0 || img > 2) && !this._hasAncestorTag(node, \"figure\"))` as just one line...","format":"org.matrix.custom.html","formatted_body":"<code>(!isList &amp;&amp; headingDensity &lt; 0.9 &amp;&amp; contentLength &lt; 25 &amp;&amp; (img === 0 || img &gt; 2) &amp;&amp; !this._hasAncestorTag(node, &quot;figure&quot;))</code> as just one line...","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"`(!isList && headingDensity < 0.9 && contentLength < 25 && (img === 0 || img > 2) && !this._hasAncestorTag(node, \"figure\"))` as just one line...","mimetype":"text/plain"},{"body":"<code>(!isList &amp;&amp; headingDensity &lt; 0.9 &amp;&amp; contentLength &lt; 25 &amp;&amp; (img === 0 || img &gt; 2) &amp;&amp; !this._hasAncestorTag(node, &quot;figure&quot;))</code> as just one line...","mimetype":"text/html"}]},"ts":1656016804684,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$6LHZa-3Vb-KDRJMyj5av83Zv1FP--3vmF80kawCzYkw"},
{"content":{"body":"Domenic: DOM Distiller uses a weird-ass hybrid approach that combines multiple different extraction algos and uses hueristics to determine which algo to use. The algos were mostly written by humans, but they used the outputs of some machine learning programs as reference. And DOM-Distiller is a Java program transpiled to JavaScript.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: DOM Distiller uses a weird-ass hybrid approach that combines multiple different extraction algos and uses hueristics to determine which algo to use. The algos were mostly written by humans, but they used the outputs of some machine learning programs as reference. And DOM-Distiller is a Java program transpiled to JavaScript.","msgtype":"m.text"},"ts":1656016900327,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$ZNv0BYiwbhec2ZfTPkqd2XDDNtHPbXXJji6bn4nVvxg"},
{"content":{"body":"all that complexity screams \"Google project\" to me, heh","format":"org.matrix.custom.html","formatted_body":"all that complexity screams &quot;Google project&quot; to me, heh","msgtype":"m.text"},"ts":1656016914067,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$e1v5KJ06nqO8YNWEscHdIBkTKUyX1Ys77TC-hXlNrsA"},
{"content":{"body":"ironically the article-extractor made by an adtech company (Google) is the most aggressive at removing sponsored content (link density hueristics give false positives).","msgtype":"m.text"},"ts":1656016963707,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$QIoG2FC3X4t8JcDS6Wjcl8wKo4Aw9Tquhti_c7UIkag"},
{"content":{"body":"also the version built into chromium is only available via chrome://flags, and the flag expired in m105 so 🤷","msgtype":"m.text"},"ts":1656017026827,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$8ydyrIKh6GCwMP3zUgMYmjI5GfIvKqz5c-IKxxrGucw"},
{"content":{"body":"> <@domenicdenicola:matrix.org> I don't find https://github.com/mozilla/readability/blob/master/Readability.js#L2062-L2142 very predictable tbh :)\n\noh true","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$9jduDFlk5K0R9tEwe3YGxWrKlArqY9iMfALDbwjYf8Q\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br>I don&#39;t find https://github.com/mozilla/readability/blob/master/Readability.js#L2062-L2142 very predictable tbh :)</blockquote></mx-reply>oh true","m.relates_to":{"event_id":"$9jduDFlk5K0R9tEwe3YGxWrKlArqY9iMfALDbwjYf8Q","m.in_reply_to":{"event_id":"$9jduDFlk5K0R9tEwe3YGxWrKlArqY9iMfALDbwjYf8Q"},"rel_type":"net.maunium.reply"},"msgtype":"m.text"},"ts":1656017114929,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$v11pt7nb6MzampMOrP29B4IRb7E5AohwiYha0izxpZs"},
{"content":{"body":"would be nice if reading-modes had a \"simple\" and \"aggressive\" mode. where the simple mode errs towards \"trust the page\" and strictly observes standards when identifying elements, while the \"agressive\" mode assumes the page has bad or deceitful markup to sneak in some ads and whatnot.","format":"org.matrix.custom.html","formatted_body":"would be nice if reading-modes had a &quot;simple&quot; and &quot;aggressive&quot; mode. where the simple mode errs towards &quot;trust the page&quot; and strictly observes standards when identifying elements, while the &quot;agressive&quot; mode assumes the page has bad or deceitful markup to sneak in some ads and whatnot.","msgtype":"m.text"},"ts":1656017187985,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$8oPj0RM0Mo1iV9ht_ig6yaxcWstUtWORMWu0JICkLbM"},
{"content":{"body":"and users could switch between them","msgtype":"m.text"},"ts":1656017200441,"senderName":"Seirdy","senderId":"@seirdy:seirdy.one","id":"$Tlms_8SDfdp5OCY_-aSfMgos2EYhW70iqnKwiR89CNo"}
]