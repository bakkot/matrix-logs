[
{"content":{"body":"Hi all, ","m.mentions":{},"msgtype":"m.text"},"ts":1697175935588,"senderName":"sbastiandev","senderId":"@sbastiandev:matrix.org","id":"$CS-vVu_4mex37N7No7faVZdmIvrncUgVY0yJ0MqalXo"},
{"content":{"body":"I wanted to let you guys know that I open-sourced a Java implementation of WhatWg-Url. It passes relevant Web platform tests (url parsing, setters) and is up to date with the September 2023 spec. Any feedback is more than welcome ;) over here=> https://github.com/stephanebastian/whatwg-url","m.mentions":{},"msgtype":"m.text"},"ts":1697176135874,"senderName":"sbastiandev","senderId":"@sbastiandev:matrix.org","id":"$jGyIBYHHq58V0SlrgCyb4StwjQH9xawAfKGqJqNrGmU"},
{"content":{"body":"That's great!!","m.mentions":{},"msgtype":"m.text"},"ts":1697176989877,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$-LKULDclzOwi4Q1z76XFBuwWghPUKp2omIfvY79wfbU"},
{"content":{"body":"Thx ðŸ˜ƒ","m.mentions":{},"msgtype":"m.text"},"ts":1697178788494,"senderName":"sbastiandev","senderId":"@sbastiandev:matrix.org","id":"$DsAHb5ufkNc0_7noSgcgamXYlAtvHcFwLbrmvJMPzNk"},
{"content":{"body":"> <@sbastiandev:matrix.org> I wanted to let you guys know that I open-sourced a Java implementation of WhatWg-Url. It passes relevant Web platform tests (url parsing, setters) and is up to date with the September 2023 spec. Any feedback is more than welcome ;) over here=> https://github.com/stephanebastian/whatwg-url\n\nI may end up wanting to switch the https://validator.w3.org/nu/ HTML checker to using your implementation rather than the one we are currently using â€” https://github.com/smola/galimatias (which stopped being maintained years ago).","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$jGyIBYHHq58V0SlrgCyb4StwjQH9xawAfKGqJqNrGmU?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@sbastiandev:matrix.org\">@sbastiandev:matrix.org</a><br>I wanted to let you guys know that I open-sourced a Java implementation of WhatWg-Url. It passes relevant Web platform tests (url parsing, setters) and is up to date with the September 2023 spec. Any feedback is more than welcome ;) over here=&gt; https://github.com/stephanebastian/whatwg-url</blockquote></mx-reply>I may end up wanting to switch the https://validator.w3.org/nu/ HTML checker to using your implementation rather than the one we are currently using â€” https://github.com/smola/galimatias (which stopped being maintained years ago).","m.mentions":{"user_ids":["@sbastiandev:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$jGyIBYHHq58V0SlrgCyb4StwjQH9xawAfKGqJqNrGmU"}},"msgtype":"m.text"},"ts":1697180844982,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$krX5kbCjt1IbHIBrbmTwaiFmcXNt1D-XBJ371viYQts"},
{"content":{"body":"sbastiandev: Does yours implement error reporting?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sbastiandev:matrix.org\">sbastiandev</a>: Does yours implement error reporting?","m.mentions":{"user_ids":["@sbastiandev:matrix.org"]},"msgtype":"m.text"},"ts":1697180881454,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$DjK2mpWDwVCzQFH952x3ciedhVK8Mtpe2S4a-stBTPA"},
{"content":{"body":"Whooa cool ! :)","m.mentions":{},"msgtype":"m.text"},"ts":1697180940223,"senderName":"sbastiandev","senderId":"@sbastiandev:matrix.org","id":"$HBTlMu9kJy9tmYYaUlaJMVwRoMNR4YdqJOwyxBexBVM"},
{"content":{"body":"For error reporting there is the method Url.validationErrors() returning all validation errors or failures","m.mentions":{},"msgtype":"m.text"},"ts":1697180996447,"senderName":"sbastiandev","senderId":"@sbastiandev:matrix.org","id":"$fWTnnDDkVBbvtrWFC8TvWv1ZBKWGO_5iyLVIf5rvt-I"},
{"content":{"body":"Thanks, I see https://github.com/stephanebastian/whatwg-url#how-to-get-validation-errors now","m.mentions":{},"msgtype":"m.text"},"ts":1697181017024,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$o1v_VYInUjNxIjGuy9TAqEGoFty5lPDKEwUrn1yFSDU"},
{"content":{"body":"sideshowbarker: Obviously, dont't hesitate to contact me if you've got remarks/questions/feedback or ideas for improvements","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: Obviously, dont't hesitate to contact me if you've got remarks/questions/feedback or ideas for improvements","m.mentions":{"user_ids":["@sideshowbarker:matrix.org"]},"msgtype":"m.text"},"ts":1697181410553,"senderName":"sbastiandev","senderId":"@sbastiandev:matrix.org","id":"$vXJxs6yqNZwb1FZUCtvzh_3q7e5RfnaeUBwGRxai-NY"},
{"content":{"body":"sbastiandev: minor nit, we prefer WHATWG, all capitals (it stands for Web Hypertext Application Technology Working Group, but like W3C it's mostly used as its own \"word\")","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sbastiandev:matrix.org\">sbastiandev</a>: minor nit, we prefer WHATWG, all capitals (it stands for Web Hypertext Application Technology Working Group, but like W3C it's mostly used as its own \"word\")","m.mentions":{"user_ids":["@sbastiandev:matrix.org"]},"msgtype":"m.text"},"ts":1697181787139,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$sTRiWBDP6C106vmDEEDW9Cgtgg6trTrsViYUzQF9D4I"},
{"content":{"body":"annevk: Sure, I updated the README, should be ok now. Thanks","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: Sure, I updated the README, should be ok now. Thanks","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1697182140335,"senderName":"sbastiandev","senderId":"@sbastiandev:matrix.org","id":"$mtrywAox4lL9E7c54777JyJxci199AJHMn9juWDbLEk"},
{"content":{"body":"keithamus: that relatedTarget issue is interesting. Maybe invoke event should use different name for that, since I _think_ we don't want the event propagation to stop at shadow boundary","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@keithamus:matrix.org\">keithamus</a>: that relatedTarget issue is interesting. Maybe invoke event should use different name for that, since I <em>think</em> we don't want the event propagation to stop at shadow boundary","m.mentions":{"user_ids":["@keithamus:matrix.org"]},"msgtype":"m.text"},"ts":1697192764745,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$o-o6TC4bWp5iwPPoint84tGVqVOSO33RCjCOLY3pu4g"},
{"content":{"body":"Yes I was just commenting in the issue smaug; I think it's okay because the invoke event doesn't bubble by default and so if you force it with manual dispatch in userland then you'll be dealing with the caveats that come with it. There is precedent of this behaviour with focusin/focusout which _does_ bubble and also has a relatedTarget and so sometimes won't propagate across the shadow boundary.","format":"org.matrix.custom.html","formatted_body":"Yes I was just commenting in the issue <a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>; I think it's okay because the invoke event doesn't bubble by default and so if you force it with manual dispatch in userland then you'll be dealing with the caveats that come with it. There is precedent of this behaviour with focusin/focusout which <em>does</em> bubble and also has a relatedTarget and so sometimes won't propagate across the shadow boundary.","m.mentions":{"user_ids":["@smaug:mozilla.org"]},"msgtype":"m.text"},"ts":1697192872677,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$PEgbIXp12MdWkGqsijjc_ZiIfCliX9zo1t6dda1tpkg"},
{"content":{"body":"bubbling isn't interesting","m.mentions":{},"msgtype":"m.text"},"ts":1697192892521,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$bmB9Hi42SfV-Q6LeZbxYnHEE7m7OPUmzMA4FVPnEWj4"},
{"content":{"body":"(I mean, there is always capture phase)","m.mentions":{},"msgtype":"m.text"},"ts":1697192907584,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$ghTVN824dmeTVfQoUQ2lXaYILDy6m6Jsh6ESehedIIs"},
{"content":{"body":"For me the important use cases (slash my opinions on this) are:\n\n - invoke dispatches in light dom as you'd expect\n - a button invoking into a shadowroot shouldn't really be possible\n - a button within a shadowroot invoking an element outside the shadowroot should be possible, but the relatedtarget should be retargeted to the host","format":"org.matrix.custom.html","formatted_body":"<p>For me the important use cases (slash my opinions on this) are:</p>\n<ul>\n<li>invoke dispatches in light dom as you'd expect</li>\n<li>a button invoking into a shadowroot shouldn't really be possible</li>\n<li>a button within a shadowroot invoking an element outside the shadowroot should be possible, but the relatedtarget should be retargeted to the host</li>\n</ul>\n","m.mentions":{},"msgtype":"m.text"},"ts":1697192979351,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$BbgCztqFMNkyaEr8ioDh9bx0Agx6i3dGQKxiFOl-I7c"},
{"content":{"body":"A question is that if invoke is dispatched to a shadow element, should the user of the web component be able to call preventDefault()","m.mentions":{},"msgtype":"m.text"},"ts":1697193087957,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$kAjAw7uVQoenuf1f47ZCpGlj7gMYX1DMDzsiyqTS8U0"},
{"content":{"body":"They should","m.mentions":{},"msgtype":"m.text"},"ts":1697193116963,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$lXzo0yYZ9DNLhfQETUby5mvThyuOCp4blpk6Z0z6SCE"},
{"content":{"body":"But I believe an invoke event can only be dispatched to a shadow element _from_ a shadow element in the same tree, or a tree within that tree.","format":"org.matrix.custom.html","formatted_body":"But I believe an invoke event can only be dispatched to a shadow element <em>from</em> a shadow element in the same tree, or a tree within that tree.","m.mentions":{},"msgtype":"m.text"},"ts":1697193167863,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$xKP6jtnNE1hdgI_LOgvhxSdQBN4LqhtA8TlC0cFXa74"},
{"content":{"body":"I don't think any other cancelable event has .relatedTarget","m.mentions":{},"msgtype":"m.text"},"ts":1697193192196,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$d-lIfTkt-gLyFeUyWEjjXklUWuuku6Q1PzDcXiSRsco"},
{"content":{"body":"Does that become a problem?","m.mentions":{},"msgtype":"m.text"},"ts":1697193237411,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$2RDZduMsFh6NK0j6IMYWV9HNvjjFPxxTygZSdREO8Gc"},
{"content":{"body":"Just that this in a new case","m.mentions":{},"msgtype":"m.text"},"ts":1697193260679,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$55PLQxDND7I6fwJStJmwn9pAsjzKZ0HwFp4Ha14p9XQ"},
{"content":{"body":"What if you explicitly set invokeTargetElement to point to some element in another shadow dom?","m.mentions":{},"msgtype":"m.text"},"ts":1697193301482,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$rwDhpipTK3JpwxVVxhGyO1hIFD6q7VhaoSMJzubaYa8"},
{"content":{"body":" * Just that this is a new case","m.mentions":{},"m.new_content":{"body":"Just that this is a new case","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$55PLQxDND7I6fwJStJmwn9pAsjzKZ0HwFp4Ha14p9XQ","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1697193320548,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$sRSkD-1O7b7zLmoanxPVYcrv8BCKI5R4Y_J9WjoliJc"},
{"content":{"body":"My opinion is that I am okay with that not working.","m.mentions":{},"msgtype":"m.text"},"ts":1697193343076,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$2FqWLRZpEF0xYjOoWsBgV350bmUmb0ZgEXSfCVmW1w0"},
{"content":{"body":"I think shadow->\"light\" light->\"light \" and sub-shadow->shadow should work but adjacent shadow trees or light->shadow seems like an odd thing to do, IMO.","m.mentions":{},"msgtype":"m.text"},"ts":1697193394549,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$DAadu8EH6lb2jRK3B2fpy_aLKs5om4yjDLdomobotLA"},
{"content":{"body":"in other words the \"shadow-including inclusive ancestor\" rule applies, I believe.","m.mentions":{},"msgtype":"m.text"},"ts":1697193438785,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$HO4K0xl1PP62zYqIFiQwmHjURUCy5wzarMlbolL1sBY"},
{"content":{"body":"So the user of a web component couldn't prevent invoke if it was triggered inside the shadow dom, but can if it was triggered outside","m.mentions":{},"msgtype":"m.text"},"ts":1697193531175,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$0tjjpVuO4TCD55x0erQ1KdQuM-RNxcuEc7_e9QGwmiM"},
{"content":{"body":"Isn't that a bit odd","m.mentions":{},"msgtype":"m.text"},"ts":1697193537661,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$DhLqvKjZVKt9OE9MmVA2b-6CZubRXeMqOQe188b5qpc"},
{"content":{"body":"Are the two mutually inclusive? Does cancelable relate to the event's path?","m.mentions":{},"msgtype":"m.text"},"ts":1697193583492,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$7ABNbcweTTPwdhj6RKanBNuUTQ7c0nUpYosOxmWUP-o"},
{"content":{"body":"outside world can't get access to the event to cancel it","m.mentions":{},"msgtype":"m.text"},"ts":1697193608521,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$v3ZWKWM1QV_2eOS8EUm9cW4rlzRERm2UqKESN7pDQ_8"},
{"content":{"body":"so yes, they are related","m.mentions":{},"msgtype":"m.text"},"ts":1697193624546,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$Fyos0-km_HNalVNyqGmXzDiZt1wZ0Li_SCIVad-VBA4"},
{"content":{"body":"I see, that's why I think it shouldn't dispatch from within a shadow tree. Only from outside","m.mentions":{},"msgtype":"m.text"},"ts":1697193655187,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$4ZbRk-9kp9QLXVXQVC1YNjGPyQ2vgv7cnA7aUy_fsbs"},
{"content":{"body":"What you mean with \"shouldn't dispatch from within a shadow tree\" ?","m.mentions":{},"msgtype":"m.text"},"ts":1697193697703,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$A168eGV3OkWnA5cokSPkNgJ4WMM2mA8JpmCKZQM_Wiw"},
{"content":{"body":"A button with an invokeTargetElement pointing to an element inside of a shadow tree that is not an inclusive ancestor should be a noop","m.mentions":{},"msgtype":"m.text"},"ts":1697193735543,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$mWk1tRGP3Xa4GucCPA7DHNlgSV_SM0Gd_AeTuKOcQgM"},
{"content":{"body":"<button>\n<div>\n  <template shadowrootmode=open>\n    <dialog>\n  </template>\n</div>\n\n^- it should not be possible to wire the button up to the dialog.\n\n<dialog>\n<div>\n  <template shadowrootmode=open>\n    <button>\n  </template>\n</div>\n\n^- it _should_ be possible to wire the button up to the dialog here","format":"org.matrix.custom.html","formatted_body":"&lt;button&gt;\n&lt;div&gt;\n  &lt;template shadowrootmode=open&gt;\n    &lt;dialog&gt;\n  &lt;/template&gt;\n&lt;/div&gt;\n<p>^- it should not be possible to wire the button up to the dialog.</p>\n&lt;dialog&gt;\n&lt;div&gt;\n  &lt;template shadowrootmode=open&gt;\n    &lt;button&gt;\n  &lt;/template&gt;\n&lt;/div&gt;\n<p>^- it <em>should</em> be possible to wire the button up to the dialog here</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1697193858544,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$Y8aMHHSHlncLQMehg52B2O37ideWeeOq_huzHB5oTjQ"},
{"content":{"body":"So having a shadowroot with two child elements, one button which has invoketargetElement pointing to the other one. That wouldn't work?","m.mentions":{},"msgtype":"m.text"},"ts":1697193870278,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$DolpalTGuehhqKFXRSOYaY4kwllSAIlM5rtZlWOrEUw"},
{"content":{"body":"Within a shadowroot it should be possible","m.mentions":{},"msgtype":"m.text"},"ts":1697193899456,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$aiT7609szyHvaLsiRFvRvZthByrC19XWHNRlfbfc-rA"},
{"content":{"body":"<div> <template shadowrootmode=open> <button> <dialog>  </template> </div> \n\n^- so this should be possible","m.mentions":{},"msgtype":"m.text"},"ts":1697193912674,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$Vne1B_iCFUh_BjDosvzgfDL6K__up0y5APT7cuh7pII"},
{"content":{"body":" * \\<div> \\<template shadowrootmode=open> \\<button> \\<dialog>  \\</template> \\</div> \n\n^- it should be possible too wire the button up to the dialog","format":"org.matrix.custom.html","formatted_body":" * &lt;div&gt; &lt;template shadowrootmode=open&gt; &lt;button&gt; &lt;dialog&gt;  &lt;/template&gt; &lt;/div&gt;\n\n^- it should be possible too wire the button up to the dialog","m.mentions":{},"m.new_content":{"body":"\\<div> \\<template shadowrootmode=open> \\<button> \\<dialog>  \\</template> \\</div> \n\n^- it should be possible too wire the button up to the dialog","format":"org.matrix.custom.html","formatted_body":"&lt;div&gt; &lt;template shadowrootmode=open&gt; &lt;button&gt; &lt;dialog&gt;  &lt;/template&gt; &lt;/div&gt;\n\n^- it should be possible too wire the button up to the dialog","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$Vne1B_iCFUh_BjDosvzgfDL6K__up0y5APT7cuh7pII","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1697193924484,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$iOMZe0ePAY9xJpLyWClzQEK5ZRXLFSp0pU3KDALpOQU"},
{"content":{"body":"right, but user of the web component can't cancel invoke","m.mentions":{},"msgtype":"m.text"},"ts":1697193926821,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$E5UdQkvvAWOJeva1N3svdd29CuWzvIHKkaOWPVH6iec"},
{"content":{"body":" * \\<div> \\<template shadowrootmode=open> \\<button> \\<dialog>  \\</template> \\</div>\n^- it should be possible too wire the button up to the dialog","format":"org.matrix.custom.html","formatted_body":" * &lt;div&gt; &lt;template shadowrootmode=open&gt; &lt;button&gt; &lt;dialog&gt;  &lt;/template&gt; &lt;/div&gt;\n^- it should be possible too wire the button up to the dialog","m.mentions":{},"m.new_content":{"body":"\\<div> \\<template shadowrootmode=open> \\<button> \\<dialog>  \\</template> \\</div>\n^- it should be possible too wire the button up to the dialog","format":"org.matrix.custom.html","formatted_body":"&lt;div&gt; &lt;template shadowrootmode=open&gt; &lt;button&gt; &lt;dialog&gt;  &lt;/template&gt; &lt;/div&gt;\n^- it should be possible too wire the button up to the dialog","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$Vne1B_iCFUh_BjDosvzgfDL6K__up0y5APT7cuh7pII","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1697193928445,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$9i5G6dt5bNyHgmu0KZRCqhgAm8TLiKJ302vOWlnJgtU"},
{"content":{"body":"in that case","m.mentions":{},"msgtype":"m.text"},"ts":1697193929719,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$GMieAbbYtV_f0bm-8-lBz4AMATfQXP7R9A8825X45Fg"},
{"content":{"body":" * \\<div> \\<template shadowrootmode=open> \\<button> \\<dialog>  \\</template> \\</div>\n\n\n\n^- it should be possible too wire the button up to the dialog","format":"org.matrix.custom.html","formatted_body":" * &lt;div&gt; &lt;template shadowrootmode=open&gt; &lt;button&gt; &lt;dialog&gt;  &lt;/template&gt; &lt;/div&gt;\n\n^- it should be possible too wire the button up to the dialog","m.mentions":{},"m.new_content":{"body":"\\<div> \\<template shadowrootmode=open> \\<button> \\<dialog>  \\</template> \\</div>\n\n\n\n^- it should be possible too wire the button up to the dialog","format":"org.matrix.custom.html","formatted_body":"&lt;div&gt; &lt;template shadowrootmode=open&gt; &lt;button&gt; &lt;dialog&gt;  &lt;/template&gt; &lt;/div&gt;\n\n^- it should be possible too wire the button up to the dialog","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$Vne1B_iCFUh_BjDosvzgfDL6K__up0y5APT7cuh7pII","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1697193940233,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$y5swmLv1rMUDb4VatmlpuNqTIpi44t3CywdUYjYf5qo"},
{"content":{"body":"Oh, the user as in the consumer of a third party WC? ","m.mentions":{},"msgtype":"m.text"},"ts":1697193959969,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$uAGPphW8IfgfaRWdN0fDWs3YYX1ZIVgP7HN-BfEh3kM"},
{"content":{"body":"So use of the web component could cancel some invokes, but not others","m.mentions":{},"msgtype":"m.text"},"ts":1697193998760,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$hfQUwL9NXVH5CiW19iUO-o5wQ7xMhgPEHekTqouA1A4"},
{"content":{"body":" * So user of the web component could cancel some invokes, but not others","m.mentions":{},"m.new_content":{"body":"So user of the web component could cancel some invokes, but not others","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$hfQUwL9NXVH5CiW19iUO-o5wQ7xMhgPEHekTqouA1A4","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1697194006047,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$NsIjxEuxCD3cTbDOrM400CLmrwXC69XJYhRHfPdFVUk"},
{"content":{"body":"right","m.mentions":{},"msgtype":"m.text"},"ts":1697194013719,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$57WxA-9TlOjrpwHdf1QUWIikDVt6mT9IuCsMHNdNAno"},
{"content":{"body":"I wonder if that's okay... ","m.mentions":{},"msgtype":"m.text"},"ts":1697194017127,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$PGjjKTJdSoQ0T04KW-tFXn-GWY8pT1Ph50FwiGRqbAc"},
{"content":{"body":"the user of the web component could cancel invokers if they happen outside of the shadow tree, but they'll never see invoke events from within shadow trees. If a web component author wanted to allow control they'd need to dispatch a separate event for that","m.mentions":{},"msgtype":"m.text"},"ts":1697194085239,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$AVkhOd1tYra0XJFXLZsTOEcQa8qqj7p_KS1Dp7kiZyc"},
{"content":{"body":"or... is the click event composed/bubbles? They can prevent that to prevent the invoke","m.mentions":{},"msgtype":"m.text"},"ts":1697194105107,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$rpWceMtoIni6w-Vlk9IEL24NvCZAfArGoEXFPaHKZto"},
{"content":{"body":" * or... is the click event composed+bubbles? They can prevent that to prevent the invoke","m.mentions":{},"m.new_content":{"body":"or... is the click event composed+bubbles? They can prevent that to prevent the invoke","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$rpWceMtoIni6w-Vlk9IEL24NvCZAfArGoEXFPaHKZto","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1697194119262,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$WMacDJ9kCulELPOrJDSrQVSk8q_fgso_Bov91zZKzps"},
{"content":{"body":"bubbling doesn't matter ðŸ˜‰ ","m.mentions":{},"msgtype":"m.text"},"ts":1697194120611,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$KQeRnku7Ro-iYMkFGRdFOEEFJJI_tRaGDYBQkyoPIuU"},
{"content":{"body":"click is composed","m.mentions":{},"msgtype":"m.text"},"ts":1697194123790,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$xAovEoLtqKFY29e8PpAwvPnNIEgNvPnINI0MFAO6-yU"},
{"content":{"body":"yes sorry","m.mentions":{},"msgtype":"m.text"},"ts":1697194130850,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$QK06XB-Y1_pLZEhdD9PV5SDlcspT8XbuqFIbok8-S00"},
{"content":{"body":"so the way to cancel an invoke (per current design) would be to cancel the click","m.mentions":{},"msgtype":"m.text"},"ts":1697194151461,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$vImYPq3sOEHg3R6H-JcozwdI09VNDMaqmNS4Yfaauhg"},
{"content":{"body":"well, if they then need to use click, we end up using the old style events, and not invoke.","m.mentions":{},"msgtype":"m.text"},"ts":1697194165039,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$RwB2R6p_8usYL2coTN3OLSd_l6wkqReebjECjlGoNj4"},
{"content":{"body":"I believe this relates to the discussion we had at TPAC then ;) ","m.mentions":{},"msgtype":"m.text"},"ts":1697194177076,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$pSMsWXezaBsIxsk1niNVyTWcWo2Y8l8XeOjXAIcAGtM"}
]