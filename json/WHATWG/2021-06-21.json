[
{"content":{"body":"Yoav Weiss: For Mozilla Developer Network docs, can you please confirm that the device client hints that disappeared from the spec after https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-client-hints-06 are deprecated (were removed permanently from the spec and have not been moved elsewhere)? \n\nSpecifically, Content-DPR, DPR, Viewport-Width, Width","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@yoavweiss:matrix.org\">Yoav Weiss</a>: For Mozilla Developer Network docs, can you please confirm that the device client hints that disappeared from the spec after https://datatracker.ietf.org/doc/html/draft-ietf-httpbis-client-hints-06 are deprecated (were removed permanently from the spec and have not been moved elsewhere)?</p>\n<p>Specifically, Content-DPR, DPR, Viewport-Width, Width</p>\n","msgtype":"m.text"},"ts":1624238620419,"senderName":"Hamish Willee","senderId":"@hamishwillee:matrix.org","id":"$tRX7aFHaoLVhSjIbJUWndKV14TnAg7_Ch8doZF4AMwY"},
{"content":{"body":"Hamish Willee: It was removed from the ID to be moved to other specs. See https://wicg.github.io/responsive-image-client-hints/ for the current spec for image-related client hints","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@hamishwillee:matrix.org\">Hamish Willee</a>: It was removed from the ID to be moved to other specs. See https://wicg.github.io/responsive-image-client-hints/ for the current spec for image-related client hints","msgtype":"m.text"},"ts":1624243022703,"senderName":"timothygu","senderId":"@timothygu:matrix.org","id":"$B44jC0KoJLYA5ix4ARjlgKzrQNHivNhCiRf3GjrUNAQ"},
{"content":{"body":"This is the PR that removed the features: https://github.com/httpwg/http-extensions/pull/775 ","msgtype":"m.text"},"ts":1624243048867,"senderName":"timothygu","senderId":"@timothygu:matrix.org","id":"$mEr8LXJaO6cnbEtrmqefXALFy6Et9qmTRBOnP-9jrak"},
{"content":{"body":"@jakea:matrix.org Hey, I looked into the GC issue. I’ll comment on the crbug tomorrow, but I think it turns out to be pretty subtle, and may have also exposed a bug in MutationObserver","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jakea:matrix.org\">@jakea:matrix.org</a> Hey, I looked into the GC issue. I’ll comment on the crbug tomorrow, but I think it turns out to be pretty subtle, and may have also exposed a bug in MutationObserver","msgtype":"m.text"},"ts":1624249067637,"senderName":"timothygu","senderId":"@timothygu:matrix.org","id":"$ZPTiq_YYoEZ4SfdcKchV4lx59pep07Uigw3ES8elrqs"},
{"content":{"body":"timothygu: Thanks very much! Can you confirm the summary of the changes:\n- Width, Viewport-Width, DPR were deprecated and replaced by same haders with Sec-CH- prefix (e.g. Sec-CH-DPR)\n- New header Sec-CH-Viewport-Height\n- Removal of Content-DPR altogether?\n\nAs a slight aside, one of the examples in the spec appears to omit the SEC- prefix in the Accept-CH - is that OK?:\nAccept-CH: CH-DPR, CH-Width\n ","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@timothygu:matrix.org\">timothygu</a>: Thanks very much! Can you confirm the summary of the changes:</p>\n<ul>\n<li>Width, Viewport-Width, DPR were deprecated and replaced by same haders with Sec-CH- prefix (e.g. Sec-CH-DPR)</li>\n<li>New header Sec-CH-Viewport-Height</li>\n<li>Removal of Content-DPR altogether?</li>\n</ul>\n<p>As a slight aside, one of the examples in the spec appears to omit the SEC- prefix in the Accept-CH - is that OK?:<br>Accept-CH: CH-DPR, CH-Width</p>\n","msgtype":"m.text"},"ts":1624249096426,"senderName":"Hamish Willee","senderId":"@hamishwillee:matrix.org","id":"$LTNptOodRN3TVzybwQTmqWpFxsy4rgCQxYfSON0d1AE"},
{"content":{"body":"@hamishwillee:matrix.org I don’t have any info beyond the links I sent, but it’s worth going through the PRs to that spec to understand historical changes. Re the example omission, you could file an issue on GitHub for clarification","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@hamishwillee:matrix.org\">@hamishwillee:matrix.org</a> I don’t have any info beyond the links I sent, but it’s worth going through the PRs to that spec to understand historical changes. Re the example omission, you could file an issue on GitHub for clarification","msgtype":"m.text"},"ts":1624249335759,"senderName":"timothygu","senderId":"@timothygu:matrix.org","id":"$9KofasRcKfU9vvWeY6h8rs-AiVULPkG4d7lddfNpBKs"},
{"content":{"body":"> <@timothygu:matrix.org> @jakea:matrix.org Hey, I looked into the GC issue. I’ll comment on the crbug tomorrow, but I think it turns out to be pretty subtle, and may have also exposed a bug in MutationObserver\n\nOhh, keen to know more","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$ZPTiq_YYoEZ4SfdcKchV4lx59pep07Uigw3ES8elrqs?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@timothygu:matrix.org\">@timothygu:matrix.org</a><br /><a href=\"https://matrix.to/#/@jakea:matrix.org\">@jakea:matrix.org</a> Hey, I looked into the GC issue. I’ll comment on the crbug tomorrow, but I think it turns out to be pretty subtle, and may have also exposed a bug in MutationObserver</blockquote></mx-reply>Ohh, keen to know more","m.relates_to":{"m.in_reply_to":{"event_id":"$ZPTiq_YYoEZ4SfdcKchV4lx59pep07Uigw3ES8elrqs"}},"msgtype":"m.text"},"ts":1624255543373,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$gZh3rcdaQjPkkI3O1uIu_PF3Dys8M_sLvT5mMVyGg8M"},
{"content":{"body":"Hamish Willee: The old header names are indeed deprecated in spec, but the Chromium implementation needs to catch up","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@hamishwillee:matrix.org\">Hamish Willee</a>: The old header names are indeed deprecated in spec, but the Chromium implementation needs to catch up","msgtype":"m.text"},"ts":1624260298689,"senderName":"Yoav Weiss","senderId":"@yoavweiss:matrix.org","id":"$EbohizqcFDwcszgigxkElkiTscgKN5_LfO_F18wDaDk"},
{"content":{"body":"Content-DPR was somewhat replaced by https://github.com/whatwg/html/pull/5574","msgtype":"m.text"},"ts":1624260349890,"senderName":"Yoav Weiss","senderId":"@yoavweiss:matrix.org","id":"$rRMiMdhA2zCNnjj9LN5M1YBpcIB4vf7y5gs-eHCdjbg"},
{"content":{"body":"(but wasn't removed from Chromium AFAIK)","msgtype":"m.text"},"ts":1624260361270,"senderName":"Yoav Weiss","senderId":"@yoavweiss:matrix.org","id":"$VKQHdPQ8RlKeQQFTt-z2PRkdcs8roCH8Ay0A829ZlgM"},
{"content":{"body":"Eric Portis (not in here, for some reason) is editing that spec. I believe PRs and corrections would be appreciated","msgtype":"m.text"},"ts":1624260407496,"senderName":"Yoav Weiss","senderId":"@yoavweiss:matrix.org","id":"$1J2R1ArrB9l8s5gJvIr0ybYqRpDSXJC5a8gxN9hqrsU"},
{"content":{"body":"Thanks @yoa","msgtype":"m.text"},"ts":1624260429073,"senderName":"Hamish Willee","senderId":"@hamishwillee:matrix.org","id":"$o3YPeIfNlOu9gELvaN878I4yTiICVceoQ9vmQYgQbks"},
{"content":{"body":" * Thanks Yoav Weiss - really helpful. I've created an issue for the problem case. I'm thinking this might be a little early to document for MDN, but am checking internally. Either way will link the old docs to the new spec in some way so that we have this information when ready to start.","format":"org.matrix.custom.html","formatted_body":" * Thanks <a href=\"https://matrix.to/#/@yoavweiss:matrix.org\">Yoav Weiss</a> - really helpful. I've created an issue for the problem case. I'm thinking this might be a little early to document for MDN, but am checking internally. Either way will link the old docs to the new spec in some way so that we have this information when ready to start.","m.new_content":{"body":"Thanks Yoav Weiss - really helpful. I've created an issue for the problem case. I'm thinking this might be a little early to document for MDN, but am checking internally. Either way will link the old docs to the new spec in some way so that we have this information when ready to start.","format":"org.matrix.custom.html","formatted_body":"Thanks <a href=\"https://matrix.to/#/@yoavweiss:matrix.org\">Yoav Weiss</a> - really helpful. I've created an issue for the problem case. I'm thinking this might be a little early to document for MDN, but am checking internally. Either way will link the old docs to the new spec in some way so that we have this information when ready to start.","msgtype":"m.text"},"m.relates_to":{"event_id":"$o3YPeIfNlOu9gELvaN878I4yTiICVceoQ9vmQYgQbks","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1624260527379,"senderName":"Hamish Willee","senderId":"@hamishwillee:matrix.org","id":"$VCN5WsyLHz2xTtU2DNTHP2sFtBXMxNW4pSmakJUBtKM"},
{"content":{"body":"sideshowbarker: what would be a short term fix for https://github.com/whatwg/encoding/issues/261?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">sideshowbarker</a>: what would be a short term fix for https://github.com/whatwg/encoding/issues/261?","msgtype":"m.text"},"ts":1624263330163,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$td-BexaKnVV_VZb4_vE22-AuV9Jd0eLLErxMyfGeeCU"},
{"content":{"body":"> <@annevk:mozilla.org> sideshowbarker: what would be a short term fix for https://github.com/whatwg/encoding/issues/261?\n\nI can add a filter to our script, to cause those messages to be suppressed","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$td-BexaKnVV_VZb4_vE22-AuV9Jd0eLLErxMyfGeeCU?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br /><a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">sideshowbarker</a>: what would be a short term fix for https://github.com/whatwg/encoding/issues/261?</blockquote></mx-reply>I can add a filter to our script, to cause those messages to be suppressed","m.relates_to":{"m.in_reply_to":{"event_id":"$td-BexaKnVV_VZb4_vE22-AuV9Jd0eLLErxMyfGeeCU"}},"msgtype":"m.text"},"ts":1624264396145,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$h3n8PqpC-rtd4KRDfKousAoZAOHyBKwuv9xGowygNnk"},
{"content":{"body":"sideshowbarker: yeah, I guess I can do that too","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">sideshowbarker</a>: yeah, I guess I can do that too","msgtype":"m.text"},"ts":1624264622729,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$O2RjsFfKgGgkofMylZyHLVgO_-FH02uwOQi6aajtEck"},
{"content":{"body":"> <@annevk:mozilla.org> sideshowbarker: yeah, I guess I can do that too\n\nYeah, maybe give it a try. If it doesn't work for some reason, I can look at it later","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$O2RjsFfKgGgkofMylZyHLVgO_-FH02uwOQi6aajtEck?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br /><a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">sideshowbarker</a>: yeah, I guess I can do that too</blockquote></mx-reply>Yeah, maybe give it a try. If it doesn't work for some reason, I can look at it later","m.relates_to":{"m.in_reply_to":{"event_id":"$O2RjsFfKgGgkofMylZyHLVgO_-FH02uwOQi6aajtEck"}},"msgtype":"m.text"},"ts":1624264874491,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$boStpiBDG_pbLg3cwOZ8-puT5q6bvz3maPYDRmesLXM"},
{"content":{"body":"sideshowbarker: I added `.*Possible misuse of “aria-label”. (If you disagree with this warning, file an issue report or send e-mail to www-validator@w3.org.).*` to .htmlcheckerfilter and it does not appear to work","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">sideshowbarker</a>: I added <code>.*Possible misuse of “aria-label”. (If you disagree with this warning, file an issue report or send e-mail to www-validator@w3.org.).*</code> to .htmlcheckerfilter and it does not appear to work","msgtype":"m.text"},"ts":1624264912346,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$8ExCmUhLPas47HI1HAeRIobT5MZqbXHEx5SBJZTsSQI"},
{"content":{"body":"Ok, I'll take a look at it in a bit","msgtype":"m.text"},"ts":1624264961019,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$KLTeczO_IJCJaHtsywYucZGebjSwT1wAR-S0GD67ZC0"},
{"content":{"body":"annevk: so yeah it was the parens","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: so yeah it was the parens","msgtype":"m.text"},"ts":1624266403225,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$NjvzdFnSkpOuIegx29GPDUg5Nlm5E4q-kTHknN-KQNQ"},
{"content":{"body":"since it’s a regex, the parens need to be escaped","msgtype":"m.text"},"ts":1624266422232,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$ElZ20lO0ioDA32iGXuM7ELWvKvODOSSDFDWGwzSv-SQ"},
{"content":{"body":"for the for record, alternately it can just be `.*Possible misuse of “aria-label”.*` ","format":"org.matrix.custom.html","formatted_body":"for the for record, alternately it can just be <code>.*Possible misuse of “aria-label”.*</code>","msgtype":"m.text"},"ts":1624266443056,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$j-gRA_nR6P8KB_bAQirZDKZcnJVNwBzdLUd8rQn9DN8"},
{"content":{"body":"that is, it can match on just some portion of the message","msgtype":"m.text"},"ts":1624266466316,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$aDnNob5cadU8nFnXwqXmG_gjVTTenz1JA60PwfMJITM"},
{"content":{"body":"it’s not strictly necessary to include the whole message","msgtype":"m.text"},"ts":1624266492069,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$twIP0d0am7Ui2auUYbJ-g_MDdWQFj77EvzOKA64iX9A"},
{"content":{"body":"sideshowbarker: thanks, good to know for next time; perhaps we should document that somewhere","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">sideshowbarker</a>: thanks, good to know for next time; perhaps we should document that somewhere","msgtype":"m.text"},"ts":1624266685032,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$DjmX9br2HELC9Ycp-iIvivgm4eftVp86y4p8wrlG4TE"},
{"content":{"body":"I have the general upstream documentation for the feature at https://github.com/validator/validator/wiki/Message-filtering","msgtype":"m.text"},"ts":1624266773088,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$i3UsGfDl3mTCjuwEQncq3eDjba_t2-zDHz5TT9yuLmI"},
{"content":{"body":"but that doesn’t provide enough detail I guess","msgtype":"m.text"},"ts":1624266789295,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$4kWfI32OAdi0AdXgGqu6fFHByz-StW6R4CP2Ixn8vR0"},
{"content":{"body":"it needs some examples","msgtype":"m.text"},"ts":1624266793480,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$kkePjaY-CLs37ZWAWUppDirmJaSqS7HmudsbOaM8HMU"},
{"content":{"body":"but anyway it’s wiki, so anybody can make changes to it","msgtype":"m.text"},"ts":1624266816627,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$5TiHV6d3GKFWueuaFUrvQs6NFY3KWU9HdRGlEOPJgAc"},
{"content":{"body":"sideshowbarker: how quick is the filtering of warnings? I do get the impression the build times for Encoding are even worse now","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">sideshowbarker</a>: how quick is the filtering of warnings? I do get the impression the build times for Encoding are even worse now","msgtype":"m.text"},"ts":1624268035504,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$2VpRPdgl6yI474Jx4c4QE3Q2b2ICfTFmIU9enUndbzU"},
{"content":{"body":"I don't think the filtering adds any noticeable time to a build","msgtype":"m.text"},"ts":1624268275251,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$xtKreqPU7Vot-cxSjx5xqNgqmtcd6HTwgdYc4kF3hbk"},
{"content":{"body":"That Encoding build has just always taken a long time, as far as I can recall","msgtype":"m.text"},"ts":1624268327509,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$7uoihphd_sGJQg_gbRBF2Sq8WBk0T9hl-dy0y5zk_QE"},
{"content":{"body":"annevk: https://github.com/whatwg/encoding/issues/261 should be closed now","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: https://github.com/whatwg/encoding/issues/261 should be closed now","msgtype":"m.text"},"ts":1624269251873,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$f5CAMdFykvudn2ODGxLFDBqoqmjqyrsLgIjpPatxFp8"},
{"content":{"body":"Andreu Botella (he/they): should it? I think we still need to decide how to resolve that warning","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@andreubotella:mozilla.org\">Andreu Botella (he/they)</a>: should it? I think we still need to decide how to resolve that warning","msgtype":"m.text"},"ts":1624269287518,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$dt96cgjBvI0bnTStDqoQXUHmQ4RhoH5I0LNHPi57b8o"}
]