[
{"content":{"body":"While implementing the Fullscreen API for Ladybird I came across an issue with the fullscreen spec with respect to how it says to run \"find the topmost popover ancestor\" algorithm: https://fullscreen.spec.whatwg.org/#fullscreen-an-element\n\nIt says: `Let hideUntil be the result of running topmost popover ancestor given element, null, and false.` but when looking at the algorithm, it is described as \"using 4 parameters\" so to speak:\n\n````\nTo find the topmost popover ancestor, given a Node newPopoverOrTopLayerElement (1), a list popoverList(2), an HTML(3) element or null invoker(3), and a boolean isPopover(4), perform the following steps. They return an HTML element or null.\n```\n\nIs `popoverList` an implicit argument to the algorithm and if so, where is that documented?","format":"org.matrix.custom.html","formatted_body":"<p>While implementing the Fullscreen API for Ladybird I came across an issue with the fullscreen spec with respect to how it says to run \"find the topmost popover ancestor\" algorithm: https://fullscreen.spec.whatwg.org/#fullscreen-an-element</p>\n<p>It says: <code>Let hideUntil be the result of running topmost popover ancestor given element, null, and false.</code> but when looking at the algorithm, it is described as \"using 4 parameters\" so to speak:</p>\n<pre><code>To find the topmost popover ancestor, given a Node newPopoverOrTopLayerElement (1), a list popoverList(2), an HTML(3) element or null invoker(3), and a boolean isPopover(4), perform the following steps. They return an HTML element or null.\n```\n\nIs `popoverList` an implicit argument to the algorithm and if so, where is that documented?\n</code></pre>\n","m.mentions":{},"msgtype":"m.text"},"ts":1742213849352,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$4egv8VJjM4PELakLomCwEUmbRyg8uhmGoODAaskQ0ao"},
{"content":{"body":"* While implementing the Fullscreen API for Ladybird I came across an issue with the fullscreen spec with respect to how it says to run \"find the topmost popover ancestor\" algorithm: https://fullscreen.spec.whatwg.org/#fullscreen-an-element\n\nIt says: `Let hideUntil be the result of running topmost popover ancestor given element, null, and false.` but when looking at the algorithm, it is described as \"using 4 parameters\" so to speak:\n\n```\nTo find the topmost popover ancestor, given a Node newPopoverOrTopLayerElement (1), a list popoverList(2), an HTML(3) element or null invoker(3), and a boolean isPopover(4), perform the following steps. They return an HTML element or null.\n```\n\nIs `popoverList` an implicit argument to the algorithm and if so, where is that documented?","format":"org.matrix.custom.html","formatted_body":"* <p>While implementing the Fullscreen API for Ladybird I came across an issue with the fullscreen spec with respect to how it says to run \"find the topmost popover ancestor\" algorithm: https://fullscreen.spec.whatwg.org/#fullscreen-an-element</p>\n<p>It says: <code>Let hideUntil be the result of running topmost popover ancestor given element, null, and false.</code> but when looking at the algorithm, it is described as \"using 4 parameters\" so to speak:</p>\n<pre><code>To find the topmost popover ancestor, given a Node newPopoverOrTopLayerElement (1), a list popoverList(2), an HTML(3) element or null invoker(3), and a boolean isPopover(4), perform the following steps. They return an HTML element or null.\n</code></pre>\n<p>Is <code>popoverList</code> an implicit argument to the algorithm and if so, where is that documented?</p>\n","m.mentions":{},"m.new_content":{"body":"While implementing the Fullscreen API for Ladybird I came across an issue with the fullscreen spec with respect to how it says to run \"find the topmost popover ancestor\" algorithm: https://fullscreen.spec.whatwg.org/#fullscreen-an-element\n\nIt says: `Let hideUntil be the result of running topmost popover ancestor given element, null, and false.` but when looking at the algorithm, it is described as \"using 4 parameters\" so to speak:\n\n```\nTo find the topmost popover ancestor, given a Node newPopoverOrTopLayerElement (1), a list popoverList(2), an HTML(3) element or null invoker(3), and a boolean isPopover(4), perform the following steps. They return an HTML element or null.\n```\n\nIs `popoverList` an implicit argument to the algorithm and if so, where is that documented?","format":"org.matrix.custom.html","formatted_body":"<p>While implementing the Fullscreen API for Ladybird I came across an issue with the fullscreen spec with respect to how it says to run \"find the topmost popover ancestor\" algorithm: https://fullscreen.spec.whatwg.org/#fullscreen-an-element</p>\n<p>It says: <code>Let hideUntil be the result of running topmost popover ancestor given element, null, and false.</code> but when looking at the algorithm, it is described as \"using 4 parameters\" so to speak:</p>\n<pre><code>To find the topmost popover ancestor, given a Node newPopoverOrTopLayerElement (1), a list popoverList(2), an HTML(3) element or null invoker(3), and a boolean isPopover(4), perform the following steps. They return an HTML element or null.\n</code></pre>\n<p>Is <code>popoverList</code> an implicit argument to the algorithm and if so, where is that documented?</p>\n","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$4egv8VJjM4PELakLomCwEUmbRyg8uhmGoODAaskQ0ao","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1742213897233,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$RlqL-6n6d9zOw6EkIr-XgpbJy7zs2GA73xfxM6IFhZc"},
{"content":{"body":"* While implementing the Fullscreen API for Ladybird I came across an issue with the fullscreen spec with respect to how it says to run \"find the topmost popover ancestor\" algorithm: https://fullscreen.spec.whatwg.org/#fullscreen-an-element\n\nIt says: `Let hideUntil be the result of running topmost popover ancestor given element, null, and false.` but when looking at the algorithm, it is described as \"using 4 parameters\" so to speak:\n\n\"To find the topmost popover ancestor, given a Node newPopoverOrTopLayerElement (1), a list popoverList(2), an HTML(3) element or null invoker(3), and a boolean isPopover(4), perform the following steps. They return an HTML element or null.\"\n\nIs `popoverList` an implicit argument to the algorithm and if so, where is that documented?","format":"org.matrix.custom.html","formatted_body":"* <p>While implementing the Fullscreen API for Ladybird I came across an issue with the fullscreen spec with respect to how it says to run \"find the topmost popover ancestor\" algorithm: https://fullscreen.spec.whatwg.org/#fullscreen-an-element</p>\n<p>It says: <code>Let hideUntil be the result of running topmost popover ancestor given element, null, and false.</code> but when looking at the algorithm, it is described as \"using 4 parameters\" so to speak:</p>\n<p>\"To find the topmost popover ancestor, given a Node newPopoverOrTopLayerElement (1), a list popoverList(2), an HTML(3) element or null invoker(3), and a boolean isPopover(4), perform the following steps. They return an HTML element or null.\"</p>\n<p>Is <code>popoverList</code> an implicit argument to the algorithm and if so, where is that documented?</p>\n","m.mentions":{},"m.new_content":{"body":"While implementing the Fullscreen API for Ladybird I came across an issue with the fullscreen spec with respect to how it says to run \"find the topmost popover ancestor\" algorithm: https://fullscreen.spec.whatwg.org/#fullscreen-an-element\n\nIt says: `Let hideUntil be the result of running topmost popover ancestor given element, null, and false.` but when looking at the algorithm, it is described as \"using 4 parameters\" so to speak:\n\n\"To find the topmost popover ancestor, given a Node newPopoverOrTopLayerElement (1), a list popoverList(2), an HTML(3) element or null invoker(3), and a boolean isPopover(4), perform the following steps. They return an HTML element or null.\"\n\nIs `popoverList` an implicit argument to the algorithm and if so, where is that documented?","format":"org.matrix.custom.html","formatted_body":"<p>While implementing the Fullscreen API for Ladybird I came across an issue with the fullscreen spec with respect to how it says to run \"find the topmost popover ancestor\" algorithm: https://fullscreen.spec.whatwg.org/#fullscreen-an-element</p>\n<p>It says: <code>Let hideUntil be the result of running topmost popover ancestor given element, null, and false.</code> but when looking at the algorithm, it is described as \"using 4 parameters\" so to speak:</p>\n<p>\"To find the topmost popover ancestor, given a Node newPopoverOrTopLayerElement (1), a list popoverList(2), an HTML(3) element or null invoker(3), and a boolean isPopover(4), perform the following steps. They return an HTML element or null.\"</p>\n<p>Is <code>popoverList</code> an implicit argument to the algorithm and if so, where is that documented?</p>\n","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$4egv8VJjM4PELakLomCwEUmbRyg8uhmGoODAaskQ0ao","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1742213917603,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$4oPv7YCmdpnQtQIhXOtBGI8TnFWeaAHkbJBPIhz4uYQ"},
{"content":{"body":"And the topmost popover ancestor algo: https://html.spec.whatwg.org/multipage/popover.html#topmost-popover-ancestor","m.mentions":{},"msgtype":"m.text"},"ts":1742214004132,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$2UmF2y8qf83Xr-9rGEyikHaSdVm8Vq1nKaerpTXmp7g"},
{"content":{"body":"I can't find any other places in the standard that refers to this algorithm, in the wording that the Fullscreen API does, namely \"given element, null, false\", i've only found \"given foo, bar, baz, quux\"","m.mentions":{},"msgtype":"m.text"},"ts":1742214101701,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$rH8c1uPEwcRfI-mh4Lme28YUzS734BupuApaZ4g-F_A"},
{"content":{"body":"If `popoverList` were optional, then it would be introduced as `an optional list popoverList`, and it would either be given a default value, or the algorithm would have to deal with the possibility that it's not supplied. And optional positional parameters are supposed to come at the end of the parameter list. None of that's true in this case, so you can be pretty confident that `popoverList` isn't optional.","format":"org.matrix.custom.html","formatted_body":"If <code>popoverList</code> were optional, then it would be introduced as <code>an optional list popoverList</code>, and it would either be given a default value, or the algorithm would have to deal with the possibility that it's not supplied. And optional positional parameters are supposed to come at the end of the parameter list. None of that's true in this case, so you can be pretty confident that <code>popoverList</code> isn't optional.","m.mentions":{},"msgtype":"m.text"},"ts":1742214768075,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$ZwtyUAY7OgqqLROFymG_hUJgmmdhFroX5tIctJSNEOA"},
{"content":{"body":"Right, that was my conclusion as  well. So that would also make it safe to assume that the Fullscreen API is worded incorrectly?\n\nJudging by how Firefox has implemented this, they populate the `popoverPositions` using popover elements that `whose popover attribute is in the auto state.` in the document. But it would probably be best to also specify this in the standard, no?","format":"org.matrix.custom.html","formatted_body":"<p>Right, that was my conclusion as  well. So that would also make it safe to assume that the Fullscreen API is worded incorrectly?</p>\n<p>Judging by how Firefox has implemented this, they populate the <code>popoverPositions</code> using popover elements that <code>whose popover attribute is in the auto state.</code> in the document. But it would probably be best to also specify this in the standard, no?</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1742214906171,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$65Eku9WUieMEPxWpIQFjpy_6nCMxTpRqSWhzYzDC6_I"},
{"content":{"body":"* Right, that was my conclusion as  well. So that would also make it safe to assume that the Fullscreen API is worded incorrectly?\n\nJudging by how Firefox has implemented this, they populate the `popoverPositions` using popover elements that `whose popover attribute is in the auto state.` in the document for which `element` belongs to. But it would probably be best to also specify this in the standard, no?","format":"org.matrix.custom.html","formatted_body":"* <p>Right, that was my conclusion as  well. So that would also make it safe to assume that the Fullscreen API is worded incorrectly?</p>\n<p>Judging by how Firefox has implemented this, they populate the <code>popoverPositions</code> using popover elements that <code>whose popover attribute is in the auto state.</code> in the document for which <code>element</code> belongs to. But it would probably be best to also specify this in the standard, no?</p>\n","m.mentions":{},"m.new_content":{"body":"Right, that was my conclusion as  well. So that would also make it safe to assume that the Fullscreen API is worded incorrectly?\n\nJudging by how Firefox has implemented this, they populate the `popoverPositions` using popover elements that `whose popover attribute is in the auto state.` in the document for which `element` belongs to. But it would probably be best to also specify this in the standard, no?","format":"org.matrix.custom.html","formatted_body":"<p>Right, that was my conclusion as  well. So that would also make it safe to assume that the Fullscreen API is worded incorrectly?</p>\n<p>Judging by how Firefox has implemented this, they populate the <code>popoverPositions</code> using popover elements that <code>whose popover attribute is in the auto state.</code> in the document for which <code>element</code> belongs to. But it would probably be best to also specify this in the standard, no?</p>\n","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$65Eku9WUieMEPxWpIQFjpy_6nCMxTpRqSWhzYzDC6_I","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1742214928304,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$GGLHa2_tbHH7sb05-twxpBqwws5VYhbwFykezBu5d4c"},
{"content":{"body":"* Right, that was my conclusion as  well. So that would also make it safe to assume that the Fullscreen API is worded incorrectly?\n\nJudging by how Firefox has implemented this, they populate the `popoverList` using popover elements that `whose popover attribute is in the auto state.` in the document for which `element` belongs to. But it would probably be best to also specify this in the standard, no?","format":"org.matrix.custom.html","formatted_body":"* <p>Right, that was my conclusion as  well. So that would also make it safe to assume that the Fullscreen API is worded incorrectly?</p>\n<p>Judging by how Firefox has implemented this, they populate the <code>popoverList</code> using popover elements that <code>whose popover attribute is in the auto state.</code> in the document for which <code>element</code> belongs to. But it would probably be best to also specify this in the standard, no?</p>\n","m.mentions":{},"m.new_content":{"body":"Right, that was my conclusion as  well. So that would also make it safe to assume that the Fullscreen API is worded incorrectly?\n\nJudging by how Firefox has implemented this, they populate the `popoverList` using popover elements that `whose popover attribute is in the auto state.` in the document for which `element` belongs to. But it would probably be best to also specify this in the standard, no?","format":"org.matrix.custom.html","formatted_body":"<p>Right, that was my conclusion as  well. So that would also make it safe to assume that the Fullscreen API is worded incorrectly?</p>\n<p>Judging by how Firefox has implemented this, they populate the <code>popoverList</code> using popover elements that <code>whose popover attribute is in the auto state.</code> in the document for which <code>element</code> belongs to. But it would probably be best to also specify this in the standard, no?</p>\n","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$65Eku9WUieMEPxWpIQFjpy_6nCMxTpRqSWhzYzDC6_I","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1742215294386,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$znHdH_RAi5rU0_MoybJCJkuxu59Y5dS6IjN3uzXIoHA"},
{"content":{"body":"`topmost popover ancestor` used to have only 3 params, and then `popoverList` was added. So probably Fullscreen's invocation used to be correct, but then wasn't updated when it should have been.","format":"org.matrix.custom.html","formatted_body":"<code>topmost popover ancestor</code> used to have only 3 params, and then <code>popoverList</code> was added. So probably Fullscreen's invocation used to be correct, but then wasn't updated when it should have been.","m.mentions":{},"msgtype":"m.text"},"ts":1742215351190,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$opSjg6qm2YM2xV-UNYLJdhufgIMPZuYpnwArqDfuIi4"},
{"content":{"body":"yeah, that was my speculation as well","m.mentions":{},"msgtype":"m.text"},"ts":1742215363926,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$qLQjvAvQiJPNl4QfBARzvgr4M5ej3iwiCGeY8gMFrBo"},
{"content":{"body":"Should I file an issue with the Fullscreen spec?","m.mentions":{},"msgtype":"m.text"},"ts":1742215410071,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$Vuvnc3ZK-7-uf-n2V3VPNw8xyhULtV_cA5yuzje3DWI"},
{"content":{"body":"That happened only two months ago, in commit 7a307cd","m.mentions":{},"msgtype":"m.text"},"ts":1742215410766,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$4sbyT7oplCDnMwWcMhrE8ICFUrw5drMpKMDMff_6KeY"},
{"content":{"body":"Oh wow","m.mentions":{},"msgtype":"m.text"},"ts":1742215416910,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$Uq8euTv8w56yGNGbSuaTJpOANPJXmCTZZXct2WHZhAw"},
{"content":{"body":"sorry, but where can I look at that commit?","m.mentions":{},"msgtype":"m.text"},"ts":1742215445153,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$qVwughKCyXholHDHxg60zIt7yOUPcyrTuqwwxlHi5fo"},
{"content":{"body":"just a minute...","m.mentions":{},"msgtype":"m.text"},"ts":1742215464167,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$GEz3XCNnnwjrZK1Y5lceSiPnWz8nKU0FUBfDQYbRnBo"},
{"content":{"body":"found it, this one right? \n\nhttps://github.com/whatwg/html/commit/7a307cdfdee23d28e9c043afd70fe46e27e40d45","m.mentions":{},"msgtype":"m.text"},"ts":1742215553501,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$6HFXh5ViRGatUz4NM2ZgGrCIRLLFDTqPOoXKRT5o0Mg"},
{"content":{"body":"yup, in particular line 86219","m.mentions":{},"msgtype":"m.text"},"ts":1742215609721,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$NcSAeIWFe5nOoYpM_NkSDVMrQ3SumOj6tzx1Cei6aTs"},
{"content":{"body":"https://github.com/whatwg/html/pull/9778 is the PR that added it. I don't think it mentions the need to update downstream specs (but I only skimmed the discussion). I don't know how that's supposed to happen.","m.mentions":{},"msgtype":"m.text"},"ts":1742215947294,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$fDqncQz7GYdQhpWxl1t1LdDv3jzCsfvmR-Iw3_eyqos"},
{"content":{"body":"right, so with my understanding, the new hints should just be dismissed upon fullscreen","m.mentions":{},"msgtype":"m.text"},"ts":1742216034269,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$sdKR_Ryc3HclTJA74ORY94y4rBd7BTR_ONyYjWtnAQk"},
{"content":{"body":"but, I would need to understand popovers better. who, what, where do I file issues?","m.mentions":{},"msgtype":"m.text"},"ts":1742216182144,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$FKLGeF_2pwOhbt1SNVIK_wmIIV0tL6DnT8usc-kAink"},
{"content":{"body":"because it seems like filing an issue with the Fullscreen spec don't make all that much sense, since we'd need some understanding that the authors & reviewers of that PR can only provide, right?","m.mentions":{},"msgtype":"m.text"},"ts":1742216232398,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$meGYyedjd7YWe6QdqIAFxGtWNq_04O9KngXmxqjZxKM"},
{"content":{"body":"I think it makes sense to file an issue with the Fullscreen spec even if you don't know how to resolve it.","m.mentions":{},"msgtype":"m.text"},"ts":1742216321265,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$D8tYHIqc6XcgBDYk2bIB_2bNehG3Za8fPB4iY11AO80"},
{"content":{"body":"right, okj","m.mentions":{},"msgtype":"m.text"},"ts":1742216330266,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$JYsEXg3JG-9f475jNpgJGLa3X_9hUtPRUqJN8K4MlcY"},
{"content":{"body":"* right, ok","m.mentions":{},"m.new_content":{"body":"right, ok","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$JYsEXg3JG-9f475jNpgJGLa3X_9hUtPRUqJN8K4MlcY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1742216333769,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$HlYt4jtNZGtno_459CCpFYDKvycwPkibo8EwnkHDKm8"},
{"content":{"body":"I'll file an issue, reference the PR and some of this discussion.","m.mentions":{},"msgtype":"m.text"},"ts":1742216356415,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$SNZD9ajQ_oJ4Vvk8jr_4PdciTHjH7licpMSh_Ihdj2Q"},
{"content":{"body":"Your issue can maybe 'at' josepharhar (author of 9778) to ask for advice.","m.mentions":{},"msgtype":"m.text"},"ts":1742216481434,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$JWn3vTZIzg3P7YbVgG7d_5lro1p2CtTagEvKoQQ2FLk"},
{"content":{"body":"ok","m.mentions":{},"msgtype":"m.text"},"ts":1742216536014,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$6hTYeAMsHASNQFdr6EeUP7DONm4gyYAsaYNwjhh7PAY"},
{"content":{"body":"oh, first check if such an issue already exists on fullscreen.","m.mentions":{},"msgtype":"m.text"},"ts":1742216544064,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$PX26vif7TtvvXWGyQmtFdaoY3F0Y0H9OgQ9A-TsIcWw"},
{"content":{"body":"yeah it struck me too :) but there was none","m.mentions":{},"msgtype":"m.text"},"ts":1742216556731,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$O_kESLk5hjZTS14HZgsEUV6n63QUbrTWQpLDW5X-3wU"},
{"content":{"body":"i'm guessing they missed it because when clicking the cross references, the fullscreen api does not show up","m.mentions":{},"msgtype":"m.text"},"ts":1742216898406,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$XRkRFOmZjlfPjUejEEUqDiYERpQr9C6CHaNZt6girjI"}
]