[
{"content":{"body":"While implementing the Fullscreen API for Ladybird I came across an issue with the fullscreen spec with respect to how it says to run \"find the topmost popover ancestor\" algorithm: https://fullscreen.spec.whatwg.org/#fullscreen-an-element\n\nIt says: `Let hideUntil be the result of running topmost popover ancestor given element, null, and false.` but when looking at the algorithm, it is described as \"using 4 parameters\" so to speak:\n\n````\nTo find the topmost popover ancestor, given a Node newPopoverOrTopLayerElement (1), a list popoverList(2), an HTML(3) element or null invoker(3), and a boolean isPopover(4), perform the following steps. They return an HTML element or null.\n```\n\nIs `popoverList` an implicit argument to the algorithm and if so, where is that documented?","format":"org.matrix.custom.html","formatted_body":"<p>While implementing the Fullscreen API for Ladybird I came across an issue with the fullscreen spec with respect to how it says to run \"find the topmost popover ancestor\" algorithm: https://fullscreen.spec.whatwg.org/#fullscreen-an-element</p>\n<p>It says: <code>Let hideUntil be the result of running topmost popover ancestor given element, null, and false.</code> but when looking at the algorithm, it is described as \"using 4 parameters\" so to speak:</p>\n<pre><code>To find the topmost popover ancestor, given a Node newPopoverOrTopLayerElement (1), a list popoverList(2), an HTML(3) element or null invoker(3), and a boolean isPopover(4), perform the following steps. They return an HTML element or null.\n```\n\nIs `popoverList` an implicit argument to the algorithm and if so, where is that documented?\n</code></pre>\n","m.mentions":{},"msgtype":"m.text"},"ts":1742213849352,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$4egv8VJjM4PELakLomCwEUmbRyg8uhmGoODAaskQ0ao"},
{"content":{"body":"* While implementing the Fullscreen API for Ladybird I came across an issue with the fullscreen spec with respect to how it says to run \"find the topmost popover ancestor\" algorithm: https://fullscreen.spec.whatwg.org/#fullscreen-an-element\n\nIt says: `Let hideUntil be the result of running topmost popover ancestor given element, null, and false.` but when looking at the algorithm, it is described as \"using 4 parameters\" so to speak:\n\n```\nTo find the topmost popover ancestor, given a Node newPopoverOrTopLayerElement (1), a list popoverList(2), an HTML(3) element or null invoker(3), and a boolean isPopover(4), perform the following steps. They return an HTML element or null.\n```\n\nIs `popoverList` an implicit argument to the algorithm and if so, where is that documented?","format":"org.matrix.custom.html","formatted_body":"* <p>While implementing the Fullscreen API for Ladybird I came across an issue with the fullscreen spec with respect to how it says to run \"find the topmost popover ancestor\" algorithm: https://fullscreen.spec.whatwg.org/#fullscreen-an-element</p>\n<p>It says: <code>Let hideUntil be the result of running topmost popover ancestor given element, null, and false.</code> but when looking at the algorithm, it is described as \"using 4 parameters\" so to speak:</p>\n<pre><code>To find the topmost popover ancestor, given a Node newPopoverOrTopLayerElement (1), a list popoverList(2), an HTML(3) element or null invoker(3), and a boolean isPopover(4), perform the following steps. They return an HTML element or null.\n</code></pre>\n<p>Is <code>popoverList</code> an implicit argument to the algorithm and if so, where is that documented?</p>\n","m.mentions":{},"m.new_content":{"body":"While implementing the Fullscreen API for Ladybird I came across an issue with the fullscreen spec with respect to how it says to run \"find the topmost popover ancestor\" algorithm: https://fullscreen.spec.whatwg.org/#fullscreen-an-element\n\nIt says: `Let hideUntil be the result of running topmost popover ancestor given element, null, and false.` but when looking at the algorithm, it is described as \"using 4 parameters\" so to speak:\n\n```\nTo find the topmost popover ancestor, given a Node newPopoverOrTopLayerElement (1), a list popoverList(2), an HTML(3) element or null invoker(3), and a boolean isPopover(4), perform the following steps. They return an HTML element or null.\n```\n\nIs `popoverList` an implicit argument to the algorithm and if so, where is that documented?","format":"org.matrix.custom.html","formatted_body":"<p>While implementing the Fullscreen API for Ladybird I came across an issue with the fullscreen spec with respect to how it says to run \"find the topmost popover ancestor\" algorithm: https://fullscreen.spec.whatwg.org/#fullscreen-an-element</p>\n<p>It says: <code>Let hideUntil be the result of running topmost popover ancestor given element, null, and false.</code> but when looking at the algorithm, it is described as \"using 4 parameters\" so to speak:</p>\n<pre><code>To find the topmost popover ancestor, given a Node newPopoverOrTopLayerElement (1), a list popoverList(2), an HTML(3) element or null invoker(3), and a boolean isPopover(4), perform the following steps. They return an HTML element or null.\n</code></pre>\n<p>Is <code>popoverList</code> an implicit argument to the algorithm and if so, where is that documented?</p>\n","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$4egv8VJjM4PELakLomCwEUmbRyg8uhmGoODAaskQ0ao","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1742213897233,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$RlqL-6n6d9zOw6EkIr-XgpbJy7zs2GA73xfxM6IFhZc"},
{"content":{"body":"* While implementing the Fullscreen API for Ladybird I came across an issue with the fullscreen spec with respect to how it says to run \"find the topmost popover ancestor\" algorithm: https://fullscreen.spec.whatwg.org/#fullscreen-an-element\n\nIt says: `Let hideUntil be the result of running topmost popover ancestor given element, null, and false.` but when looking at the algorithm, it is described as \"using 4 parameters\" so to speak:\n\n\"To find the topmost popover ancestor, given a Node newPopoverOrTopLayerElement (1), a list popoverList(2), an HTML(3) element or null invoker(3), and a boolean isPopover(4), perform the following steps. They return an HTML element or null.\"\n\nIs `popoverList` an implicit argument to the algorithm and if so, where is that documented?","format":"org.matrix.custom.html","formatted_body":"* <p>While implementing the Fullscreen API for Ladybird I came across an issue with the fullscreen spec with respect to how it says to run \"find the topmost popover ancestor\" algorithm: https://fullscreen.spec.whatwg.org/#fullscreen-an-element</p>\n<p>It says: <code>Let hideUntil be the result of running topmost popover ancestor given element, null, and false.</code> but when looking at the algorithm, it is described as \"using 4 parameters\" so to speak:</p>\n<p>\"To find the topmost popover ancestor, given a Node newPopoverOrTopLayerElement (1), a list popoverList(2), an HTML(3) element or null invoker(3), and a boolean isPopover(4), perform the following steps. They return an HTML element or null.\"</p>\n<p>Is <code>popoverList</code> an implicit argument to the algorithm and if so, where is that documented?</p>\n","m.mentions":{},"m.new_content":{"body":"While implementing the Fullscreen API for Ladybird I came across an issue with the fullscreen spec with respect to how it says to run \"find the topmost popover ancestor\" algorithm: https://fullscreen.spec.whatwg.org/#fullscreen-an-element\n\nIt says: `Let hideUntil be the result of running topmost popover ancestor given element, null, and false.` but when looking at the algorithm, it is described as \"using 4 parameters\" so to speak:\n\n\"To find the topmost popover ancestor, given a Node newPopoverOrTopLayerElement (1), a list popoverList(2), an HTML(3) element or null invoker(3), and a boolean isPopover(4), perform the following steps. They return an HTML element or null.\"\n\nIs `popoverList` an implicit argument to the algorithm and if so, where is that documented?","format":"org.matrix.custom.html","formatted_body":"<p>While implementing the Fullscreen API for Ladybird I came across an issue with the fullscreen spec with respect to how it says to run \"find the topmost popover ancestor\" algorithm: https://fullscreen.spec.whatwg.org/#fullscreen-an-element</p>\n<p>It says: <code>Let hideUntil be the result of running topmost popover ancestor given element, null, and false.</code> but when looking at the algorithm, it is described as \"using 4 parameters\" so to speak:</p>\n<p>\"To find the topmost popover ancestor, given a Node newPopoverOrTopLayerElement (1), a list popoverList(2), an HTML(3) element or null invoker(3), and a boolean isPopover(4), perform the following steps. They return an HTML element or null.\"</p>\n<p>Is <code>popoverList</code> an implicit argument to the algorithm and if so, where is that documented?</p>\n","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$4egv8VJjM4PELakLomCwEUmbRyg8uhmGoODAaskQ0ao","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1742213917603,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$4oPv7YCmdpnQtQIhXOtBGI8TnFWeaAHkbJBPIhz4uYQ"},
{"content":{"body":"And the topmost popover ancestor algo: https://html.spec.whatwg.org/multipage/popover.html#topmost-popover-ancestor","m.mentions":{},"msgtype":"m.text"},"ts":1742214004132,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$2UmF2y8qf83Xr-9rGEyikHaSdVm8Vq1nKaerpTXmp7g"},
{"content":{"body":"I can't find any other places in the standard that refers to this algorithm, in the wording that the Fullscreen API does, namely \"given element, null, false\", i've only found \"given foo, bar, baz, quux\"","m.mentions":{},"msgtype":"m.text"},"ts":1742214101701,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$rH8c1uPEwcRfI-mh4Lme28YUzS734BupuApaZ4g-F_A"},
{"content":{"body":"If `popoverList` were optional, then it would be introduced as `an optional list popoverList`, and it would either be given a default value, or the algorithm would have to deal with the possibility that it's not supplied. And optional positional parameters are supposed to come at the end of the parameter list. None of that's true in this case, so you can be pretty confident that `popoverList` isn't optional.","format":"org.matrix.custom.html","formatted_body":"If <code>popoverList</code> were optional, then it would be introduced as <code>an optional list popoverList</code>, and it would either be given a default value, or the algorithm would have to deal with the possibility that it's not supplied. And optional positional parameters are supposed to come at the end of the parameter list. None of that's true in this case, so you can be pretty confident that <code>popoverList</code> isn't optional.","m.mentions":{},"msgtype":"m.text"},"ts":1742214768075,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$ZwtyUAY7OgqqLROFymG_hUJgmmdhFroX5tIctJSNEOA"},
{"content":{"body":"Right, that was my conclusion as  well. So that would also make it safe to assume that the Fullscreen API is worded incorrectly?\n\nJudging by how Firefox has implemented this, they populate the `popoverPositions` using popover elements that `whose popover attribute is in the auto state.` in the document. But it would probably be best to also specify this in the standard, no?","format":"org.matrix.custom.html","formatted_body":"<p>Right, that was my conclusion as  well. So that would also make it safe to assume that the Fullscreen API is worded incorrectly?</p>\n<p>Judging by how Firefox has implemented this, they populate the <code>popoverPositions</code> using popover elements that <code>whose popover attribute is in the auto state.</code> in the document. But it would probably be best to also specify this in the standard, no?</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1742214906171,"senderName":"sfarre","senderId":"@theidinside:mozilla.org","id":"$65Eku9WUieMEPxWpIQFjpy_6nCMxTpRqSWhzYzDC6_I"}
]