[
{"content":{"body":"Psychpsyo: your archeology at https://github.com/whatwg/html/issues/10296#issuecomment-2681769263 is pretty cool. Kudos for doing that. I hope it leads to resolving this decade-old issue in a good way for all involved :)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@psychpsyo:matrix.org\">Psychpsyo</a>: your archeology at https://github.com/whatwg/html/issues/10296#issuecomment-2681769263 is pretty cool. Kudos for doing that. I hope it leads to resolving this decade-old issue in a good way for all involved :)","m.mentions":{"user_ids":["@psychpsyo:matrix.org"]},"msgtype":"m.text"},"ts":1740630266411,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$tkT6M7H4lGb62F9UesNcNTR1z28uqJXn7L6BWuaKaeQ"},
{"content":{"body":"Domenic: not sure I'll be ready to reply to your new `getImageData()` question later today. I've asked internally, though I would also want padenot to reply.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: not sure I'll be ready to reply to your new <code>getImageData()</code> question later today. I've asked internally, though I would also want padenot to reply.","m.mentions":{"user_ids":["@domenicdenicola:matrix.org"]},"msgtype":"m.text"},"ts":1740643358321,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$0ejwwyI6VQgvREL2q62Wpx-lwfTZ57TapOdTTZcB3pw"},
{"content":{"body":"No problem, thanks for prioritizing it.","msgtype":"m.text"},"ts":1740643600478,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$YBGCzXeFA4HvlRapVNRhZfXrYDE82KE4cxNnpwu4JME"},
{"content":{"body":"And yet another polyfill appears to have poisoned the standards well. This for scoped custom element registries. People never learn. ðŸ« ","m.mentions":{},"msgtype":"m.text"},"ts":1740646611592,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$bxN96oo8nZ_XyT0k4wS9O5GwqO0JfBMBdsF-V6h4gsk"},
{"content":{"body":"* And yet another polyfill appears to have poisoned the standards well. This time for scoped custom element registries. People never learn. ðŸ« ","m.mentions":{},"m.new_content":{"body":"And yet another polyfill appears to have poisoned the standards well. This time for scoped custom element registries. People never learn. ðŸ« ","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$bxN96oo8nZ_XyT0k4wS9O5GwqO0JfBMBdsF-V6h4gsk","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1740663003782,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$nBGhoUgxN1zNyJuLqLsmbR-GSBA3w1o-6nB9vUvv-_c"},
{"content":{"body":"Thank you!\nI'm still hoping that we can restrict the elements this applies to and maybe re-frame the spec in terms of margin collapsing once again, since that, to me, makes infinitely more sense than the current, convoluted CSS-to-English translation of Firefox's web-incompatible imitation of that behavior.","m.mentions":{"user_ids":["@domenicdenicola:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$tkT6M7H4lGb62F9UesNcNTR1z28uqJXn7L6BWuaKaeQ"}},"msgtype":"m.text"},"ts":1740665983117,"senderName":"Psychpsyo","senderId":"@psychpsyo:matrix.org","id":"$rREBrnEYrcpNot3KEZDN3AUe8FfOpp1kDsPq4QAfsmo"},
{"content":{"body":"* Thank you!\nI'm still hoping that we can restrict the elements this applies to and maybe re-phrase the spec in terms of margin collapsing once again, since that, to me, makes infinitely more sense than the current, convoluted CSS-to-English translation of Firefox's web-incompatible imitation of that behavior.","m.mentions":{},"m.new_content":{"body":"Thank you!\nI'm still hoping that we can restrict the elements this applies to and maybe re-phrase the spec in terms of margin collapsing once again, since that, to me, makes infinitely more sense than the current, convoluted CSS-to-English translation of Firefox's web-incompatible imitation of that behavior.","m.mentions":{"user_ids":["@domenicdenicola:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$rREBrnEYrcpNot3KEZDN3AUe8FfOpp1kDsPq4QAfsmo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1740666007926,"senderName":"Psychpsyo","senderId":"@psychpsyo:matrix.org","id":"$v3Qv4d6CE6PPwjFTDMcFQzFz7PTxm-XXvpHVHBN2S9A"},
{"content":{"body":"* Thank you!\nI'm still hoping that we can restrict the cases this applies in and maybe re-phrase the spec in terms of margin collapsing once again, since that, to me, makes infinitely more sense than the current, convoluted CSS-to-English translation of Firefox's web-incompatible imitation of that behavior.","m.mentions":{},"m.new_content":{"body":"Thank you!\nI'm still hoping that we can restrict the cases this applies in and maybe re-phrase the spec in terms of margin collapsing once again, since that, to me, makes infinitely more sense than the current, convoluted CSS-to-English translation of Firefox's web-incompatible imitation of that behavior.","m.mentions":{"user_ids":["@domenicdenicola:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$rREBrnEYrcpNot3KEZDN3AUe8FfOpp1kDsPq4QAfsmo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1740668378096,"senderName":"Psychpsyo","senderId":"@psychpsyo:matrix.org","id":"$SXmvrKX1L1Y2hqy4BSd385me_RMYV4Te7TpEBspKZ2c"},
{"content":{"body":"* Thank you!\nI'm still hoping that we can restrict the cases this applies in and maybe re-phrase the spec in terms of margin collapsing once again, since that, to me, makes infinitely more sense than the current, convoluted CSS-to-English translation of Firefox's web-incompatible imitation of the behavior.","m.mentions":{},"m.new_content":{"body":"Thank you!\nI'm still hoping that we can restrict the cases this applies in and maybe re-phrase the spec in terms of margin collapsing once again, since that, to me, makes infinitely more sense than the current, convoluted CSS-to-English translation of Firefox's web-incompatible imitation of the behavior.","m.mentions":{"user_ids":["@domenicdenicola:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$rREBrnEYrcpNot3KEZDN3AUe8FfOpp1kDsPq4QAfsmo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1740668464777,"senderName":"Psychpsyo","senderId":"@psychpsyo:matrix.org","id":"$2cK4_945rI_d1NA4V41R859cIRZkRqWcR2N5E7DsnSY"},
{"content":{"body":"For the record, Chrome's implementation doesn't happen at the CSS level at all, but when actually laying out the quirky margins","m.mentions":{},"msgtype":"m.text"},"ts":1740668713566,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$WI6UUUUyL46s8BO3xgedHF_7TsXJWurzYktI0CXAucM"},
{"content":{"body":"Yes, and so does the one in IE. This is the sensible way to do it, since this is a special case of regular margin collapsing.","m.mentions":{},"msgtype":"m.text"},"ts":1740668752033,"senderName":"Psychpsyo","senderId":"@psychpsyo:matrix.org","id":"$igDcWsOfihZZ1bI5HabMm5C_JuvDKu6JifHUZooc768"},
{"content":{"body":"Chrome's style sheet has a special unit used only in the UA stylesheet to mark margins as quirky","m.mentions":{},"msgtype":"m.text"},"ts":1740668783562,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$uHeG7AWdS0-WSxZquBkDlL97uSsNs6NzsroqO_xAGAY"},
{"content":{"body":"that took me a while to figure out when I first saw it","m.mentions":{},"msgtype":"m.text"},"ts":1740668837322,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$1Pa2ODAsF6rkCMgfco2uCZhSqMWaD6EPBlCdj4kjWiw"},
{"content":{"body":"That... I mean, yea... kinda not sure if there is a good way to do this.","m.mentions":{},"msgtype":"m.text"},"ts":1740668838162,"senderName":"Psychpsyo","senderId":"@psychpsyo:matrix.org","id":"$Z4r-fwtJ8OjUl5vJAI0Hrtev4-bd-5vmYxohk1Xq5Bg"},
{"content":{"body":"https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/core/html/resources/html.css;l=47-48","m.mentions":{},"msgtype":"m.text"},"ts":1740668838560,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$_cTcU4j-ICitk04zAEp_iNuxhGifxH-gKnbybhJTO7s"},
{"content":{"body":"So even the chrome way of doing this can't be written out in standard CSS. Fun.","m.mentions":{},"msgtype":"m.text"},"ts":1740668893214,"senderName":"Psychpsyo","senderId":"@psychpsyo:matrix.org","id":"$TgNZ2JoaxE0aLVO_X0eTNjDptNgwldf8wBReqa6XQmY"},
{"content":{"body":"I think `__qem (for quirky em)` came from WebKit. (It's still in WebKit.)","format":"org.matrix.custom.html","formatted_body":"I think <code>__qem (for quirky em)</code> came from WebKit. (It's still in WebKit.)","m.mentions":{},"msgtype":"m.text"},"ts":1740670973658,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$WrJarDG3PNe8NynzLgo9l-RZ57FDsxZ8E4Owhz8KHR4"},
{"content":{"body":"Oops:\n```\n    // This value is used to handle quirky margins in reflow roots (body, td, and th) like WinIE.\n    // The basic idea is that a stylesheet can use the value __qem (for quirky em) instead of em.\n    // When the quirky value is used, if you're in quirks mode, the margin will collapse away\n    // inside a table cell. This quirk is specified in the HTML spec but our impl is different.\n    CSS_QUIRKY_EM\n```","format":"org.matrix.custom.html","formatted_body":"<p>Oops:</p>\n<pre><code>    // This value is used to handle quirky margins in reflow roots (body, td, and th) like WinIE.\n    // The basic idea is that a stylesheet can use the value __qem (for quirky em) instead of em.\n    // When the quirky value is used, if you're in quirks mode, the margin will collapse away\n    // inside a table cell. This quirk is specified in the HTML spec but our impl is different.\n    CSS_QUIRKY_EM\n</code></pre>\n","m.mentions":{},"msgtype":"m.text"},"ts":1740671042198,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$P2JO-bj2FEYkrT1RXLvWu9szRWBwiFHmw-6HhlIig30"},
{"content":{"body":"I'd love to know how IE does this internally, but I assume we might never know.\nOverall, I am almost 100% sure that the original quirk is \"any default UA margin can infinitely collapse into the top/bottom of the page and table cells.\"\n(IE does collapse into the bottom of the page, but I don't think this ever matters for web compat)","m.mentions":{},"msgtype":"m.text"},"ts":1740674693507,"senderName":"Psychpsyo","senderId":"@psychpsyo:matrix.org","id":"$Z_OqxxhP99QWDeKpmELgnAC9jPdQmxhdAEP-obc7028"},
{"content":{"body":"I don't think what IE does matters at this point. CSS_QUIRKY_EM does and fortunately is a knowable thing.","m.mentions":{},"msgtype":"m.text"},"ts":1740674814307,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$eoLAcwVJBueC3SLEfuJHeiv09d8OMhaih641xxrh0e4"},
{"content":{"body":"Yea. IE's way would mostly be a curiosity.\nquirky EM seems like a sensible way to do this. (Maybe not for a standard definition though)","m.mentions":{},"msgtype":"m.text"},"ts":1740675445629,"senderName":"Psychpsyo","senderId":"@psychpsyo:matrix.org","id":"$jKNOs2hKPhqHPznwO6sJCnGEKPuDqK7egWjUTh0k-jk"},
{"content":{"body":"* Yea. IE's way would mostly be a curiosity.\nquirky EM seems like a sensible way to do this. (Maybe not for a spec definition though)","m.mentions":{},"m.new_content":{"body":"Yea. IE's way would mostly be a curiosity.\nquirky EM seems like a sensible way to do this. (Maybe not for a spec definition though)","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$jKNOs2hKPhqHPznwO6sJCnGEKPuDqK7egWjUTh0k-jk","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1740675460069,"senderName":"Psychpsyo","senderId":"@psychpsyo:matrix.org","id":"$Bx2xYJCx0NaBz1dMfrvBa4ctuNZF_dCM1b_mFP6Va34"},
{"content":{"body":"feels potentially written by llm https://github.com/whatwg/html/issues/10855#issuecomment-2689176726","m.mentions":{},"msgtype":"m.text"},"ts":1740695798609,"senderName":"Meghan Denny","senderId":"@meghanbun:matrix.org","id":"$a-0ogJEdo8NxCSg4FgCpGKdcin-2jbX_KUZNtdk49ro"},
{"content":{"body":"perhaps partially","m.mentions":{},"msgtype":"m.text"},"ts":1740695835276,"senderName":"Meghan Denny","senderId":"@meghanbun:matrix.org","id":"$M61IyNmP6YPugO67QikYzgwVmZ8pqX8NlVPX2jXMW3Y"}
]