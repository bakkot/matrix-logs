[
{"content":{"body":"Yeah, the plan is to obsolete `embed`/`object`. `object` in particular has some capabilities that are unique to it still, but we're chipping away at those.","format":"org.matrix.custom.html","formatted_body":"Yeah, the plan is to obsolete <code>embed</code>/<code>object</code>. <code>object</code> in particular has some capabilities that are unique to it still, but we're chipping away at those.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Yeah, the plan is to obsolete `embed`/`object`. `object` in particular has some capabilities that are unique to it still, but we're chipping away at those.","mimetype":"text/plain"},{"body":"Yeah, the plan is to obsolete <code>embed</code>/<code>object</code>. <code>object</code> in particular has some capabilities that are unique to it still, but we're chipping away at those.","mimetype":"text/html"}]},"ts":1649226957122,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$S9ckiv_jFRLecWwfKbz89684F-1Bqgv2e75UJAqnaDo"},
{"content":{"body":"GitHub's \"smart URL paste\" continues to trip me up, I keep forgetting it's there and ending up with a result I don't want","msgtype":"m.text","org.matrix.msc1767.text":"GitHub's \"smart URL paste\" continues to trip me up, I keep forgetting it's there and ending up with a result I don't want"},"ts":1649232171320,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$bi06bA3evm8VBAynnn0h-QxTtXS8xUmatGx1FCm_nqQ"},
{"content":{"body":"And I kinda worry that if I learn it I'll expect it in other places and run into trouble there","msgtype":"m.text","org.matrix.msc1767.text":"And I kinda worry that if I learn it I'll expect it in other places and run into trouble there"},"ts":1649232198944,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$c62PiW2akXBs-bo3TkSsb9H8sYASPSxBzZpThdpDxQY"},
{"content":{"body":"I'm looking for something that resets a whole document, including expando attributes etc. - I suppose I could emulate this by serializing+parsing the whole document or by cloning it. But, ideally, I'm looking for existing patterns for this \"reset\" or at least individual puzzle pieces. It seems to me that even the puzzle piece that removes \"all\" event handlers from an element seems to be a \"no\" already :/","msgtype":"m.text","org.matrix.msc1767.text":"I'm looking for something that resets a whole document, including expando attributes etc. - I suppose I could emulate this by serializing+parsing the whole document or by cloning it. But, ideally, I'm looking for existing patterns for this \"reset\" or at least individual puzzle pieces. It seems to me that even the puzzle piece that removes \"all\" event handlers from an element seems to be a \"no\" already :/"},"ts":1649237037117,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$4eDx54tbNW2yy_A1SFT3Z5A4Bp91GNwL5R-ty7XDLRM"},
{"content":{"body":"freddy: \"document open steps\" does a bunch of that","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>: &quot;document open steps&quot; does a bunch of that","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"freddy: \"document open steps\" does a bunch of that","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>: &quot;document open steps&quot; does a bunch of that","mimetype":"text/html"}]},"ts":1649246043550,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$DA_N1qphm5fncCqRoYIz7tPeDkZO4az1CfKcN-uGaOc"},
{"content":{"body":"I _did_ see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#opening-the-input-stream, but it \"replace the document with a new object\" sounded to me as if the corresponding element-tree would be gone?!","format":"org.matrix.custom.html","formatted_body":"I <em>did</em> see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#opening-the-input-stream, but it &quot;replace the document with a new object&quot; sounded to me as if the corresponding element-tree would be gone?!","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"I _did_ see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#opening-the-input-stream, but it \"replace the document with a new object\" sounded to me as if the corresponding element-tree would be gone?!","mimetype":"text/plain"},{"body":"I <em>did</em> see https://html.spec.whatwg.org/multipage/dynamic-markup-insertion.html#opening-the-input-stream, but it &quot;replace the document with a new object&quot; sounded to me as if the corresponding element-tree would be gone?!","mimetype":"text/html"}]},"ts":1649246120364,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$szIQh6M4hTy0VmaeQXywrx7ii4oW3MH44OjXBPiW7EI"},
{"content":{"body":"OK, I realize I only read the non-normative stuff (I feel bad now)","msgtype":"m.text","org.matrix.msc1767.text":"OK, I realize I only read the non-normative stuff (I feel bad now)"},"ts":1649246163246,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$4U7wKMw8dCzEESx00PBZT5QHuxBJfyS_vbrLIFt-v2o"},
{"content":{"body":" * OK, I realize I only read the non-normative stuff (I feel bad now)","m.new_content":{"body":"OK, I realize I only read the non-normative stuff (I feel bad now)","msgtype":"m.text","org.matrix.msc1767.text":"OK, I realize I only read the non-normative stuff (I feel bad now)"},"m.relates_to":{"event_id":"$4U7wKMw8dCzEESx00PBZT5QHuxBJfyS_vbrLIFt-v2o","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * OK, I realize I only read the non-normative stuff (I feel bad now)"},"ts":1649246168438,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$VIoHTmqCia_GY4QxBmxRdawe9sW6a10IA5E866imRzg"},
{"content":{"body":"freddy: it definitely doesn't do sanitization though; for sanitize() I'm still curious what the actual envisioned usage patterns are","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>: it definitely doesn't do sanitization though; for sanitize() I'm still curious what the actual envisioned usage patterns are","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"freddy: it definitely doesn't do sanitization though; for sanitize() I'm still curious what the actual envisioned usage patterns are","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>: it definitely doesn't do sanitization though; for sanitize() I'm still curious what the actual envisioned usage patterns are","mimetype":"text/html"}]},"ts":1649246256122,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$rK_TbhyK843UyPfBykbPoxMoLUMGWtumTanSKdWuG64"},
{"content":{"body":"But we do have primitives such as \"remove all listeners\" in the platform, but they're not widely available","msgtype":"m.text","org.matrix.msc1767.text":"But we do have primitives such as \"remove all listeners\" in the platform, but they're not widely available"},"ts":1649246293194,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$4ep03kfQxjI29hZ7QO2r0NHDcWZ6F5rWTq63M737ePs"},
{"content":{"body":"Yeah, so the thing is that there's an apparent lack of \"inside knowledge\" from the sanitizer folks (freddy, otherdaniel, koto) about the potential state that could be attached to the document. The lack of knowledge lead to a security-conservative \"we want it all gone\" design goal. Similar to the other security-conservative choices we made (can't just a string-to-string API and hope for the best, can't parse a string with implicit/wrong context element, etc.).","msgtype":"m.text","org.matrix.msc1767.text":"Yeah, so the thing is that there's an apparent lack of \"inside knowledge\" from the sanitizer folks (freddy, otherdaniel, koto) about the potential state that could be attached to the document. The lack of knowledge lead to a security-conservative \"we want it all gone\" design goal. Similar to the other security-conservative choices we made (can't just a string-to-string API and hope for the best, can't parse a string with implicit/wrong context element, etc.)."},"ts":1649246381350,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$2wRBAUcJcKB37DB5wYvzANnJc5gL55T5IcnpcRJ8phY"}
]