[
{"content":{"body":"devsrealmguy: that step is allocating a new Text node, so for that it needs to specify the node document","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@devsrealmguy:matrix.org\">devsrealmguy</a>: that step is allocating a new Text node, so for that it needs to specify the node document","msgtype":"m.text"},"ts":1639381564164,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$WW_U-nUobvaErQtQIKkYycnz3XVb_3lSYLOZuIOXuMw"},
{"content":{"body":"Thanks, that's what I was doing, I was confused when that passage says it should be the adjusted location document, after back and forth, I realized it was for emphasis. Thanks, appreciate your reply.","msgtype":"m.text"},"ts":1639391301570,"senderName":"devsrealmguy","senderId":"@devsrealmguy:matrix.org","id":"$k1BFvbKA_TIAjx54IpmPG-J9Li_m8m2Q3v_--OyzJTU"},
{"content":{"body":"Noam Rosenthal: I think you're correct that the callback order will have to end up switching","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: I think you're correct that the callback order will have to end up switching","msgtype":"m.text"},"ts":1639396195029,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$dorOg5_JccuNRWMpSl--CVde16Aoohoz6oRY5KmgtBA"},
{"content":{"body":"Noam Rosenthal: doing anything else seems rather involved","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: doing anything else seems rather involved","msgtype":"m.text"},"ts":1639396214770,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$8Zuh7uXVd4B9snd5ZpZNh0u88uAvTuCYCMx6cfWKKWQ"},
{"content":{"body":"It does seem like the current patch still has logic bugs","msgtype":"m.text"},"ts":1639396230980,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$S93oVAjluEUpK5ADgOWd0d6ezY4v3lOXSRTYEFRj4dk"},
{"content":{"body":"> <@annevk:mozilla.org> Noam Rosenthal: doing anything else seems rather involved\n\nYea, I think it would be much more succinct if the callbacks are either/or","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$8Zuh7uXVd4B9snd5ZpZNh0u88uAvTuCYCMx6cfWKKWQ?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br><a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: doing anything else seems rather involved</blockquote></mx-reply>Yea, I think it would be much more succinct if the callbacks are either/or","m.relates_to":{"m.in_reply_to":{"event_id":"$8Zuh7uXVd4B9snd5ZpZNh0u88uAvTuCYCMx6cfWKKWQ"}},"msgtype":"m.text"},"ts":1639396246651,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$q8Jofi_SW0UIgjpSWLiBVz3YXrhi_h5WHJHocy1qtqw"},
{"content":{"body":"if there is a future use case that needs both endOfBody and done we can deal with it then","msgtype":"m.text"},"ts":1639396263966,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$A38vmpF3RU11oIFAuRaUE3U_blElbTTulICTPu0Jx2I"},
{"content":{"body":"I don't think they have to be exclusive per se, but the consume operation will necessarily complete after EOF has been reached","msgtype":"m.text"},"ts":1639396283038,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$__uaMffObAMhioAIcFvaippPcHGMf4YJB1Wn0SZA8lw"},
{"content":{"body":"yea","msgtype":"m.text"},"ts":1639396297872,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$DLEdm_XrFCislIYwbNqzv7cWYraE-S84PIAFJzDpC5c"},
{"content":{"body":"and request's \"done\" would mean \"EOF\" rather than something to do with whether it has been consumed","msgtype":"m.text"},"ts":1639396317490,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$HpEbxWp81x59L5SNhe6ZMQrUt6tVnI3312rnIHWTe00"},
{"content":{"body":"(that flag is anyway a bit strange, is it in use?)","msgtype":"m.text"},"ts":1639396340951,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$5vVCqxiNliUoTI1kIg3kKtsXwHecPEM-bm2u28hu_wY"},
{"content":{"body":"It's for fetch groups, but those haven't been completely defined","msgtype":"m.text"},"ts":1639396425918,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$bgp8vPX7V_c9Pdr_db6GXrIhb-epjsxwqqyCOICh7pA"},
{"content":{"body":"annevk: ok, I re-switched the order. Did it have other logic errors?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: ok, I re-switched the order. Did it have other logic errors?","msgtype":"m.text"},"ts":1639396778386,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$OovbnlyyRRjnOTsZWExsBpOwT9MCMK7c1t1Vf7BMiZA"},
{"content":{"body":"I wasn't really ready evaluating this thing yet","msgtype":"m.text"},"ts":1639396868862,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$Z2PXR6AvZph3_wqbJw7r4rJdXqJWqctH594MoQ0fOg8"},
{"content":{"body":"Noam Rosenthal: I think this works, but we need better names, maybe in a follow-up PR","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: I think this works, but we need better names, maybe in a follow-up PR","msgtype":"m.text"},"ts":1639397055985,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$NkEOia2HDo7RLOeB-LpHcLfPRzSIwh-vLydqzqt8m3A"},
{"content":{"body":"better names for \"process response done\" and \"process response end of body\"?","msgtype":"m.text"},"ts":1639397075199,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$MhBHn6pnKlfTfW9iMhbSUSirmMv-PYF3C3CwUY5ceEo"},
{"content":{"body":"Noam Rosenthal: what's now \"done\" really seems more like EOF and what's now EOF really seems more like \"consume body\"","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: what's now &quot;done&quot; really seems more like EOF and what's now EOF really seems more like &quot;consume body&quot;","msgtype":"m.text"},"ts":1639397082273,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$2IBnRLAdNav-bHIKhM9Romqfi07e0sZHQpsW2J-FU04"},
{"content":{"body":"got it","msgtype":"m.text"},"ts":1639397100820,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$6HedO1my3dA_5F6xEPlj6yinUP6BAbj7Rgud7VWKbQY"},
{"content":{"body":"I'm not sure how disruptive that will be though at this point, thoughts?","msgtype":"m.text"},"ts":1639397105934,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$iQNNovrsMJh09r2PZxpMlm8FIszLPBWpjNrWj8zyXW8"},
{"content":{"body":"process response done is used by 2-3 places I know well","msgtype":"m.text"},"ts":1639397118731,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$IyPKU_nLncJ-aoU81FioOSHrOI2ZLW-mA-UdpIaOWzE"},
{"content":{"body":"(I added all of them)","msgtype":"m.text"},"ts":1639397122821,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$6CyCiqphhb4P2h5UkVIqzUBtwV7NHa91D5RM71Igc9Y"},
{"content":{"body":"If I do the rename for Fetch and XHR, can you tackle the other places?","msgtype":"m.text"},"ts":1639397126595,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$bIDlO37gQzTkjRvmaGrjhtLCGsShzUNfbABM2f-bOVQ"},
{"content":{"body":"absolutely","msgtype":"m.text"},"ts":1639397134221,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$F9qnhRHDWDn3epEpPKRprg8nju2pvtKvS3Y02HOYWfs"},
{"content":{"body":"I think I added processResponseEndOfBody to CSS, and HTML mainly uses processResponse","msgtype":"m.text"},"ts":1639397157897,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$_GMJY7tgCej90vcjITzJnW9EhlXlZ_c_9uEYhUe_eZw"},
{"content":{"body":"Noam Rosenthal: what's the status of https://github.com/web-platform-tests/wpt/issues/30968? Presumably some of those tests have to be updated now it's HTTP(S)-only?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: what's the status of https://github.com/web-platform-tests/wpt/issues/30968? Presumably some of those tests have to be updated now it's HTTP(S)-only?","msgtype":"m.text"},"ts":1639397206272,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$ZXTli-D4RijKyXSoLlZnDu9jjnyWnV-iZwOCWXgGaqo"},
{"content":{"body":"Maybe processResponseEndOfStream. Also it's not exactly \"process\", it's more of a notification","msgtype":"m.text"},"ts":1639397210499,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$-5qWWxXSP_jz7ZkdpR36JGS-w4UeAEgU3I_z1l-aNdE"},
{"content":{"body":"> <@annevk:mozilla.org> Noam Rosenthal: what's the status of https://github.com/web-platform-tests/wpt/issues/30968? Presumably some of those tests have to be updated now it's HTTP(S)-only?\n\nAlready done. I removed the tests for blob: about: etc","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$ZXTli-D4RijKyXSoLlZnDu9jjnyWnV-iZwOCWXgGaqo?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br><a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: what's the status of https://github.com/web-platform-tests/wpt/issues/30968? Presumably some of those tests have to be updated now it's HTTP(S)-only?</blockquote></mx-reply>Already done. I removed the tests for blob: about: etc","m.relates_to":{"m.in_reply_to":{"event_id":"$ZXTli-D4RijKyXSoLlZnDu9jjnyWnV-iZwOCWXgGaqo"}},"msgtype":"m.text"},"ts":1639397228968,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$ufK38n7KM1BkVv3s2jHwuudDtDyKeAle702UafS1moY"},
{"content":{"body":"also the tests for abort are gone","msgtype":"m.text"},"ts":1639397255140,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$evdU6Awv2UtGt_xf6_KGnECKhRSTHC_jPrJP2N_4LnM"},
{"content":{"body":"it's only tests that can't be distinguished from CORS errors - like timeout, too many redirects, host not found etc.","msgtype":"m.text"},"ts":1639397277648,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$cYdExfvlPNLxVvCmYcZH9A37dYeM5I055Cg4xywvYCg"},
{"content":{"body":"How about \"processResponseFlush\"? To correspond with stream naming","msgtype":"m.text"},"ts":1639397326225,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$ZpS6FnYPkxB0azBpWGSDUaeD1ieRErdNhTS0PWB7Vkk"},
{"content":{"body":"Noam Rosenthal: yeah that also seems reasonable","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: yeah that also seems reasonable","msgtype":"m.text"},"ts":1639397463964,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$FEblAdX8Y29hnwmVzb22BhIHFqcaGxwbDS827xRXEbQ"},
{"content":{"body":"request's \"done\" flag can be renamed to \"flushed\"","msgtype":"m.text"},"ts":1639397524145,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$VrNgNdz2b0_gfH58jrT-Em7tdNvr_YZ89jn94HGOIeE"},
{"content":{"body":"Yeah maybe. I'll merge the PR and then write the renaming patch. I think I'll just do the algorithms for now.","msgtype":"m.text"},"ts":1639397591278,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$N5t8_h3_hoKwTPERt0CcL12-An4BdrPRYQPP6VJohOM"},
{"content":{"body":"> <@annevk:mozilla.org> Yeah maybe. I'll merge the PR and then write the renaming patch. I think I'll just do the algorithms for now.\n\nthanks! I'll prepare PRs for CSS/sendBeacon etc. later this week","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$N5t8_h3_hoKwTPERt0CcL12-An4BdrPRYQPP6VJohOM?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br>Yeah maybe. I&#39;ll merge the PR and then write the renaming patch. I think I&#39;ll just do the algorithms for now.</blockquote></mx-reply>thanks! I'll prepare PRs for CSS/sendBeacon etc. later this week","m.relates_to":{"m.in_reply_to":{"event_id":"$N5t8_h3_hoKwTPERt0CcL12-An4BdrPRYQPP6VJohOM"}},"msgtype":"m.text"},"ts":1639397627301,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$jSpfl-hgtT0AE3RFcsFO3ZRjUgGOPEUw64uPR2YQhyc"},
{"content":{"body":"Noam Rosenthal: will you file impl bugs and link them from OP?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: will you file impl bugs and link them from OP?","msgtype":"m.text"},"ts":1639397868937,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$BgUkEcBxiIoR5ZhLhiSj9WsbWJ20zOJYxI1n0YYctHM"},
{"content":{"body":"> <@annevk:mozilla.org> Noam Rosenthal: will you file impl bugs and link them from OP?\n\nSure, once there's a PR or issue for the algo renaming to link to","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$BgUkEcBxiIoR5ZhLhiSj9WsbWJ20zOJYxI1n0YYctHM?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br><a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: will you file impl bugs and link them from OP?</blockquote></mx-reply>Sure, once there's a PR or issue for the algo renaming to link to","m.relates_to":{"m.in_reply_to":{"event_id":"$BgUkEcBxiIoR5ZhLhiSj9WsbWJ20zOJYxI1n0YYctHM"}},"msgtype":"m.text"},"ts":1639397922171,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$Os15NEDBY32FtaO9LHtcy0nwgYAeHD3laB-em6fxFMU"},
{"content":{"body":"Noam Rosenthal: does \"Create timing info for HTTP(S) network errors\" seem like an accurate commit message to you?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: does &quot;Create timing info for HTTP(S) network errors&quot; seem like an accurate commit message to you?","msgtype":"m.text"},"ts":1639398001509,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$UFt8izyzKJXMiYk0mEErr_ffJkDTLdsMWAojbJFP0LY"},
{"content":{"body":"> <@annevk:mozilla.org> Noam Rosenthal: does \"Create timing info for HTTP(S) network errors\" seem like an accurate commit message to you?\n\nYes.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$UFt8izyzKJXMiYk0mEErr_ffJkDTLdsMWAojbJFP0LY?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br><a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: does \"Create timing info for HTTP(S) network errors\" seem like an accurate commit message to you?</blockquote></mx-reply>Yes.","m.relates_to":{"m.in_reply_to":{"event_id":"$UFt8izyzKJXMiYk0mEErr_ffJkDTLdsMWAojbJFP0LY"}},"msgtype":"m.text"},"ts":1639398033489,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$t2xV0m769IziNDPScSuHFVt810D1ZNoqyJ2qn3qOKSk"},
{"content":{"body":"Noam Rosenthal: https://github.com/whatwg/fetch/pull/1369","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: https://github.com/whatwg/fetch/pull/1369","msgtype":"m.text"},"ts":1639399213214,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$px77CE1Pbq6YSTIBdVsSMBGcn54TEroF_8aObKnZUfE"},
{"content":{"body":"> <@annevk:mozilla.org> Noam Rosenthal: https://github.com/whatwg/fetch/pull/1369\n\nGreat! Will create issues later today (have to be off for a few hours)","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs%3Amatrix.org/%24px77CE1Pbq6YSTIBdVsSMBGcn54TEroF_8aObKnZUfE\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br><a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: https://github.com/whatwg/fetch/pull/1369</blockquote></mx-reply>Great! Will create issues later today (have to be off for a few hours)","m.relates_to":{"m.in_reply_to":{"event_id":"$px77CE1Pbq6YSTIBdVsSMBGcn54TEroF_8aObKnZUfE"}},"msgtype":"m.text"},"ts":1639399266411,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$iI-6Rk3u2RCXCnroNtXN-X8-fcuSEwwtu2rFcALRI4U"},
{"content":{"body":"sideshowbarker: Looks like it was good not to update log4j to 2.x. (So far, it looks like the 1.x RCE that I'm aware of doesn't apply.) https://twitter.com/tbroyer/status/1470024270852014086","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">sideshowbarker</a>: Looks like it was good not to update log4j to 2.x. (So far, it looks like the 1.x RCE that I'm aware of doesn't apply.) https://twitter.com/tbroyer/status/1470024270852014086","msgtype":"m.text"},"ts":1639400195693,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$Y-26416gkmr0DsKdwVw_FIAN_wx_Yib1PtpsMOs93ts"},
{"content":{"body":"mek: so foolip has approved the FS PR, but I'd like your take as well; do you think you can get to it this week?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@mek:kde.org\">mek</a>: so <a href=\"https://matrix.to/#/@foolip:matrix.org\">foolip</a> has approved the FS PR, but I'd like your take as well; do you think you can get to it this week?","msgtype":"m.text"},"ts":1639401940423,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$8llbK1Tvz8pwXPR8v5Uyg9ZwIk7KU_ExuTdrIsa8Fe8"},
{"content":{"body":"> <@hsivonen:mozilla.org> sideshowbarker: Looks like it was good not to update log4j to 2.x. (So far, it looks like the 1.x RCE that I'm aware of doesn't apply.) https://twitter.com/tbroyer/status/1470024270852014086\n\nIndeed yeah. Seems like we’re fine just staying on log4j v1","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$Y-26416gkmr0DsKdwVw_FIAN_wx_Yib1PtpsMOs93ts?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">@hsivonen:mozilla.org</a><br><a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">sideshowbarker</a>: Looks like it was good not to update log4j to 2.x. (So far, it looks like the 1.x RCE that I'm aware of doesn't apply.) https://twitter.com/tbroyer/status/1470024270852014086</blockquote></mx-reply>Indeed yeah. Seems like we’re fine just staying on log4j v1","m.relates_to":{"m.in_reply_to":{"event_id":"$Y-26416gkmr0DsKdwVw_FIAN_wx_Yib1PtpsMOs93ts"}},"msgtype":"m.text"},"ts":1639426731331,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$NptX3nAhnfAlXv9-iqOTEkFsJpM8YQzaVjy7qj226p4"}
]