[
{"content":{"body":"@sideshowbarker:matrix.org who was that guy","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">@sideshowbarker</a> who was that guy","m.mentions":{"user_ids":["@sideshowbarker:matrix.org"]},"msgtype":"m.text"},"ts":1768279418877,"senderName":"aresuii","senderId":"@aresuii:xmr.se","id":"$LpCoPmgvxXuszp8Vpk1ztjt9n4r2AkZmoGnxyMZv_es"},
{"content":{"body":"no idea","m.mentions":{},"msgtype":"m.text"},"ts":1768279442951,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$jnTYepmC9Z8jVoGZeavJObanS2umC3g6pjBIdArfx80"},
{"content":{"body":"ok but what is \"Guest Standard\"","m.mentions":{},"msgtype":"m.text"},"ts":1768280250936,"senderName":"aresuii","senderId":"@aresuii:xmr.se","id":"$XwMJJZGPTTsIxU0WsZASOnELWQQZnLojqBkRWSnVWdw"},
{"content":{"body":"We can do something like that yes, and have consistent behavior for all Promise APIs. It does change the meaning of microtasks though, a bit, if JS doesn't really run. But anyhow, that would be better than having the current ad-hoc \"let's run microtasks here\".","m.mentions":{},"m.relates_to":{"event_id":"$OMxfb0uMQHFUMnQTbk7QZRgkpHzGNN9Uo0dan-qcPKc","is_falling_back":true,"m.in_reply_to":{"event_id":"$OMxfb0uMQHFUMnQTbk7QZRgkpHzGNN9Uo0dan-qcPKc"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1768297440860,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$r5tLGpEX9jvOPQbeAwl321j5B1mcPg8Mwh4dRWpFMrc"},
{"content":{"body":"Does something like \"Perform a promise entry point with the following step: activate view transition\" sound right?","m.mentions":{},"m.relates_to":{"event_id":"$OMxfb0uMQHFUMnQTbk7QZRgkpHzGNN9Uo0dan-qcPKc","is_falling_back":true,"m.in_reply_to":{"event_id":"$r5tLGpEX9jvOPQbeAwl321j5B1mcPg8Mwh4dRWpFMrc"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1768301765398,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$GZHNjLlA0Qw7RNxc0vhbvxIYFTLbq6xspzesYvsDiqc"},
{"content":{"body":"There are a few promise entry points which don't work like this, e.g. ones that fire multiple promises and events as part of one stack and rely on the behavior of the microtask queue firing at the end of the stack. but I think probably that should be the exception","m.mentions":{},"m.relates_to":{"event_id":"$OMxfb0uMQHFUMnQTbk7QZRgkpHzGNN9Uo0dan-qcPKc","is_falling_back":true,"m.in_reply_to":{"event_id":"$GZHNjLlA0Qw7RNxc0vhbvxIYFTLbq6xspzesYvsDiqc"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1768302157245,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$hYJ5q41xZo5pwqxk2VWbzQYkVnZxBh1asYmUd0gSAGA"},
{"content":{"body":"zcorpan: rs? https://github.com/whatwg/html/pull/12060","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: rs? https://github.com/whatwg/html/pull/12060","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"msgtype":"m.text"},"ts":1768302335082,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$rkXCMar4nZVllPcYZa2j5D71UyjYKzzPx4nbmVokYFI"},
{"content":{"body":"Approved, but I now see you asked specifically from zcorpan ","format":"org.matrix.custom.html","formatted_body":"Approved, but I now see you asked specifically from <a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>","m.mentions":{"user_ids":["@annevk:matrix.org","@zcorpan:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$rkXCMar4nZVllPcYZa2j5D71UyjYKzzPx4nbmVokYFI"}},"msgtype":"m.text"},"ts":1768302465023,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$_zpCdJPz_tO01Ll0JCuOpw9L_LwcQke_bXkJxiKThW0"},
{"content":{"body":"annevk: reviewed and merged","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: reviewed and merged","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1768302772316,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$p7J4f3onIACLfqJnjBQCSP18KhoFKLHN63DfpUYE9IY"},
{"content":{"body":"I've added a comment to out-of-order streaming with the thinking around markers after the last WHATNOT. https://github.com/whatwg/html/issues/11542#issuecomment-3743936051\n\nzcorpan keithamus Jake Archibald it attempts to answer some of your questions about processing instructions, polyfills, and developer ergonomics.","format":"org.matrix.custom.html","formatted_body":"<p>I've added a comment to out-of-order streaming with the thinking around markers after the last WHATNOT. https://github.com/whatwg/html/issues/11542#issuecomment-3743936051</p>\n<p><a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a> <a href=\"https://matrix.to/#/@keithamus:matrix.org\">keithamus</a> <a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a> it attempts to answer some of your questions about processing instructions, polyfills, and developer ergonomics.</p>\n","m.mentions":{"user_ids":["@zcorpan:mozilla.org","@keithamus:matrix.org","@jakea:matrix.org"]},"msgtype":"m.text"},"ts":1768305634383,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$GBqpE_L1ROSSJS4IlrAdFh-I0o8-42T2Nj_YEFxRcls"},
{"content":{"body":"https://github.com/whatwg/html/issues/12080","m.mentions":{},"m.relates_to":{"event_id":"$OMxfb0uMQHFUMnQTbk7QZRgkpHzGNN9Uo0dan-qcPKc","is_falling_back":true,"m.in_reply_to":{"event_id":"$hYJ5q41xZo5pwqxk2VWbzQYkVnZxBh1asYmUd0gSAGA"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1768306227916,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$iLp16Z6A64jM-hXtDql84o5wxRVUvasz7PyojMMa5Dw"},
{"content":{"body":"Noam Rosenthal: Can marker-start and marker-end be anywhere (in normal elements), or do they need to be siblings?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: Can marker-start and marker-end be anywhere (in normal elements), or do they need to be siblings?","m.mentions":{"user_ids":["@noamr:matrix.org"]},"msgtype":"m.text"},"ts":1768306612656,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$kJ_wAJUcS3obvcYQGAcUX0KuoAPcMc78MwgWPvqlvPY"},
{"content":{"body":"If they're not siblings they don't match each other because you'd hit the end of the marker's parent before hitting the matching marker-end","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$kJ_wAJUcS3obvcYQGAcUX0KuoAPcMc78MwgWPvqlvPY"}},"msgtype":"m.text"},"ts":1768306678668,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$4Uehz-Z-4_YvIFmwzdLHJUU7jnC-YtV3X0JUpsVAf-s"},
{"content":{"body":"IOW only sibling marker-start/marker-end pairs create an automatic range for <template contentfor>","m.mentions":{},"msgtype":"m.text"},"ts":1768306711700,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$DERK6zL7HOMLqI2SJ3mW_0QrGFzGihcsmaYIW-0o66M"},
{"content":{"body":"What if you have `<div><?marker-start name=x ?><span><?marker-end name=x ?></span></div>`","format":"org.matrix.custom.html","formatted_body":"What if you have <code>&lt;div&gt;&lt;?marker-start name=x ?&gt;&lt;span&gt;&lt;?marker-end name=x ?&gt;&lt;/span&gt;&lt;/div&gt;</code>","m.mentions":{},"msgtype":"m.text"},"ts":1768306789067,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$GtoXpOfienNuf4d4N6hhaEJ88b2LWvZWuC8shmfE-ys"},
{"content":{"body":"it's a good case, but it would resolve to siblings in some way or another. probably the ancestor of the span that's a sibling of marker-start","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$GtoXpOfienNuf4d4N6hhaEJ88b2LWvZWuC8shmfE-ys"}},"msgtype":"m.text"},"ts":1768306869662,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$HyplyzM5PvjsPdYHKRvWOfXduj4xOxqODpKNF7uTZCo"},
{"content":{"body":"though by how I put it in the comment it only iterates on the siblings, so it would simply ignore marker-end and reach the end of the DIV. Perhaps that's better","m.mentions":{},"msgtype":"m.text"},"ts":1768306922083,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$YFN7GTBbF_gc39sV8bl6wDUobw2ZRyj7TQeGxWGZQB8"},
{"content":{"body":"(less recursive iteration)","m.mentions":{},"msgtype":"m.text"},"ts":1768306971378,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$wCxDAZ-6oEIn5xDu2BL9hzR9jJ2C1SnahkJ34_Bxr9M"},
{"content":{"body":"I was thinking it might be better to require an attribute on the element, and allow marker-start and marker-end PIs (without name pseudo attribute) as direct children","m.mentions":{},"msgtype":"m.text"},"ts":1768306982737,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$-p1PMUf0qW5n3LdPR1adjBSftqiqhJFctRrHu6dQSHo"},
{"content":{"body":"But doesn't support multiple marker-starts with different names in one element","m.mentions":{},"msgtype":"m.text"},"ts":1768307004819,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$wMaJS6ya7BD76YfUVxuT56IKTqvGkNnaZl-a_beRH0U"},
{"content":{"body":"yea but that would make it so that you can only have one marker-pair per element","m.mentions":{},"msgtype":"m.text"},"ts":1768307007433,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$Qf9aJ1vwOc_lrOtOWtQJBhWG6dNOoOsc9emW9hpTvlI"},
{"content":{"body":"exactly","m.mentions":{},"msgtype":"m.text"},"ts":1768307010860,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$4XQJzfe2o8J_3QyaHeeWgz9Fc9oYE75vzBOLKqhP03Q"}
]