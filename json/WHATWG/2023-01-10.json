[
{"content":{"body":"Domenic: you didn't hit submit for your Infra PR review (at least I'm not seeing it)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: you didn't hit submit for your Infra PR review (at least I'm not seeing it)","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: you didn't hit submit for your Infra PR review (at least I'm not seeing it)","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: you didn't hit submit for your Infra PR review (at least I'm not seeing it)","mimetype":"text/html"}]},"ts":1673337688744,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$ugadlMzw809gQGugUKvb1NtW3zGSPzF8C-_YfXy5ORY"},
{"content":{"body":"> <@annevk:matrix.org> Domenic: you didn't hit submit for your Infra PR review (at least I'm not seeing it)\n\nThanks, done.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$ugadlMzw809gQGugUKvb1NtW3zGSPzF8C-_YfXy5ORY?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br><a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: you didn't hit submit for your Infra PR review (at least I'm not seeing it)</blockquote></mx-reply>Thanks, done.","m.relates_to":{"m.in_reply_to":{"event_id":"$ugadlMzw809gQGugUKvb1NtW3zGSPzF8C-_YfXy5ORY"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@annevk:matrix.org> Domenic: you didn't hit submit for your Infra PR review (at least I'm not seeing it)\n\nThanks, done.","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$ugadlMzw809gQGugUKvb1NtW3zGSPzF8C-_YfXy5ORY?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br><a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: you didn't hit submit for your Infra PR review (at least I'm not seeing it)</blockquote></mx-reply>Thanks, done.","mimetype":"text/html"}]},"ts":1673337881928,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$_VLKxFBKeHN6jR9ytdnvH2yAIREK9Y4J-AwwfDczDSI"},
{"content":{"body":"Ran into a web compat report yesterday where apparently if a domain looks like punycode (i.e. starts `xn--`) but isn't valid punycode, Chromium will just treat it as an ascii domain, but Gecko will refuse to resolve it. That seems like the kind of thing annevk probably knows about :)","format":"org.matrix.custom.html","formatted_body":"Ran into a web compat report yesterday where apparently if a domain looks like punycode (i.e. starts <code>xn--</code>) but isn't valid punycode, Chromium will just treat it as an ascii domain, but Gecko will refuse to resolve it. That seems like the kind of thing <a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a> probably knows about :)","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Ran into a web compat report yesterday where apparently if a domain looks like punycode (i.e. starts `xn--`) but isn't valid punycode, Chromium will just treat it as an ascii domain, but Gecko will refuse to resolve it. That seems like the kind of thing annevk probably knows about :)","mimetype":"text/plain"},{"body":"Ran into a web compat report yesterday where apparently if a domain looks like punycode (i.e. starts <code>xn--</code>) but isn't valid punycode, Chromium will just treat it as an ascii domain, but Gecko will refuse to resolve it. That seems like the kind of thing <a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a> probably knows about :)","mimetype":"text/html"}]},"ts":1673351014941,"senderName":"jgraham","senderId":"@jgraham_:matrix.org","id":"$Z7mcoaXjuB3cTLMnNWrv-3CEj3Bz-HvJL-wjYX4Xys8"},
{"content":{"body":"jgraham: yeah, ASCII fast paths, let me look up the issue number","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>: yeah, ASCII fast paths, let me look up the issue number","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"jgraham: yeah, ASCII fast paths, let me look up the issue number","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>: yeah, ASCII fast paths, let me look up the issue number","mimetype":"text/html"}]},"ts":1673352318761,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$fdyENigJ1D_0aq-VB3-xJsssweDb0w_cVlPdv88QKBo"},
{"content":{"body":"jgraham: https://github.com/whatwg/url/issues/438","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>: https://github.com/whatwg/url/issues/438","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"jgraham: https://github.com/whatwg/url/issues/438","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>: https://github.com/whatwg/url/issues/438","mimetype":"text/html"}]},"ts":1673352426166,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$T9vvf7W7o0A-zQc4vhKK92kU0ubsP94dgpIqhtzCd7g"},
{"content":{"body":"Thanks!","msgtype":"m.text","org.matrix.msc1767.text":"Thanks!"},"ts":1673352523404,"senderName":"jgraham","senderId":"@jgraham_:matrix.org","id":"$KYcxXQOhwBtoP1FvkrCQROQ4Pr96xyKLKY9K-58V_G4"},
{"content":{"body":"jgraham: the last comment by timothygu can probably be turned into a WPT","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>: the last comment by <a href=\"https://matrix.to/#/@timothygu:matrix.org\">timothygu</a> can probably be turned into a WPT","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"jgraham: the last comment by timothygu can probably be turned into a WPT","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>: the last comment by <a href=\"https://matrix.to/#/@timothygu:matrix.org\">timothygu</a> can probably be turned into a WPT","mimetype":"text/html"}]},"ts":1673352663630,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$AOPMgXgkk94_SZoc4rBFUxboNXOzZPi41yL8H0sBBHg"},
{"content":{"body":"Also pinged the UTS46 experts just now to see if we can move it forward a tiny bit","msgtype":"m.text","org.matrix.msc1767.text":"Also pinged the UTS46 experts just now to see if we can move it forward a tiny bit"},"ts":1673352694962,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$hx6s6Ws6wroyeXjOgaSg175UB0-ofUb4x3bNef_qe7o"},
{"content":{"body":"In case anyone is interested in some ToASCII spelunking: https://github.com/whatwg/url/issues/603#issuecomment-1377190876\nI had forgotten how complicated it is (my write up skips a lot of steps)","msgtype":"m.text","org.matrix.msc1767.text":"In case anyone is interested in some ToASCII spelunking: https://github.com/whatwg/url/issues/603#issuecomment-1377190876\nI had forgotten how complicated it is (my write up skips a lot of steps)"},"ts":1673353886050,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$rLaRGG5zkth_1pGB70_eKq5KJSostfDfX8raLRJo8Ns"},
{"content":{"body":"jgraham: it might be that `toascii.window.js` covers those cases already btw","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>: it might be that <code>toascii.window.js</code> covers those cases already btw","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"jgraham: it might be that `toascii.window.js` covers those cases already btw","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>: it might be that <code>toascii.window.js</code> covers those cases already btw","mimetype":"text/html"}]},"ts":1673355245739,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$_wjYG8v4A-iZDtq89gA13wtY-gDXEPEdho-BfkZTUTc"},
{"content":{"body":"jgraham: pretty sure they do, e.g., there's `xn--a` there","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>: pretty sure they do, e.g., there's <code>xn--a</code> there","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"jgraham: pretty sure they do, e.g., there's `xn--a` there","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>: pretty sure they do, e.g., there's <code>xn--a</code> there","mimetype":"text/html"}]},"ts":1673355917172,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$dLztqXXqXrlwZcgtJB6-gKYKzvnanW8fQbsjh2A8D1U"},
{"content":{"body":"jgraham: only Chromium-based browsers fail tests there","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>: only Chromium-based browsers fail tests there","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"jgraham: only Chromium-based browsers fail tests there","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>: only Chromium-based browsers fail tests there","mimetype":"text/html"}]},"ts":1673355957204,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$sdBkdSL0U9ExnmaldCevAcy4eCCy_Zj228tZGseOquw"},
{"content":{"body":"annevk: https://github.com/webcompat/web-bugs/issues/116505 was the bug report, which is about Chrom[e|ium] allowing access to a site that Gecko does not.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: https://github.com/webcompat/web-bugs/issues/116505 was the bug report, which is about Chrom[e|ium] allowing access to a site that Gecko does not.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"annevk: https://github.com/webcompat/web-bugs/issues/116505 was the bug report, which is about Chrom[e|ium] allowing access to a site that Gecko does not.","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: https://github.com/webcompat/web-bugs/issues/116505 was the bug report, which is about Chrom[e|ium] allowing access to a site that Gecko does not.","mimetype":"text/html"}]},"ts":1673356951457,"senderName":"jgraham","senderId":"@jgraham_:matrix.org","id":"$9TrRqkME5o--hwVtLq3M3C5pHD1v0ioVz3r2dgjElQk"},
{"content":{"body":"Note that Safari also cannot access that domain","msgtype":"m.text","org.matrix.msc1767.text":"Note that Safari also cannot access that domain"},"ts":1673357100284,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$f8YXh7ksL5ifGfmZLd9NMKVd8AehMtcqAtol5tB9k5Q"},
{"content":{"body":"https://github.com/whatwg/url/issues/543 is a further subtle difference that exists between Gecko and WebKit, whereby Gecko doesn't seem to check the bidi rules, but WebKit does","msgtype":"m.text","org.matrix.msc1767.text":"https://github.com/whatwg/url/issues/543 is a further subtle difference that exists between Gecko and WebKit, whereby Gecko doesn't seem to check the bidi rules, but WebKit does"},"ts":1673357138936,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$kFyD6KsyQRUVl6EhtgNNV_EuXwjc_5RlpKgXsvTMpts"},
{"content":{"body":"I don't think that's tested currently","msgtype":"m.text","org.matrix.msc1767.text":"I don't think that's tested currently"},"ts":1673357156270,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$hcb6kMXrFtWtPKJNIKoZuIJ_wku9v8E0b5o9rBMZJoo"},
{"content":{"body":"Yeah, not saying it's a high priority issue; I don't recall seeing another similar bug report (and no one else did either), just that there's a non-zero number of sites relying on Chromium-specific behaviour here.","msgtype":"m.text","org.matrix.msc1767.text":"Yeah, not saying it's a high priority issue; I don't recall seeing another similar bug report (and no one else did either), just that there's a non-zero number of sites relying on Chromium-specific behaviour here."},"ts":1673357197856,"senderName":"jgraham","senderId":"@jgraham_:matrix.org","id":"$KAPS2f4dA6o_WtOkWjSjNPKBITiBMlMkTgEIC_vyG00"},
{"content":{"body":"(although it's also hard to tell how common it is because we probably get way fewer bug reports from users in regions that are likely to actually use non-ascii domains vs North America / Western Europe)","msgtype":"m.text","org.matrix.msc1767.text":"(although it's also hard to tell how common it is because we probably get way fewer bug reports from users in regions that are likely to actually use non-ascii domains vs North America / Western Europe)"},"ts":1673357268309,"senderName":"jgraham","senderId":"@jgraham_:matrix.org","id":"$fZZaJq_xzwKqgn_03B_Ig0TERU0ylvpbLapjqh4g2zA"},
{"content":{"body":"jgraham: it's part of Interop 2022 and soonish 2023 so hopefully that'll help.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>: it's part of Interop 2022 and soonish 2023 so hopefully that'll help.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"jgraham: it's part of Interop 2022 and soonish 2023 so hopefully that'll help.","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>: it's part of Interop 2022 and soonish 2023 so hopefully that'll help.","mimetype":"text/html"}]},"ts":1673358532529,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Wm6V2Y3igFQXDU_zHRgvLdKjbpEgrecfFIZjC92HbOQ"},
{"content":{"body":"jgraham: it seems there is existing test coverage, except perhaps for the bidi stuff which I just wrote a comment on. I think that's the last of the IDNA issues. Not as much as I feared really so hopefully this national nightmare will soon be over.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>: it seems there is existing test coverage, except perhaps for the bidi stuff which I just wrote a comment on. I think that's the last of the IDNA issues. Not as much as I feared really so hopefully this national nightmare will soon be over.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"jgraham: it seems there is existing test coverage, except perhaps for the bidi stuff which I just wrote a comment on. I think that's the last of the IDNA issues. Not as much as I feared really so hopefully this national nightmare will soon be over.","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>: it seems there is existing test coverage, except perhaps for the bidi stuff which I just wrote a comment on. I think that's the last of the IDNA issues. Not as much as I feared really so hopefully this national nightmare will soon be over.","mimetype":"text/html"}]},"ts":1673358585842,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$SAmi8qG2WTDJcFiphDJ0kU68tpIMxv4CQE4uXkYW7pw"},
{"content":{"body":"jgraham: I'd like to blame you for my \"The Bidi Rule\" day","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>: I'd like to blame you for my &quot;The Bidi Rule&quot; day","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"jgraham: I'd like to blame you for my \"The Bidi Rule\" day","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>: I'd like to blame you for my &quot;The Bidi Rule&quot; day","mimetype":"text/html"}]},"ts":1673365297316,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$n9x4QaLcqSFI-rZhujWB2LyEZeFkf3cpQyiEw8S2kfE"},
{"content":{"body":"(On the flipside, if we finally solve the ToASCII side of IDNA due to this I probably owe you something.)","msgtype":"m.text","org.matrix.msc1767.text":"(On the flipside, if we finally solve the ToASCII side of IDNA due to this I probably owe you something.)"},"ts":1673366220623,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$kmeF1zQg-7pV9e8cImqDC0y38uAK3pgpnCMhM4uya_g"},
{"content":{"body":"Haha. I'm going to suggest it's your own fault that you're known as \"the person who will be interested in IDNA issues\" ;)","msgtype":"m.text","org.matrix.msc1767.text":"Haha. I'm going to suggest it's your own fault that you're known as \"the person who will be interested in IDNA issues\" ;)"},"ts":1673366556701,"senderName":"jgraham","senderId":"@jgraham_:matrix.org","id":"$OeNKlmOTNKukCFicd4olO0ilw0HlBYLN2Fy6lx5V9cY"},
{"content":{"body":"api.csswg.org is down TabAtkins ","format":"org.matrix.custom.html","formatted_body":"api.csswg.org is down <a href=\"https://matrix.to/#/@tabatkins:matrix.org\">TabAtkins</a>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"api.csswg.org is down TabAtkins ","mimetype":"text/plain"},{"body":"api.csswg.org is down <a href=\"https://matrix.to/#/@tabatkins:matrix.org\">TabAtkins</a>","mimetype":"text/html"}]},"ts":1673368730019,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$91c4m5Df8mrDAxH9XqztA26gO0UN3yIbC2n62pGeQ9A"},
{"content":{"body":"Sanity check wanted (annevk or others). The following algorithm style feels wrong to me, do you agree?\n\n1. <Algo steps running in DOM manipulation task source>\n2. Let |returnVar| be null\n3. Fetch and in the fetch callback set |returnVar|.\n4. In parallel, wait for |returnVar| to become non-null, and return it.\n\nImagine some more rigorous wording, but it's the structure that I'm concerned with. The author is looking for a way to do something like async/await in spec prose, but I think the above is broken because you can't return something while in-parallel, from an algorithm that is not running in-parallel. The second you go off-thread you have a post a task back to the main thread, in which case you're now dealing with callbacks, not a linear return sequence from the same algorithm that returns something asyncly. Does that sound right?","format":"org.matrix.custom.html","formatted_body":"<p>Sanity check wanted (<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a> or others). The following algorithm style feels wrong to me, do you agree?</p>\n<ol>\n<li>&lt;Algo steps running in DOM manipulation task source&gt;</li>\n<li>Let |returnVar| be null</li>\n<li>Fetch and in the fetch callback set |returnVar|.</li>\n<li>In parallel, wait for |returnVar| to become non-null, and return it.</li>\n</ol>\n<p>Imagine some more rigorous wording, but it's the structure that I'm concerned with. The author is looking for a way to do something like async/await in spec prose, but I think the above is broken because you can't return something while in-parallel, from an algorithm that is not running in-parallel. The second you go off-thread you have a post a task back to the main thread, in which case you're now dealing with callbacks, not a linear return sequence from the same algorithm that returns something asyncly. Does that sound right?</p>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Sanity check wanted (annevk or others). The following algorithm style feels wrong to me, do you agree?\n\n1. <Algo steps running in DOM manipulation task source>\n2. Let |returnVar| be null\n3. Fetch and in the fetch callback set |returnVar|.\n4. In parallel, wait for |returnVar| to become non-null, and return it.\n\nImagine some more rigorous wording, but it's the structure that I'm concerned with. The author is looking for a way to do something like async/await in spec prose, but I think the above is broken because you can't return something while in-parallel, from an algorithm that is not running in-parallel. The second you go off-thread you have a post a task back to the main thread, in which case you're now dealing with callbacks, not a linear return sequence from the same algorithm that returns something asyncly. Does that sound right?","mimetype":"text/plain"},{"body":"<p>Sanity check wanted (<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a> or others). The following algorithm style feels wrong to me, do you agree?</p>\n<ol>\n<li>&lt;Algo steps running in DOM manipulation task source&gt;</li>\n<li>Let |returnVar| be null</li>\n<li>Fetch and in the fetch callback set |returnVar|.</li>\n<li>In parallel, wait for |returnVar| to become non-null, and return it.</li>\n</ol>\n<p>Imagine some more rigorous wording, but it's the structure that I'm concerned with. The author is looking for a way to do something like async/await in spec prose, but I think the above is broken because you can't return something while in-parallel, from an algorithm that is not running in-parallel. The second you go off-thread you have a post a task back to the main thread, in which case you're now dealing with callbacks, not a linear return sequence from the same algorithm that returns something asyncly. Does that sound right?</p>\n","mimetype":"text/html"}]},"ts":1673369967575,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$msELnSJlttmCLCcNELp1nM7JeABWiN6zqOOeW6PwWns"},
{"content":{"body":"As I mentioned the motivation I'm gathering here, is that the author wanted to do something like async/await in spec, instead of having a long chain of callbacks all the time. It seems like nothing like that is actually possible though?","msgtype":"m.text","org.matrix.msc1767.text":"As I mentioned the motivation I'm gathering here, is that the author wanted to do something like async/await in spec, instead of having a long chain of callbacks all the time. It seems like nothing like that is actually possible though?"},"ts":1673370003848,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$PM25v9nXEjGnJ-Hoj2FwIQLXNOsLPbYbzVZxbbJ63XM"},
{"content":{"body":"The various module and script fetching algorithms are written in an async/await-like style","msgtype":"m.text","org.matrix.msc1767.text":"The various module and script fetching algorithms are written in an async/await-like style"},"ts":1673370052196,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$QPU1z15cOqbnieTv50dabdKM8yM60RuA5QoVyRdGxUc"},
{"content":{"body":" * The various module and script fetching algorithms are written in an async/await-like style","m.new_content":{"body":"The various module and script fetching algorithms are written in an async/await-like style","msgtype":"m.text","org.matrix.msc1767.text":"The various module and script fetching algorithms are written in an async/await-like style"},"m.relates_to":{"event_id":"$QPU1z15cOqbnieTv50dabdKM8yM60RuA5QoVyRdGxUc","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * The various module and script fetching algorithms are written in an async/await-like style"},"ts":1673370079314,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$0X8li2R74BtR-m9H-WHqTlBbWSFl_PxxykBc2ilf1-4"},
{"content":{"body":"you could look into those","msgtype":"m.text","org.matrix.msc1767.text":"you could look into those"},"ts":1673370086069,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$aaXJRBuSH1_HFYnYGPUO0FIpnWrKVH9Vn9jas3JF_DQ"},
{"content":{"body":"I think a key question is whether it's actually doing something where the ordering is observable from content. If it is (and I assume something running on the DOM manipulation task source would be) it should probably explicitly use `queue a microtask` or some other integration.","format":"org.matrix.custom.html","formatted_body":"I think a key question is whether it's actually doing something where the ordering is observable from content. If it is (and I assume something running on the DOM manipulation task source would be) it should probably explicitly use <code>queue a microtask</code> or some other integration.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"I think a key question is whether it's actually doing something where the ordering is observable from content. If it is (and I assume something running on the DOM manipulation task source would be) it should probably explicitly use `queue a microtask` or some other integration.","mimetype":"text/plain"},{"body":"I think a key question is whether it's actually doing something where the ordering is observable from content. If it is (and I assume something running on the DOM manipulation task source would be) it should probably explicitly use <code>queue a microtask</code> or some other integration.","mimetype":"text/html"}]},"ts":1673370301592,"senderName":"jgraham","senderId":"@jgraham_:matrix.org","id":"$WYfQ4z-hOjigIdIJPOs9ZK4gNtAmfAsf29hBJSmP2AE"},
{"content":{"body":"(but uh, I'm also not an expert here, and so I'd wait for an actual HTML editor to give an opinion)","msgtype":"m.text","org.matrix.msc1767.text":"(but uh, I'm also not an expert here, and so I'd wait for an actual HTML editor to give an opinion)"},"ts":1673370332996,"senderName":"jgraham","senderId":"@jgraham_:matrix.org","id":"$4Lt-BauEZCRuIDn9a8X_C2SxPRhLmBex5LizHJJu_-k"},
{"content":{"body":"annevk: reported","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: reported","msgtype":"m.text"},"ts":1673370663309,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$9geQSDg6wI_2GOvG2_J0rKUhQuXwZ93A1G4QRY0Dwfg"},
{"content":{"body":"The approach there seems to be:\n\n1. Do something on the main thread\n2. Wait in parallel for some result\n3. Queue a main thread task to continue these steps, with result\n\nThat seems doable and nice. Keeps it linear, but is explicit about posting tasks which are sort of the \"callbacks\"","format":"org.matrix.custom.html","formatted_body":"<p>The approach there seems to be:</p>\n<ol>\n<li>Do something on the main thread</li>\n<li>Wait in parallel for some result</li>\n<li>Queue a main thread task to continue these steps, with result</li>\n</ol>\n<p>That seems doable and nice. Keeps it linear, but is explicit about posting tasks which are sort of the &quot;callbacks&quot;</p>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"The approach there seems to be:\n\n1. Do something on the main thread\n2. Wait in parallel for some result\n3. Queue a main thread task to continue these steps, with result\n\nThat seems doable and nice. Keeps it linear, but is explicit about posting tasks which are sort of the \"callbacks\"","mimetype":"text/plain"},{"body":"<p>The approach there seems to be:</p>\n<ol>\n<li>Do something on the main thread</li>\n<li>Wait in parallel for some result</li>\n<li>Queue a main thread task to continue these steps, with result</li>\n</ol>\n<p>That seems doable and nice. Keeps it linear, but is explicit about posting tasks which are sort of the &quot;callbacks&quot;</p>\n","mimetype":"text/html"}]},"ts":1673372294359,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$9560gCWMcXoA5KP1lI7LQXX3MmVBGcvqPEg2xn69Q_o"},
{"content":{"body":"Although now thinking about it more, I'm not really sure if that works for the spec changes I'm reviewing, just because the algorithms that would be broken up by the step 2 all return a specific value, and I don't know if that really makes sense here, since the caller would have to know that the algorithm doesn't return its value synchronously. Like that's the only reason async/await actually works... because async functions always return promises, and there doesn't seem to be a spec infra equivalent","msgtype":"m.text","org.matrix.msc1767.text":"Although now thinking about it more, I'm not really sure if that works for the spec changes I'm reviewing, just because the algorithms that would be broken up by the step 2 all return a specific value, and I don't know if that really makes sense here, since the caller would have to know that the algorithm doesn't return its value synchronously. Like that's the only reason async/await actually works... because async functions always return promises, and there doesn't seem to be a spec infra equivalent"},"ts":1673372607765,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$_KS34m8p3HXgGwfPC7JtRtKorMXbUup2AAkkGxZomig"}
]