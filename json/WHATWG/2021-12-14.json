[
{"content":{"body":"> <@devsnek:matrix.org> was there ever any discussion about combining urlpattern instances? i don't see anything on github. if this isn't dumb i might open an issue\n\nI think URLPatternList is the keyword, mentioned a couple times in the issues and explainers. I don't see any actual explanation of what it is but it was part of the very original plan. /cc wanderview","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$oAaa8_1sjWbuSz1ejDcSpPKTrRMIb-TqEJA4HY0Qks8?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@devsnek:matrix.org\">@devsnek:matrix.org</a><br>was there ever any discussion about combining urlpattern instances? i don&#39;t see anything on github. if this isn&#39;t dumb i might open an issue</blockquote></mx-reply>I think URLPatternList is the keyword, mentioned a couple times in the issues and explainers. I don't see any actual explanation of what it is but it was part of the very original plan. /cc <a href=\"https://matrix.to/#/@wanderview:matrix.org\">wanderview</a>","m.relates_to":{"m.in_reply_to":{"event_id":"$oAaa8_1sjWbuSz1ejDcSpPKTrRMIb-TqEJA4HY0Qks8"}},"msgtype":"m.text"},"ts":1639443593663,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$BCXr8BWYN4NnJKgefDSM_wWHz3XpVr9Zrmk0UlL4ctc"},
{"content":{"body":"ah i see","msgtype":"m.text"},"ts":1639443656050,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$-_VCyZQSvFh_EVgX8LOgwfrKtchznp98249-MtTsyV8"},
{"content":{"body":"yeah this would be a nice solution","msgtype":"m.text"},"ts":1639443695019,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$V4OlDKPFKKKqmzPXKlwXEpZ7mltpwaxTkb_GfwK7y7c"},
{"content":{"body":"> <@noamr:matrix.org> Great! Will create issues later today (have to be off for a few hours)\n\nMorning, I think all the relevant PRs are submitted","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$iI-6Rk3u2RCXCnroNtXN-X8-fcuSEwwtu2rFcALRI4U?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@noamr:matrix.org\">@noamr:matrix.org</a><br>Great! Will create issues later today (have to be off for a few hours)</blockquote></mx-reply>Morning, I think all the relevant PRs are submitted","m.relates_to":{"m.in_reply_to":{"event_id":"$iI-6Rk3u2RCXCnroNtXN-X8-fcuSEwwtu2rFcALRI4U"}},"msgtype":"m.text"},"ts":1639462843585,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$rH5O1jiTQrH4rYlsQpPvEh39IT5PZGlohojO2mfsnNQ"},
{"content":{"body":"> <@domenicdenicola:matrix.org> Well, what we need is a spec for determining \"the directionality of an element\"; I don't see how you'd insert \"flatten the tree\" into that.\n\nI think I’m confused.  Is https://html.spec.whatwg.org/#the-directionality not that spec?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$HgxS6LHBr55-qQ7zUw0MrO3IV7aRrueeAYdpUsiSPns?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br>Well, what we need is a spec for determining &quot;the directionality of an element&quot;; I don&#39;t see how you&#39;d insert &quot;flatten the tree&quot; into that.</blockquote></mx-reply>I think I’m confused.  Is https://html.spec.whatwg.org/#the-directionality not that spec?","m.relates_to":{"m.in_reply_to":{"event_id":"$HgxS6LHBr55-qQ7zUw0MrO3IV7aRrueeAYdpUsiSPns"}},"msgtype":"m.text"},"ts":1639495752028,"senderName":"Eric Meyer","senderId":"@emeyer:igalia.com","id":"$TSt_sgObkBm-kAkZVA1WMsq21xEgppCFx9lj-4paKL0"},
{"content":{"body":"Eric Meyer: I think it's more about the how. What Domenic is asking for is an algorithm that is equivalent to what we have today. Given an element, it returns a direction.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@emeyer:igalia.com\">Eric Meyer</a>: I think it's more about the how. What Domenic is asking for is an algorithm that is equivalent to what we have today. Given an element, it returns a direction.","msgtype":"m.text"},"ts":1639498224905,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$giVLfdEf3mB9_rqzw8Bkjys54vGg7oQtJ-DCSYID4do"},
{"content":{"body":"> <@emeyer:igalia.com> I think I’m confused.  Is https://html.spec.whatwg.org/#the-directionality not that spec?\n\nThat is the spec. However my understanding is that that algorithm gives incorrect results, currently, for elements in shadow trees. And so your goal is to modify that algorithm so that it returns correct results for elements in shadow trees.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$TSt_sgObkBm-kAkZVA1WMsq21xEgppCFx9lj-4paKL0?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@emeyer:igalia.com\">@emeyer:igalia.com</a><br>I think I’m confused.  Is https://html.spec.whatwg.org/#the-directionality not that spec?</blockquote></mx-reply>That is the spec. However my understanding is that that algorithm gives incorrect results, currently, for elements in shadow trees. And so your goal is to modify that algorithm so that it returns correct results for elements in shadow trees.","m.relates_to":{"m.in_reply_to":{"event_id":"$TSt_sgObkBm-kAkZVA1WMsq21xEgppCFx9lj-4paKL0"}},"msgtype":"m.text"},"ts":1639498416773,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$3nhAN28avD0RzQrjALuqO6tMk9Q7PV-bClhXy_lfbuU"},
{"content":{"body":"> <@domenicdenicola:matrix.org> That is the spec. However my understanding is that that algorithm gives incorrect results, currently, for elements in shadow trees. And so your goal is to modify that algorithm so that it returns correct results for elements in shadow trees.\n\nGiven that spec says “any element” does that mean it’s known to apply to Shadow DOM trees?  Or is that part of the needed clarification?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$3nhAN28avD0RzQrjALuqO6tMk9Q7PV-bClhXy_lfbuU?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br>That is the spec. However my understanding is that that algorithm gives incorrect results, currently, for elements in shadow trees. And so your goal is to modify that algorithm so that it returns correct results for elements in shadow trees.</blockquote></mx-reply>Given that spec says “any element” does that mean it’s known to apply to Shadow DOM trees?  Or is that part of the needed clarification?","m.relates_to":{"m.in_reply_to":{"event_id":"$3nhAN28avD0RzQrjALuqO6tMk9Q7PV-bClhXy_lfbuU"}},"msgtype":"m.text"},"ts":1639498587520,"senderName":"Eric Meyer","senderId":"@emeyer:igalia.com","id":"$fbjAJzJhkHN8uL05qgr25PkeQCjQ6DL3BsbrS_Kz0S8"},
{"content":{"body":"Yes, it currently applies to any element. It just gives wrong results (from what I understand) for some elements.","msgtype":"m.text"},"ts":1639498617311,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$UL7ma7pA2E9iF-1wdJbqVjdz2ANTh9hP8o2K-x8XT5Y"},
{"content":{"body":"Where by \"wrong\" I guess I mean \"not according to latest CSSWG / implementer consensus\"","msgtype":"m.text"},"ts":1639498634725,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$W0lKe_bRUYEutpCsDeA-NONDbSA4wzfBr5GKOYsjMI0"},
{"content":{"body":"I don’t think it’s all that wrong, actually!  Except for certain edge cases with `slot` elements, which definitely does need to be clarified.  So I think my move is to add the bit about contentless `slot`s taking directionality from the host, and that should resolve it.  (I hope.)","format":"org.matrix.custom.html","formatted_body":"I don’t think it’s all that wrong, actually!  Except for certain edge cases with <code>slot</code> elements, which definitely does need to be clarified.  So I think my move is to add the bit about contentless <code>slot</code>s taking directionality from the host, and that should resolve it.  (I hope.)","msgtype":"m.text"},"ts":1639498726402,"senderName":"Eric Meyer","senderId":"@emeyer:igalia.com","id":"$CU5f-VI0s-TH9U1yTBnkqFk2AZSP09_zelLe0gbTIL4"},
{"content":{"body":"Eric Meyer: if you want to operate in the flat tree presumably the tree walking is incorrect too?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@emeyer:igalia.com\">Eric Meyer</a>: if you want to operate in the flat tree presumably the tree walking is incorrect too?","msgtype":"m.text"},"ts":1639500151416,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$ly57evErAv3yrMD1xLPSSaHiHBtfkr2J8QtNRlwPvKo"},
{"content":{"body":"> <@annevk:mozilla.org> Eric Meyer: if you want to operate in the flat tree presumably the tree walking is incorrect too?\n\nI don’t understand, sorry.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$ly57evErAv3yrMD1xLPSSaHiHBtfkr2J8QtNRlwPvKo?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br><a href=\"https://matrix.to/#/@emeyer:igalia.com\">Eric Meyer</a>: if you want to operate in the flat tree presumably the tree walking is incorrect too?</blockquote></mx-reply>I don’t understand, sorry.","m.relates_to":{"m.in_reply_to":{"event_id":"$ly57evErAv3yrMD1xLPSSaHiHBtfkr2J8QtNRlwPvKo"}},"msgtype":"m.text"},"ts":1639500254877,"senderName":"Eric Meyer","senderId":"@emeyer:igalia.com","id":"$9QlJdCBKnCEPpZqXvwuz9TTZDmubQPuCFT3se8eKly8"},
{"content":{"body":"Eric Meyer: e.g., the parent of a slotted node would be the shadow host, but it might have to look at the slot element it's slotted into instead?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@emeyer:igalia.com\">Eric Meyer</a>: e.g., the parent of a slotted node would be the shadow host, but it might have to look at the slot element it's slotted into instead?","msgtype":"m.text"},"ts":1639500529018,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$J9kNXgroMiRKjze8bhxdnCEUHzI4vF4Q5ekzhq7rDrA"},
{"content":{"body":"That’s a good question and I need to take a few minutes to unspool it.  (If you have a specific structure in mind, I’m happy to work through it!)","msgtype":"m.text"},"ts":1639501256402,"senderName":"Eric Meyer","senderId":"@emeyer:igalia.com","id":"$8XB6GOVCgUzTqAoArxJC1IvzECcJm3otZ_3zE0TXKCM"},
{"content":{"body":"Hi","msgtype":"m.text"},"ts":1639511084560,"senderName":"Joe jr Ribando","senderId":"@joejrribando:matrix.org","id":"$2bb4H4PfGGadDbiWGCIipk4iqrpmxMqc9KdZb-SM-EE"},
{"content":{"body":"> <@annevk:mozilla.org> Eric Meyer: e.g., the parent of a slotted node would be the shadow host, but it might have to look at the slot element it's slotted into instead?\n\nI’ve been working through this (with a lot of help from bkardell) and should have an answer soon.  But I do believe that we’ve managed to avoid the flattened tree.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$J9kNXgroMiRKjze8bhxdnCEUHzI4vF4Q5ekzhq7rDrA?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br><a href=\"https://matrix.to/#/@emeyer:igalia.com\">Eric Meyer</a>: e.g., the parent of a slotted node would be the shadow host, but it might have to look at the slot element it's slotted into instead?</blockquote></mx-reply>I’ve been working through this (with a lot of help from <a href=\"https://matrix.to/#/@bkardell:igalia.com\">bkardell</a>) and should have an answer soon.  But I do believe that we’ve managed to avoid the flattened tree.","m.relates_to":{"m.in_reply_to":{"event_id":"$J9kNXgroMiRKjze8bhxdnCEUHzI4vF4Q5ekzhq7rDrA"}},"msgtype":"m.text"},"ts":1639511361666,"senderName":"Eric Meyer","senderId":"@emeyer:igalia.com","id":"$NSajLeuWhECSThMPgRkn6eC2TqBNuphyi0iHb1ZlC4Y"},
{"content":{"body":"well, we avoid trying to just saying \"use the flat tree\" I guess...conceptually I guess it's pretty similar, just how to adjust the algorithm in the spec to arrive there","msgtype":"m.text"},"ts":1639511618133,"senderName":"bkardell","senderId":"@bkardell:igalia.com","id":"$5plj52ekLBZ6r9P0PVd1F9fZdz7TEJXyMYjAam5MZFc"}
]