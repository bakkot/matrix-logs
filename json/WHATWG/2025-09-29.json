[
{"content":{"body":"Psychpsyo: ok thanks","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@psychpsyo:matrix.org\">Psychpsyo</a>: ok thanks","m.mentions":{"user_ids":["@psychpsyo:matrix.org"]},"msgtype":"m.text"},"ts":1759138154569,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$6uUBgVbv0-ecmGDvcGgDa-A_lXmVf0STvyzrFWupSX8"},
{"content":{"body":"Dominic Farolino: ping https://github.com/whatwg/html/pull/11560#discussion_r2338608768","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domfarolino:matrix.org\">Dominic Farolino</a>: ping https://github.com/whatwg/html/pull/11560#discussion_r2338608768","m.mentions":{"user_ids":["@domfarolino:matrix.org"]},"msgtype":"m.text"},"ts":1759144194344,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$F1j9-4xY3IEJj4j8PxpgVCVx5ClHDWasOzzcRmyNtJo"},
{"content":{"body":"Does anyone know why eg `button` and `form` cannot have shadow roots, or was [the allowlist](https://dom.spec.whatwg.org/#valid-shadow-host-name) deliberately conservative?","format":"org.matrix.custom.html","formatted_body":"Does anyone know why eg <code>button</code> and <code>form</code> cannot have shadow roots, or was <a href=\"https://dom.spec.whatwg.org/#valid-shadow-host-name\">the allowlist</a> deliberately conservative?","m.mentions":{},"msgtype":"m.text"},"ts":1759154691276,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$t8C1X6tqeeHOKjEazFrvNwv9U1lcjCJKBm7bsGTkFL8"},
{"content":{"body":"Jake Archibald: it is conservative, yeah. I'm not sure how much interest there is to extend shadow roots for non-custom elements though. I think in retrospect we should only have had shadow roots for custom elements. Would have allowed for a better design overall, but it's always easier with hindsight.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a>: it is conservative, yeah. I'm not sure how much interest there is to extend shadow roots for non-custom elements though. I think in retrospect we should only have had shadow roots for custom elements. Would have allowed for a better design overall, but it's always easier with hindsight.","m.mentions":{"user_ids":["@jakea:matrix.org"]},"msgtype":"m.text"},"ts":1759156913420,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Y1767MrvKfwUtudt63IZE6Ca809HtLdPpUe-__sqMZ0"},
{"content":{"body":"annevk: I'm looking at the use-cases in https://bsky.app/profile/jakearchibald.com/post/3lzxy7um7q22h and also thinking of Shopify's use-case for a custom form component. It feels like these could be easily solved by `<button is=\"blah-whatever\">` and allowing shadow roots on those elements. Maybe the original pitch for `is` was too broad, but it feels like it works for these cases.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: I'm looking at the use-cases in https://bsky.app/profile/jakearchibald.com/post/3lzxy7um7q22h and also thinking of Shopify's use-case for a custom form component. It feels like these could be easily solved by <code>&lt;button is=\"blah-whatever\"&gt;</code> and allowing shadow roots on those elements. Maybe the original pitch for <code>is</code> was too broad, but it feels like it works for these cases.","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1759157133533,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$bQS9jlogwcLEzYkAuOE5FV5XcfVG9EmZi_II9gdgKZQ"},
{"content":{"body":"WebKit isn't interested in `is`.","format":"org.matrix.custom.html","formatted_body":"WebKit isn't interested in <code>is</code>.","m.mentions":{},"msgtype":"m.text"},"ts":1759157189233,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$0LdpoM6K1uncgevTW4rcgCZ8czF4HZqkHvJT5sdf5RI"},
{"content":{"body":"yeah","m.mentions":{},"msgtype":"m.text"},"ts":1759157210337,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$HXRoRETRldtwJbMCS6fQ_yOXUeP8yZYge3ugLHKF-e0"},
{"content":{"body":"(although I hadn't quite realised that position was immutable)","m.mentions":{},"msgtype":"m.text"},"ts":1759157227894,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$29xbTezDydxH--jTfG3lYL-UDPNeVg-3pGPPms1xBgs"},
{"content":{"body":"I regret not pushing back on it harder at Mozilla when it ended up in the build. Only Google kinda liked it at standardization time.","m.mentions":{},"msgtype":"m.text"},"ts":1759157304719,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$WQpsdJKqCiHVw-5Kaj5pvuAoaKBpEaZWzqgQAoHU5fg"},
{"content":{"body":"Aside from the no-JS-fallback use-case, allowing a custom element to inherit button/form in a way that picks up all behaviour would also work. That would certainly be preferable to Shopify because the DX doesn't suddenly change from \"yes it's `<s-textbox>` but for forms it's `<form is=\"s-form\">`","format":"org.matrix.custom.html","formatted_body":"Aside from the no-JS-fallback use-case, allowing a custom element to inherit button/form in a way that picks up all behaviour would also work. That would certainly be preferable to Shopify because the DX doesn't suddenly change from \"yes it's <code>&lt;s-textbox&gt;</code> but for forms it's <code>&lt;form is=\"s-form\"&gt;</code>","m.mentions":{},"msgtype":"m.text"},"ts":1759157315250,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$0vC6qnceMC-QTBf8bWXGpCX57A1DRPxuyoqQgKJjwLM"},
{"content":{"body":"* Aside from the no-JS-fallback use-case, allowing a custom element to inherit button/form in a way that picks up all behaviour would also work. That would certainly be preferable to Shopify because the DX doesn't suddenly change from \"yes it's `<s-textbox>` but for forms it's `<form is=\"s-form\">`\"","format":"org.matrix.custom.html","formatted_body":"* Aside from the no-JS-fallback use-case, allowing a custom element to inherit button/form in a way that picks up all behaviour would also work. That would certainly be preferable to Shopify because the DX doesn't suddenly change from \"yes it's <code>&lt;s-textbox&gt;</code> but for forms it's <code>&lt;form is=\"s-form\"&gt;</code>\"","m.mentions":{},"m.new_content":{"body":"Aside from the no-JS-fallback use-case, allowing a custom element to inherit button/form in a way that picks up all behaviour would also work. That would certainly be preferable to Shopify because the DX doesn't suddenly change from \"yes it's `<s-textbox>` but for forms it's `<form is=\"s-form\">`\"","format":"org.matrix.custom.html","formatted_body":"Aside from the no-JS-fallback use-case, allowing a custom element to inherit button/form in a way that picks up all behaviour would also work. That would certainly be preferable to Shopify because the DX doesn't suddenly change from \"yes it's <code>&lt;s-textbox&gt;</code> but for forms it's <code>&lt;form is=\"s-form\"&gt;</code>\"","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$0vC6qnceMC-QTBf8bWXGpCX57A1DRPxuyoqQgKJjwLM","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1759157324007,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$2INCrA92WeF4JVw5dROqWiz8XKxLK8kv16pg1RDLCuQ"},
{"content":{"body":"Is that DOA? If I interpreted the standards position correctly, WebKit was more interested in that","m.mentions":{},"msgtype":"m.text"},"ts":1759157399551,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$Ub4yOyNcgls1f4hwgHHWVmaQ_hmHAazvuzprT3Stn1c"},
{"content":{"body":"Yeah, the questions there are \"what is all that behavior?\" and \"does everyone want all that behavior or do they only want those bits they are thinking of right now?\"","m.mentions":{},"msgtype":"m.text"},"ts":1759157419874,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$r_tf81F5T63v2Kq8DiLgaHfH1AKI0HTWI2HuuyaijxE"},
{"content":{"body":"Domenic had a pretty insightful post on it a couple weeks back. Let me find that thread.","m.mentions":{},"msgtype":"m.text"},"ts":1759157445159,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$EoFbJSBuc19dFwuF9lQuIRghiGoT5SUEtFI9HzsIEd4"},
{"content":{"body":"Yeah, that's why I was asking in places like https://bsky.app/profile/jakearchibald.com/post/3lzxy7um7q22h","m.mentions":{},"msgtype":"m.text"},"ts":1759157458957,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$aXHAJ3y1SYQnAveEX0VEuWUTo4A_8EOwuUST8Li3nkM"},
{"content":{"body":"It seems like people want focus, and all attributes & properties to behave as is. That's certainly what we wanted for forms at Shopify. Having it for buttons would be nice too.","m.mentions":{},"msgtype":"m.text"},"ts":1759157500603,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$tm3tvHuKr4UjYpQmwgbSjfZ9fujsXn7nqWpNnY7SPhc"},
{"content":{"body":"https://github.com/whatwg/html/issues/11061#issuecomment-3213526709","m.mentions":{},"msgtype":"m.text"},"ts":1759157517021,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$_to5ZGsJL4cZmmVLi3tTVSa7JsQasu3dAWTrJDEH5_M"},
{"content":{"body":"That's fair. Yeah, and if folks are 'extending' `HTMLButtonElement` etc, it makes it harder to add to those APIs in future.","format":"org.matrix.custom.html","formatted_body":"That's fair. Yeah, and if folks are 'extending' <code>HTMLButtonElement</code> etc, it makes it harder to add to those APIs in future.","m.mentions":{},"msgtype":"m.text"},"ts":1759157854945,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$e2N3M78zGUYAHUzFA9-h2m-9p7dAfwpxCr1AGrl3FK4"},
{"content":{"body":"> <@annevk:matrix.org> WebKit isn't interested in `is`.\n\nI've meant to ask for a while, is there any appetite for removing it from the html spec? As far as I understand using modern WhatWG process it would never have merged, should we potentially move it to a whatwg \"idea\". With a big red this is a dead end box?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$0LdpoM6K1uncgevTW4rcgCZ8czF4HZqkHvJT5sdf5RI?via=igalia.com&via=matrix.org&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br />WebKit isn't interested in <code>is</code>.</blockquote></mx-reply>I've meant to ask for a while, is there any appetite for removing it from the html spec? As far as I understand using modern WhatWG process it would never have merged, should we potentially move it to a whatwg &quot;idea&quot;. With a big red this is a dead end box?","m.relates_to":{"m.in_reply_to":{"event_id":"$0LdpoM6K1uncgevTW4rcgCZ8czF4HZqkHvJT5sdf5RI"}},"msgtype":"m.text"},"ts":1759158086123,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$7D8HDdR8JpeG1tHfKuMut2Hutx30as1jj6qjBoWuqS8"},
{"content":{"body":"Luke Warlow: certainly from WebKit, but that's insufficient as per https://whatwg.org/working-mode#changes. I suspect Mozilla is unwilling to touch it at this point unless Chrome does something and Chrome seems happy to keep it.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@lwarlow:igalia.com\">Luke Warlow</a>: certainly from WebKit, but that's insufficient as per https://whatwg.org/working-mode#changes. I suspect Mozilla is unwilling to touch it at this point unless Chrome does something and Chrome seems happy to keep it.","m.mentions":{"user_ids":["@lwarlow:igalia.com"]},"msgtype":"m.text"},"ts":1759158205648,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$oSFPB0-EvLhtVoFwHc6mJHZQqioRgfBQFbMbdAO21PE"},
{"content":{"body":"I guess the alternative is to add some notes that show that but I don't know how many Devs actually read the spec even the for Devs view and MDN does actually have a note on it, so perhaps that's the most we can do for now.","msgtype":"m.text"},"ts":1759158486439,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$e9rzHGQ3d9zgqJbXsAQp7qimO2ra2Gb-8GMJVfDaXQI"},
{"content":{"body":"I guess it'd be nice to dig down into what a 'button' mixin would look like. There are certainly things like reflection helpers that would be useful elsewhere.","m.mentions":{},"msgtype":"m.text"},"ts":1759159625823,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$LtE6sDSz2elPTVZOA__o8jZ6c07f8Tl3hB0_pDRviKI"},
{"content":{"body":"Making reflection & form input properties work like other HTML elements was a tricky thing at Shopify","m.mentions":{},"msgtype":"m.text"},"ts":1759159859197,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$mSvd7gIS7UPZyR7AsGF0OPHIl9clarPgxdZP-dAm2xw"},
{"content":{"body":"eg the interaction between `value` & `defaultValue`","format":"org.matrix.custom.html","formatted_body":"eg the interaction between <code>value</code> &amp; <code>defaultValue</code>","m.mentions":{},"msgtype":"m.text"},"ts":1759159919420,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$B3-FpMa5FHlvrmGK8mEYeFga-jpKMJP51MasGdpqGfY"},
{"content":{"body":"For reflection I recently did think we perhaps should add a \"retarget\" function that you give an element and it well retargets. Perhaps the ability to provide an array of shadow roots to allow \"leaking\"?","msgtype":"m.text"},"ts":1759159940045,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$vqJ7WEm4f7uIbBr60vg6q4i2B4yWOJAbZ5c1ZrL7yfU"},
{"content":{"body":"* For reflection I recently did think we perhaps should add a \"retarget\" function that you give an element and it well retargets. Perhaps the ability to provide an array of shadow roots to allow \"leaking\"?\n\nThat would help custom elements provide similar element reflection properties but also provide other APIs that do retargeting.","m.new_content":{"body":"For reflection I recently did think we perhaps should add a \"retarget\" function that you give an element and it well retargets. Perhaps the ability to provide an array of shadow roots to allow \"leaking\"?\n\nThat would help custom elements provide similar element reflection properties but also provide other APIs that do retargeting.","msgtype":"m.text"},"m.relates_to":{"event_id":"$vqJ7WEm4f7uIbBr60vg6q4i2B4yWOJAbZ5c1ZrL7yfU","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1759160001797,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$NWExiAr7UI-vcAeoNYzhzd1gbejGRKTCRZjl-BYShFc"},
{"content":{"body":"I was thinking more low-level, like \"reflect this attribute as a number\". But maybe we need decorator support to do that well","m.mentions":{},"msgtype":"m.text"},"ts":1759160007531,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$Pcfp_IyWoxsYhZs4WcpiHrJO8kPE74NeCNqrXzShqMk"},
{"content":{"body":"At Shopify we used decorators","m.mentions":{},"msgtype":"m.text"},"ts":1759160032677,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$hkj0kCjvB6ui0KMI06jEIRUPCUMxrKVl8giC1JUklhU"},
{"content":{"body":"> <@jakea:matrix.org> I was thinking more low-level, like \"reflect this attribute as a number\". But maybe we need decorator support to do that well\n\nDecorators for the reflection primitives makes sense. Same way we now have some extended attributes in idl.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$Pcfp_IyWoxsYhZs4WcpiHrJO8kPE74NeCNqrXzShqMk?via=igalia.com&via=matrix.org&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@jakea:matrix.org\">@jakea:matrix.org</a><br />I was thinking more low-level, like &quot;reflect this attribute as a number&quot;. But maybe we need decorator support to do that well</blockquote></mx-reply>Decorators for the reflection primitives makes sense. Same way we now have some extended attributes in idl.","m.relates_to":{"m.in_reply_to":{"event_id":"$Pcfp_IyWoxsYhZs4WcpiHrJO8kPE74NeCNqrXzShqMk"}},"msgtype":"m.text"},"ts":1759160082362,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$l30Nr4keozCR67YWIWEDevdNUzanE_Ud4vA_PYhhcvo"},
{"content":{"body":"Retarget could be useful for custom event setups separately though","msgtype":"m.text"},"ts":1759160119721,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$n2dtEoRSzwwLDBviQZd09S_-fHArvTtE5wdfff1Ko7Q"},
{"content":{"body":"It's worthwhile trying to think through those things again to see if we have the necessary building blocks, but ultimately those are capabilities developers already have today. They are just awkward. Whereas making a custom element focusable in the same way as a button or text input is something that's not possible today.","m.mentions":{},"msgtype":"m.text"},"ts":1759160352515,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$g1kC5EperbSF9yfum-d8yhOcHy6x0XZjMqp5y4lu0qU"},
{"content":{"body":"> <@annevk:matrix.org> It's worthwhile trying to think through those things again to see if we have the necessary building blocks, but ultimately those are capabilities developers already have today. They are just awkward. Whereas making a custom element focusable in the same way as a button or text input is something that's not possible today.\n\nI would hazard a guess most people want tabindex=\"0\" but without the attribute sprout fwiw. Though obviously WebKit is different and some might want that alignment (I'm assuming WebKit would prefer that alignment?)","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$g1kC5EperbSF9yfum-d8yhOcHy6x0XZjMqp5y4lu0qU?via=igalia.com&via=matrix.org&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br />It's worthwhile trying to think through those things again to see if we have the necessary building blocks, but ultimately those are capabilities developers already have today. They are just awkward. Whereas making a custom element focusable in the same way as a button or text input is something that's not possible today.</blockquote></mx-reply>I would hazard a guess most people want tabindex=&quot;0&quot; but without the attribute sprout fwiw. Though obviously WebKit is different and some might want that alignment (I'm assuming WebKit would prefer that alignment?)","m.relates_to":{"m.in_reply_to":{"event_id":"$g1kC5EperbSF9yfum-d8yhOcHy6x0XZjMqp5y4lu0qU"}},"msgtype":"m.text"},"ts":1759160450144,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$iP25LW62qZ68JxAVkTjadM59SnmX4lonnU4iqqMAjqE"},
{"content":{"body":"curious to see a userland \"behaves like a button\" mixin effort with posting HTML issues when things are missing from the platform in `ElementInternals` or whatever... I think it would be a productive way to make built-in extends an actual thing","format":"org.matrix.custom.html","formatted_body":"curious to see a userland \"behaves like a button\" mixin effort with posting HTML issues when things are missing from the platform in <code>ElementInternals</code> or whatever... I think it would be a productive way to make built-in extends an actual thing","m.mentions":{"user_ids":["@jakea:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$LtE6sDSz2elPTVZOA__o8jZ6c07f8Tl3hB0_pDRviKI"}},"msgtype":"m.text"},"ts":1759163975470,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$KD3qmsz8Y5_Lz9CXl8q7dtaMY9g-uh0a8_EAEEd0LAY"}
]