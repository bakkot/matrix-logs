[
{"content":{"body":"arai: I think Chromium has some kind of annotation on all side-effecting getters in Web IDL, specifically for DevTools purposes. I'd suggest poking around the codebase.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@arai:mozilla.org\">arai</a>: I think Chromium has some kind of annotation on all side-effecting getters in Web IDL, specifically for DevTools purposes. I'd suggest poking around the codebase.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"arai: I think Chromium has some kind of annotation on all side-effecting getters in Web IDL, specifically for DevTools purposes. I'd suggest poking around the codebase.","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@arai:mozilla.org\">arai</a>: I think Chromium has some kind of annotation on all side-effecting getters in Web IDL, specifically for DevTools purposes. I'd suggest poking around the codebase.","mimetype":"text/html"}]},"ts":1671582627741,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$Wwz6up5p4xRUFbvlA_hqN1Ccg6hjqCyA3Px0bJK54b0"},
{"content":{"body":"great :) I'll look into it","msgtype":"m.text"},"ts":1671582997397,"senderName":"arai","senderId":"@arai:mozilla.org","id":"$yaW1wB6XE3QopyKIkKaFenqdhwmFOTI2YXz37TT8CyY"},
{"content":{"body":"found `[Affects=Everything]` extended attribute for attributes:  https://chromium.googlesource.com/chromium/src/+/master/third_party/blink/renderer/bindings/IDLExtendedAttributes.md#affects_m_a , but I don't see the occurrence in the source  https://source.chromium.org/search?q=Affects%3DEverything&ss=chromium%2Fchromium%2Fsrc:third_party%2Fblink%2Frenderer%2Fcore%2Fdom%2F","format":"org.matrix.custom.html","formatted_body":"found <code>[Affects=Everything]</code> extended attribute for attributes:  https://chromium.googlesource.com/chromium/src/+/master/third_party/blink/renderer/bindings/IDLExtendedAttributes.md#affects_m_a , but I don't see the occurrence in the source  https://source.chromium.org/search?q=Affects%3DEverything&amp;ss=chromium%2Fchromium%2Fsrc:third_party%2Fblink%2Frenderer%2Fcore%2Fdom%2F","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"found `[Affects=Everything]` extended attribute for attributes:  https://chromium.googlesource.com/chromium/src/+/master/third_party/blink/renderer/bindings/IDLExtendedAttributes.md#affects_m_a , but I don't see the occurrence in the source  https://source.chromium.org/search?q=Affects%3DEverything&ss=chromium%2Fchromium%2Fsrc:third_party%2Fblink%2Frenderer%2Fcore%2Fdom%2F","mimetype":"text/plain"},{"body":"found <code>[Affects=Everything]</code> extended attribute for attributes:  https://chromium.googlesource.com/chromium/src/+/master/third_party/blink/renderer/bindings/IDLExtendedAttributes.md#affects_m_a , but I don't see the occurrence in the source  https://source.chromium.org/search?q=Affects%3DEverything&amp;ss=chromium%2Fchromium%2Fsrc:third_party%2Fblink%2Frenderer%2Fcore%2Fdom%2F","mimetype":"text/html"}]},"ts":1671600450541,"senderName":"arai","senderId":"@arai:mozilla.org","id":"$Q5HuUkpieAGcmfHJCdHaja5Efcjx4glOghy6DgLCoRo"},
{"content":{"body":"so I guess there's no such attribute right now?","msgtype":"m.text","org.matrix.msc1767.text":"so I guess there's no such attribute right now?"},"ts":1671600477591,"senderName":"arai","senderId":"@arai:mozilla.org","id":"$IhdLrTiyzTkptpdjiCkDrr14Jtr4FkpX6L3Cfsgr46U"},
{"content":{"body":"Domenic Jake Archibald : I'm trying to understand some of the navigation-API changes and how they relate to navigation timing. \n\nIn https://html.spec.whatwg.org/#create-navigation-params-by-fetching #8, we set the initiator type of the request to the container's name, if the container is not null. Setting the initiator type makes Fetch automatically report resource timing.\nWould this mean that *any* iframe navigation would report resource timing? That would be a bug, as we need to report only the ones initiated from the parent (the source snapshot's fetch client I guess? https://html.spec.whatwg.org/#source-snapshot-params-client)","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a> <a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a> : I'm trying to understand some of the navigation-API changes and how they relate to navigation timing.</p>\n<p>In https://html.spec.whatwg.org/#create-navigation-params-by-fetching #8, we set the initiator type of the request to the container's name, if the container is not null. Setting the initiator type makes Fetch automatically report resource timing.<br>Would this mean that <em>any</em> iframe navigation would report resource timing? That would be a bug, as we need to report only the ones initiated from the parent (the source snapshot's fetch client I guess? https://html.spec.whatwg.org/#source-snapshot-params-client)</p>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic Jake Archibald : I'm trying to understand some of the navigation-API changes and how they relate to navigation timing. \n\nIn https://html.spec.whatwg.org/#create-navigation-params-by-fetching #8, we set the initiator type of the request to the container's name, if the container is not null. Setting the initiator type makes Fetch automatically report resource timing.\nWould this mean that *any* iframe navigation would report resource timing? That would be a bug, as we need to report only the ones initiated from the parent (the source snapshot's fetch client I guess? https://html.spec.whatwg.org/#source-snapshot-params-client)","mimetype":"text/plain"},{"body":"<p><a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a> <a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a> : I'm trying to understand some of the navigation-API changes and how they relate to navigation timing.</p>\n<p>In https://html.spec.whatwg.org/#create-navigation-params-by-fetching #8, we set the initiator type of the request to the container's name, if the container is not null. Setting the initiator type makes Fetch automatically report resource timing.<br>Would this mean that <em>any</em> iframe navigation would report resource timing? That would be a bug, as we need to report only the ones initiated from the parent (the source snapshot's fetch client I guess? https://html.spec.whatwg.org/#source-snapshot-params-client)</p>\n","mimetype":"text/html"}]},"ts":1671611413670,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$6lwYzCB-v_OO11oxEKHTryYxb9hluykQtjqK5fTXq0g"},
{"content":{"body":"yea I think it's a bug, will post a PR","msgtype":"m.text","org.matrix.msc1767.text":"yea I think it's a bug, will post a PR"},"ts":1671611893983,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$b63MZ1NZTQ_HddcLy9H726yEEDL09hr1VLZcC0KfHGg"},
{"content":{"body":"(This seems unrelated to the navigation API, I guess you meant the rewrite.)","msgtype":"m.text","org.matrix.msc1767.text":"(This seems unrelated to the navigation API, I guess you meant the rewrite.)"},"ts":1671611938453,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$KMv12OOaykyN_kW8PloBXEBF8TUE1Eh2Nn72x9COaR0"},
{"content":{"body":"Domenic: yes, I meant the rewrite.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: yes, I meant the rewrite.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: yes, I meant the rewrite.","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: yes, I meant the rewrite.","mimetype":"text/html"}]},"ts":1671612296430,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$yZk8pT2V9Vi0PaYRTzhRZf0j5av4PJUstlRyY8rINdE"},
{"content":{"body":"> <@noamr:matrix.org> Domenic Jake Archibald : I'm trying to understand some of the navigation-API changes and how they relate to navigation timing. \n> \n> In https://html.spec.whatwg.org/#create-navigation-params-by-fetching #8, we set the initiator type of the request to the container's name, if the container is not null. Setting the initiator type makes Fetch automatically report resource timing.\n> Would this mean that *any* iframe navigation would report resource timing? That would be a bug, as we need to report only the ones initiated from the parent (the source snapshot's fetch client I guess? https://html.spec.whatwg.org/#source-snapshot-params-client)\n\nhttps://github.com/whatwg/html/pull/8638","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$6lwYzCB-v_OO11oxEKHTryYxb9hluykQtjqK5fTXq0g?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@noamr:matrix.org\">@noamr:matrix.org</a><br><p><a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a> <a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a> : I'm trying to understand some of the navigation-API changes and how they relate to navigation timing.</p>\n<p>In https://html.spec.whatwg.org/#create-navigation-params-by-fetching #8, we set the initiator type of the request to the container's name, if the container is not null. Setting the initiator type makes Fetch automatically report resource timing.<br />Would this mean that <em>any</em> iframe navigation would report resource timing? That would be a bug, as we need to report only the ones initiated from the parent (the source snapshot's fetch client I guess? https://html.spec.whatwg.org/#source-snapshot-params-client)</p>\n</blockquote></mx-reply>https://github.com/whatwg/html/pull/8638","m.relates_to":{"m.in_reply_to":{"event_id":"$6lwYzCB-v_OO11oxEKHTryYxb9hluykQtjqK5fTXq0g"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@noamr:matrix.org> Domenic Jake Archibald : I'm trying to understand some of the navigation-API changes and how they relate to navigation timing. \n> \n> In https://html.spec.whatwg.org/#create-navigation-params-by-fetching #8, we set the initiator type of the request to the container's name, if the container is not null. Setting the initiator type makes Fetch automatically report resource timing.\n> Would this mean that *any* iframe navigation would report resource timing? That would be a bug, as we need to report only the ones initiated from the parent (the source snapshot's fetch client I guess? https://html.spec.whatwg.org/#source-snapshot-params-client)\n\nhttps://github.com/whatwg/html/pull/8638","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$6lwYzCB-v_OO11oxEKHTryYxb9hluykQtjqK5fTXq0g?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@noamr:matrix.org\">@noamr:matrix.org</a><br><p><a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a> <a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a> : I'm trying to understand some of the navigation-API changes and how they relate to navigation timing.</p>\n<p>In https://html.spec.whatwg.org/#create-navigation-params-by-fetching #8, we set the initiator type of the request to the container's name, if the container is not null. Setting the initiator type makes Fetch automatically report resource timing.<br />Would this mean that <em>any</em> iframe navigation would report resource timing? That would be a bug, as we need to report only the ones initiated from the parent (the source snapshot's fetch client I guess? https://html.spec.whatwg.org/#source-snapshot-params-client)</p>\n</blockquote></mx-reply>https://github.com/whatwg/html/pull/8638","mimetype":"text/html"}]},"ts":1671612701686,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$qDU_5URG0R0MRtjX02jZ340CXzBvAJUhJJ6Xg4RfZN4"},
{"content":{"body":"Mattias Buelens: hey, if you have a quick minute to look at https://github.com/whatwg/fetch/pull/1569 and comment on the state of Streams and event loop integration I'd appreciate it (I realize I might have asked about this before, I'm afraid I forgot)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@mattiasbuelens:matrix.org\">Mattias Buelens</a>: hey, if you have a quick minute to look at https://github.com/whatwg/fetch/pull/1569 and comment on the state of Streams and event loop integration I'd appreciate it (I realize I might have asked about this before, I'm afraid I forgot)","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Mattias Buelens: hey, if you have a quick minute to look at https://github.com/whatwg/fetch/pull/1569 and comment on the state of Streams and event loop integration I'd appreciate it (I realize I might have asked about this before, I'm afraid I forgot)","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@mattiasbuelens:matrix.org\">Mattias Buelens</a>: hey, if you have a quick minute to look at https://github.com/whatwg/fetch/pull/1569 and comment on the state of Streams and event loop integration I'd appreciate it (I realize I might have asked about this before, I'm afraid I forgot)","mimetype":"text/html"}]},"ts":1671627299042,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$MXDu1y3Qo-OaSk8rXm1CYVHyAy4nqdBdt1oPsnpn-Jw"},
{"content":{"body":"annevk: how about inlining \"package data\" in \"consume body\"? it's the only caller AFAICT and it's not exported","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: how about inlining &quot;package data&quot; in &quot;consume body&quot;? it's the only caller AFAICT and it's not exported","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"annevk: how about inlining \"package data\" in \"consume body\"? it's the only caller AFAICT and it's not exported","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: how about inlining &quot;package data&quot; in &quot;consume body&quot;? it's the only caller AFAICT and it's not exported","mimetype":"text/html"}]},"ts":1671628527028,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$BBC8EkGoA0bUhpY-bzn-wTtUOmYnyonBYAPO9BJrib0"},
{"content":{"body":"instead of passing promises around we could use a single promise in the scope and resolve/reject it","msgtype":"m.text","org.matrix.msc1767.text":"instead of passing promises around we could use a single promise in the scope and resolve/reject it"},"ts":1671628564965,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$VWMeEAhtFF565zXicMAJK7BJBmYSCj8z6-l3E8xLSI4"},
{"content":{"body":"Noam Rosenthal: hmm maybe, I don't immediately see it as we invoke it twice, but it might be possible","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: hmm maybe, I don't immediately see it as we invoke it twice, but it might be possible","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Noam Rosenthal: hmm maybe, I don't immediately see it as we invoke it twice, but it might be possible","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: hmm maybe, I don't immediately see it as we invoke it twice, but it might be possible","mimetype":"text/html"}]},"ts":1671628718434,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$AXWkjnUnCgaCVAuXkEcU0cqut6qOI_Ml_4mfLZYMfeY"},
{"content":{"body":"looks at blame","msgtype":"m.emote","org.matrix.msc1767.text":"looks at blame"},"ts":1671628725738,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$ovxfEVsAUlgZzDI0J18nHvzCMv19uzbybRIEUIRibQQ"},
{"content":{"body":"Not quite unlike how it started out: https://github.com/whatwg/fetch/commit/313cc37deb6346690a5f6a7dd096cb74afa19d03","msgtype":"m.text","org.matrix.msc1767.text":"Not quite unlike how it started out: https://github.com/whatwg/fetch/commit/313cc37deb6346690a5f6a7dd096cb74afa19d03"},"ts":1671628863979,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$a5XfAXCMO2TNRxDItT1DXF6P7I5Qqy4CwWyH6hLu1CU"},
{"content":{"body":"annevk: we invoke it once in `consume body`","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: we invoke it once in <code>consume body</code>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"annevk: we invoke it once in `consume body`","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: we invoke it once in <code>consume body</code>","mimetype":"text/html"}]},"ts":1671628880031,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$L9TohD4u7sp0MyhL63yLNvN8qPDHfBjXdk-U_seZeoE"},
{"content":{"body":"(before my patch)","msgtype":"m.text","org.matrix.msc1767.text":"(before my patch)"},"ts":1671628904452,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$te_c6crptClLs2dSKeBv7IgLjz_dLtWScTuyzqQM4Hk"},
{"content":{"body":"> <@annevk:matrix.org> Not quite unlike how it started out: https://github.com/whatwg/fetch/commit/313cc37deb6346690a5f6a7dd096cb74afa19d03\n\nhehe that's how it goes sometimes","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$a5XfAXCMO2TNRxDItT1DXF6P7I5Qqy4CwWyH6hLu1CU?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br>Not quite unlike how it started out: https://github.com/whatwg/fetch/commit/313cc37deb6346690a5f6a7dd096cb74afa19d03</blockquote></mx-reply>hehe that's how it goes sometimes","m.relates_to":{"m.in_reply_to":{"event_id":"$a5XfAXCMO2TNRxDItT1DXF6P7I5Qqy4CwWyH6hLu1CU"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@annevk:matrix.org> Not quite unlike how it started out: https://github.com/whatwg/fetch/commit/313cc37deb6346690a5f6a7dd096cb74afa19d03\n\nhehe that's how it goes sometimes","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$a5XfAXCMO2TNRxDItT1DXF6P7I5Qqy4CwWyH6hLu1CU?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br>Not quite unlike how it started out: https://github.com/whatwg/fetch/commit/313cc37deb6346690a5f6a7dd096cb74afa19d03</blockquote></mx-reply>hehe that's how it goes sometimes","mimetype":"text/html"}]},"ts":1671628932804,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$7g10r7t0wstikG0Sf9-qbvInzhdErJRTNGXz-tkhbXg"},
{"content":{"body":"Noam Rosenthal: well, but before is buggy in a different way in that it awaits a promise it resolved with a non-JS value","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: well, but before is buggy in a different way in that it awaits a promise it resolved with a non-JS value","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Noam Rosenthal: well, but before is buggy in a different way in that it awaits a promise it resolved with a non-JS value","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: well, but before is buggy in a different way in that it awaits a promise it resolved with a non-JS value","mimetype":"text/html"}]},"ts":1671628983664,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$H_FVcLLeYhhBb-vcHgo6GG_cAZvNt_EA5NhJbHA85Ms"},
{"content":{"body":"right. let me play with inlining and it would hopefully end up in a better state","msgtype":"m.text","org.matrix.msc1767.text":"right. let me play with inlining and it would hopefully end up in a better state"},"ts":1671629049311,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$27r3LtwXDQdprOXTTkATGtllIjMLZrhXN_mIIgucU_I"},
{"content":{"body":"Some people, when confronted with a problem, think “I know, I’ll use HTTP-augmented ABNF.” Now they have `1#` problems.","format":"org.matrix.custom.html","formatted_body":"Some people, when confronted with a problem, think “I know, I’ll use HTTP-augmented ABNF.” Now they have <code>1#</code> problems.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Some people, when confronted with a problem, think “I know, I’ll use HTTP-augmented ABNF.” Now they have `1#` problems.","mimetype":"text/plain"},{"body":"Some people, when confronted with a problem, think “I know, I’ll use HTTP-augmented ABNF.” Now they have <code>1#</code> problems.","mimetype":"text/html"}]},"ts":1671630341233,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$961ngiY5WsnUL_-RT22-Dw1ZN_KF0Iw8Hgrb8M9VWpw"}
]