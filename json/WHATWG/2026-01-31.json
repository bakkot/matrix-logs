[
{"content":{"body":"You'd have to look at the wrapper files to see what we do for HTML+JS implementations. We sometimes run the inputs through various API endpoints to ensure those APIs treat URLs the same way.","m.mentions":{},"m.relates_to":{"event_id":"$QwEd1-e-0GefgQkyorpdU0q7UtgcIVtAA0ualM4ft0U","is_falling_back":true,"m.in_reply_to":{"event_id":"$vToSfl9HFbyWsQ_bF3fN0layzBGSYhBBeWBPkIcYWsc"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1769843073303,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$IW2wkUuGZFXsXE8ZthtPnMkBjNZePkGUbM6wNIyuKZg"},
{"content":{"body":"In https://html.spec.whatwg.org/#update-the-image-data, if you click on \"restart animation\" or \"maybe omit events\", nothing happens (no var-highlighting) because they're marked up with `<i>`, not `<var>`. So I wondered if there was something special about them. Are they not parameters? They look kind of like it from the algo's header (although the header adds an extra 's' to \"restart animation\", which I'll submit a correction for sometime).","format":"org.matrix.custom.html","formatted_body":"In https://html.spec.whatwg.org/#update-the-image-data, if you click on \"restart animation\" or \"maybe omit events\", nothing happens (no var-highlighting) because they're marked up with <code>&lt;i&gt;</code>, not <code>&lt;var&gt;</code>. So I wondered if there was something special about them. Are they not parameters? They look kind of like it from the algo's header (although the header adds an extra 's' to \"restart animation\", which I'll submit a correction for sometime).","m.mentions":{},"msgtype":"m.text"},"ts":1769870370662,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$cRssAeLs14txESscehEKVkD8y3pNxX1Nh_CSfkJuRmk"},
{"content":{"body":"Looking at occurrences of the terms outside the algo, I briefly thought they were \"global variables\", and then that each img element had its own pair of such flags.\n","m.mentions":{},"msgtype":"m.text"},"ts":1769870377689,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$MltDa4U032MCockP7Cbx3bE4BZMwDK1TDWIlvBK1klI"},
{"content":{"body":"But now I'm coming back to the idea that they're parameters, it's just that they get set at a distance from the algo's invocation. So when https://html.spec.whatwg.org/#relevant-mutations says \"This must set the restart animation flag for the update the image data algorithm\", it means that the flag must be set for the *next* invocation of the algo *on this img* (or perhaps, must be set for the invocation of the algorithm, if any, that results from this use of 'relevant mutations').\n","format":"org.matrix.custom.html","formatted_body":"But now I'm coming back to the idea that they're parameters, it's just that they get set at a distance from the algo's invocation. So when https://html.spec.whatwg.org/#relevant-mutations says \"This must set the restart animation flag for the update the image data algorithm\", it means that the flag must be set for the <em>next</em> invocation of the algo <em>on this img</em> (or perhaps, must be set for the invocation of the algorithm, if any, that results from this use of 'relevant mutations').","m.mentions":{},"msgtype":"m.text"},"ts":1769870385507,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$m7T-ZPW2MBCsnixb-KBx92DhAtdgmQuLx6WPXOcRLs0"},
{"content":{"body":"Is this 'normal', or does the HTML spec have better/clearer ways to express this?","m.mentions":{},"msgtype":"m.text"},"ts":1769870393056,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$hmGMR24s6A0NEs7YXvOLIhjPyCsptPiWwR4Ybv3dhhQ"},
{"content":{"body":"(Also, para 2 of https://html.spec.whatwg.org/#when-to-obtain-images mentions 'restart animation' but not 'maybe omit events'.)","m.mentions":{},"msgtype":"m.text"},"ts":1769870553736,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$NeO3ZMolmqZdnva9BsSlrHUp90kSK8-XMG2MGBf0IEI"},
{"content":{"body":"In my opinion, it should be possible to do better","msgtype":"m.text"},"ts":1769872771656,"senderName":"Ms2ger (FOSDEM)","senderId":"@ms2ger:igalia.com","id":"$A68OAk0WHlfpjpNyaBOFlkKRzeQEUDGeVmDCQnR4Nx4"},
{"content":{"body":"But I'm on mobile, so no concrete suggestions ","msgtype":"m.text"},"ts":1769872795405,"senderName":"Ms2ger (FOSDEM)","senderId":"@ms2ger:igalia.com","id":"$EqGEbEhqeWuPx1HhlGHaLnS-qQN5CbqOZf080iyxeBM"},
{"content":{"body":"Take some time without everything ready ","format":"org.matrix.custom.html","formatted_body":"Take some time without everything ready","m.mentions":{},"msgtype":"m.text"},"ts":1769887556031,"senderName":"Farzaneh Sedarati","senderId":"@drbatson:matrix.org","id":"$SYz-_nxV8xvv2RGwh4S01qCjAzVcy1ai5gERMOGtlwA"},
{"content":{"body":"This algorithm could use a heavy refactor with clear parameters and call sites. ","m.mentions":{"user_ids":["@jmdyck:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$cRssAeLs14txESscehEKVkD8y3pNxX1Nh_CSfkJuRmk"}},"msgtype":"m.text"},"ts":1769888934207,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$tdRUln-P0FT4ZszAe8LfCZPnpMinDZYY8ZVa4CkSxnM"}
]