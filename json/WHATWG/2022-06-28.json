[
{"content":{"body":"Content-type parsing is nicely inconsistent in all the implementations.","msgtype":"m.text","org.matrix.msc1767.text":"Content-type parsing is nicely inconsistent in all the implementations."},"ts":1656408470723,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$ELUEyl2Uj3FUZBv9FPwWx0bcv-zme7HHJl5670tfmGs"},
{"content":{"body":"And even wpt tests look buggy","msgtype":"m.text","org.matrix.msc1767.text":"And even wpt tests look buggy"},"ts":1656408477506,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$s9sfB0LP-qqHLjSD-LpQHDPpwlcl9ghM7xZupTzjow4"},
{"content":{"body":"Yoav Weiss: thanks for the review for sizes=auto! What do you think about the association concept? Storing a pointer on the attribute also feels weird because the attribute can be omitted. Storing it on the `<source>` element still seems wrong because it could apply to multiple `<img>`s e.g. `<picture><source srcset='x 50w, y 100w' sizes=auto><img width=500><img width=1000></picture>`. Maybe the parsed sizes result should be stored on the `img`?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@yoavweiss:matrix.org\">Yoav Weiss</a>: thanks for the review for sizes=auto! What do you think about the association concept? Storing a pointer on the attribute also feels weird because the attribute can be omitted. Storing it on the <code>&lt;source&gt;</code> element still seems wrong because it could apply to multiple <code>&lt;img&gt;</code>s e.g. <code>&lt;picture&gt;&lt;source srcset='x 50w, y 100w' sizes=auto&gt;&lt;img width=500&gt;&lt;img width=1000&gt;&lt;/picture&gt;</code>. Maybe the parsed sizes result should be stored on the <code>img</code>?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Yoav Weiss: thanks for the review for sizes=auto! What do you think about the association concept? Storing a pointer on the attribute also feels weird because the attribute can be omitted. Storing it on the `<source>` element still seems wrong because it could apply to multiple `<img>`s e.g. `<picture><source srcset='x 50w, y 100w' sizes=auto><img width=500><img width=1000></picture>`. Maybe the parsed sizes result should be stored on the `img`?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@yoavweiss:matrix.org\">Yoav Weiss</a>: thanks for the review for sizes=auto! What do you think about the association concept? Storing a pointer on the attribute also feels weird because the attribute can be omitted. Storing it on the <code>&lt;source&gt;</code> element still seems wrong because it could apply to multiple <code>&lt;img&gt;</code>s e.g. <code>&lt;picture&gt;&lt;source srcset='x 50w, y 100w' sizes=auto&gt;&lt;img width=500&gt;&lt;img width=1000&gt;&lt;/picture&gt;</code>. Maybe the parsed sizes result should be stored on the <code>img</code>?","mimetype":"text/html"}]},"ts":1656431332267,"senderName":"zcorpan","senderId":"@zcorpan_:matrix.org","id":"$QC-dx-j1X0E1YvTZyTJeV9BEEdO3aQn-vqCqErgvHDQ"},
{"content":{"body":"I'll ponder on it and come up with something tomorrow :)","msgtype":"m.text","org.matrix.msc1767.text":"I'll ponder on it and come up with something tomorrow :)"},"ts":1656431916791,"senderName":"zcorpan","senderId":"@zcorpan_:matrix.org","id":"$WlFhVXKDd-FFcRjLA9oCGDQplijTVVC6arNIs3DW-oc"},
{"content":{"body":"annevk or anyone familiar with the setup for https://searchfox.org/mozilla-central/source/testing/web-platform/tests/mimesniff/mime-types/resources/generated-mime-types.json  and tests around it","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a> or anyone familiar with the setup for https://searchfox.org/mozilla-central/source/testing/web-platform/tests/mimesniff/mime-types/resources/generated-mime-types.json  and tests around it","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"annevk or anyone familiar with the setup for https://searchfox.org/mozilla-central/source/testing/web-platform/tests/mimesniff/mime-types/resources/generated-mime-types.json  and tests around it","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a> or anyone familiar with the setup for https://searchfox.org/mozilla-central/source/testing/web-platform/tests/mimesniff/mime-types/resources/generated-mime-types.json  and tests around it","mimetype":"text/html"}]},"ts":1656444217091,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$wAx0znTyb-6oL15fJuKE07UPlZw7bS-Uk4cJzfopYQY"},
{"content":{"body":"looks like the tests are expecting that blob.type doesn't modify the value","msgtype":"m.text","org.matrix.msc1767.text":"looks like the tests are expecting that blob.type doesn't modify the value"},"ts":1656444232914,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$GrLXt2YTF1NkeerIqwzqeSP8qD8WM780VFNdFT-6c1k"},
{"content":{"body":"but https://w3c.github.io/FileAPI/#dfn-type at least says that it should be always lower case","msgtype":"m.text","org.matrix.msc1767.text":"but https://w3c.github.io/FileAPI/#dfn-type at least says that it should be always lower case"},"ts":1656444278904,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$UzMtQDM-vfqon_K0KYgbp4ULcVhadT9xKRBi03Ch7m4"},
{"content":{"body":"and hints also that validation is done too","msgtype":"m.text","org.matrix.msc1767.text":"and hints also that validation is done too"},"ts":1656444295976,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$XQLq8GOUxokzYk5bWDAlik4HNLhT3rWvLrIn3cD30hk"},
{"content":{"body":"webkit seems to have currently rather reasonable behavior","msgtype":"m.text","org.matrix.msc1767.text":"webkit seems to have currently rather reasonable behavior"},"ts":1656444327061,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$vFb-IgPHy6uORAD7y3H-XSRvantIlNzsp6rffX33cSc"},
{"content":{"body":"But I'm not sure how to modify generated-mime-types.json ","msgtype":"m.text","org.matrix.msc1767.text":"But I'm not sure how to modify generated-mime-types.json "},"ts":1656444387740,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$mr956YoV1Ny7YrY4a72UNEr2hHNBLhD-pKWA4tOQyew"},
{"content":{"body":"https://wpt.fyi/results/xhr/overridemimetype-blob.html?label=master&label=experimental&aligned has results for mime-types.json and https://wpt.fyi/results/mimesniff/mime-types/parsing.any.html?label=experimental&label=master&aligned also for generated-mime-types.json","msgtype":"m.text","org.matrix.msc1767.text":"https://wpt.fyi/results/xhr/overridemimetype-blob.html?label=master&label=experimental&aligned has results for mime-types.json and https://wpt.fyi/results/mimesniff/mime-types/parsing.any.html?label=experimental&label=master&aligned also for generated-mime-types.json"},"ts":1656444517420,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$rLZ3Mmyno5d1DY_Le49VIDNjhNi7tLT3FEKl9oD-3TU"}
]