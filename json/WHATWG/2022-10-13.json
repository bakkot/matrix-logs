[
{"content":{"body":"One day I will be able to merge an editorial PR to a bikeshed spec...","msgtype":"m.text","org.matrix.msc1767.text":"One day I will be able to merge an editorial PR to a bikeshed spec..."},"ts":1665625455849,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$A68C1cHO4mrj_3KNXHjknJaXJUY6QOVspvZTNCJm73A"},
{"content":{"body":"Oh hey it's a 500 error this time instead of a {{Window}} error, that's new at least.","msgtype":"m.text","org.matrix.msc1767.text":"Oh hey it's a 500 error this time instead of a {{Window}} error, that's new at least."},"ts":1665625493106,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$fjQZFu3aohtQFy1E8IQ13Q65BW39dL2czHc6sWu2YSg"},
{"content":{"body":"annevk: maybe we should move off of depending on api.csswg.org for Bikeshed, and locally install it on GitHub actions instead. I'll send a spec-factory PR and see what you think...","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: maybe we should move off of depending on api.csswg.org for Bikeshed, and locally install it on GitHub actions instead. I'll send a spec-factory PR and see what you think...","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"annevk: maybe we should move off of depending on api.csswg.org for Bikeshed, and locally install it on GitHub actions instead. I'll send a spec-factory PR and see what you think...","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: maybe we should move off of depending on api.csswg.org for Bikeshed, and locally install it on GitHub actions instead. I'll send a spec-factory PR and see what you think...","mimetype":"text/html"}]},"ts":1665625530583,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$YIkpDS2i3RgYlxZ0XZHsaS9mXcXWnZRo2DWGvfAy7K8"},
{"content":{"body":"plinss' csswg.org DB migration still underway?","msgtype":"m.text","org.matrix.msc1767.text":"plinss' csswg.org DB migration still underway?"},"ts":1665626449524,"senderName":"aja","senderId":"@aja:mozilla.org","id":"$u5xg_mUlNfBy-qTKxHySx622zAwKO0VyK57psK_shy4"},
{"content":{"body":"PendingGetBeacon/PendingPostBeacon, or PendingGETBeacon/PendingPOSTBeacon? Hmm.","msgtype":"m.text","org.matrix.msc1767.text":"PendingGetBeacon/PendingPostBeacon, or PendingGETBeacon/PendingPOSTBeacon? Hmm."},"ts":1665633587967,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$WFbaOSZAMCQACI8pCztcvkjNrtyCSHZMvEjvxZ2Ccko"},
{"content":{"body":"I guess \"GET\" is not an initialism so probably \"PendingGetBeacon\" is best...","msgtype":"m.text","org.matrix.msc1767.text":"I guess \"GET\" is not an initialism so probably \"PendingGetBeacon\" is best..."},"ts":1665633833394,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$OL0NrKGIF_XM_60Q1GwAqSMG-p0JJ1rlNMRsYj4xiE0"},
{"content":{"body":"DB server on csswg.org was being migrated this evening, server was down for a while. Should have normal service now. (should be better than the recent 'normal')","msgtype":"m.text","org.matrix.msc1767.text":"DB server on csswg.org was being migrated this evening, server was down for a while. Should have normal service now. (should be better than the recent 'normal')"},"ts":1665637188899,"senderName":"Peter Linss","senderId":"@peter:linss.com","id":"$V5u36kxqgugy8FcnmqXshLEtk738Zo3aHvVOwe9fCRk"},
{"content":{"body":"Domenic: historically I didn't like that because I thought it meant that we had to download and install Bikeshed for each build","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: historically I didn't like that because I thought it meant that we had to download and install Bikeshed for each build","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: historically I didn't like that because I thought it meant that we had to download and install Bikeshed for each build","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: historically I didn't like that because I thought it meant that we had to download and install Bikeshed for each build","mimetype":"text/html"}]},"ts":1665641396201,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$3ipjJoqSUY-hYIZ9A7rKPAkcci6eUKcFessoIMRRQV0"},
{"content":{"body":"There is some cache thing but it might only work if there's a requirements.txt file... I didn't really want to try it.","msgtype":"m.text","org.matrix.msc1767.text":"There is some cache thing but it might only work if there's a requirements.txt file... I didn't really want to try it."},"ts":1665641422068,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$Ufylfp_7VvtP6HaJI_AmRa7stdC1ZFx4MrSH2-Uxl4o"},
{"content":{"body":"I see, it just seems very wasteful to do it this way","msgtype":"m.text","org.matrix.msc1767.text":"I see, it just seems very wasteful to do it this way"},"ts":1665641443111,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$tms3pDXJ9rO8IofJUz8_p7HGCfTgzRZHaT_f6CRbx5s"},
{"content":{"body":"I should check some of the W3C specs that download and install Bikeshed each time and see how long that takes","msgtype":"m.text","org.matrix.msc1767.text":"I should check some of the W3C specs that download and install Bikeshed each time and see how long that takes"},"ts":1665641454370,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$vDyQ2q9jwveTzDNQ1XJ_vzVNn2qv-hOYTnGnGhNlWSA"},
{"content":{"body":"I mean to be fair we're downloading and installing all of Python each time, it's not like Bikeshed is that much more comparatively :)","msgtype":"m.text","org.matrix.msc1767.text":"I mean to be fair we're downloading and installing all of Python each time, it's not like Bikeshed is that much more comparatively :)"},"ts":1665641505782,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$4YaB4z2mdPu4EnzPyZSxWayNz1Y0E5gu66gbRiXFlYw"},
{"content":{"body":"It seems to take ~17 seconds: https://github.com/w3c/IndexedDB/actions/runs/3063414506/jobs/4945465758#step:3:391","msgtype":"m.text","org.matrix.msc1767.text":"It seems to take ~17 seconds: https://github.com/w3c/IndexedDB/actions/runs/3063414506/jobs/4945465758#step:3:391"},"ts":1665641576577,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$q3d02TznIqOXTMDWlXrN8667srSLdoLqiZlo2UFbakI"},
{"content":{"body":"Another option is to have a GH action that periodically builds a custom docker image with bikeshed and the latest data, then just use that image in your actions","msgtype":"m.text","org.matrix.msc1767.text":"Another option is to have a GH action that periodically builds a custom docker image with bikeshed and the latest data, then just use that image in your actions"},"ts":1665641655405,"senderName":"Peter Linss","senderId":"@peter:linss.com","id":"$Vx36cgTKHzulVgF64xUBKqH0ulAETrl-WYqDrbQFaJA"},
{"content":{"body":"https://github.blog/changelog/2020-09-24-github-actions-private-registry-support-for-job-and-service-containers/","msgtype":"m.text","org.matrix.msc1767.text":"https://github.blog/changelog/2020-09-24-github-actions-private-registry-support-for-job-and-service-containers/"},"ts":1665641689977,"senderName":"Peter Linss","senderId":"@peter:linss.com","id":"$5e1ABx5gJOC2wCev7rqMdj7KPrjyvwQWZPUsQ-gjPb8"},
{"content":{"body":"In theory we could build and serve that image from the csswg.org server (if needed)","msgtype":"m.text","org.matrix.msc1767.text":"In theory we could build and serve that image from the csswg.org server (if needed)"},"ts":1665641746097,"senderName":"Peter Linss","senderId":"@peter:linss.com","id":"$OUOeyY88O7uIXzNGahSl1GWpGY5fN5OlipBVGiCvfoE"},
{"content":{"body":" * In theory we could build and serve that image from the csswg.org server (if needed)","m.new_content":{"body":"In theory we could build and serve that image from the csswg.org server (if needed)","msgtype":"m.text","org.matrix.msc1767.text":"In theory we could build and serve that image from the csswg.org server (if needed)"},"m.relates_to":{"event_id":"$OUOeyY88O7uIXzNGahSl1GWpGY5fN5OlipBVGiCvfoE","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * In theory we could build and serve that image from the csswg.org server (if needed)"},"ts":1665641758358,"senderName":"Peter Linss","senderId":"@peter:linss.com","id":"$-ffAQx9PVLQNVyfGh2-X5xC-P4gCgs8AIHUVL1uTMPQ"},
{"content":{"body":"(ideally I'd like to have such an image and a k8s cluster to generate all the specs in parallel)","msgtype":"m.text","org.matrix.msc1767.text":"(ideally I'd like to have such an image and a k8s cluster to generate all the specs in parallel)"},"ts":1665641848486,"senderName":"Peter Linss","senderId":"@peter:linss.com","id":"$MB4djWPje_lpRexaLez9WxeWLw8OX-btgGKMZuqGsM0"},
{"content":{"body":"Domenic: oh we are? Why is that? Bah.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: oh we are? Why is that? Bah.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: oh we are? Why is that? Bah.","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: oh we are? Why is that? Bah.","mimetype":"text/html"}]},"ts":1665641858515,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$xxHW6JTgTvcz_GX8JKcWmzM4vbmNOrd-D2CG0BiyG5Q"},
{"content":{"body":"I guess I was kinda naïve in thinking that GitHub would have things locally for things you list statically in the configuration file","msgtype":"m.text","org.matrix.msc1767.text":"I guess I was kinda naïve in thinking that GitHub would have things locally for things you list statically in the configuration file"},"ts":1665641939135,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$nClWHNN8Twl3WXkNJ6jUFAT026xdzg1TEyRV3gvmfsg"},
{"content":{"body":"Well that must be what's going on under the hood because setup-python action takes less than 1 second","msgtype":"m.text","org.matrix.msc1767.text":"Well that must be what's going on under the hood because setup-python action takes less than 1 second"},"ts":1665642067530,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$VzIZmrKVZcptl8J3b0wLNcwkaPkTcEeP1ObKRA_A8b4"},
{"content":{"body":"Probably it's preinstalled on all the builders already, maybe setup-python just symlinks something","msgtype":"m.text","org.matrix.msc1767.text":"Probably it's preinstalled on all the builders already, maybe setup-python just symlinks something"},"ts":1665642084576,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$F8f00lgYu0GtOqsv3jRmud31YWcXn3v6LbzCndimGA0"},
{"content":{"body":"Okay good :-)","msgtype":"m.text","org.matrix.msc1767.text":"Okay good :-)"},"ts":1665642128097,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$TekAg2VB8d9sAj5x4IdtkQJAObeYArY6X3GhWtSsvm8"},
{"content":{"body":"annevk: while I have you, would love to get this merged. https://github.com/whatwg/fetch/pull/1469#issuecomment-1262513703 . I think I addressed your comment to look at things more closely.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: while I have you, would love to get this merged. https://github.com/whatwg/fetch/pull/1469#issuecomment-1262513703 . I think I addressed your comment to look at things more closely.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"annevk: while I have you, would love to get this merged. https://github.com/whatwg/fetch/pull/1469#issuecomment-1262513703 . I think I addressed your comment to look at things more closely.","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: while I have you, would love to get this merged. https://github.com/whatwg/fetch/pull/1469#issuecomment-1262513703 . I think I addressed your comment to look at things more closely.","mimetype":"text/html"}]},"ts":1665642784098,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$UAhD6-K97mVDcp8sS0NCWY4Xq6kJ-drd1nwQbOAl0mI"},
{"content":{"body":"Domenic: so what's weird is that we invoke \"process response\" but the data isn't final yet; and typically we wouldn't reveal the data until all redirects are followed; does that make sense?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: so what's weird is that we invoke &quot;process response&quot; but the data isn't final yet; and typically we wouldn't reveal the data until all redirects are followed; does that make sense?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: so what's weird is that we invoke \"process response\" but the data isn't final yet; and typically we wouldn't reveal the data until all redirects are followed; does that make sense?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: so what's weird is that we invoke &quot;process response&quot; but the data isn't final yet; and typically we wouldn't reveal the data until all redirects are followed; does that make sense?","mimetype":"text/html"}]},"ts":1665643218253,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$h44yHPk5XRAFtNhYnoUE7lPqrNTcVC4Ex2cDOOK666s"},
{"content":{"body":"Hmm, I think I see... let me work through the flow","msgtype":"m.text","org.matrix.msc1767.text":"Hmm, I think I see... let me work through the flow"},"ts":1665643257263,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$30-8K7lrjFGfIKsMrgebKHcfiJaFpfQOcrBcqLGVqiU"},
{"content":{"body":"Domenic: I do see your point that it makes sense to hold on to the data given that's what we already do, but currently it wouldn't be exposed at this intermediate point","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: I do see your point that it makes sense to hold on to the data given that's what we already do, but currently it wouldn't be exposed at this intermediate point","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: I do see your point that it makes sense to hold on to the data given that's what we already do, but currently it wouldn't be exposed at this intermediate point","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: I do see your point that it makes sense to hold on to the data given that's what we already do, but currently it wouldn't be exposed at this intermediate point","mimetype":"text/html"}]},"ts":1665643264307,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$qCRMCVfoJZXNgCZnGkjIIEFZaLE5Fz2ERJm9ccKtxLw"},
{"content":{"body":"Well right now the spec is broken ever since the move to callbacks","msgtype":"m.text","org.matrix.msc1767.text":"Well right now the spec is broken ever since the move to callbacks"},"ts":1665643289556,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$vqTpeKTcNquUSyXDbU6-kM7YNPO6oJFMRD8r6Cb1fLw"},
{"content":{"body":"You used to call fetch, get back an intermediate response, and then call HTTP-redirect fetch with that intermediate response","msgtype":"m.text","org.matrix.msc1767.text":"You used to call fetch, get back an intermediate response, and then call HTTP-redirect fetch with that intermediate response"},"ts":1665643301484,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$GAbi9ym5P2jibr2xrzf5k92OQXIm894YDT2Ka2_FDDk"},
{"content":{"body":"Now fetch does not return a response, but HTTP-redirect fetch still expects one","msgtype":"m.text","org.matrix.msc1767.text":"Now fetch does not return a response, but HTTP-redirect fetch still expects one"},"ts":1665643311234,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$NZE55Fnhb41ZqAEMQz5bQewrVjOKcyRMUUNqeua_HJI"},
{"content":{"body":"So you'd have to do something like having your processResponse (which gets the intermediate response!) call HTTP-redirect fetch","msgtype":"m.text","org.matrix.msc1767.text":"So you'd have to do something like having your processResponse (which gets the intermediate response!) call HTTP-redirect fetch"},"ts":1665643350167,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$Ra9XSPD7S-BQhdeOOezImp9FCBoZKdnbGIevFqNCuVs"},
{"content":{"body":"sorry s/HTTP-redirect fetch/navigate-redirect fetch/","msgtype":"m.text","org.matrix.msc1767.text":"sorry s/HTTP-redirect fetch/navigate-redirect fetch/"},"ts":1665643384491,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$qr7knUz3gd3Kdy4q16cOX3MOStOP9eyAOaUyO-3d2Kw"},
{"content":{"body":"Although I guess both expect the intermediate response","msgtype":"m.text","org.matrix.msc1767.text":"Although I guess both expect the intermediate response"},"ts":1665643398106,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$EcCU-ENEbf3fZ7lsPYCWYBVnZF0PuapbPWA58t70QnE"},
{"content":{"body":"And with `fetch(, { ... \"manual\" })` they are exposed of course and presumably reveal the \"intermediate\" timing.","format":"org.matrix.custom.html","formatted_body":"And with <code>fetch(, { ... &quot;manual&quot; })</code> they are exposed of course and presumably reveal the &quot;intermediate&quot; timing.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"And with `fetch(, { ... \"manual\" })` they are exposed of course and presumably reveal the \"intermediate\" timing.","mimetype":"text/plain"},{"body":"And with <code>fetch(, { ... &quot;manual&quot; })</code> they are exposed of course and presumably reveal the &quot;intermediate&quot; timing.","mimetype":"text/html"}]},"ts":1665643406679,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$2Y1UPfrMVrZOB0np__RsyilZ-huYY9vQsqGf4wnkDZE"},
{"content":{"body":" * And with `fetch(, { ... \"manual\" })` they are exposed of course and presumably reveal the \"intermediate\" timing.","format":"org.matrix.custom.html","formatted_body":" * And with <code>fetch(, { ... &quot;manual&quot; })</code> they are exposed of course and presumably reveal the &quot;intermediate&quot; timing.","m.new_content":{"body":"And with `fetch(, { ... \"manual\" })` they are exposed of course and presumably reveal the \"intermediate\" timing.","format":"org.matrix.custom.html","formatted_body":"And with <code>fetch(, { ... &quot;manual&quot; })</code> they are exposed of course and presumably reveal the &quot;intermediate&quot; timing.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"And with `fetch(, { ... \"manual\" })` they are exposed of course and presumably reveal the \"intermediate\" timing.","mimetype":"text/plain"},{"body":"And with <code>fetch(, { ... &quot;manual&quot; })</code> they are exposed of course and presumably reveal the &quot;intermediate&quot; timing.","mimetype":"text/html"}]},"m.relates_to":{"event_id":"$2Y1UPfrMVrZOB0np__RsyilZ-huYY9vQsqGf4wnkDZE","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":" * And with `fetch(, { ... \"manual\" })` they are exposed of course and presumably reveal the \"intermediate\" timing.","mimetype":"text/plain"},{"body":" * And with <code>fetch(, { ... &quot;manual&quot; })</code> they are exposed of course and presumably reveal the &quot;intermediate&quot; timing.","mimetype":"text/html"}]},"ts":1665643420040,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$tQ3lS_O7O2fET4kpz6vBfVKzk9ksHisd593aVKKlAh0"},
{"content":{"body":"But the point I'm taking from you is that it'd be nicer for consumers if processResponse had the same semantics for both manual and non-manual redirects... I want to trace through the flow to see if that fails to be the case.","msgtype":"m.text","org.matrix.msc1767.text":"But the point I'm taking from you is that it'd be nicer for consumers if processResponse had the same semantics for both manual and non-manual redirects... I want to trace through the flow to see if that fails to be the case."},"ts":1665643435133,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$ucQpK9j0tKySST2-8op5R0swe158sURYj6TlZ9gYVPo"},
{"content":{"body":"I think this PR actually accomplishes that?","msgtype":"m.text","org.matrix.msc1767.text":"I think this PR actually accomplishes that?"},"ts":1665643484129,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$kOVT7lnhYoB7mq_glfSqo6FkDCW0jYnMlZZa9md2-EU"},
{"content":{"body":"Because only main fetch, in the no-Location-header case, calls processResponse","msgtype":"m.text","org.matrix.msc1767.text":"Because only main fetch, in the no-Location-header case, calls processResponse"},"ts":1665643493469,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$zIA39zWmY9Em-u3c0RmZokNBfoWNu2rxQ6cgt8dtyr4"},
{"content":{"body":"Wait, if that's the case how would you get a response when there is a Location header?","msgtype":"m.text","org.matrix.msc1767.text":"Wait, if that's the case how would you get a response when there is a Location header?"},"ts":1665643552510,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$tX10Wv8FGu_r_H1YNOVp0E-1oKxfu5UO1HViE_BmuM8"},
{"content":{"body":"Ah OK, but the problem is, where do we bail out and give HTML the intermediate response.","msgtype":"m.text","org.matrix.msc1767.text":"Ah OK, but the problem is, where do we bail out and give HTML the intermediate response."},"ts":1665643553101,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$g-lZ9e1nf3qnvhDzdOouKZ2kSBMLzhQEArRXhBf22pc"},
{"content":{"body":"OK so yes, I'm caught up now. I think a new callback would be good.","msgtype":"m.text","org.matrix.msc1767.text":"OK so yes, I'm caught up now. I think a new callback would be good."},"ts":1665643599242,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$i4BRgT6VbVPErAp2S-gCHu8iHpOh-gnWuKJDqpyDOAA"},
{"content":{"body":"...maybe...","msgtype":"m.text","org.matrix.msc1767.text":"...maybe..."},"ts":1665643614531,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$OFSHxFHGQ4gesmGE_s8bnLLySIb5rmtRXsaAw8nIpYA"},
{"content":{"body":"Wait, HTTP fetch returns a redirect-response to main fetch.","msgtype":"m.text","org.matrix.msc1767.text":"Wait, HTTP fetch returns a redirect-response to main fetch."},"ts":1665643614686,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$ZRk9LZLK-uW0f1wSzxZI-OlKw8tzQ2TziCQj3G3Rn6w"},
{"content":{"body":"So I think \"process response\" is getting called for manual redirect responses, which is good, otherwise `fetch()` wouldn't even work.","format":"org.matrix.custom.html","formatted_body":"So I think &quot;process response&quot; is getting called for manual redirect responses, which is good, otherwise <code>fetch()</code> wouldn't even work.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"So I think \"process response\" is getting called for manual redirect responses, which is good, otherwise `fetch()` wouldn't even work.","mimetype":"text/plain"},{"body":"So I think &quot;process response&quot; is getting called for manual redirect responses, which is good, otherwise <code>fetch()</code> wouldn't even work.","mimetype":"text/html"}]},"ts":1665643642289,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Dnws1eEu2VWaubT5TWoEQ1WQjsdoSu-0xYkx943MCxo"},
{"content":{"body":"Anyway, I think you and Yoav made a good point that the setup with navigate is somewhat broken already and that this would improve things.","msgtype":"m.text","org.matrix.msc1767.text":"Anyway, I think you and Yoav made a good point that the setup with navigate is somewhat broken already and that this would improve things."},"ts":1665643677213,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$SL3_oXh2ueT3loNU_iNLMtbbLHHoV1FrZ6D_1NxRwA8"},
{"content":{"body":"\nSo as long as we document that this setup can result in \"process response\" being called multiple times and essentially can resurrect a fetch that thought it was near the finish line, I think we're okay.","msgtype":"m.text","org.matrix.msc1767.text":"\nSo as long as we document that this setup can result in \"process response\" being called multiple times and essentially can resurrect a fetch that thought it was near the finish line, I think we're okay."},"ts":1665643747974,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$vbgntsHDfQczqzfAkxhEpVPDpNRK_0s-Fnni9xH9L6Y"},
{"content":{"body":" * \nSo as long as we document that this setup can result in \"process response\" being called multiple times and essentially can resurrect a fetch that thought it was near the finish line, I think we're okay.","m.new_content":{"body":"\nSo as long as we document that this setup can result in \"process response\" being called multiple times and essentially can resurrect a fetch that thought it was near the finish line, I think we're okay.","msgtype":"m.text","org.matrix.msc1767.text":"\nSo as long as we document that this setup can result in \"process response\" being called multiple times and essentially can resurrect a fetch that thought it was near the finish line, I think we're okay."},"m.relates_to":{"event_id":"$vbgntsHDfQczqzfAkxhEpVPDpNRK_0s-Fnni9xH9L6Y","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * \nSo as long as we document that this setup can result in \"process response\" being called multiple times and essentially can resurrect a fetch that thought it was near the finish line, I think we're okay."},"ts":1665643760295,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$9zErPv8_RCZEVpm0jzuYB4WxhJY8kUy-CYv_2i31oIQ"},
{"content":{"body":"OK, I'll try adding something about that","msgtype":"m.text","org.matrix.msc1767.text":"OK, I'll try adding something about that"},"ts":1665643812970,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$UVfsKTezHuiSAjXTigLe5GZh7gJj7DKMMMBDNbxblwU"},
{"content":{"body":"I think you are right that \"process response\" is called for intermediate responses","msgtype":"m.text","org.matrix.msc1767.text":"I think you are right that \"process response\" is called for intermediate responses"},"ts":1665643839761,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$FddCNdAiPPF4g2E66n5myzeivnp6_bACeElyEJsZNdc"},
{"content":{"body":"OK when writing guidance, there is a problem, which is you have no easy way of knowing which processResponse is the final one.","msgtype":"m.text","org.matrix.msc1767.text":"OK when writing guidance, there is a problem, which is you have no easy way of knowing which processResponse is the final one."},"ts":1665644144462,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$zOEVRnZ_YX2dbi8Ok5hYt76IKYWViH1Ptol9hqfokjA"},
{"content":{"body":"Domenic: wouldn't response's status tell you?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: wouldn't response's status tell you?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: wouldn't response's status tell you?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: wouldn't response's status tell you?","mimetype":"text/html"}]},"ts":1665644191546,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$zwXeFRC6Rq2_qAe4Dd0qj4prZstvm_heNdi-LlJgKvQ"},
{"content":{"body":"Yeah, I guess there are ways","msgtype":"m.text","org.matrix.msc1767.text":"Yeah, I guess there are ways"},"ts":1665644216848,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$2q3oHpp5LRGillMkC1Rw4CUSvpaVHLp1TgnhH34wuFM"},
{"content":{"body":"Domenic: might have to peak at the internal response for that, but this is only for \"navigate\" so...","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: might have to peak at the internal response for that, but this is only for &quot;navigate&quot; so...","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: might have to peak at the internal response for that, but this is only for \"navigate\" so...","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: might have to peak at the internal response for that, but this is only for &quot;navigate&quot; so...","mimetype":"text/html"}]},"ts":1665644219799,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$n_kKuXQu2peO9PHKdr37YJqzf83d2DFFj7o6D5zTOcM"},
{"content":{"body":"Right now HTML's strategy is to call navigate-redirect fetch and it's a no-op if we've reached the end. Then we look at the location URL. And only call navigate-redirect fetch if it's not null or failure.","msgtype":"m.text","org.matrix.msc1767.text":"Right now HTML's strategy is to call navigate-redirect fetch and it's a no-op if we've reached the end. Then we look at the location URL. And only call navigate-redirect fetch if it's not null or failure."},"ts":1665644265535,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$u9ROnL2HH2ACf6BpwVUyGs_6BZNdNjZf3ku15SH839U"},
{"content":{"body":"I guess I'll just recommend that strategy.","msgtype":"m.text","org.matrix.msc1767.text":"I guess I'll just recommend that strategy."},"ts":1665644271851,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$ZcKuBOfZiOkmOZXoZjVJeFPGTsqdh9I8h3UXVJ4C-qA"},
{"content":{"body":"Done https://whatpr.org/fetch/1469.html#fetch-elsewhere-fetch","msgtype":"m.text","org.matrix.msc1767.text":"Done https://whatpr.org/fetch/1469.html#fetch-elsewhere-fetch"},"ts":1665644607046,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$rIr5F-WTdN-4jo0BUbK-Zi2PQqLxaWWu1rGbwF9y6sU"},
{"content":{"body":"TabAtkins: 101₆ took me a while, but I think you might be close to a year older than me. Enjoy whatever is left of your last hextury. 😂","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@tabatkins:matrix.org\">TabAtkins</a>: 101₆ took me a while, but I think you might be close to a year older than me. Enjoy whatever is left of your last hextury. 😂","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"TabAtkins: 101₆ took me a while, but I think you might be close to a year older than me. Enjoy whatever is left of your last hextury. 😂","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@tabatkins:matrix.org\">TabAtkins</a>: 101₆ took me a while, but I think you might be close to a year older than me. Enjoy whatever is left of your last hextury. 😂","mimetype":"text/html"}]},"ts":1665644741373,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$xwlUcjWMhJ5uzJ_z-Z0REan5_tLFC58GXFZ21IYevWE"},
{"content":{"body":"Domenic: that looks good, but you prolly want to state that it also requires mode to be \"navigate\"","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: that looks good, but you prolly want to state that it also requires mode to be &quot;navigate&quot;","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: that looks good, but you prolly want to state that it also requires mode to be \"navigate\"","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: that looks good, but you prolly want to state that it also requires mode to be &quot;navigate&quot;","mimetype":"text/html"}]},"ts":1665645570868,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$sXwodwno0SwceKGRsZ2U_kUOZZmVH7EkvLdBM3jq6i8"}
]