[
{"content":{"body":"The important thing is that they come in before document creation. A meta tag doesn't work for that.","msgtype":"m.text"},"ts":1640922241206,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$oVPHVKMiFkpzzvVUEofDUHLBDTOrTosdkLQn0NeSiqM"},
{"content":{"body":"Because the process the document is created in depends on whether the headers are present or not","msgtype":"m.text"},"ts":1640922258095,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$obBWay3TS5bxoZVQe3ErLogg6vzR_uF75mNEaU6kNZ0"},
{"content":{"body":"ah, hm. does the content-type attribute not also need to come in before document creation?","msgtype":"m.text"},"ts":1640938044572,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$lDf1R8OPBqAeuOVTO6Sh68raUIEF1wO-gOm7vS3ANs8"},
{"content":{"body":"I guess that one is kind of special though","msgtype":"m.text"},"ts":1640938048859,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$zd6BQvCtZWFL1hC7WCoxtSysH_FcSlMNRANSfzII9Os"},
{"content":{"body":"still, seems like one could reasonably say \"if you encounter a `<meta http-equiv=\"COOP\">` in the first 1024 bytes, and you are not currently in the corresponding COOP state, throw away the document and start again in that state","format":"org.matrix.custom.html","formatted_body":"still, seems like one could reasonably say &quot;if you encounter a <code>&lt;meta http-equiv=&quot;COOP&quot;&gt;</code> in the first 1024 bytes, and you are not currently in the corresponding COOP state, throw away the document and start again in that state","msgtype":"m.text"},"ts":1640938172288,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$N-7dTJlUFAkVbWEHhlWMZkn5NCv36MT3FPzPOt5lxMM"},
{"content":{"body":"Content-Type does need to come before document creation.","msgtype":"m.text"},"ts":1640972967538,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$2_hnU_66WAIJ4qvEtk-uhU9FNlt14dgfNdC8pUfzqxk"},
{"content":{"body":"Throwing away documents seems like something useful for demo sites but not something we'd want to encourage as a general tool for the wider web, just for perf/resource consumption reasons.","msgtype":"m.text"},"ts":1640973014865,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$M6ogaYaqBD9mFktQ6YXG0D3RYoWeTVnNB73SJpys2Jw"},
{"content":{"body":"Yeah, that's reasonable. I'm mostly coming at this from, I am often in a position to control the content of a document but not the headers it's served with, and so I end up resorting to stuff like the service worker hack mentioned above, which is definitely more expensive and also harder to integrate with other things (because service workers don't compose)","msgtype":"m.text"},"ts":1640975477096,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$cNiKM6-V-lhiBABveG_vF2IIHU-laQP5Ly7iB3AMbDI"},
{"content":{"body":"This seems like something which comes up a fair bit, in my experience with teams at other companies, but I don't know if it's actually worth worrying about","msgtype":"m.text"},"ts":1640975517280,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$FeDlWaKSqFrvrFuzLlEkn5rmQyaJdBBUBfQeT4QN4bs"},
{"content":{"body":"(and the current context is just that I wanted to make SAB work on github pages, which, while it's something _I_ care about, is almost certainly not worth worrying about for the web platform)","format":"org.matrix.custom.html","formatted_body":"(and the current context is just that I wanted to make SAB work on github pages, which, while it's something <em>I</em> care about, is almost certainly not worth worrying about for the web platform)","msgtype":"m.text"},"ts":1640975651881,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Q_jZ-Ycc1W-uhKRdvhNHWnurY9ZUE1whxcKhU1IrAAA"}
]