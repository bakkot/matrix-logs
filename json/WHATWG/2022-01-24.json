[
{"content":{"body":"\"of a glacier (hist.)\"","msgtype":"m.text"},"ts":1643013072838,"senderName":"Ms2ger ðŸ’‰ðŸ’‰","senderId":"@ms2ger:igalia.com","id":"$38ssoPd0Qz-6T-CJBYnePsNrJ84FPmer7GxmLm1ZWoQ"},
{"content":{"body":"looking at https://github.com/mdn/content/issues/12370","msgtype":"m.text"},"ts":1643018537159,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$2axr5Ii871RDYnZsZskAJuGhbRjFJkrE75518awjAkE"},
{"content":{"body":"calling `backgroundFetch.fetch()` for a `chrome-extension` URL throws with:\n> TypeError: Failed to execute 'fetch' on 'BackgroundFetchManager': Refused to fetch 'chrome-extension://xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx/stream' because only the https: scheme is allowed, or http: for loopback IPs.","format":"org.matrix.custom.html","formatted_body":"<p>calling <code>backgroundFetch.fetch()</code> for a <code>chrome-extension</code> URL throws with:</p>\n<blockquote>\n<p>TypeError: Failed to execute 'fetch' on 'BackgroundFetchManager': Refused to fetch 'chrome-extension://xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx/stream' because only the https: scheme is allowed, or http: for loopback IPs.</p>\n</blockquote>\n","msgtype":"m.text"},"ts":1643018557821,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$6c4I-cfOGdGAspzWrFL69GMLAQTHTIhNfWXp02LV29E"},
{"content":{"body":"â€¦but where, in which spec, is that requirement defined?","msgtype":"m.text"},"ts":1643018571229,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$Axyl-tly053aG8W4Qpntmf9Xt_0UdAJPv9XnS4QGkjQ"},
{"content":{"body":"it seems like itâ€™s probably because it requires a secure context, but I donâ€™t see anywhere in https://wicg.github.io/background-fetch/ that actually states it needs to be a secure context","msgtype":"m.text"},"ts":1643018582619,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$MZbhmB3l0kQCmP5mxAuZo9HqoWp_uC62K84dsv4vusw"},
{"content":{"body":"and I donâ€™t see the `SecureContext` WebIDL attribute anywhere","format":"org.matrix.custom.html","formatted_body":"and I donâ€™t see the <code>SecureContext</code> WebIDL attribute anywhere","msgtype":"m.text"},"ts":1643018610289,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$48MXYBL3HYv6MTwdo_n8o58CMbsw0xubdDfZRonS38g"},
{"content":{"body":"I don't know about whether `BackgroundFetch` adds further requirements, but regular fetch only supports a few schemes: https://fetch.spec.whatwg.org/#scheme-fetch","format":"org.matrix.custom.html","formatted_body":"I don't know about whether <code>BackgroundFetch</code> adds further requirements, but regular fetch only supports a few schemes: https://fetch.spec.whatwg.org/#scheme-fetch","msgtype":"m.text"},"ts":1643019537191,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$YWajzommnU2BR57_5MwjBZ9688AQlAoymVQR1Ga7PVM"},
{"content":{"body":"Luca Casonato: I assume https://github.com/whatwg/spec-factory/pull/35#issuecomment-1019990419 looks okay?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">Luca Casonato</a>: I assume https://github.com/whatwg/spec-factory/pull/35#issuecomment-1019990419 looks okay?","msgtype":"m.text"},"ts":1643023255399,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$uVpUx8gy-n1VvFXB_YRG-6YdlY3WeXnjyyVZIwMV8OI"},
{"content":{"body":"> <@andreubotella:mozilla.org> I don't know about whether `BackgroundFetch` adds further requirements, but regular fetch only supports a few schemes: https://fetch.spec.whatwg.org/#scheme-fetch\n\nTrue but regular fetch at least does support http schemes","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$YWajzommnU2BR57_5MwjBZ9688AQlAoymVQR1Ga7PVM?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@andreubotella:mozilla.org\">@andreubotella:mozilla.org</a><br>I don't know about whether <code>BackgroundFetch</code> adds further requirements, but regular fetch only supports a few schemes: https://fetch.spec.whatwg.org/#scheme-fetch</blockquote></mx-reply>True but regular fetch at least does support http schemes","m.relates_to":{"m.in_reply_to":{"event_id":"$YWajzommnU2BR57_5MwjBZ9688AQlAoymVQR1Ga7PVM"}},"msgtype":"m.text"},"ts":1643023597768,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$hCMyKk4Zt2V99iORpuTYgE3fxka6dy-zgWq9K4TImcM"},
{"content":{"body":"â€¦but that `because only the https: scheme is allowed, or http: for loopback IPs` message seems to make clear that `BackgroundFetch` is even disallowing http â€” so itâ€™s enforcing some requirement beyond regular fetch","format":"org.matrix.custom.html","formatted_body":"â€¦but that <code>because only the https: scheme is allowed, or http: for loopback IPs</code> message seems to make clear that <code>BackgroundFetch</code> is even disallowing http â€” so itâ€™s enforcing some requirement beyond regular fetch","msgtype":"m.text"},"ts":1643023684872,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$e3OKrBavY91FtNNa_to8gZc6WfpUflyzlLDywzOXJPc"},
{"content":{"body":"the problem is that the Background Fetch spec itself doesnâ€™t seem to state any such requirement","msgtype":"m.text"},"ts":1643023728550,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$SoSIgOLm59Ot_zpV2f_L2TguourQ673aK3pvGXVuYz4"},
{"content":{"body":"I guess itâ€™s possible that Chrome is imposing some additional requirement beyond whatâ€™s in the spec","msgtype":"m.text"},"ts":1643023767893,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$K4YuQVqwr2tZHs83pfwKSGUWmoDAmjlKua0Xpt9oyEI"}
]