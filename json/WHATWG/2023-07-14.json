[
{"content":{"body":"> <@jyasskin:matrix.org> It might actually be ambiguous in WebIDL. The spec is \"Optional argument default values can also be specified using the two token value {}, which represents a default-initialized (as if from ES null or an object with no properties) dictionary value.\", but as you say, null and \"an object with no properties\" could be interpreted as producing different dictionaries.\n\nNo it can't, there's actual normative prose elsewhere that will be unambiguous","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$LohAojpaVgyDa8_A2FSq8JzVxt5Ayb_yz90KCdegTH0?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@jyasskin:matrix.org\">@jyasskin:matrix.org</a><br>It might actually be ambiguous in WebIDL. The spec is &quot;Optional argument default values can also be specified using the two token value {}, which represents a default-initialized (as if from ES null or an object with no properties) dictionary value.&quot;, but as you say, null and &quot;an object with no properties&quot; could be interpreted as producing different dictionaries. </blockquote></mx-reply>No it can't, there's actual normative prose elsewhere that will be unambiguous","m.relates_to":{"m.in_reply_to":{"event_id":"$LohAojpaVgyDa8_A2FSq8JzVxt5Ayb_yz90KCdegTH0"}},"msgtype":"m.text"},"ts":1689320334959,"senderName":"Ms2ger","senderId":"@ms2ger:igalia.com","id":"$_8edtr_HsJDBrjftO_bEK5_qPn1SHLBFaeJ5odAANn4"},
{"content":{"body":"annevk: https://github.com/mdn/content/pull/27927 would benefit from some of your attention","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: https://github.com/mdn/content/pull/27927 would benefit from some of your attention","msgtype":"m.text"},"ts":1689334013738,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$Li_bQQsUAF43-_9BfkNJVgWzNkE3FOqQ4vt132eVtL0"},
{"content":{"body":"hey annevk I don't really understand this comment https://github.com/whatwg/html/pull/9452#discussion_r1247914359 -- I could reply as much but this has taken so long already (apologies I have been taking care of my mom for the last month) that I thought maybe here could be faster to clarify","format":"org.matrix.custom.html","formatted_body":"hey <a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a> I don't really understand this comment https://github.com/whatwg/html/pull/9452#discussion_r1247914359 -- I could reply as much but this has taken so long already (apologies I have been taking care of my mom for the last month) that I thought maybe here could be faster to clarify","msgtype":"m.text"},"ts":1689345057688,"senderName":"bkardell","senderId":"@bkardell:igalia.com","id":"$9A_UYcAfFHx8P48DzqEkzktA6fpgs2xEMYzmTyiTp1A"},
{"content":{"body":"bkardell: I don't have a lot of time right now, but the comment is that what you're saying it branches on and the branches themselves don't line up","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bkardell:igalia.com\">bkardell</a>: I don't have a lot of time right now, but the comment is that what you're saying it branches on and the branches themselves don't line up","msgtype":"m.text"},"ts":1689350655288,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$JLShmYFdNnyj8zcjVYj_X7cQYYDuOzuGBZ86Ldp6Wbc"},
{"content":{"body":"> <@ms2ger:igalia.com> No it can't, there's actual normative prose elsewhere that will be unambiguous\n\n\"{}\" only appears in WebIDL normative text twice, and the other just refers to this use. \"Default-initialized\" only appears once. Can you find the unambiguous normative prose for this?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$_8edtr_HsJDBrjftO_bEK5_qPn1SHLBFaeJ5odAANn4?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@ms2ger:igalia.com\">@ms2ger:igalia.com</a><br>No it can't, there's actual normative prose elsewhere that will be unambiguous</blockquote></mx-reply>\"{}\" only appears in WebIDL normative text twice, and the other just refers to this use. \"Default-initialized\" only appears once. Can you find the unambiguous normative prose for this?","m.relates_to":{"m.in_reply_to":{"event_id":"$_8edtr_HsJDBrjftO_bEK5_qPn1SHLBFaeJ5odAANn4"}},"msgtype":"m.text"},"ts":1689351888235,"senderName":"Jeffrey Yasskin","senderId":"@jyasskin:matrix.org","id":"$DPOX84y7NE_vDYdVYwZqUqQvFdp5rHD-Xq6bOpY4VYA"},
{"content":{"body":"Jeffrey Yasskin: presumably the normative requirement is the overload resolution algorithm followed by ES to dictionary conversion","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jyasskin:matrix.org\">Jeffrey Yasskin</a>: presumably the normative requirement is the overload resolution algorithm followed by ES to dictionary conversion","msgtype":"m.text"},"ts":1689353930782,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$t3FmbrH87-ojZEcgx23nBQlHuw7FZ2CUXnjh99n8MlE"},
{"content":{"body":"ES->dictionary clearly specifies how `null` converts, and a fix would probably be to remove \"or an object with no properties\", but I don't see a place in overload resolution that mentions {} or default initialization.","format":"org.matrix.custom.html","formatted_body":"ES-&gt;dictionary clearly specifies how <code>null</code> converts, and a fix would probably be to remove \"or an object with no properties\", but I don't see a place in overload resolution that mentions {} or default initialization.","msgtype":"m.text"},"ts":1689354030800,"senderName":"Jeffrey Yasskin","senderId":"@jyasskin:matrix.org","id":"$3HnsYI7OjLCJ-DURJP1Tt2FoqZ0ikEzI6oNVhU_iMr8"},
{"content":{"body":"Having said that, perhaps we should clarify that parenthetical","msgtype":"m.text"},"ts":1689354033361,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$GTBkPj0Zto9Hqh8xw1zsF-dSng_pxpsWDyvH7YzJh0Q"},
{"content":{"body":"I think the `{}` is more of a syntax requirement on specifications to improve readability and doesn't translate into a requirement on Web IDL consumers","format":"org.matrix.custom.html","formatted_body":"I think the <code>{}</code> is more of a syntax requirement on specifications to improve readability and doesn't translate into a requirement on Web IDL consumers","msgtype":"m.text"},"ts":1689354085422,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$nShaDWvlewRwn1awFA5I9SCCp4QQ2mpDBV2yiH9TzDg"},
{"content":{"body":"The requirement on WebIDL consumers comes from \"If the argument at index i is declared with a default value, then append to values that default value.\" in https://webidl.spec.whatwg.org/#dfn-overload-resolution-algorithm, but it's only the text I quoted from https://webidl.spec.whatwg.org/#dfn-optional-argument-default-value that defines what the default value is. I fully believe that the text used to specify this precisely, but some refactoring must have lost it. I doubt anyone has actually implemented this differently; it's just a technical nit.","msgtype":"m.text"},"ts":1689354584659,"senderName":"Jeffrey Yasskin","senderId":"@jyasskin:matrix.org","id":"$s4Y3CvF_MpoBSWSmdDDwcUo7fUlMKRzTfYMJeZjs8dQ"},
{"content":{"body":"Jeffrey Yasskin: hmm yeah, file an issue? I couldn't find one","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jyasskin:matrix.org\">Jeffrey Yasskin</a>: hmm yeah, file an issue? I couldn't find one","msgtype":"m.text"},"ts":1689356739701,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$sd_r7-F3XyN6MXSKnPPMWC3V8W_DkE8YZ7DCVoV-8Pc"},
{"content":{"body":"Great, blame isn't loading","msgtype":"m.text"},"ts":1689356807058,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$DBb-P3L_IET2zLfErjco2J7CL0Ui4lGyO0-TL0NUOjw"},
{"content":{"body":"Oh, it did: https://github.com/whatwg/webidl/commit/7329e8c62b5825376a52626a579a1890ac83cb29","msgtype":"m.text"},"ts":1689357173179,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$x5WYa01-H5RqRx24OaUTRT3yoK2njqOP7Jt-rhTBH3c"},
{"content":{"body":"So looking at that I don't think anything else was added at the time","msgtype":"m.text"},"ts":1689357186695,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$BE34qHXlfP6Zj-g78KJRdKqyGn5fwBGgnvEIC6KYF48"}
]