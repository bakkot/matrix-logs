[
{"content":{"body":"Is there a room for bikeshed questions? I'm hitting linking errors in my setup and others don't and I'd love some help debugging it..","m.mentions":{},"msgtype":"m.text"},"ts":1732529229228,"senderName":"Yoav Weiss","senderId":"@yoavweiss:matrix.org","id":"$u6DQ5ch2NWMgLB3-mzRBoXWTzYyf1zElZY3_YT0EAGw"},
{"content":{"body":"Noam Rosenthal: note that moving in and out of a disconnected node now works, right? So the DocumentFragment example seems wrong.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: note that moving in and out of a disconnected node now works, right? So the DocumentFragment example seems wrong.","m.mentions":{"user_ids":["@noamr:matrix.org"]},"msgtype":"m.text"},"ts":1732532386891,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$GmGFLZWL4F9y7sCsGLTtK_ENBzzPPc8_x44aiXzhzOo"},
{"content":{"body":"annevk: only disconnected->disconnected works","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: only disconnected-&gt;disconnected works","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1732532404527,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$6-8HHuCxfMFy0Pc3gyH0haHe7Tpg-y55cyfdk6tXK58"},
{"content":{"body":"Yoav Weiss: I usually use this room. Tab is here. ðŸ˜Š","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@yoavweiss:matrix.org\">Yoav Weiss</a>: I usually use this room. Tab is here. ðŸ˜Š","m.mentions":{"user_ids":["@yoavweiss:matrix.org"]},"msgtype":"m.text"},"ts":1732532428613,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$vpb3XU3I491ItsrrHeiNViY56X3AOxr-W4dPp-R2PLw"},
{"content":{"body":"I mean we can fallback to insertion for disconnected->connected / connected->disconnected, but that would not be the \"move steps\", it would be \"falling back to `insertBefore`\" which is exactly what they're asking","format":"org.matrix.custom.html","formatted_body":"I mean we can fallback to insertion for disconnected-&gt;connected / connected-&gt;disconnected, but that would not be the \"move steps\", it would be \"falling back to <code>insertBefore</code>\" which is exactly what they're asking","m.mentions":{},"msgtype":"m.text"},"ts":1732532454432,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$TlTp5ohieTOeCPJXG1MniCdxElGnDt5f2aA8T9TTe6I"},
{"content":{"body":"Right. I guess we might never be able to support disconnected <> connected. But we might be able to support connected/disconnected <> other document connected/disconnected.","m.mentions":{},"msgtype":"m.text"},"ts":1732532536775,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$vFUDaHaJvzLW0_F1etKyuqI3H_9TwWx3wh7YSz26Zso"},
{"content":{"body":"> <@annevk:matrix.org> Right. I guess we might never be able to support disconnected <> connected. But we might be able to support connected/disconnected <> other document connected/disconnected.\n\nRight, in the future perhaps we'll be able to move cross-origin iframes across documents without reloading them, that would be neat","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$vFUDaHaJvzLW0_F1etKyuqI3H_9TwWx3wh7YSz26Zso?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br>Right. I guess we might never be able to support disconnected &lt;&gt; connected. But we might be able to support connected/disconnected &lt;&gt; other document connected/disconnected.</blockquote></mx-reply>Right, in the future perhaps we'll be able to move cross-origin iframes across documents without reloading them, that would be neat","m.mentions":{"user_ids":["@annevk:matrix.org"]},"m.relates_to":{"is_falling_back":false,"m.in_reply_to":{"event_id":"$vFUDaHaJvzLW0_F1etKyuqI3H_9TwWx3wh7YSz26Zso"}},"msgtype":"m.text"},"ts":1732532576655,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$2fYFCJG4bXhCHoK_YJKbN_2e_tmRn4km4qDdSy9Bbz4"},
{"content":{"body":"annevk: but this shouldn't preclude us from also having a `moveOrInsertBefore` version and/or something like a `canMove` function, don't you think?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: but this shouldn't preclude us from also having a <code>moveOrInsertBefore</code> version and/or something like a <code>canMove</code> function, don't you think?","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1732532819652,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$wjNBmnYu5eOefNmUS4uzi8eQ8rCLB2B_Uu4B5ynxCL0"},
{"content":{"body":"I'm not really convinced by the people in that thread thus far. There's a lot of hyperbole and very little concrete arguments.","m.mentions":{},"msgtype":"m.text"},"ts":1732532899792,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$dbrUDw6NcHr247M5weT7-_DrByrWOo-YT1oy7mX6ja0"},
{"content":{"body":"annevk:  I guess we can also fall back to insert when it's something that inherently doesn't have state, like comment nodes or processing instructions etc, then throwing would be just for disconnected<->connected and across documents","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>:  I guess we can also fall back to insert when it's something that inherently doesn't have state, like comment nodes or processing instructions etc, then throwing would be just for disconnected&lt;-&gt;connected and across documents","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1732533235413,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$Fbo-71VySy_lLgVjoSSRSVEaFZVhQimuehlNpc9DNoM"},
{"content":{"body":"I think this method should treat all nodes the same as much as it can.","m.mentions":{},"msgtype":"m.text"},"ts":1732533465144,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$FS6FjE_-aGraa1crgihJN9KzXw8f34A2xbmtcSi7JTU"},
{"content":{"body":"(And as far as I can tell it does.)","m.mentions":{},"msgtype":"m.text"},"ts":1732533587313,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$cHOK9edyhKGC9eD1Q2cjeoD4gTVjBTd7Wt3-z21T52Y"},
{"content":{"body":"annevk: currently it only allows moving elements & document fragments, perhaps we can remove that restricition","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: currently it only allows moving elements &amp; document fragments, perhaps we can remove that restricition","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1732533599119,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$WDw_ATaN1YZDG5slCAJAIiyjeVXeXi8S1S46TJJ-HLU"},
{"content":{"body":"annevk: since comments etc don't have \"insertion steps\" anyway it should just work spec-wise I think","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: since comments etc don't have \"insertion steps\" anyway it should just work spec-wise I think","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1732533620582,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$1CSekGGvRHzubImTNRzOWg1PBU5B2jEccj4CKz8XzUc"},
{"content":{"body":"As in we might not need this line: https://github.com/whatwg/dom/pull/1307/files#diff-30f698d9b4650514daf7a04de5e44eebf8feff1a30e0505f8eeaf06703b2777dR2679","m.mentions":{},"msgtype":"m.text"},"ts":1732533803744,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$prb2M20txvb4d-R0uOle3rf3zpFbwLteNgG-iqvt4HY"},
{"content":{"body":" * As in we might not need this line: https://github.com/whatwg/dom/pull/1307/files#diff-30f698d9b4650514daf7a04de5e44eebf8feff1a30e0505f8eeaf06703b2777dR2685","m.mentions":{},"m.new_content":{"body":"As in we might not need this line: https://github.com/whatwg/dom/pull/1307/files#diff-30f698d9b4650514daf7a04de5e44eebf8feff1a30e0505f8eeaf06703b2777dR2685","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$prb2M20txvb4d-R0uOle3rf3zpFbwLteNgG-iqvt4HY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1732533831556,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$0xInq7KYl3dYsV7gAdlIFyZrYxi9pn7RhWcO2k0hpZg"},
{"content":{"body":"Ah sorry, there is no such restriction, I was reading the parent vs. node thing wrong","m.mentions":{},"msgtype":"m.text"},"ts":1732533888518,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$U7i9UYNA72D6hEtI7LkQU3RFj_p8wjwZLErAhOxpx1g"},
{"content":{"body":"Noam Rosenthal: yeah, the only restriction is on DocumentType and that seems reasonable as it's not really something we care to support beyond the bare necessity. And there's a restriction on the root element, but that makes sense. Though maybe the root element restriction should be lifted (by allowing parent to be a Document) so it falls out of other conditions.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: yeah, the only restriction is on DocumentType and that seems reasonable as it's not really something we care to support beyond the bare necessity. And there's a restriction on the root element, but that makes sense. Though maybe the root element restriction should be lifted (by allowing parent to be a Document) so it falls out of other conditions.","m.mentions":{"user_ids":["@noamr:matrix.org"]},"msgtype":"m.text"},"ts":1732538898200,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$BZ0NYzXYfkqr46GnANDhn0klkO5ze4MgqWUZMQWhOto"},
{"content":{"body":"It seems that `insertBefore()` only works if `Document` has no element children currently. So I think behavior-wise it's going to be identical.","format":"org.matrix.custom.html","formatted_body":"It seems that <code>insertBefore()</code> only works if <code>Document</code> has no element children currently. So I think behavior-wise it's going to be identical.","m.mentions":{},"msgtype":"m.text"},"ts":1732539947750,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$5qX_3f1ggkO6L9COkIluWmDP35YjwUCznARpweNV9yQ"},
{"content":{"body":"Oh, but for non-elements it's not. Okay, leaving another comment.","m.mentions":{},"msgtype":"m.text"},"ts":1732540180208,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$f6wdfUk6WSrMieTV0pVUOspyLYzkj6Ype85cUKucj5g"},
{"content":{"body":"That issue btw has seen 30 new comments in 3 days. That's a good way to get your feedback ignored. :/","m.mentions":{},"msgtype":"m.text"},"ts":1732540626955,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$WHMkKznQeAiL8Vrihf27s_p36vPAffOT_GCK98UWSgQ"}
]