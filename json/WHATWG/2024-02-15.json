[
{"content":{"body":"hmm, dom spec has some animation when clicking on an algorithm (to get the popup where it is referred from) Maybe it has been there for quite some time, but it is a bit annoying","m.mentions":{},"msgtype":"m.text"},"ts":1707990295858,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$vTRVnjcMRnPWNE4FTqotoIFre4TlIO_REB6Si45FRbE"},
{"content":{"body":"smaug: hsivonen any thoughts on https://github.com/whatwg/html/pull/9970#discussion_r1489167432?\n\nThere was a question whether allowing the new `<link rel=expect>` to also consider `<a name>` and not just IDs would have a parser performance implications...\n\n(My sense of logic says it would be fine but I'm reading the room's topic).","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: <a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a> any thoughts on https://github.com/whatwg/html/pull/9970#discussion_r1489167432?</p>\n<p>There was a question whether allowing the new <code>&lt;link rel=expect&gt;</code> to also consider <code>&lt;a name&gt;</code> and not just IDs would have a parser performance implications...</p>\n<p>(My sense of logic says it would be fine but I'm reading the room's topic).</p>\n","m.mentions":{"user_ids":["@smaug:mozilla.org","@hsivonen:mozilla.org"]},"msgtype":"m.text"},"ts":1707992350285,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$Mo-rdtL2QxBr53JTEBehtLJTPFnQMyHMq4eILxIJhC4"},
{"content":{"body":"> <@noamr:matrix.org> smaug: hsivonen any thoughts on https://github.com/whatwg/html/pull/9970#discussion_r1489167432?\n> \n> There was a question whether allowing the new `<link rel=expect>` to also consider `<a name>` and not just IDs would have a parser performance implications...\n> \n> (My sense of logic says it would be fine but I'm reading the room's topic).\n\nI can't say for perf for real right now.\n\n(In any case, we should file the `id` vs. `name` thing on some list of mistakes that can be referred to when someone suggests giving some pre-existing thing a second better-bikeshedded name. This one is from 1998 (or earlier?) and still keeps popping up like this.)","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$Mo-rdtL2QxBr53JTEBehtLJTPFnQMyHMq4eILxIJhC4?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@noamr:matrix.org\">@noamr:matrix.org</a><br><p><a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: <a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a> any thoughts on https://github.com/whatwg/html/pull/9970#discussion_r1489167432?</p>\n<p>There was a question whether allowing the new <code>&lt;link rel=expect&gt;</code> to also consider <code>&lt;a name&gt;</code> and not just IDs would have a parser performance implications...</p>\n<p>(My sense of logic says it would be fine but I'm reading the room's topic).</p>\n</blockquote></mx-reply><p>I can't say for perf for real right now.</p>\n<p>(In any case, we should file the <code>id</code> vs. <code>name</code> thing on some list of mistakes that can be referred to when someone suggests giving some pre-existing thing a second better-bikeshedded name. This one is from 1998 (or earlier?) and still keeps popping up like this.)</p>\n","m.mentions":{"user_ids":["@noamr:matrix.org","@smaug:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$Mo-rdtL2QxBr53JTEBehtLJTPFnQMyHMq4eILxIJhC4"}},"msgtype":"m.text"},"ts":1707998074553,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$SAck1N86i7Xa7s6TI05i8WObZ8dBaLSLV0wmUkibbvc"},
{"content":{"body":"I do expect taking `name` into account to be more complex and to have some gotcha. Not sure if I can claim a perf effect, though.","format":"org.matrix.custom.html","formatted_body":"I do expect taking <code>name</code> into account to be more complex and to have some gotcha. Not sure if I can claim a perf effect, though.","m.mentions":{},"msgtype":"m.text"},"ts":1707998169354,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$E9t7c5wX2HscHOvwQWzvcFh3Td0BDhbmWeLC1i_mVTc"},
{"content":{"body":"it feels very surprising to support name","m.mentions":{},"msgtype":"m.text"},"ts":1707998199731,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$dr4sy8YPnIHSVlUatcMePlVmW3vUniQfwkuNqs-1Lps"},
{"content":{"body":"it isn't then idref but something else","m.mentions":{},"msgtype":"m.text"},"ts":1707998214305,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$VehvBeeGkLp2T6bKnNkLK0FR3g2fdF6zO1RnKByQhmQ"},
{"content":{"body":"what is the need?","m.mentions":{},"msgtype":"m.text"},"ts":1707998221975,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$9Ynu2BMIzXLsa2wEIrz27_6GMH0fu-TyrqbnFpbPjTY"},
{"content":{"body":"Just `<a name>` like when scrolling","format":"org.matrix.custom.html","formatted_body":"Just <code>&lt;a name&gt;</code> like when scrolling","m.mentions":{},"msgtype":"m.text"},"ts":1707998227853,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$351zbyWUsWQ1gIvOj2KVnvFOZWQi2IYoWRFXlS3tu5c"},
{"content":{"body":"there is no need except from being consistent with other links with `href` that take this into consideration","format":"org.matrix.custom.html","formatted_body":"there is no need except from being consistent with other links with <code>href</code> that take this into consideration","m.mentions":{},"msgtype":"m.text"},"ts":1707998250439,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$XlCz82inHHRmId7c6z3KVmnQ3G7IT-B_z696snv7xZY"},
{"content":{"body":"I'm also fine with starting with ID only and then see later if we need to follow up. I don't find the consistency argument strong here, `<link rel=expect>` is a new thing anyway and you don't necessarily need to be consistent with some old way we used to create scroll-to points in the document","format":"org.matrix.custom.html","formatted_body":"I'm also fine with starting with ID only and then see later if we need to follow up. I don't find the consistency argument strong here, <code>&lt;link rel=expect&gt;</code> is a new thing anyway and you don't necessarily need to be consistent with some old way we used to create scroll-to points in the document","m.mentions":{},"msgtype":"m.text"},"ts":1707998360613,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$JBtEaSh3_0HzD5l7ogS9hkftEQrjEg6kOuG5vISlQak"},
{"content":{"body":"yeah, I don't think this is really about consistency","m.mentions":{},"msgtype":"m.text"},"ts":1707998426237,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$wCws7nXMVQCafHtzv45B1-W-2_BJNkf53o2ZR1V9k-4"},
{"content":{"body":"<a name> and render blocking are quite different concepts ","m.mentions":{},"msgtype":"m.text"},"ts":1707998443206,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$2nVc1DuPmSKhsLsnxcmq-iJuLIiUCQdsm-WwcxxcAms"},
{"content":{"body":"so, I'd rather prefer simplicity here","m.mentions":{},"msgtype":"m.text"},"ts":1707998473502,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$dai3JfRn2zZQSCg_yHk7bAMmz3-hV0jgsfShT0M2iaY"},
{"content":{"body":"zcorpan: thoughts on ^^^ ?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: thoughts on ^^^ ?","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"msgtype":"m.text"},"ts":1707998745711,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$HB75GOICqdnEG19CFG1qU8_KzmUdQ7NVVZJcHd73Wq0"},
{"content":{"body":"Noam Rosenthal: oh, wait, I change my mind. The syntax is really href","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: oh, wait, I change my mind. The syntax is really href","m.mentions":{"user_ids":["@noamr:matrix.org"]},"msgtype":"m.text"},"ts":1707999189170,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$wtP2difKV9ei8BsPmC7-AzcuP83H_Je12AG5i1bv3_o"},
{"content":{"body":"smaug: yes, the syntax is href.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: yes, the syntax is href.","m.mentions":{"user_ids":["@smaug:mozilla.org"]},"msgtype":"m.text"},"ts":1707999324314,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$uiMl3tSMa8UQc7fSUILiFvQ3qb79W995f6fu3CF4MtY"},
{"content":{"body":"so it is resolved as an url ","m.mentions":{},"msgtype":"m.text"},"ts":1707999347128,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$2qFE6EMynt1JRccMhyiiwiIgvGoVmxHMKgvcfV9ID4A"},
{"content":{"body":"I assume","m.mentions":{},"msgtype":"m.text"},"ts":1707999356997,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$9KPul-Fnc7wBwCP2e69myQj9bXWHMtJtiZa0aBqjnNc"},
{"content":{"body":"yes. you can also put a whole URL in there and as long as it resolves to a same-document fragment in the end (given `base` etc) it would try to match","format":"org.matrix.custom.html","formatted_body":"yes. you can also put a whole URL in there and as long as it resolves to a same-document fragment in the end (given <code>base</code> etc) it would try to match","m.mentions":{},"msgtype":"m.text"},"ts":1707999389672,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$WNfEPCuNtyFg7GD_mSINcsHuz1VvjfO0N2Ee96ZelLY"},
{"content":{"body":"it uses the same matching algorithm for the normal scroll-to (try first without percent encoding, then with)","m.mentions":{},"msgtype":"m.text"},"ts":1707999418902,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$cl8jfkgQu6lBo8MZm5B6ZH9PSSrErqD4kEn-ZHyQdww"},
{"content":{"body":"OTOH it doesn't respect \"top\" etc because that's nonsensical","m.mentions":{},"msgtype":"m.text"},"ts":1707999455771,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$PbxN-JbjwJdN15yqMg4KdR4IpvCokz6fSbKrLK9NsVM"},
{"content":{"body":"other thing is that rel=expect ... blocking=render feels a bit verbose. I need to read some discussion why we ended up with rel=expect","m.mentions":{},"msgtype":"m.text"},"ts":1707999455979,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$svktTdj-2Ich_WkqFJNOlAFmnLGpk1--pNEmUF0EEuI"},
{"content":{"body":"there was a loooong discussion about it","m.mentions":{},"msgtype":"m.text"},"ts":1707999474818,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$RaFnsbWI8qCJH36V1b8FDg6sQQgoOr4mW3iXFY9yle0"},
{"content":{"body":"you mean as opposed to not having rel at all?","m.mentions":{},"msgtype":"m.text"},"ts":1707999517321,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$u8jyp5nlzb8CbnzHge-L8UGZsOUti3JS1kfjCHsc8cI"},
{"content":{"body":"(I personally don't mind that if you want to render-block on things you have to be a bit verbose. This is an advanced feature in a way)","m.mentions":{},"msgtype":"m.text"},"ts":1707999551017,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$Lea3a31YxMgcp8ft3oZen-qeLheVAddSVjiD2GYiJIk"}
]