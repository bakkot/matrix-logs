[
{"content":{"body":"Sam Sneddon [:gsnedders]: jgraham it’d be great if one of you could either give me owner access to the html5lib-tests repo, or else take a look at https://github.com/html5lib/html5lib-tests/pull/152 and figure out why the workflow isn’t running.\n\nI suspect it may be because the repo has some setting that requires approvals for workflows in PRs before they can run.\n\nOtherwise, I don’t know what would be preventing the workflow from running there.","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@gsnedders:mozilla.org\">Sam Sneddon [:gsnedders]</a>: <a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a> it’d be great if one of you could either give me owner access to the html5lib-tests repo, or else take a look at https://github.com/html5lib/html5lib-tests/pull/152 and figure out why the workflow isn’t running.</p>\n<p>I suspect it may be because the repo has some setting that requires approvals for workflows in PRs before they can run.</p>\n<p>Otherwise, I don’t know what would be preventing the workflow from running there.</p>\n","msgtype":"m.text"},"ts":1678694915915,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$fI0O16Rq8jl6gZCoxk0PuHPlnETX9Fc_sl8k14mGpdE"},
{"content":{"body":"> <@noamr:matrix.org> Domenic: yes I encountered these exact issues when I was chasing layout thrashing in wikipedia. e.g. https://bugs.chromium.org/p/chromium/issues/detail?id=1054515. My opinion is that interop around mouse events is terrible. Perhaps this can go into interop2024?\n\ndocumenting all the cases where it's caused problems (like layout thrashing in Wikipedia) seems like it would both be a lot of effort _but_ would probably make a much more compelling argument in favour of including it in Interop","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$KEYMfZxZSz-Tu54I4R7irnqbN5NbyBsqlnmNKdL0JAk?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@noamr:matrix.org\">@noamr:matrix.org</a><br><a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: yes I encountered these exact issues when I was chasing layout thrashing in wikipedia. e.g. https://bugs.chromium.org/p/chromium/issues/detail?id=1054515. My opinion is that interop around mouse events is terrible. Perhaps this can go into interop2024?</blockquote></mx-reply>documenting all the cases where it's caused problems (like layout thrashing in Wikipedia) seems like it would both be a lot of effort <em>but</em> would probably make a much more compelling argument in favour of including it in Interop","m.relates_to":{"m.in_reply_to":{"event_id":"$KEYMfZxZSz-Tu54I4R7irnqbN5NbyBsqlnmNKdL0JAk"}},"msgtype":"m.text"},"ts":1678704265697,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$RSoNbknidj0XVQrw2yG4BJfRvFHC5Ak6cJarCk17ZSY"},
{"content":{"body":"Yeah, seems like it would be an investigation, right? Unless we already have a very clear idea of what the behaviour should be and the problem is just that people aren't implementing it right. I don't off the top of my head have loads of examples of it causing webcompat issues, but maybe if it's a perf footgun that would be enough of an argument.","msgtype":"m.text"},"ts":1678704587754,"senderName":"jgraham","senderId":"@jgraham_:matrix.org","id":"$hHmbzXBpjxLH2MSvkobZBnSXTmHSTwZFcYG_anGO6Ys"},
{"content":{"body":"Sam Sneddon [:gsnedders]: the wikipedia case was documented here: https://techblog.wikimedia.org/2020/11/23/web-performance-case-study-wikipedia-page-previews/","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@gsnedders:mozilla.org\">Sam Sneddon [:gsnedders]</a>: the wikipedia case was documented here: https://techblog.wikimedia.org/2020/11/23/web-performance-case-study-wikipedia-page-previews/","msgtype":"m.text"},"ts":1678705675967,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$Hmt0e7Jz_71drPRR4OhRoVHqNNrkEqAM8AcYkbTq5L8"},
{"content":{"body":"I think the spec is actually clear enough, but implementations do all kinds of funny stuff which created de-facto implementation issues","msgtype":"m.text"},"ts":1678705824836,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$OqVrg3KIIfOZ5W9dDgU5el9ar3MJSI0jeAFbpGQQOr0"},
{"content":{"body":"e.g. offsetX/Y issues in chromium: (1) computed lazily instead of when the event comes - layout thrashing and inaccurate results. (2) computed from the nearest block element (ignores inline). Other implementations have other similar issues, it's kinda described in the aforementioned WPTs","msgtype":"m.text"},"ts":1678705933204,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$nqtnhzdh_MIKYL36b2-j6MUUw90s5NhVy5Ivkg01CJE"},
{"content":{"body":" * I think the spec is actually clear enough, but implementations do all kinds of funny stuff which created de-facto interop issues","m.new_content":{"body":"I think the spec is actually clear enough, but implementations do all kinds of funny stuff which created de-facto interop issues","msgtype":"m.text"},"m.relates_to":{"event_id":"$OqVrg3KIIfOZ5W9dDgU5el9ar3MJSI0jeAFbpGQQOr0","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1678705950210,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$sUp9hUnMqIl2vPLyv4zXN_H6a-knBP3Iwc9cRgFNQTc"},
{"content":{"body":"annevk: is there a spec definition for a user agent stylesheet that isn't html specific?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: is there a spec definition for a user agent stylesheet that isn't html specific?","msgtype":"m.text"},"ts":1678709153693,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$pc3QpwuFuntWwJ-SF5Q3QIdFxdAKd4I9TijPOzw29_Y"},
{"content":{"body":"Context: we want view transitions to work in other document types, and we need somewhere to put the default styles. I could invent a \"view transition user agent stylesheet\".","msgtype":"m.text"},"ts":1678709213070,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$j8em1eeeLb3t63N32PC7i__4NtHYDDu5ApLmL08r2Ss"},
{"content":{"body":"> <@jakea:matrix.org> annevk: is there a spec definition for a user agent stylesheet that isn't html specific?\n\nEach spec defines their own. E.g. SVG's is at https://www.w3.org/TR/SVG2/styling.html#UAStyleSheet , MathML's is at https://w3c.github.io/mathml-core/#user-agent-stylesheet","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$pc3QpwuFuntWwJ-SF5Q3QIdFxdAKd4I9TijPOzw29_Y?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@jakea:matrix.org\">@jakea:matrix.org</a><br><a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: is there a spec definition for a user agent stylesheet that isn't html specific?</blockquote></mx-reply>Each spec defines their own. E.g. SVG's is at https://www.w3.org/TR/SVG2/styling.html#UAStyleSheet , MathML's is at https://w3c.github.io/mathml-core/#user-agent-stylesheet","m.relates_to":{"m.in_reply_to":{"event_id":"$pc3QpwuFuntWwJ-SF5Q3QIdFxdAKd4I9TijPOzw29_Y"}},"msgtype":"m.text"},"ts":1678711443248,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$RMWlrzVQICGE5xEFarNrcgZk_vr66hcrYKFn15tmmgE"},
{"content":{"body":"Ahh cool, I'll do the same then","msgtype":"m.text"},"ts":1678711482170,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$em-v5tVQiIeHmLeRZu8cuGj0Ds29y-_pAXGBQj-iH6A"},
{"content":{"body":"Cheers!","msgtype":"m.text"},"ts":1678711484562,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$jef3lm667PcJUmBhbH8oFQwwlQUkch6blTOdkkOOE1o"},
{"content":{"body":"> <@jakea:matrix.org> Ahh cool, I'll do the same then\n\nBy this, I hope you mean, will send a PR to each of them? Unless you are creating a new markup language, those should be the three canonical UA stylesheets on the web.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$em-v5tVQiIeHmLeRZu8cuGj0Ds29y-_pAXGBQj-iH6A?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@jakea:matrix.org\">@jakea:matrix.org</a><br>Ahh cool, I&#39;ll do the same then</blockquote></mx-reply>By this, I hope you mean, will send a PR to each of them? Unless you are creating a new markup language, those should be the three canonical UA stylesheets on the web.","m.relates_to":{"m.in_reply_to":{"event_id":"$em-v5tVQiIeHmLeRZu8cuGj0Ds29y-_pAXGBQj-iH6A"}},"msgtype":"m.text"},"ts":1678712025136,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$nu7LD4-UQ7hSax8zzuLIlqqh1d_O0x_buB5ZD3nygUY"},
{"content":{"body":"> <@jakea:matrix.org> Ahh cool, I'll do the same then\n\n * By this, I hope you mean, will send a PR to each of them? Unless you are creating a new markup language, those should be the three canonical UA stylesheet specs on the web.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$em-v5tVQiIeHmLeRZu8cuGj0Ds29y-_pAXGBQj-iH6A?via=matrix.org&amp;via=mozilla.org&amp;via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@jakea:matrix.org\">@jakea:matrix.org</a><br>Ahh cool, I'll do the same then</blockquote></mx-reply> * By this, I hope you mean, will send a PR to each of them? Unless you are creating a new markup language, those should be the three canonical UA stylesheet specs on the web.","m.new_content":{"body":"By this, I hope you mean, will send a PR to each of them? Unless you are creating a new markup language, those should be the three canonical UA stylesheet specs on the web.","format":"org.matrix.custom.html","formatted_body":"By this, I hope you mean, will send a PR to each of them? Unless you are creating a new markup language, those should be the three canonical UA stylesheet specs on the web.","msgtype":"m.text"},"m.relates_to":{"event_id":"$nu7LD4-UQ7hSax8zzuLIlqqh1d_O0x_buB5ZD3nygUY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1678712032122,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$qGri6LC7Yj0Ytkh8UKioXcHN6EfLJPqfiuMqyZz_rVs"},
{"content":{"body":"Domenic: oh, my plan was to create a global view transition UA stylesheet. Would that not be easier for implementers, rather than fragmenting the feature across multiple specs? As a middle ground, could the change to HTML/SVG/MathML say something like \"Include the [=global view transition user agent stylesheet=]\"?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: oh, my plan was to create a global view transition UA stylesheet. Would that not be easier for implementers, rather than fragmenting the feature across multiple specs? As a middle ground, could the change to HTML/SVG/MathML say something like &quot;Include the [=global view transition user agent stylesheet=]&quot;?","msgtype":"m.text"},"ts":1678712267703,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$ls0tSO2HcvJni113lN9i1HAXlOwN-tzenETKQWIkVX0"},
{"content":{"body":"Jake Archibald: so, if something is applicable to all elements, then usually it isn't done via the UA style sheet. It's done via changing the relevant CSS infrastructure directly. E.g. there's no need to add `* { display: inline; }` to the UA stylesheet, because the initial value for `display` is `inline`.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a>: so, if something is applicable to all elements, then usually it isn't done via the UA style sheet. It's done via changing the relevant CSS infrastructure directly. E.g. there's no need to add <code>* { display: inline; }</code> to the UA stylesheet, because the initial value for <code>display</code> is <code>inline</code>.","msgtype":"m.text"},"ts":1678712347094,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$Pw8YL1ItR8gKry6RUZVUrWtv6uDRq0ii085tBvhUtKM"},
{"content":{"body":"Or, e.g., if you want to change how something behaves on the root element (regardless of what type of root element), you'd use language like https://w3c.github.io/csswg-drafts/css-display/#root","msgtype":"m.text"},"ts":1678712425809,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$yFRQUKQqZq933993B6-PzKWDRkW8DLVW0V10TGup7GA"},
{"content":{"body":"Domenic: In our case, we have default styles for pseudo-elements https://drafts.csswg.org/css-view-transitions-1/#ua-styles, but we also create dynamic styles in the UA stylesheet that are scoped to the document https://drafts.csswg.org/css-view-transitions-1/#ref-for-document-view-transition-style-sheet%E2%91%A3. I'm in the process of removing the HTML requirement here (eg replacing `html` with `:root`)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: In our case, we have default styles for pseudo-elements https://drafts.csswg.org/css-view-transitions-1/#ua-styles, but we also create dynamic styles in the UA stylesheet that are scoped to the document https://drafts.csswg.org/css-view-transitions-1/#ref-for-document-view-transition-style-sheet%E2%91%A3. I'm in the process of removing the HTML requirement here (eg replacing <code>html</code> with <code>:root</code>)","msgtype":"m.text"},"ts":1678712557663,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$O8OUcUjxRht-fvxu99Zl_NJ9jJaGUMQ-46ekrCI19fI"}
]