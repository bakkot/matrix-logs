[
{"content":{"body":"> <@domfarolino:matrix.org> > there are lots of APIs which are not related to the DOM.\n> \n> So \"related to the DOM\" means having a content attribute then?\n\nBy \"related to the DOM\" I mean \"related to the structure of nodes and attributes, i.e. the DOM tree\"","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$1wtY68_RO-QyMIJjLN9leOxBicQcS2ruRpSgxZDZB_0?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@domfarolino:matrix.org\">@domfarolino:matrix.org</a><br><blockquote>\n<p>there are lots of APIs which are not related to the DOM.</p>\n</blockquote>\n<p>So \"related to the DOM\" means having a content attribute then?</p>\n</blockquote></mx-reply>By \"related to the DOM\" I mean \"related to the structure of nodes and attributes, i.e. the DOM tree\"","m.mentions":{"user_ids":["@domfarolino:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$1wtY68_RO-QyMIJjLN9leOxBicQcS2ruRpSgxZDZB_0"}},"msgtype":"m.text"},"ts":1701660964271,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$J7mya9eLPX6yzCFGcp1j03apYOS-7nyiNHo8p7n8ufY"},
{"content":{"body":"> <@domfarolino:matrix.org> If someone introduces an IDL attribute, but also wants to trigger the underlying behavior without script, then they'd have to have it reflect a content attribute with the same name. Is that a good enough \"justification\" / reason for doing that.\n\nI would work the other way around. Content attributes first; if they exist you automatically get an IDL attribute. If you don't need a content attribute then you are just doing normal JS API design.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$D2leos334G1_1crZ5vRrj70Rq4cXjX4NxGHBYiGeo_I?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@domfarolino:matrix.org\">@domfarolino:matrix.org</a><br>If someone introduces an IDL attribute, but also wants to trigger the underlying behavior without script, then they&#39;d have to have it reflect a content attribute with the same name. Is that a good enough &quot;justification&quot; / reason for doing that.</blockquote></mx-reply>I would work the other way around. Content attributes first; if they exist you automatically get an IDL attribute. If you don't need a content attribute then you are just doing normal JS API design.","m.mentions":{"user_ids":["@domfarolino:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$D2leos334G1_1crZ5vRrj70Rq4cXjX4NxGHBYiGeo_I"}},"msgtype":"m.text"},"ts":1701661006580,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$Jf5kP_WlwRVyZNssksN3SINsuevACqE-52aW9q-UQwc"},
{"content":{"body":"> <@domfarolino:matrix.org> It seems like \"wanting to do things that you can do with an IDL attribute, but without JS\" is the big motivation for wanting to reflect an IDL attribute?\n\nNo, the motivation is wanting to do things in JS, slightly easier and more idiomatically. Without IDL attribute reflection: `el.setAttribute(\"foo\", \"\")`. With IDL attribute reflection: `el.foo = true`.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$oaVpJ8w3i8LHCFOAIZKQP5eYQsKaPLt1_55ysCIdcaQ?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@domfarolino:matrix.org\">@domfarolino:matrix.org</a><br>It seems like &quot;wanting to do things that you can do with an IDL attribute, but without JS&quot; is the big motivation for wanting to reflect an IDL attribute?</blockquote></mx-reply>No, the motivation is wanting to do things in JS, slightly easier and more idiomatically. Without IDL attribute reflection: <code>el.setAttribute(\"foo\", \"\")</code>. With IDL attribute reflection: <code>el.foo = true</code>.","m.mentions":{"user_ids":["@domfarolino:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$oaVpJ8w3i8LHCFOAIZKQP5eYQsKaPLt1_55ysCIdcaQ"}},"msgtype":"m.text"},"ts":1701661054515,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$Z4HrOn4vIquTXdgQjtAMzzMwIBX5mRk1NNGPZLWzUB8"},
{"content":{"body":"Thanks for the heads-up!","m.mentions":{},"m.relates_to":{"event_id":"$ow-O5tejdGrHxL73IQQvf_u1aYI82qp-8xGHV7J1gbc","is_falling_back":true,"m.in_reply_to":{"event_id":"$ow-O5tejdGrHxL73IQQvf_u1aYI82qp-8xGHV7J1gbc"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1701686091212,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$LV2AvpyVdr4KrlZxPnvqYQDvP-toW2yD1s06x3Gw4yA"},
{"content":{"body":"Eric Portis (he/him): I think the main issue is when the w and the image's actual width don't match. Let's say in your example \"a\" actual width is 4 pixels, then the layout width becomes 2px after loading the image, which would cause the next image to load, etc.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@etportis:matrix.org\">Eric Portis (he/him)</a>: I think the main issue is when the w and the image's actual width don't match. Let's say in your example \"a\" actual width is 4 pixels, then the layout width becomes 2px after loading the image, which would cause the next image to load, etc.","m.mentions":{"user_ids":["@etportis:matrix.org"]},"msgtype":"m.text"},"ts":1701686460360,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$sQ23bwblBdsWpXJVEUzkfeQCHkv08z7x-H0kzrWhb5o"},
{"content":{"body":"Eric Portis (he/him): a proposed alternative fix iirc was to stop the \"loop\" after the second load, but based on prior feedback about double downloads I think it's not acceptable to have double downloads even if it only happens sometimes","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@etportis:matrix.org\">Eric Portis (he/him)</a>: a proposed alternative fix iirc was to stop the \"loop\" after the second load, but based on prior feedback about double downloads I think it's not acceptable to have double downloads even if it only happens sometimes","m.mentions":{"user_ids":["@etportis:matrix.org"]},"msgtype":"m.text"},"ts":1701686595741,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$pggb2Dm4YY8ycB4lsIoqaUTlgl6MX_eR_2RU-cLyj3I"},
{"content":{"body":"Eric Portis (he/him): the other reason is to make it look wrong when not using width/height attributes (or have dimensions with css). Otherwise people might omit dimensions and we would likely double-download in such cases without size containment","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@etportis:matrix.org\">Eric Portis (he/him)</a>: the other reason is to make it look wrong when not using width/height attributes (or have dimensions with css). Otherwise people might omit dimensions and we would likely double-download in such cases without size containment","m.mentions":{"user_ids":["@etportis:matrix.org"]},"msgtype":"m.text"},"ts":1701686795914,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$LUUtbvaoTnxHaUzQdT2S5zqiPwhr6qFsCHeJeYM4dfY"},
{"content":{"body":"Eric Portis (he/him): I suspect size containment for images will be more annoying, and that's unfortunate but I hope acceptable!","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@etportis:matrix.org\">Eric Portis (he/him)</a>: I suspect size containment for images will be more annoying, and that's unfortunate but I hope acceptable!","m.mentions":{"user_ids":["@etportis:matrix.org"]},"msgtype":"m.text"},"ts":1701686886936,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$qn7Nq4B5Ifk4f4mMwtf8oWsxW66MIG1rfEQv0Y2LU8o"}
]