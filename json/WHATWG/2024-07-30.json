[
{"content":{"body":"> <@yoavweiss:matrix.org> Hey folks! I'm playing around with module scripts and I see that a module script struct is being passed to EcmaScript and back through a ParseModule.\\[\\[HostDefined\\]\\] item. I'm wondering if that is done by value or by reference. More explicitly, if I later change the module script struct, would that change be reflected when grabbing that ParseModule.\\[\\[HostDefined\\]\\]?\n\nWe generally treat these things as \"by reference\". On the other hand, I'm not sure what fields of module scripts are meant to be mutable...","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$pqyVvoxflu_-sPmaifhS9evGrE95UTlsVEhYGOAT4nM?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@yoavweiss:matrix.org\">@yoavweiss:matrix.org</a><br>Hey folks! I'm playing around with module scripts and I see that a module script struct is being passed to EcmaScript and back through a ParseModule.[[HostDefined]] item. I'm wondering if that is done by value or by reference. More explicitly, if I later change the module script struct, would that change be reflected when grabbing that ParseModule.[[HostDefined]]?</blockquote></mx-reply>We generally treat these things as \"by reference\". On the other hand, I'm not sure what fields of module scripts are meant to be mutable...","m.mentions":{"user_ids":["@yoavweiss:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$pqyVvoxflu_-sPmaifhS9evGrE95UTlsVEhYGOAT4nM"}},"msgtype":"m.text"},"ts":1722302807203,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$9gqqvvs_nYrQ-CAHBhCjJoRY1Wyf48etLfy81VaEn8E"},
{"content":{"body":"Domenic: I'm adding a new item that contains the resolved URL. I'll upload a draft for early review soonish","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: I'm adding a new item that contains the resolved URL. I'll upload a draft for early review soonish","m.mentions":{"user_ids":["@domenicdenicola:matrix.org"]},"msgtype":"m.text"},"ts":1722313571473,"senderName":"Yoav Weiss","senderId":"@yoavweiss:matrix.org","id":"$FY-u60C07ZeOMTc1coWkEcgX92cnS7PbWhQzSyh74jQ"},
{"content":{"body":"Is there a way to run conformance checks locally? I'm seeing them failing on the bots.. https://github.com/whatwg/html/actions/runs/10158385321/job/28090331154?pr=10528","m.mentions":{},"msgtype":"m.text"},"ts":1722327729326,"senderName":"Yoav Weiss","senderId":"@yoavweiss:matrix.org","id":"$s4VR-C0j321ltOe4zC-ltJOMZ9BSlLWENZ3-PDUI1QY"},
{"content":{"body":"I tried to run `java -Xmx1g -jar ./vnu.jar --skip-non-html \"$HTML_OUTPUT\"` directly but that fails due to lack of Java installed.. I guess I can get it running through the docker build?","format":"org.matrix.custom.html","formatted_body":"I tried to run <code>java -Xmx1g -jar ./vnu.jar --skip-non-html \"$HTML_OUTPUT\"</code> directly but that fails due to lack of Java installed.. I guess I can get it running through the docker build?","m.mentions":{},"msgtype":"m.text"},"ts":1722327786750,"senderName":"Yoav Weiss","senderId":"@yoavweiss:matrix.org","id":"$DstLGoIdNAbY3dYt218H7bjNgi_K3AER8sS-sDc823Y"},
{"content":{"body":"https://github.com/validator/validator/releases has standalone binaries you can download that don’t require a Java environment","m.mentions":{},"msgtype":"m.text"},"ts":1722327982151,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$ouU4i-Q2IyRDKCOzceM3-uTaTv-L0oICjefLE1zD6_I"},
{"content":{"body":"but you can also use `curl` to send the document to the web-based checker","format":"org.matrix.custom.html","formatted_body":"but you can also use <code>curl</code> to send the document to the web-based checker","m.mentions":{},"msgtype":"m.text"},"ts":1722328015317,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$E3falCUU1EnIwPO_lJNun9JNVnaiGT3bLZtyayTo3Fg"},
{"content":{"body":"https://github.com/validator/validator/wiki/Service-»-Input-»-POST-body#examples","m.mentions":{},"msgtype":"m.text"},"ts":1722328085851,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$7WedsGQEwDDlHj0XsLD_sCmTqudm9BHpszr9KRd1HOY"},
{"content":{"body":"```\ncurl -H \"Content-Type: text/html; charset=utf-8\" \\\n    --data-binary @FILE.html \\\n    https://validator.w3.org/nu/?out=gnu\n```","format":"org.matrix.custom.html","formatted_body":"<pre><code>curl -H \"Content-Type: text/html; charset=utf-8\" \\\n    --data-binary @FILE.html \\\n    https://validator.w3.org/nu/?out=gnu\n</code></pre>\n","m.mentions":{},"msgtype":"m.text"},"ts":1722328111889,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$FKVp4iumTUvEGdZUIhnTUeyiLP1uf14ymwycW_MZRNw"},
{"content":{"body":"I'm getting a 502..","m.mentions":{},"msgtype":"m.text"},"ts":1722328413619,"senderName":"Yoav Weiss","senderId":"@yoavweiss:matrix.org","id":"$3j3ypnpRuVX4CMulWcuGJKVcONum9T4G17sdqmC5FvA"},
{"content":{"body":"for `curl -v -H \"Content-Type: text/html; charset=utf-8\"  --data-binary \"@output/index.html\" \"https://validator.w3.org/nu/?out=gnu`","format":"org.matrix.custom.html","formatted_body":"for <code>curl -v -H \"Content-Type: text/html; charset=utf-8\"  --data-binary \"@output/index.html\" \"https://validator.w3.org/nu/?out=gnu</code>","m.mentions":{},"msgtype":"m.text"},"ts":1722328438774,"senderName":"Yoav Weiss","senderId":"@yoavweiss:matrix.org","id":"$aUPbHUA-_1SQzkkljO0pJWBvx2UeJ3oW46spvCzSsG8"}
]