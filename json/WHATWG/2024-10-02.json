[
{"content":{"body":"Domenic: what prevents you from having a scripting relationship with a bfcache'd document? I guess there's some unspecified(?) magic that might kick it out of bfcache, but you can hold a reference just fine right?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: what prevents you from having a scripting relationship with a bfcache'd document? I guess there's some unspecified(?) magic that might kick it out of bfcache, but you can hold a reference just fine right?","m.mentions":{"user_ids":["@domenicdenicola:matrix.org"]},"msgtype":"m.text"},"ts":1727849412201,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$u0nDnrFlq62NNLr_nT4_zZPwejXOiRXl8InXN7oGPxQ"},
{"content":{"body":"annevk: right, I guess it's the fact that no browser bfcaches iframes or windows with openers. (Not a matter of kicking you out; they just never get bfcached in the first place.) Allowing that would probably break tons of specs that are not prepared for it. We offered to add this to the spec in the past but I think there wasn't appetite.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: right, I guess it's the fact that no browser bfcaches iframes or windows with openers. (Not a matter of kicking you out; they just never get bfcached in the first place.) Allowing that would probably break tons of specs that are not prepared for it. We offered to add this to the spec in the past but I think there wasn't appetite.","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1727849471241,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$GzZaivyl3j-gB0-pzJmG4vqMWhefbMSnSpawztUITx4"},
{"content":{"body":"Domenic: you don't need an opener to hold a reference to a nested document though","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: you don't need an opener to hold a reference to a nested document though","m.mentions":{"user_ids":["@domenicdenicola:matrix.org"]},"msgtype":"m.text"},"ts":1727849517385,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Cb1Z8pBB0x-pdvE6A2A-t6lSSXFEJD-wlTnjmGoexqg"},
{"content":{"body":"No browser bfcaches iframes","m.mentions":{},"msgtype":"m.text"},"ts":1727849553740,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$zzGzrMA6MKSY2o9kjfVYsV6xSjZB_-Ya0tDtoDC7h0Y"},
{"content":{"body":"Oh, that's new to me","m.mentions":{},"msgtype":"m.text"},"ts":1727849624817,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$QKSrjb3bW0c_zDJLBnkq-DpSrH4zVeT79nv2YvS0xH8"},
{"content":{"body":"So much stuff would break","m.mentions":{},"msgtype":"m.text"},"ts":1727849636939,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$OHmF3OpO_fgIfgMA8RqDRpm1aZZS4F1Kv_1JwsIgtOw"},
{"content":{"body":"TabAtkins: why would you define them as a new URL scheme and not a particular MIME type?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@tabatkins:matrix.org\">TabAtkins</a>: why would you define them as a new URL scheme and not a particular MIME type?","m.mentions":{"user_ids":["@tabatkins:matrix.org"]},"msgtype":"m.text"},"ts":1727849695946,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$3OJTfC26VJdHb0n0fpSGEdNRKoYiTv9Rj9AJHKJQlvY"},
{"content":{"body":"Stuff like the otpauth (/apple-otpauth) scheme can already be used for generating a specific type of qr code. In case of otpauth it's a scheme so it can be used in links. I guess the design might depend on whether it makes sense to linkify this new type of data? Is that the sort of thing you were after Tab? is it something more generic?","msgtype":"m.text"},"ts":1727863231644,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$Ouu2voIgDnJZN5T0PvuPABdQqWkQSjvmBBgFY12AKfw"},
{"content":{"body":"Panos Astithas: maybe we should cancel WHATNOT tomorrow. It's a German holiday and currently only Mu-An Chiou @muan, Domenic, and you are confirmed. We also just had TPAC.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@pastith:matrix.org\">Panos Astithas</a>: maybe we should cancel WHATNOT tomorrow. It's a German holiday and currently only <a href=\"https://matrix.to/#/@muan:matrix.org\">Mu-An Chiou @muan</a>, <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>, and you are confirmed. We also just had TPAC.","m.mentions":{"user_ids":["@pastith:matrix.org","@muan:matrix.org","@domenicdenicola:matrix.org"]},"msgtype":"m.text"},"ts":1727868206896,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$sDv10uinDf3-ELLZik1DIpCRtaerm75WJ4E7SPsxhc8"},
{"content":{"body":"I wonder if https://x.com/Mike_DiDomizio/status/1839692898670879128 is the direct result of encoding the state in an attribute or if there would be some way to avoid this. I guess the only way would be some kind of parser hack?","m.mentions":{},"msgtype":"m.text"},"ts":1727873141170,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$VpFtR-ae0Er2smjVqjcHWTe3KT_vJaWv2ap9EFxvfg4"},
{"content":{"body":"> <@annevk:matrix.org> I wonder if https://x.com/Mike_DiDomizio/status/1839692898670879128 is the direct result of encoding the state in an attribute or if there would be some way to avoid this. I guess the only way would be some kind of parser hack?\n\nCould potentially only fire the event if there's been user activation on the page? But I guess that only helps on first load not subsequently parsed details ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$VpFtR-ae0Er2smjVqjcHWTe3KT_vJaWv2ap9EFxvfg4?via=igalia.com&via=matrix.org&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br />I wonder if https://x.com/Mike_DiDomizio/status/1839692898670879128 is the direct result of encoding the state in an attribute or if there would be some way to avoid this. I guess the only way would be some kind of parser hack?</blockquote></mx-reply>Could potentially only fire the event if there's been user activation on the page? But I guess that only helps on first load not subsequently parsed details","m.relates_to":{"m.in_reply_to":{"event_id":"$VpFtR-ae0Er2smjVqjcHWTe3KT_vJaWv2ap9EFxvfg4"}},"msgtype":"m.text"},"ts":1727873491113,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$ZscQSrbzSYXNlVEavjfDExRkyj01mI8YS9RoDN_D_5U"},
{"content":{"body":"I mean we could thread through \"did the parser set this\" to the attribute changed steps. It'd just be a lot of annoying work for unclear gain.","m.mentions":{},"msgtype":"m.text"},"ts":1727875308356,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$O50NVEsYZFiAP712WwhN-GVsiEbz5ZRqTp3a7PGQ1KU"},
{"content":{"body":"A new MIME type is more elegant than a new URL scheme but it does come with extra baggage. E.g. you'd expect that if the server served an image/qr-code file then that would also work, which maybe is not what Tab is going for. Unsure.","m.mentions":{},"msgtype":"m.text"},"ts":1727875417811,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$kiW7lxLhyNvlk0IvIKj1c4ypjL2a-rdkDR7JABYDSZA"},
{"content":{"body":"Agreed, I will cancel it.","m.mentions":{},"m.relates_to":{"event_id":"$sDv10uinDf3-ELLZik1DIpCRtaerm75WJ4E7SPsxhc8","is_falling_back":true,"m.in_reply_to":{"event_id":"$sDv10uinDf3-ELLZik1DIpCRtaerm75WJ4E7SPsxhc8"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1727881065537,"senderName":"Panos Astithas","senderId":"@pastith:matrix.org","id":"$CeYZvY9bHyU-YsNMrKZqNrfV5d_qtsLZzACraDf7aIA"},
{"content":{"body":"A new URL scheme also comes with a lot of baggage though. Is it local, when is it same origin, what if you navigate to it, etc. But yeah, I guess it depends a bit on what you want.","m.mentions":{},"msgtype":"m.text"},"ts":1727881932370,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$f7VHrjNCiLklWdUQWeoNxExgMQCEYj_QCP-iQt_BdtM"},
{"content":{"body":"I noticed someone tweeting about a pain point of custom elements; https://x.com/Rich_Harris/status/1841494391346590072. In which they point out `cloneNode()` clones the element with the `synchronous custom elements flag unset`. \n\nI know this was raised before in https://github.com/whatwg/dom/issues/922 where annevk said:\n\n> We don't want to execute JavaScript during those operations as that leads to all kinds of complexity. I'm going to close this as this is working-as-designed.\n\nWhile I obviously respect that position I'm wondering if there's any possibility of movement on this? It seems unfortunate that this is the only place where elements can be created without a definition, but I guess this would mean a performance hit regardless? ","format":"org.matrix.custom.html","formatted_body":"<p>I noticed someone tweeting about a pain point of custom elements; https://x.com/Rich_Harris/status/1841494391346590072. In which they point out <code>cloneNode()</code> clones the element with the <code>synchronous custom elements flag unset</code>.</p>\n<p>I know this was raised before in https://github.com/whatwg/dom/issues/922 where <a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a> said:</p>\n<blockquote>\n<p>We don't want to execute JavaScript during those operations as that leads to all kinds of complexity. I'm going to close this as this is working-as-designed.</p>\n</blockquote>\n<p>While I obviously respect that position I'm wondering if there's any possibility of movement on this? It seems unfortunate that this is the only place where elements can be created without a definition, but I guess this would mean a performance hit regardless?</p>\n","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1727884339416,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$dcS-MvaLCLI90UJ2CPajN-15aOd0beEtBR2E6yLLvWY"}
]