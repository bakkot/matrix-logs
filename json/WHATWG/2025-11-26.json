[
{"content":{"body":"Regarding the conversation following https://github.com/whatwg/html/pull/11933#issuecomment-3576322026, is there an expectation on me as the PR author to file new PRs for the Fetch and CSP specifications to add `\"text\"` (or something like it) as a known fetch destination, along with its associated CSP directive? And is this something that ought to happen before or after the HTML spec PR gets merged?","format":"org.matrix.custom.html","formatted_body":"Regarding the conversation following https://github.com/whatwg/html/pull/11933#issuecomment-3576322026, is there an expectation on me as the PR author to file new PRs for the Fetch and CSP specifications to add <code>\"text\"</code> (or something like it) as a known fetch destination, along with its associated CSP directive? And is this something that ought to happen before or after the HTML spec PR gets merged?","m.mentions":{},"msgtype":"m.text"},"ts":1764133069952,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$8aKIttbDe8Au0MoXGWyZolIIjJZPNZLMkdseA8_kyec"},
{"content":{"body":"eemeli: it's not necessarily on you, but you doing it might be most expedient. And usually we try to merge them all around the same time as they form a cohesive whole.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@eemeli:mozilla.org\">eemeli</a>: it's not necessarily on you, but you doing it might be most expedient. And usually we try to merge them all around the same time as they form a cohesive whole.","m.mentions":{"user_ids":["@eemeli:mozilla.org"]},"msgtype":"m.text"},"ts":1764144503533,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$0JjuxumoLTJutFID7LokI8CaoQW-qWB3rQQEoNYU_KA"},
{"content":{"body":"That makes sense. Next (related) question: What's the appropriate place to discuss what the fetch destination and CSP directive ought to be, as I presume that ought to take into account the `type: 'bytes'` proposal as well, given how similar they are?","format":"org.matrix.custom.html","formatted_body":"That makes sense. Next (related) question: What's the appropriate place to discuss what the fetch destination and CSP directive ought to be, as I presume that ought to take into account the <code>type: 'bytes'</code> proposal as well, given how similar they are?","m.mentions":{},"msgtype":"m.text"},"ts":1764144733448,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$liRvNoMef8n4fhkeROZ6uz6qexrpznjUlbCxv7gqKgw"},
{"content":{"body":"eemeli: Fetch for the destinations, CSP for the directives. I suspect CSP will want to group them with \"json\". For Fetch it'll have to be unique from \"json\" and in principle they could share a name I suppose, but it's probably easier and more flexible if we added \"text\" and \"bytes\" and call it a day.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@eemeli:mozilla.org\">eemeli</a>: Fetch for the destinations, CSP for the directives. I suspect CSP will want to group them with \"json\". For Fetch it'll have to be unique from \"json\" and in principle they could share a name I suppose, but it's probably easier and more flexible if we added \"text\" and \"bytes\" and call it a day.","m.mentions":{"user_ids":["@eemeli:mozilla.org"]},"msgtype":"m.text"},"ts":1764144948272,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$4bR5MDoWrXv5pDNMdxCnRDC1Bok0g8hdbM-E7KCI7Gw"},
{"content":{"body":"And any tests you write can be shared across those PRs. I think for Fetch we mainly want to test that Sec-Fetch-Dest has the correct value. And for CSP that you can prevent the requests from going out.","m.mentions":{},"msgtype":"m.text"},"ts":1764145113174,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$TqFHb7Etzr5oaQOj0h0nN8PiK7NgiIyQidBlFy2zyGg"},
{"content":{"body":"Great, one more meta question: Is there a preference for smaller or larger issues around this space? The original HTML spec issue covered text, bytes, and URL. Should the issues I file for Fetch & CSP cover both text & bytes, or just text?","m.mentions":{},"msgtype":"m.text"},"ts":1764145148616,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$yK6N0SHVGFZkREnbLIdSslV_MJCXeHtO9JdhJ7P98Mw"},
{"content":{"body":"eemeli: either is fine; important thing is that the PRs will have to be aligned with the HTML PR. Can't land \"text\" and \"bytes\" on one end and not the other.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@eemeli:mozilla.org\">eemeli</a>: either is fine; important thing is that the PRs will have to be aligned with the HTML PR. Can't land \"text\" and \"bytes\" on one end and not the other.","m.mentions":{"user_ids":["@eemeli:mozilla.org"]},"msgtype":"m.text"},"ts":1764145228622,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$J3VnluqlDyBVogrxCPZMzJkcruNFktAhF3qyJMK9pNg"},
{"content":{"body":"Got it, so at least the PRs I file ought to be specifically about text, and it's on Styfle (or someone else) to take bytes forwards.","m.mentions":{},"msgtype":"m.text"},"ts":1764145418594,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$Fbo9PAYjxqqS-S-HQeZ67DxW_bC9iN1CFJcwL4MJRcw"}
]