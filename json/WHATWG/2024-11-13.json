[
{"content":{"body":"Possibly Private/Local Network Access changes this? Been a while since I looked.","m.mentions":{},"m.relates_to":{"event_id":"$I84H4aOKkl7p9LpR5S_1DVWqjrkmCsZCqS9cjAY8PTg","is_falling_back":true,"m.in_reply_to":{"event_id":"$OGAQTjE1McZlHZ6SQ6IDBkAIBN7-Dn1KjuG4cDf0ldA"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1731479768951,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$sQ9hOB-hBnZwiVo5QR0Y_zXny16soZsqAQEHKqvVs3E"},
{"content":{"body":"Yes, there are special preflights for PNA: https://developer.chrome.com/blog/private-network-access-preflight#preflight_requests","m.mentions":{},"m.relates_to":{"event_id":"$I84H4aOKkl7p9LpR5S_1DVWqjrkmCsZCqS9cjAY8PTg","is_falling_back":true,"m.in_reply_to":{"event_id":"$sQ9hOB-hBnZwiVo5QR0Y_zXny16soZsqAQEHKqvVs3E"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1731494265891,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$76OSMWUZ1e5MEhfo6nzc1Jzpf6XIan_MNXMf3QyYFsE"},
{"content":{"body":"annevk: Safari blocks http localhost iframes inside https pages. Chrome and Firefox don't. Given that localhost should be treated as secure, this seems like a bug. Am I missing something?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: Safari blocks http localhost iframes inside https pages. Chrome and Firefox don't. Given that localhost should be treated as secure, this seems like a bug. Am I missing something?","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1731495568706,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$5ruyhN2EJ8qUYQecNhuP1w1U-MD8bjJqYwgKC_Er4lg"},
{"content":{"body":"https://bumpy-repeated-cover.glitch.me/ - quick test page, but you'll need to run a local server on 8080 that contains `index2.html`","format":"org.matrix.custom.html","formatted_body":"https://bumpy-repeated-cover.glitch.me/ - quick test page, but you'll need to run a local server on 8080 that contains <code>index2.html</code>","m.mentions":{},"msgtype":"m.text"},"ts":1731495658730,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$JvMUu8S6wGgfcaUUPHZ8Sb7IWuaZzVvGD-ol8cfJUgg"},
{"content":{"body":"Jake Archibald: we currently don't enforce that localhost is localhost, that's something we need to fix still","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a>: we currently don't enforce that localhost is localhost, that's something we need to fix still","m.mentions":{"user_ids":["@jakea:matrix.org"]},"msgtype":"m.text"},"ts":1731496173702,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Ay0nXLt9SZcjBE97hf769Gqyjeazk9nve_DM2reZCG0"},
{"content":{"body":"annevk: Oh, so is `127.0.0.1` likely to work?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: Oh, so is <code>127.0.0.1</code> likely to work?","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1731496236598,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$Hylcxj3PUpiQAi274rmd2tCB_wRrBTVlg3_vemqaurU"},
{"content":{"body":"ah, no, that doesn't work either","m.mentions":{},"msgtype":"m.text"},"ts":1731496350797,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$bdfsoUV24xeoMrpwTUHwtvsC8r1My7by-S-Pg1B0GlM"},
{"content":{"body":"Hmm, that does seem like something that might be easier to fix. Are you willing to file a bug for just that? (There already are some for localhost.)","m.mentions":{},"msgtype":"m.text"},"ts":1731497644527,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$V2nUf2mg-4DD2zeTF3iMEphnFdWYsXr_u9oFB5DlIOg"},
{"content":{"body":"From https://bugs.webkit.org/show_bug.cgi?id=171934#c96, it seems like it's a difference of opinion with webappsec. I added a couple of comments about our use-case","m.mentions":{},"msgtype":"m.text"},"ts":1731498736412,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$Cpv-2TH--durNtnllB4AyEtJ1aRJmIapMFuswOPddck"},
{"content":{"body":"Oh right. I had forgotten about P/LNA. Makes sense. Although I wonder if P/LNA still contains localhost protection.","m.mentions":{},"msgtype":"m.text"},"ts":1731504672756,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$b5EwSJutYxACZicHz2hLVxKhXs6aOxXHWFbb0XN1t9A"},
{"content":{"body":"So smaug annevk what do you we think about stage 3 for atomic move? I'm sure there are small things that will fall out during review, but I think generally we agree on the shape of the processing model?","format":"org.matrix.custom.html","formatted_body":"So <a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a> what do you we think about stage 3 for atomic move? I'm sure there are small things that will fall out during review, but I think generally we agree on the shape of the processing model?","m.mentions":{"user_ids":["@smaug:mozilla.org","@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1731508683514,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$nxVG7laz82EwZINKK7ClIxVAr2Nb249Sm8_Ond1D5fI"},
{"content":{"body":"I think it needs another round of reviews, given that there were some rather obvious issues still couple of days ago.","m.mentions":{},"msgtype":"m.text"},"ts":1731509159143,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$3XfrAGAhLiRfLFnJiXnzm1rHGlOdssATZAoOUdB5CEk"},
{"content":{"body":"smaug: One of the comments is waiting on your feedback I believe","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: One of the comments is waiting on your feedback I believe","m.mentions":{"user_ids":["@smaug:mozilla.org"]},"msgtype":"m.text"},"ts":1731509210003,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$lc5FmFdTqbpVoZKodgxFWxz6m8RL9xZkfPHiSInI-uE"},
{"content":{"body":"(range updates)","m.mentions":{},"msgtype":"m.text"},"ts":1731509218315,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$cBBAXuFC1qKUmagAJGUyxR0QFXxNk2aqfjxTcNiA6GQ"},
{"content":{"body":"sure, the range/selection part. But things like not handling Shadowroot or having wrong assumptions how ranges work were a bit surprising","m.mentions":{},"msgtype":"m.text"},"ts":1731509280264,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$TphYsFe2g6q2-1wGJb1TrKr3i7kB9zM-iJh0dZ9mY4Y"},
{"content":{"body":"How do you feel about https://github.com/whatwg/dom/pull/1307#discussion_r1838738862","m.mentions":{},"msgtype":"m.text"},"ts":1731509296896,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$AmiQMqs9-ztVlY1kxDkTCFT2INb2uJxgiuP293K7gbw"},
{"content":{"body":"Right, I don't think stage 3 is \"all bugs are fixed\" heh","m.mentions":{},"msgtype":"m.text"},"ts":1731509306125,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$pp51jkzFJZu9GROqR4NW5L0mEJGEktAwmZNRIQo_ciY"},
{"content":{"body":"...which is why I'd prefer another round of reviews","m.mentions":{},"msgtype":"m.text"},"ts":1731509306257,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$jp4haAk9cDQidR9cArSkCsXNHF9EGQWcEsxPesaVMZ0"},
{"content":{"body":"OK, I'd appreciate your thoughts on https://github.com/whatwg/dom/pull/1307#discussion_r1838738862: keeping the container preservation approach except for when we cross the shadow boundary","m.mentions":{},"msgtype":"m.text"},"ts":1731509341084,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$jEZygpEV7-XKGSDZeZFc5Us0KUDhV7QlRssfn7du2a4"},
{"content":{"body":"Or do you feel pretty set on not doing nothing special for Ranges during moveBefore() (treating them like remove + insert instead)","m.mentions":{},"msgtype":"m.text"},"ts":1731509378663,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$qzv2poSe35PrEIlvLr852eVjOoJTKYjFiuqW1uchh8U"},
{"content":{"body":"The downside of that is that we never preserve selection if the selection range's endpoints move around","m.mentions":{},"msgtype":"m.text"},"ts":1731509396757,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$WSxCkYlzoHGWzpUrQe4zhInNmTvHDbyAt-T-CAJTLOo"},
{"content":{"body":"Not the end of the world, but \"better\" selection preservation feels nice","m.mentions":{},"msgtype":"m.text"},"ts":1731509415989,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$j4ZvBHUU_ztblLp9MruH5hDzvQ0RaLPhknkgkoeGF4s"}
]