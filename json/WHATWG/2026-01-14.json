[
{"content":{"body":"I remember we had a discussion about \"then\" following \"Otherwise\". I vaguely recall we wanted to change towards including it. Does anyone else have a recollection of this and maybe a pointer? jmdyck?","format":"org.matrix.custom.html","formatted_body":"I remember we had a discussion about \"then\" following \"Otherwise\". I vaguely recall we wanted to change towards including it. Does anyone else have a recollection of this and maybe a pointer? <a href=\"https://matrix.to/#/@jmdyck:matrix.org\">jmdyck</a>?","m.mentions":{"user_ids":["@jmdyck:matrix.org"]},"msgtype":"m.text"},"ts":1768383424594,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$8CUnnXj7Rd7uleg4aWtOLnl-yCaDJNtklrdMOGr8PE4"},
{"content":{"body":"sideshowbarker: I don't see anything about `selectedcontent` handling in the Tree Construction part of the spec. Is there an in-flight spec PR that I should be looking at, or have the cloning effects of parsing been specced in a way that's not visible in the parsing spec?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: I don't see anything about <code>selectedcontent</code> handling in the Tree Construction part of the spec. Is there an in-flight spec PR that I should be looking at, or have the cloning effects of parsing been specced in a way that's not visible in the parsing spec?","m.mentions":{"user_ids":["@sideshowbarker:matrix.org"]},"msgtype":"m.text"},"ts":1768390975287,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$DtLdF78YEEam87UUn6TtD5qQEYVt3dSQ08ujcoPFabc"},
{"content":{"body":"See the hook to the _“maybe clone an option into selectedcontent”_ algorithm here: https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element:maybe-clone-an-option-into-selectedcontent\n\nAnd see the _“maybe clone an option into selectedcontent”_ algorithm itself here: https://html.spec.whatwg.org/multipage/form-elements.html#maybe-clone-an-option-into-selectedcontent","format":"org.matrix.custom.html","formatted_body":"<p>See the hook to the <em>“maybe clone an option into selectedcontent”</em> algorithm here: https://html.spec.whatwg.org/multipage/form-elements.html#the-option-element:maybe-clone-an-option-into-selectedcontent</p>\n<p>And see the <em>“maybe clone an option into selectedcontent”</em> algorithm itself here: https://html.spec.whatwg.org/multipage/form-elements.html#maybe-clone-an-option-into-selectedcontent</p>\n","m.mentions":{"user_ids":["@hsivonen:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$DtLdF78YEEam87UUn6TtD5qQEYVt3dSQ08ujcoPFabc"}},"msgtype":"m.text"},"ts":1768391665523,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$SEVYYIEPYki6_sSiYtTLw3MoD5XIutaNbYEcyjrVUEo"},
{"content":{"body":"sideshowbarker: Thanks. I can see why the text would end up there in order to cover XML, but it's not good that the HTML parsing algorithm is silent about this.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: Thanks. I can see why the text would end up there in order to cover XML, but it's not good that the HTML parsing algorithm is silent about this.","m.mentions":{"user_ids":["@sideshowbarker:matrix.org"]},"msgtype":"m.text"},"ts":1768391825989,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$3ogMmfMpTuETU-8-l9X-RjRTlhzihcHRntkT0UbfODQ"},
{"content":{"body":"Yeah, I vaguely recall a mention of that having come up during review of the PR. Regardless, I feel the same as you and I probably should have chimed in to say so myself on the PR review at the time. But I had no intention of implementing it myself. I only took a shot at implementing it for Gecko because nobody else had yet, and I wanted it part so that I could resolve the open checker issue at https://github.com/validator/validator/issues/1854","m.mentions":{"user_ids":["@hsivonen:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$3ogMmfMpTuETU-8-l9X-RjRTlhzihcHRntkT0UbfODQ"}},"msgtype":"m.text"},"ts":1768392059408,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$rT187WdrDyyaaekFYUt1orfoLnleiCSTBMZTBq6sesY"},
{"content":{"body":"sideshowbarker: It seems to me that the spec expects cloning to happen on what's in the DOM at cloning time and not on what the parser has seen. Am I missing something?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: It seems to me that the spec expects cloning to happen on what's in the DOM at cloning time and not on what the parser has seen. Am I missing something?","m.mentions":{"user_ids":["@sideshowbarker:matrix.org"]},"msgtype":"m.text"},"ts":1768392285792,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$YA0C2DiaTbfFcuLH2j1AUcetob4mYaoAHwUwTBrnuMs"},
{"content":{"body":"hsivonen:  And also on that subject, I have some reservations about what implementing the _“Out of order HTML streaming (\"patching\")”_ is going to be like, and I guess I should probably speak up about those. But I hope to god I don’t end up needing to try to implement that one. It’d be much better if you did — or at least somebody else with more chops than me.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>:  And also on that subject, I have some reservations about what implementing the <em>“Out of order HTML streaming (\"patching\")”</em> is going to be like, and I guess I should probably speak up about those. But I hope to god I don’t end up needing to try to implement that one. It’d be much better if you did&nbsp;— or at least somebody else with more chops than me.","m.mentions":{"user_ids":["@hsivonen:mozilla.org"]},"msgtype":"m.text"},"ts":1768392292586,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$nW8nyoTcGYDlij9aqNmjEoGIpoaoaUfc98ksc3MWZJQ"},
{"content":{"body":"* hsivonen:  And also on that subject, I have some reservations about what implementing the whole _“Out of order HTML streaming (\"patching\")”_ thing is going to be like, and I guess I should probably speak up about those. But I hope to god I don’t end up needing to try to implement that one. It’d be much better if you did — or at least somebody else with more chops than me.","format":"org.matrix.custom.html","formatted_body":"* <a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>:  And also on that subject, I have some reservations about what implementing the whole <em>“Out of order HTML streaming (\"patching\")”</em> thing is going to be like, and I guess I should probably speak up about those. But I hope to god I don’t end up needing to try to implement that one. It’d be much better if you did&nbsp;— or at least somebody else with more chops than me.","m.mentions":{},"m.new_content":{"body":"hsivonen:  And also on that subject, I have some reservations about what implementing the whole _“Out of order HTML streaming (\"patching\")”_ thing is going to be like, and I guess I should probably speak up about those. But I hope to god I don’t end up needing to try to implement that one. It’d be much better if you did — or at least somebody else with more chops than me.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>:  And also on that subject, I have some reservations about what implementing the whole <em>“Out of order HTML streaming (\"patching\")”</em> thing is going to be like, and I guess I should probably speak up about those. But I hope to god I don’t end up needing to try to implement that one. It’d be much better if you did&nbsp;— or at least somebody else with more chops than me.","m.mentions":{"user_ids":["@hsivonen:mozilla.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$nW8nyoTcGYDlij9aqNmjEoGIpoaoaUfc98ksc3MWZJQ","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1768392329969,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$aZzoULUIfxTEoVyvrFnWgekzfylOhwyWcbiilxVldB8"},
{"content":{"body":"(not that it’s even been written up yet — I’m just anticipating the shape)","m.mentions":{},"msgtype":"m.text"},"ts":1768392389162,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$-h3yFzcuWmqioRU__t09shQTUzcTIjYRGxxwzD20Ueg"},
{"content":{"body":"* Yeah, I vaguely recall a mention of that having come up during review of the PR. Regardless, I feel the same as you and I probably should have chimed in to say so myself on the PR review at the time. But at that point, I had no intention of implementing it myself. I only took a shot at implementing it for Gecko because nobody else had yet, and I wanted it part so that I could resolve the open checker issue at https://github.com/validator/validator/issues/1854","m.mentions":{},"m.new_content":{"body":"Yeah, I vaguely recall a mention of that having come up during review of the PR. Regardless, I feel the same as you and I probably should have chimed in to say so myself on the PR review at the time. But at that point, I had no intention of implementing it myself. I only took a shot at implementing it for Gecko because nobody else had yet, and I wanted it part so that I could resolve the open checker issue at https://github.com/validator/validator/issues/1854","m.mentions":{"user_ids":["@hsivonen:mozilla.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$rT187WdrDyyaaekFYUt1orfoLnleiCSTBMZTBq6sesY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1768392463553,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$yYZBLT8V7vj7__gjyAEOWuRwPrXOWZsImEmtdo5xSok"},
{"content":{"body":"* Yeah, I vaguely recall a mention of that having come up during review of the PR. Regardless, I feel the same as you and I probably should have chimed in to say so myself on the PR review at the time. But at that point, I had no intention of implementing it myself. I only took a shot at implementing it for Gecko because nobody else had yet, and I wanted it in part so that I could resolve the open checker issue at https://github.com/validator/validator/issues/1854","m.mentions":{},"m.new_content":{"body":"Yeah, I vaguely recall a mention of that having come up during review of the PR. Regardless, I feel the same as you and I probably should have chimed in to say so myself on the PR review at the time. But at that point, I had no intention of implementing it myself. I only took a shot at implementing it for Gecko because nobody else had yet, and I wanted it in part so that I could resolve the open checker issue at https://github.com/validator/validator/issues/1854","m.mentions":{"user_ids":["@hsivonen:mozilla.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$rT187WdrDyyaaekFYUt1orfoLnleiCSTBMZTBq6sesY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1768392476306,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$NMTX8VoDenZqGtNtS0MrHvUKkkespDIs3dhr23Z9w-E"}
]