[
{"content":{"body":"Thanks krosylight!","format":"org.matrix.custom.html","formatted_body":"Thanks <a href=\"https://matrix.to/#/@krosylight:mozilla.org\">krosylight</a>!","msgtype":"m.text"},"ts":1635920228422,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$t3aKxy0YB13m2QdyCt92I9w81f7DG7ytTPTjxgKofKc"},
{"content":{"body":"denies everything","msgtype":"m.emote"},"ts":1635927043300,"senderName":"Ms2ger ðŸ’‰ðŸ’‰","senderId":"@ms2ger:igalia.com","id":"$wQO_8LRprpBAHw8AlfazPx8bX6AXn2F3z8t67dddsrM"},
{"content":{"body":"Jake Archibald: so one thing that strikes me is that there's no forwarding of cancelation to a fetch initiated by the service worker","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a>: so one thing that strikes me is that there's no forwarding of cancelation to a fetch initiated by the service worker","msgtype":"m.text"},"ts":1635932301859,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$XQqDVdravzigUE7N-QOqC7vxSZV8ULIL7EOGxoHExTg"},
{"content":{"body":"annevk: in which direction? As in, which side is listening for the cancelation, and which side is cancelling?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: in which direction? As in, which side is listening for the cancelation, and which side is cancelling?","msgtype":"m.text"},"ts":1635932353135,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$NzmwADv5Fofm4wof-5zqI3bzP5EbR6_9cM-mMfWMnV8"},
{"content":{"body":"Jake Archibald: so if a document fetches A and the service worker fetches B and returns that, when exactly will it listen to aborting of A?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a>: so if a document fetches A and the service worker fetches B and returns that, when exactly will it listen to aborting of A?","msgtype":"m.text"},"ts":1635932358664,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$eo0mI0M-vrKmfxdb7TXwAGhYLoBrsPQqzC5NcOeTnKE"},
{"content":{"body":"annevk: if the stream is cancelled, that part works right? For stuff that happens before that, I thought `fetchEvent.request.signal` could be used as an indicator","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: if the stream is cancelled, that part works right? For stuff that happens before that, I thought <code>fetchEvent.request.signal</code> could be used as an indicator","msgtype":"m.text"},"ts":1635932431063,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$ebP2mk6qZxjRqo7hcgoTAUmzFApccEn2tSDCVy4GMFo"},
{"content":{"body":"I guess only if it reuses the Request object in some manner, although I'm not sure how well that is defined","msgtype":"m.text"},"ts":1635932439155,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$-5Ja7_BFpzW7rttcjLJTbRMTJjRGmny_FutviH8D40I"},
{"content":{"body":"I think it there might be some race issues, but canceling the stream probably works, yeah","msgtype":"m.text"},"ts":1635932480635,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$2Q1UHYkAt9H4sGOK2se7P8TdY4twy9l9HYfhQ87tBP4"},
{"content":{"body":"Noam Rosenthal: I think one thing that might influence the design of the interaction with service workers is what we want to do with timing","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: I think one thing that might influence the design of the interaction with service workers is what we want to do with timing","msgtype":"m.text"},"ts":1635932580692,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$iJS9tbw9O3ke_pQVkKQStc1XIuK7FN0g4rL1gPWgNUY"},
{"content":{"body":"Noam Rosenthal: I'm not entirely sure what information needs to be exchanged","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: I'm not entirely sure what information needs to be exchanged","msgtype":"m.text"},"ts":1635932595579,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$af5k9Y8OQFEFRoLvG8ICBuEmVdiR2xFHu5m-Ib0SX-8"},
{"content":{"body":"Noam Rosenthal: if that information would ideally be on a \"service worker fetch event controller\", I guess that's what we should add","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: if that information would ideally be on a &quot;service worker fetch event controller&quot;, I guess that's what we should add","msgtype":"m.text"},"ts":1635932622879,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$MyboZwqhxmFPjO1-5hepZFB6tH4su2aL6LYmbV_R5hM"},
{"content":{"body":"Noam Rosenthal: as per your suggestion, and fetch would forward an abort to that controller","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: as per your suggestion, and fetch would forward an abort to that controller","msgtype":"m.text"},"ts":1635932655284,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$0gxp2QUu21X5eOKWVk5smjMrndmB-ina6Lgrlp4oXIo"},
{"content":{"body":"(It's a little weird that in JavaScript the cancelation is managed by AbortSignal on the Request, but that doesn't encompass all types of aborting that might happen, so maybe this is okay.)","msgtype":"m.text"},"ts":1635932735322,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$NA4OzEDFL_RcRqDviko46BbS99OYrs6SReo3SL9l-as"}
]