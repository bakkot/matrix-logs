[
{"content":{"body":"> <@bakkot:matrix.org> maybe it's just that the `arrayBuffer` method predates the more general tendency to prefer `Uint8Array`?\n\nI think this is likely.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$XvjX5fIF8UdZ0evI8Z7PTeIiY7fhuMO-m2eCBegmQYg?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">@bakkot:matrix.org</a><br>maybe it's just that the <code>arrayBuffer</code> method predates the more general tendency to prefer <code>Uint8Array</code>?</blockquote></mx-reply>I think this is likely.","m.mentions":{"user_ids":["@bakkot:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$XvjX5fIF8UdZ0evI8Z7PTeIiY7fhuMO-m2eCBegmQYg"}},"msgtype":"m.text"},"ts":1705555837634,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$FTdtZIq9Bf_dyM8IDBth1CcMtRrp-WtOJ8Py7nzlBj4"},
{"content":{"body":"Figure there's any appetite for adding a `.bytes()` method to get a Uint8Array? It feels a bit unnecessary given that you can just do `new Uint8Array(await body.arrayBuffer())`, but it would be more consistent in allowing people to never think about ArrayBuffers","format":"org.matrix.custom.html","formatted_body":"Figure there's any appetite for adding a <code>.bytes()</code> method to get a Uint8Array? It feels a bit unnecessary given that you can just do <code>new Uint8Array(await body.arrayBuffer())</code>, but it would be more consistent in allowing people to never think about ArrayBuffers","m.mentions":{},"msgtype":"m.text"},"ts":1705556427733,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$neESJV24Kb1Pz9u_n5txD08fa4WZN3gPDZeSVsutFqw"},
{"content":{"body":"I think so. Seems uncontroversial, but also the kind of thing that would benefit from someone being willing to submit patches since it's not exactly fitting into any team's quarterly goals.","m.mentions":{},"msgtype":"m.text"},"ts":1705557361756,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$UhKPLnvVGhFfBxRJsBSnzRkEhGqDRakZhDTRJWXPZy4"},
{"content":{"body":"bakkot: that seems reasonable. We'd have to add it to some other APIs too that copied Fetch. And maybe we should annotate `arrayBuffer()` somehow so it doesn't get copied further.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: that seems reasonable. We'd have to add it to some other APIs too that copied Fetch. And maybe we should annotate <code>arrayBuffer()</code> somehow so it doesn't get copied further.","m.mentions":{"user_ids":["@bakkot:matrix.org"]},"msgtype":"m.text"},"ts":1705563905730,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$OOa8i2UxDUM9fr0lpWe_fB--M1IdDjOGRqS4Ocnx7Tg"}
]