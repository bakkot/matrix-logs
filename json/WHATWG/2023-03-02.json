[
{"content":{"body":"mfreed: any chance you could look at the remaining popover issues/PRs this week?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@mfreed:matrix.org\">mfreed</a>: any chance you could look at the remaining popover issues/PRs this week?","msgtype":"m.text"},"ts":1677716404837,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$DbvlupHLGGftBQ6aaxrvDuD4pwZxtVXqB9RYE2VzDgA"},
{"content":{"body":"miketayl_r: Does Privacy Budget currently sometimes deny `getHighEntropyValues` or cause it to alter its response or does `getHighEntropyValues` always succeed and return actual high-entropy values?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@miketayl_r:mozilla.org\">miketayl_r</a>: Does Privacy Budget currently sometimes deny <code>getHighEntropyValues</code> or cause it to alter its response or does <code>getHighEntropyValues</code> always succeed and return actual high-entropy values?","msgtype":"m.text"},"ts":1677748936657,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$CxoiExHgMV39-N8OanbtaLVsq5QR7BknlKxja7t6geo"},
{"content":{"body":"> <@hsivonen:mozilla.org> miketayl_r: Does Privacy Budget currently sometimes deny `getHighEntropyValues` or cause it to alter its response or does `getHighEntropyValues` always succeed and return actual high-entropy values?\n\nI'm somewhat skeptical of the practicality of Chrome implementing https://bugs.chromium.org/p/chromium/issues/detail?id=1259413 or any other browser implementing a user-visible prompt with the first and promoted-to-Web-developers implementation having been out there without a prompt.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$CxoiExHgMV39-N8OanbtaLVsq5QR7BknlKxja7t6geo?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">@hsivonen:mozilla.org</a><br><a href=\"https://matrix.to/#/@miketayl_r:mozilla.org\">miketayl_r</a>: Does Privacy Budget currently sometimes deny <code>getHighEntropyValues</code> or cause it to alter its response or does <code>getHighEntropyValues</code> always succeed and return actual high-entropy values?</blockquote></mx-reply>I'm somewhat skeptical of the practicality of Chrome implementing https://bugs.chromium.org/p/chromium/issues/detail?id=1259413 or any other browser implementing a user-visible prompt with the first and promoted-to-Web-developers implementation having been out there without a prompt.","m.relates_to":{"m.in_reply_to":{"event_id":"$CxoiExHgMV39-N8OanbtaLVsq5QR7BknlKxja7t6geo"}},"msgtype":"m.text"},"ts":1677749075953,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$pftjVvEpXIoThyOcEiVZY3NYi1MUpZn2ixDu75D5b2Q"},
{"content":{"body":"So many leftover popover issues. And review already took quite a while. Sigh.","msgtype":"m.text"},"ts":1677769887902,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$zLHP4Mw71l0BWaqgsEmEAAumD9zWtam9QEKxqQ8hQIs"},
{"content":{"body":"postMessaging a SharedArrayBuffer cross-agent-cluster should result in a DataClone error, right? Per https://html.spec.whatwg.org/multipage/structured-data.html#structureddeserialize:~:text=is%20%22SharedArrayBuffer%22%2C%20then%3A-,If%20targetRealm%27s%20corresponding%20agent%20cluster%20is%20not%20serialized.%5B%5BAgentCluster%5D%5D%2C%20then%20then%20throw,-a%20%22DataCloneError (step 12 > 1).","msgtype":"m.text"},"ts":1677782673945,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$xsCPB-zSEpN_qlkwVQifQV6JhgLgXj8tGk5JeLXR7qU"},
{"content":{"body":"The spec says to throw a DataClone error thrown when deserializing a `SharedArrayBuffer` from a different agent cluster (so not in `postMessage`; instead, you'd get an `error` event at the other end rather than a `message` event), but I don't think that is even possible","format":"org.matrix.custom.html","formatted_body":"The spec says to throw a DataClone error thrown when deserializing a <code>SharedArrayBuffer</code> from a different agent cluster (so not in <code>postMessage</code>; instead, you'd get an <code>error</code> event at the other end rather than a <code>message</code> event), but I don't think that is even possible","msgtype":"m.text"},"ts":1677782886929,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$wq49r73OKuRrsdXUtxiJTNO3vofIytO865BS6g3cSac"},
{"content":{"body":"yeah I can't reproduce an error event on the receiving end in either Chrome or Firefox, unless I'm doing it wrong","msgtype":"m.text"},"ts":1677782952723,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$pkyd1EskVIQ5B6fc8HeUo-6KLwom8raLb7uFrXRg6Vs"},
{"content":{"body":"I had the mental model that it was impossible to `postMessage` anything to a different agent cluster, but I'm not actually sure if that's right","format":"org.matrix.custom.html","formatted_body":"I had the mental model that it was impossible to <code>postMessage</code> anything to a different agent cluster, but I'm not actually sure if that's right","msgtype":"m.text"},"ts":1677783016916,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$Eb51zuGX-LD-sxZ6IsJPozbstk-fkmxwz1123d4Lm_8"},
{"content":{"body":"postMessage is mostly for things in a different agent cluster","msgtype":"m.text"},"ts":1677783069197,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$UI4RlOIphxKutDDXCBBr0GLkJYz9abrsc9pDUR1fU4I"},
{"content":{"body":"i.e., cross-origin iframes","msgtype":"m.text"},"ts":1677783075155,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$gsp30lHkmsFZ91JBIKZmL1iLAL_6gRlsd2lbelaCXOA"},
{"content":{"body":"its just that SharedArrayBuffers are restricted to moving between agents _inside_ an Agent cluster, since we don't have cross-origin shared memory","format":"org.matrix.custom.html","formatted_body":"its just that SharedArrayBuffers are restricted to moving between agents <em>inside</em> an Agent cluster, since we don't have cross-origin shared memory","msgtype":"m.text"},"ts":1677783106184,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$MXkxtwrT3Ex6G1RlQ0Bp1eZzYQxs9eBv9U52oQB3RVg"},
{"content":{"body":"my mental model was mostly based on `Worker.prototype.postMessage`, I think","format":"org.matrix.custom.html","formatted_body":"my mental model was mostly based on <code>Worker.prototype.postMessage</code>, I think","msgtype":"m.text"},"ts":1677783139949,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$MGB-eJUOLB42tsV6ZT_us-7rjj_3VyH7q12wSa8F2f0"},
{"content":{"body":"since I was working on that in the context of Deno","msgtype":"m.text"},"ts":1677783148842,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$rjitmei0twRr08n3HfGH58K9Ze9CMIg6wqYFXo1ulQs"},
{"content":{"body":"I see","msgtype":"m.text"},"ts":1677783150011,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$sFzYJ5edrZJcHrgHxT0oOj8-gI_w-XhmQgNrxM7eErQ"},
{"content":{"body":"Dominic Farolino: since you don't know upfront whether it'll go cross-agent-cluster the error happens when deserializing","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domfarolino:matrix.org\">Dominic Farolino</a>: since you don't know upfront whether it'll go cross-agent-cluster the error happens when deserializing","msgtype":"m.text"},"ts":1677783402045,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$6YwJ7KL0k4cVBzd4xyoeHF-DGuDQoWnGOtDQ0e2lDzI"},
{"content":{"body":"Right, I knew that part (I didn't clarify that in my question). I just can't observe the error being thrown on the receiver side","msgtype":"m.text"},"ts":1677783513671,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$PtxJmyOMqVnTUnSSWB4_CiqecOrLDXxFnLT6rouKlMg"},
{"content":{"body":"Dominic Farolino: there's no `messageerror` event?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domfarolino:matrix.org\">Dominic Farolino</a>: there's no <code>messageerror</code> event?","msgtype":"m.text"},"ts":1677783564569,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$G0n_E9vaYMg29E_fp3IsyWDZMNoPZxbOC0aLD9kic4w"}
]