[
{"content":{"body":"Luke Warlow (ooo): Wondering how come you didn't also end up being the one to do the Gecko implementation for Trusted Types","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@lwarlow:igalia.com\">@lwarlow:igalia.com</a>: Wondering how come you didn't also end up being the one to do the Gecko implementation for Trusted Types","msgtype":"m.text"},"ts":1730251092171,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$aGtv1VHodKVtmyTDjojHRQD9f_blsRwGG7eDafZ6BKI"},
{"content":{"body":"I was thinking about the `focusin`/`focusout` thing with `moveBefore`. Perhaps the right thing to do is to fire *only* `focusin`, and *only* if the element is indeed reparented (not e.g. reordered). \nWe anyway don't fire `blur`/`focusout` when an element is removed","format":"org.matrix.custom.html","formatted_body":"I was thinking about the <code>focusin</code>/<code>focusout</code> thing with <code>moveBefore</code>. Perhaps the right thing to do is to fire <em>only</em> <code>focusin</code>, and <em>only</em> if the element is indeed reparented (not e.g. reordered).<br>We anyway don't fire <code>blur</code>/<code>focusout</code> when an element is removed","m.mentions":{},"msgtype":"m.text"},"ts":1730283349324,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$tvTZ_bCnq1Fs2eMsbDff5dr96JS78rZbMrdGwL_uNDs"},
{"content":{"body":"annevk: keithamus smaug WDYT?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: <a href=\"https://matrix.to/#/@keithamus:matrix.org\">keithamus</a> <a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a> WDYT?","m.mentions":{"user_ids":["@annevk:matrix.org","@keithamus:matrix.org","@smaug:mozilla.org"]},"msgtype":"m.text"},"ts":1730283371917,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$GSR6AKIldQ5WmRIIiiQdl-5BiKALU-WLvIHm2DGFR3s"},
{"content":{"body":"Seems reasonable to me. ","format":"org.matrix.custom.html","formatted_body":"Seems reasonable to me.","msgtype":"m.text"},"ts":1730284309744,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$SZ7Dc_eeLCKWZDg1z3lqfpNbQzB-FFKtxw1S0rQs_BM"},
{"content":{"body":"> <@sideshowbarker:matrix.org> Luke Warlow (ooo): Wondering how come you didn't also end up being the one to do the Gecko implementation for Trusted Types\n\nNot to answer for him, but work began somewhat in parallel so that would've been difficult ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$aGtv1VHodKVtmyTDjojHRQD9f_blsRwGG7eDafZ6BKI?via=igalia.com&via=matrix.org&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">@sideshowbarker:matrix.org</a><br /><a href=\"https://matrix.to/#/@lwarlow:igalia.com\">@lwarlow:igalia.com</a>: Wondering how come you didn't also end up being the one to do the Gecko implementation for Trusted Types</blockquote></mx-reply>Not to answer for him, but work began somewhat in parallel so that would've been difficult","m.relates_to":{"m.in_reply_to":{"event_id":"$aGtv1VHodKVtmyTDjojHRQD9f_blsRwGG7eDafZ6BKI"}},"msgtype":"m.text"},"ts":1730285696523,"senderName":"bkardell","senderId":"@bkardell:igalia.com","id":"$ox4Hpt4RGh102r-xOse77-_Ql2jc8RniGZViJjvsHeg"},
{"content":{"body":"> <@bkardell:igalia.com> Not to answer for him, but work began somewhat in parallel so that would've been difficult \n\nI see. Same ultimate funding source, though?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$ox4Hpt4RGh102r-xOse77-_Ql2jc8RniGZViJjvsHeg?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@bkardell:igalia.com\">@bkardell:igalia.com</a><br />Not to answer for him, but work began somewhat in parallel so that would've been difficult</blockquote></mx-reply>I see. Same ultimate funding source, though?","m.relates_to":{"m.in_reply_to":{"event_id":"$ox4Hpt4RGh102r-xOse77-_Ql2jc8RniGZViJjvsHeg"}},"msgtype":"m.text"},"ts":1730285877613,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$Dktu2PKTEwFDE8qlaCa0wKKVXclQV-rVfh9Oh0-fgZc"},
{"content":{"body":"Yes, unless I'm mistaken ","msgtype":"m.text"},"ts":1730285941757,"senderName":"bkardell","senderId":"@bkardell:igalia.com","id":"$nk5uUfhws8n8Z3wEbOnM_I5xIeNYmDoTNNHFTGUgn-w"},
{"content":{"body":"I think \"no\", but this does not seem to be the right forum to discuss :)","m.mentions":{},"msgtype":"m.text"},"ts":1730285992121,"senderName":"freddy","senderId":"@fbraun:mozilla.org","id":"$j5f1oUygKJ-Zu6xJ4ibEIBFJuqSIO7PTWX57mAdF9FQ"},
{"content":{"body":"freddy: you'd know better i guess üòä","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@fbraun:mozilla.org\">@fbraun:mozilla.org</a>: you'd know better i guess üòä","msgtype":"m.text"},"ts":1730286126259,"senderName":"bkardell","senderId":"@bkardell:igalia.com","id":"$XrFzN68xUcn0hYOggZvSe5MI8ENVm_-_lQGOa1BZJkM"},
{"content":{"body":"> <@fbraun:mozilla.org> I think \"no\", but this does not seem to be the right forum to discuss :)\n\nYeah you're right ‚Äî apologies for bringing it up here","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$j5f1oUygKJ-Zu6xJ4ibEIBFJuqSIO7PTWX57mAdF9FQ?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@fbraun:mozilla.org\">@fbraun:mozilla.org</a><br />I think &quot;no&quot;, but this does not seem to be the right forum to discuss :)</blockquote></mx-reply>Yeah you're right ‚Äî apologies for bringing it up here","m.relates_to":{"m.in_reply_to":{"event_id":"$j5f1oUygKJ-Zu6xJ4ibEIBFJuqSIO7PTWX57mAdF9FQ"}},"msgtype":"m.text"},"ts":1730286191643,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$L7aoE4-WkXsMX5shnoyvLCisH7kIXfVbYPD_lIC3hz8"},
{"content":{"body":"> <@zcorpan:mozilla.org> sideshowbarker: though where does it say to use the `value`? i.e. where does the \"3\" come from? https://w3c.github.io/html-aam/#input-type-text-input-type-password-input-type-number-input-type-search-input-type-tel-input-type-email-input-type-url-and-textarea-element-accessible-name-computation\n\nhttps://github.com/LadybirdBrowser/ladybird/pull/2033/files#diff-09f2556b71c3f11db8fcda94914e8207e8268c667dc63a1aa6d2e906034439abR2236 is how I ended up implementing it. It implements what seems to be what the spec intends, if not strictly what the spec states.\n\nThat only implements the computation for the ‚Äúembedded controls‚Äù cases. And for that I didn‚Äôt end up needing to consult the the HTML-AAM spec at all. I will when I need to implement handling for some cases like `button`, `summary`, `fieldset`, `table` ‚Äî¬†which I think the existing code doesn‚Äôt deal with at all yet but that I‚Äôll get to when I start looking at whatever specific existing accname WPT test cases we have for those (if any)","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$k_Wf6QaZOtU76KifawCJkvxqvzdXNpiopblQb4-tjbE?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">@zcorpan:mozilla.org</a><br><a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: though where does it say to use the <code>value</code>? i.e. where does the \"3\" come from? https://w3c.github.io/html-aam/#input-type-text-input-type-password-input-type-number-input-type-search-input-type-tel-input-type-email-input-type-url-and-textarea-element-accessible-name-computation</blockquote></mx-reply><p>https://github.com/LadybirdBrowser/ladybird/pull/2033/files#diff-09f2556b71c3f11db8fcda94914e8207e8268c667dc63a1aa6d2e906034439abR2236 is how I ended up implementing it. It implements what seems to be what the spec intends, if not strictly what the spec states.</p>\n<p>That only implements the computation for the ‚Äúembedded controls‚Äù cases. And for that I didn‚Äôt end up needing to consult the the HTML-AAM spec at all. I will when I need to implement handling for some cases like <code>button</code>, <code>summary</code>, <code>fieldset</code>, <code>table</code> ‚Äî&nbsp;which I think the existing code doesn‚Äôt deal with at all yet but that I‚Äôll get to when I start looking at whatever specific existing accname WPT test cases we have for those (if any)</p>\n","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$k_Wf6QaZOtU76KifawCJkvxqvzdXNpiopblQb4-tjbE"}},"msgtype":"m.text"},"ts":1730290765453,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$XMAV3ZnomJEIJucurFF3cSxCrQSDLqDpa8ssAwAGnuY"},
{"content":{"body":"> <@zcorpan:mozilla.org> sideshowbarker: though where does it say to use the `value`? i.e. where does the \"3\" come from? https://w3c.github.io/html-aam/#input-type-text-input-type-password-input-type-number-input-type-search-input-type-tel-input-type-email-input-type-url-and-textarea-element-accessible-name-computation\n\n * https://github.com/LadybirdBrowser/ladybird/pull/2033/files#diff-09f2556b71c3f11db8fcda94914e8207e8268c667dc63a1aa6d2e906034439abR2241-R2312 is how I ended up implementing it. It implements what seems to be what the spec intends, if not strictly what the spec states.\n\nThat only implements the computation for the ‚Äúembedded controls‚Äù cases. And for that I didn‚Äôt end up needing to consult the the HTML-AAM spec at all. I will when I need to implement handling for some cases like `button`, `summary`, `fieldset`, `table` ‚Äî¬†which I think the existing code doesn‚Äôt deal with at all yet but that I‚Äôll get to when I start looking at whatever specific existing accname WPT test cases we have for those (if any)","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$k_Wf6QaZOtU76KifawCJkvxqvzdXNpiopblQb4-tjbE?via=matrix.org&amp;via=mozilla.org&amp;via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">@zcorpan:mozilla.org</a><br><a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: though where does it say to use the <code>value</code>? i.e. where does the \"3\" come from? https://w3c.github.io/html-aam/#input-type-text-input-type-password-input-type-number-input-type-search-input-type-tel-input-type-email-input-type-url-and-textarea-element-accessible-name-computation</blockquote></mx-reply> * <p>https://github.com/LadybirdBrowser/ladybird/pull/2033/files#diff-09f2556b71c3f11db8fcda94914e8207e8268c667dc63a1aa6d2e906034439abR2241-R2312 is how I ended up implementing it. It implements what seems to be what the spec intends, if not strictly what the spec states.</p>\n<p>That only implements the computation for the ‚Äúembedded controls‚Äù cases. And for that I didn‚Äôt end up needing to consult the the HTML-AAM spec at all. I will when I need to implement handling for some cases like <code>button</code>, <code>summary</code>, <code>fieldset</code>, <code>table</code> ‚Äî&nbsp;which I think the existing code doesn‚Äôt deal with at all yet but that I‚Äôll get to when I start looking at whatever specific existing accname WPT test cases we have for those (if any)</p>\n","m.mentions":{},"m.new_content":{"body":"https://github.com/LadybirdBrowser/ladybird/pull/2033/files#diff-09f2556b71c3f11db8fcda94914e8207e8268c667dc63a1aa6d2e906034439abR2241-R2312 is how I ended up implementing it. It implements what seems to be what the spec intends, if not strictly what the spec states.\n\nThat only implements the computation for the ‚Äúembedded controls‚Äù cases. And for that I didn‚Äôt end up needing to consult the the HTML-AAM spec at all. I will when I need to implement handling for some cases like `button`, `summary`, `fieldset`, `table` ‚Äî¬†which I think the existing code doesn‚Äôt deal with at all yet but that I‚Äôll get to when I start looking at whatever specific existing accname WPT test cases we have for those (if any)","format":"org.matrix.custom.html","formatted_body":"<p>https://github.com/LadybirdBrowser/ladybird/pull/2033/files#diff-09f2556b71c3f11db8fcda94914e8207e8268c667dc63a1aa6d2e906034439abR2241-R2312 is how I ended up implementing it. It implements what seems to be what the spec intends, if not strictly what the spec states.</p>\n<p>That only implements the computation for the ‚Äúembedded controls‚Äù cases. And for that I didn‚Äôt end up needing to consult the the HTML-AAM spec at all. I will when I need to implement handling for some cases like <code>button</code>, <code>summary</code>, <code>fieldset</code>, <code>table</code> ‚Äî&nbsp;which I think the existing code doesn‚Äôt deal with at all yet but that I‚Äôll get to when I start looking at whatever specific existing accname WPT test cases we have for those (if any)</p>\n","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$XMAV3ZnomJEIJucurFF3cSxCrQSDLqDpa8ssAwAGnuY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1730290871723,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$2hdz15ACFDPHRw56lGKZQaiqUKnWfWxu36i8KuNeRVs"},
{"content":{"body":"Noam Rosenthal: I assume you mean also focus","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: I assume you mean also focus","m.mentions":{"user_ids":["@noamr:matrix.org"]},"msgtype":"m.text"},"ts":1730295000581,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$mYRRoqXaljDKR0qi7B-qAEaOjZbURIO4gy_YcT4DYnU"},
{"content":{"body":"> <@smaug:mozilla.org> Noam Rosenthal: I assume you mean also focus\n\nNot necessarily because the important bit here is the bubbling, but open to that as well","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$mYRRoqXaljDKR0qi7B-qAEaOjZbURIO4gy_YcT4DYnU?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@smaug:mozilla.org\">@smaug:mozilla.org</a><br><a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: I assume you mean also focus</blockquote></mx-reply>Not necessarily because the important bit here is the bubbling, but open to that as well","m.mentions":{"user_ids":["@smaug:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$mYRRoqXaljDKR0qi7B-qAEaOjZbURIO4gy_YcT4DYnU"}},"msgtype":"m.text"},"ts":1730295079714,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$8Lilbi-_NHDlGb64OdNqM0SmT28utFaZ8POoMn8hY4I"},
{"content":{"body":"Why is bubbling important?","m.mentions":{},"msgtype":"m.text"},"ts":1730295097367,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$Q-cZvzAZebihMX9JCPI2r0pU3YCqgSFnst0XLKLgXUU"},
{"content":{"body":"Events have capture phase ","m.mentions":{},"msgtype":"m.text"},"ts":1730295104520,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$Zd-BIWEnWHx5_iu3BcVa6NBNS6U2qunv9vyPyDYL7ws"},
{"content":{"body":"yea I guess `capture` matters just as much","format":"org.matrix.custom.html","formatted_body":"yea I guess <code>capture</code> matters just as much","m.mentions":{},"msgtype":"m.text"},"ts":1730295144137,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$b0OQZ3nIPoXR8VxibreSo1h-x0uFEkwQYiGZEDTWngU"},
{"content":{"body":"I was thinking of `focusin` as where you'd put your general-purpose focus tree change catchers","format":"org.matrix.custom.html","formatted_body":"I was thinking of <code>focusin</code> as where you'd put your general-purpose focus tree change catchers","m.mentions":{},"msgtype":"m.text"},"ts":1730295170506,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$yZW6yaALKtwB57Dvsuxr5ZJdX7chpH0zyZtWBhgc0ok"},
{"content":{"body":"but it's not material, I think re-firing focus/focusin (but not blur/focusout) when a focused element is reparented is reasonable-ish","m.mentions":{},"msgtype":"m.text"},"ts":1730295207424,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$OBVkZV3xdsavHTDfx8BG3ukhk1X_BuWlaWt-XUIHzxo"},
{"content":{"body":"(I'd assume focus listener being used for that more often. But I have no data to back up my guess üôÇ )","m.mentions":{},"msgtype":"m.text"},"ts":1730295238451,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$FPuTO5Q2tx_f7Ox1v8UzsmVV0eEmGAA88_Js2dWVnw4"}
]