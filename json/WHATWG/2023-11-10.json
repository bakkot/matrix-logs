[
{"content":{"body":"referencing <https://github.com/whatwg/html/issues/9920> is it the case that all 3 major engines use separate processes for Shared/ServiceWorkers but keep DedicatedWorkers in the same process as the renderer, just in different threads? ","msgtype":"m.text"},"ts":1699592240931,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$lr--5oftOC7g4TYJS9ic8tTzC4bYfhZLplnyq4uoTow"},
{"content":{"body":"I was hoping to start implementing DedicatedWorkers in Ladybird assuming that any worker type would \"always\" have its own process (until there's too many processes and we have to start sharing etc etc). Which would mean we can keep covering our ears and pretend that the thread-unsafety of LibWeb/LibJS can wait until 'later' still. ","msgtype":"m.text"},"ts":1699592375458,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$5TsAh5y5UBz2Vg9O-zyGNMPNXdV7N6wrY5h_XSZm180"},
{"content":{"body":"Per the issue, Domenic:  was saying his understanding was that that's not a good idea because of the requirements for SharedArrayBuffers in the ECMAScript spec. ","format":"org.matrix.custom.html","formatted_body":"Per the issue, <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>:  was saying his understanding was that that's not a good idea because of the requirements for SharedArrayBuffers in the ECMAScript spec. ","msgtype":"m.text"},"ts":1699592491915,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$dxr5bnGpV5mhYtEDpHHKFtPAxhKYmVKBjYBIfDgTZpc"},
{"content":{"body":"> <@akaster:serenityos.org> referencing <https://github.com/whatwg/html/issues/9920> is it the case that all 3 major engines use separate processes for Shared/ServiceWorkers but keep DedicatedWorkers in the same process as the renderer, just in different threads?\n\nCorrect, I think. At least definitely correct for dedicated workers in same process; not sure if shared and service are process-isolated everywhere.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$lr--5oftOC7g4TYJS9ic8tTzC4bYfhZLplnyq4uoTow?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@akaster:serenityos.org\">@akaster:serenityos.org</a><br>referencing &lt;https://github.com/whatwg/html/issues/9920&gt; is it the case that all 3 major engines use separate processes for Shared/ServiceWorkers but keep DedicatedWorkers in the same process as the renderer, just in different threads? </blockquote></mx-reply>Correct, I think. At least definitely correct for dedicated workers in same process; not sure if shared and service are process-isolated everywhere.","m.mentions":{"user_ids":["@akaster:serenityos.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$lr--5oftOC7g4TYJS9ic8tTzC4bYfhZLplnyq4uoTow"}},"msgtype":"m.text"},"ts":1699592639581,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$PSaNQSQ00tjlRJZRQ5WiU6RLnAVmcK90flpxBtHk3dM"},
{"content":{"body":"Hmm all right.. well, we'll have to handle distinct realms existing in the same process to handle window.open, so handling separate agents (called VM, in our implementation) is probably not going to be too far from that. I'm mostly worried about the places where we still reach out to the \"main thread VM\" Singleton.. would be nice to always know which agent we're working with though.","msgtype":"m.text"},"ts":1699592783963,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$WurtFXvUVAsA7IalphhGxO3TmowUavJnE54TMAL9dU8"},
{"content":{"body":"same-origin window.open, but also same-origin iframes","m.mentions":{},"msgtype":"m.text"},"ts":1699595647919,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$gCnHFNywBfOM61yNEP_BHVK1I76KB1fg0M5D8HXRJqE"},
{"content":{"body":"HTML properties seem inconsistent when it comes to throwing or silently ignoring invalid values. Is either of those seen as the \"right way\" these days?","msgtype":"m.text"},"ts":1699598473892,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$ad_k5YtIhdcLdBbIgxcMB6ON6V1bx__KKZ6NqiKcmYI"},
{"content":{"body":"* HTML property setters seem inconsistent when it comes to throwing or silently ignoring invalid values. Is either of those seen as the \"right way\" these days?","m.new_content":{"body":"HTML property setters seem inconsistent when it comes to throwing or silently ignoring invalid values. Is either of those seen as the \"right way\" these days?","msgtype":"m.text"},"m.relates_to":{"event_id":"$ad_k5YtIhdcLdBbIgxcMB6ON6V1bx__KKZ6NqiKcmYI","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1699601206546,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$I9FvYX37oi33vd5xjcncgEP_YHpLzFpuOgybyQWs8n0"}
]