[
{"content":{"body":"Hi! I want to know if there's any likelihood of footnotes becoming an element of HTML. They're mentioned in the HTML spec in section 4.14.4 as a feature without \"a dedicated mechanism.\" The spec then suggests alternatives. Of the alternatives: using <title> is inaccessible, using <a> causes me to easily lose my place in the text with how I prefer to have it positioned on the screen, and the other suggestions don't apply to the type of footnotes I'm interested in. Altogether, I feel pretty dissatisfied with the state of footnotes on the web. :(\n\nI genuinely love reading footnotes in fiction (for jokes and translation notes!) but the UX for footnotes on the web makes it so that the inconvenience of them outweighs the joy I'd get from reading those extra bits when they'd be most appropriate. I was happy enough to overlook the inconvenience but after so many encounters I feel like there has to be a better way.","format":"org.matrix.custom.html","formatted_body":"<p>Hi! I want to know if there's any likelihood of footnotes becoming an element of HTML. They're mentioned in the HTML spec in section 4.14.4 as a feature without &quot;a dedicated mechanism.&quot; The spec then suggests alternatives. Of the alternatives: using &lt;title> is inaccessible, using <a> causes me to easily lose my place in the text with how I prefer to have it positioned on the screen, and the other suggestions don't apply to the type of footnotes I'm interested in. Altogether, I feel pretty dissatisfied with the state of footnotes on the web. :(</p>\n<p>I genuinely love reading footnotes in fiction (for jokes and translation notes!) but the UX for footnotes on the web makes it so that the inconvenience of them outweighs the joy I'd get from reading those extra bits when they'd be most appropriate. I was happy enough to overlook the inconvenience but after so many encounters I feel like there has to be a better way.</p>","m.mentions":{},"msgtype":"m.text"},"ts":1743999856393,"senderName":"Smudge","senderId":"@smudge16:matrix.org","id":"$E0ARMGyBK2dxJDpo9h8eSEFOu1_E8KRK5K9jIs19JRg"},
{"content":{"body":"* Hi! I want to know if there's any likelihood of footnotes becoming an element of HTML. They're mentioned in the HTML spec in section 4.14.4 as a feature without \"a dedicated mechanism.\" The spec then suggests alternatives. Of the alternatives: using <title> is inaccessible, using \\<a> causes me to easily lose my place in the text with how I prefer to have it positioned on the screen, and the other suggestions don't apply to the type of footnotes I'm interested in. Altogether, I feel pretty dissatisfied with the state of footnotes on the web. :(\n\nI genuinely love reading footnotes in fiction (for jokes and translation notes!) but the UX for footnotes on the web makes it so that the inconvenience of them outweighs the joy I'd get from reading those extra bits when they'd be most appropriate. I was happy enough to overlook the inconvenience but after so many encounters I feel like there has to be a better way.","format":"org.matrix.custom.html","formatted_body":"* <p>Hi! I want to know if there's any likelihood of footnotes becoming an element of HTML. They're mentioned in the HTML spec in section 4.14.4 as a feature without &quot;a dedicated mechanism.&quot; The spec then suggests alternatives. Of the alternatives: using &lt;title> is inaccessible, using &lt;a&gt; causes me to easily lose my place in the text with how I prefer to have it positioned on the screen, and the other suggestions don't apply to the type of footnotes I'm interested in. Altogether, I feel pretty dissatisfied with the state of footnotes on the web. :(</p>\n<p>I genuinely love reading footnotes in fiction (for jokes and translation notes!) but the UX for footnotes on the web makes it so that the inconvenience of them outweighs the joy I'd get from reading those extra bits when they'd be most appropriate. I was happy enough to overlook the inconvenience but after so many encounters I feel like there has to be a better way.</p>","im.nheko.relations.v1.relations":[{"event_id":"$E0ARMGyBK2dxJDpo9h8eSEFOu1_E8KRK5K9jIs19JRg","rel_type":"m.replace"}],"m.mentions":{},"m.new_content":{"body":"Hi! I want to know if there's any likelihood of footnotes becoming an element of HTML. They're mentioned in the HTML spec in section 4.14.4 as a feature without \"a dedicated mechanism.\" The spec then suggests alternatives. Of the alternatives: using <title> is inaccessible, using \\<a> causes me to easily lose my place in the text with how I prefer to have it positioned on the screen, and the other suggestions don't apply to the type of footnotes I'm interested in. Altogether, I feel pretty dissatisfied with the state of footnotes on the web. :(\n\nI genuinely love reading footnotes in fiction (for jokes and translation notes!) but the UX for footnotes on the web makes it so that the inconvenience of them outweighs the joy I'd get from reading those extra bits when they'd be most appropriate. I was happy enough to overlook the inconvenience but after so many encounters I feel like there has to be a better way.","format":"org.matrix.custom.html","formatted_body":"<p>Hi! I want to know if there's any likelihood of footnotes becoming an element of HTML. They're mentioned in the HTML spec in section 4.14.4 as a feature without &quot;a dedicated mechanism.&quot; The spec then suggests alternatives. Of the alternatives: using &lt;title> is inaccessible, using &lt;a&gt; causes me to easily lose my place in the text with how I prefer to have it positioned on the screen, and the other suggestions don't apply to the type of footnotes I'm interested in. Altogether, I feel pretty dissatisfied with the state of footnotes on the web. :(</p>\n<p>I genuinely love reading footnotes in fiction (for jokes and translation notes!) but the UX for footnotes on the web makes it so that the inconvenience of them outweighs the joy I'd get from reading those extra bits when they'd be most appropriate. I was happy enough to overlook the inconvenience but after so many encounters I feel like there has to be a better way.</p>","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$E0ARMGyBK2dxJDpo9h8eSEFOu1_E8KRK5K9jIs19JRg","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1743999874521,"senderName":"Smudge","senderId":"@smudge16:matrix.org","id":"$XuQcTxlEQHe5wyPIxzVvfpnP8aIRHWPgapOEmB5faGw"},
{"content":{"body":"I‚Äôm not part of WHATWG, but this is a topic I am interested in.\nHowever, note that there are many ways to do footnotes:\n\n1. As is most popular on the web, you can put footnote content at the very end of a page or section and link references to them in the main text.\n2. Using CSS Grid, you can make footnote content appear in a sidebar, Edward Tufte style (https://www.edwardtufte.com/wp-content/uploads/2024/03/VE-Spread-Detail-2.jpg). This is my personal preferred way to do footnotes.\n3. Using HTML Popovers, you can put footnote content declaratively in a popover element, then add references to them in the main text using buttons. The buttons can declaratively make their respective popovers appear.\n\nFor all three methods, an `<aside>` element could contain the footnote content. But all of these are quite different semantically.\n\nThat‚Äôs the problem with trying to standardize ‚Äúfootnotes‚Äù. The semantics of what we call ‚Äúfootnotes‚Äù are diverse and may be quite specific to the document context that they appear in. Some people will want content at the very end; some people will want them in a sidebar near their references; some people will want popovers.\n\n(With that said, I‚Äôm a bit surprised nobody else has asked this question in the whatwg/html GitHub repository. But I know that this has been discussed many times in the past.)","format":"org.matrix.custom.html","formatted_body":"<p>I‚Äôm not part of WHATWG, but this is a topic I am interested in.<br>However, note that there are many ways to do footnotes:</p>\n<ol>\n<li>As is most popular on the web, you can put footnote content at the very end of a page or section and link references to them in the main text.</li>\n<li>Using CSS Grid, you can make footnote content appear in a sidebar, Edward Tufte style (https://www.edwardtufte.com/wp-content/uploads/2024/03/VE-Spread-Detail-2.jpg). This is my personal preferred way to do footnotes.</li>\n<li>Using HTML Popovers, you can put footnote content declaratively in a popover element, then add references to them in the main text using buttons. The buttons can declaratively make their respective popovers appear.</li>\n</ol>\n<p>For all three methods, an <code>&lt;aside&gt;</code> element could contain the footnote content. But all of these are quite different semantically.</p>\n<p>That‚Äôs the problem with trying to standardize ‚Äúfootnotes‚Äù. The semantics of what we call ‚Äúfootnotes‚Äù are diverse and may be quite specific to the document context that they appear in. Some people will want content at the very end; some people will want them in a sidebar near their references; some people will want popovers.</p>\n<p>(With that said, I‚Äôm a bit surprised nobody else has asked this question in the whatwg/html GitHub repository. But I know that this has been discussed many times in the past.)</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1744000655737,"senderName":"jschoi","senderId":"@jschoi:matrix.org","id":"$V-jjUKvaHZ2n_jK33wn4vACcpgHdx6C2wqktMHQDq1g"},
{"content":{"body":"Yeah! Language is funky and weird. I'm using \"footnotes\" to mean notes that appear in a page's footer, which is more relevant for print than web. I think print might have more specific words for these that haven't reached web people. ü§î Something in my brain is telling me that \"endnotes\" is for the ones that appear at the very end of a work. I haven't played with HTML Popovers yet. I'll look into that some more! Thanks for the tip, jschoi!","format":"org.matrix.custom.html","formatted_body":"Yeah! Language is funky and weird. I'm using &quot;footnotes&quot; to mean notes that appear in a page's footer, which is more relevant for print than web. I think print might have more specific words for these that haven't reached web people. ü§î Something in my brain is telling me that &quot;endnotes&quot; is for the ones that appear at the very end of a work. I haven't played with HTML Popovers yet. I'll look into that some more! Thanks for the tip, jschoi!","msgtype":"m.text"},"ts":1744001628639,"senderName":"Smudge","senderId":"@smudge16:matrix.org","id":"$SdMCGwPY_doo0FC645wp8lXRdo-6aN9Q48eF2rJHkZQ"},
{"content":{"body":"Smudge: If you‚Äôre most interested in layout out footnotes in printed pages, you‚Äôre looking for the [CSS Generated Content for Paged Media Module](https://www.w3.org/TR/css-gcpm-3/).\n\nYou might also be interested in the generated cross-references in the (confusingly similarly named) [CSS Generated Content Module](https://www.w3.org/TR/css-content-3/).","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@smudge16:matrix.org\">Smudge</a>: If you‚Äôre most interested in layout out footnotes in printed pages, you‚Äôre looking for the <a href=\"https://www.w3.org/TR/css-gcpm-3/\">CSS Generated Content for Paged Media Module</a>.</p>\n<p>You might also be interested in the generated cross-references in the (confusingly similarly named) <a href=\"https://www.w3.org/TR/css-content-3/\">CSS Generated Content Module</a>.</p>\n","m.mentions":{"user_ids":["@smudge16:matrix.org"]},"msgtype":"m.text"},"ts":1744002300541,"senderName":"jschoi","senderId":"@jschoi:matrix.org","id":"$MK3DUiesTN7HmhKnczjj8v0qHnajTpVyvCIX0EiQBqQ"},
{"content":{"body":"* Smudge: If you‚Äôre most interested in laying out footnotes in printed pages, you‚Äôre looking for the [CSS Generated Content for Paged Media Module](https://www.w3.org/TR/css-gcpm-3/).\n\nYou might also be interested in the generated cross-references in the (confusingly similarly named) [CSS Generated Content Module](https://www.w3.org/TR/css-content-3/).","format":"org.matrix.custom.html","formatted_body":"* <p><a href=\"https://matrix.to/#/@smudge16:matrix.org\">Smudge</a>: If you‚Äôre most interested in laying out footnotes in printed pages, you‚Äôre looking for the <a href=\"https://www.w3.org/TR/css-gcpm-3/\">CSS Generated Content for Paged Media Module</a>.</p>\n<p>You might also be interested in the generated cross-references in the (confusingly similarly named) <a href=\"https://www.w3.org/TR/css-content-3/\">CSS Generated Content Module</a>.</p>\n","m.mentions":{},"m.new_content":{"body":"Smudge: If you‚Äôre most interested in laying out footnotes in printed pages, you‚Äôre looking for the [CSS Generated Content for Paged Media Module](https://www.w3.org/TR/css-gcpm-3/).\n\nYou might also be interested in the generated cross-references in the (confusingly similarly named) [CSS Generated Content Module](https://www.w3.org/TR/css-content-3/).","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@smudge16:matrix.org\">Smudge</a>: If you‚Äôre most interested in laying out footnotes in printed pages, you‚Äôre looking for the <a href=\"https://www.w3.org/TR/css-gcpm-3/\">CSS Generated Content for Paged Media Module</a>.</p>\n<p>You might also be interested in the generated cross-references in the (confusingly similarly named) <a href=\"https://www.w3.org/TR/css-content-3/\">CSS Generated Content Module</a>.</p>\n","m.mentions":{"user_ids":["@smudge16:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$MK3DUiesTN7HmhKnczjj8v0qHnajTpVyvCIX0EiQBqQ","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1744002336033,"senderName":"jschoi","senderId":"@jschoi:matrix.org","id":"$lphzs0VTj2qQrUhwhT6xqaTVaJ_Ji7dGirjJ14YFrck"},
{"content":{"body":"* Smudge: If you‚Äôre most interested in laying out footnotes in printed pages, you‚Äôre looking for the [CSS Generated Content for Paged Media Module](https://www.w3.org/TR/css-gcpm-3/).\n\nYou might also be interested in the generated cross-references in the (confusingly similarly named) [CSS Generated Content Module](https://www.w3.org/TR/css-content-3/).\n\nPlease note that both of these are still under development and therefore have little browser support.","format":"org.matrix.custom.html","formatted_body":"* <p><a href=\"https://matrix.to/#/@smudge16:matrix.org\">Smudge</a>: If you‚Äôre most interested in laying out footnotes in printed pages, you‚Äôre looking for the <a href=\"https://www.w3.org/TR/css-gcpm-3/\">CSS Generated Content for Paged Media Module</a>.</p>\n<p>You might also be interested in the generated cross-references in the (confusingly similarly named) <a href=\"https://www.w3.org/TR/css-content-3/\">CSS Generated Content Module</a>.</p>\n<p>Please note that both of these are still under development and therefore have little browser support.</p>\n","m.mentions":{},"m.new_content":{"body":"Smudge: If you‚Äôre most interested in laying out footnotes in printed pages, you‚Äôre looking for the [CSS Generated Content for Paged Media Module](https://www.w3.org/TR/css-gcpm-3/).\n\nYou might also be interested in the generated cross-references in the (confusingly similarly named) [CSS Generated Content Module](https://www.w3.org/TR/css-content-3/).\n\nPlease note that both of these are still under development and therefore have little browser support.","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@smudge16:matrix.org\">Smudge</a>: If you‚Äôre most interested in laying out footnotes in printed pages, you‚Äôre looking for the <a href=\"https://www.w3.org/TR/css-gcpm-3/\">CSS Generated Content for Paged Media Module</a>.</p>\n<p>You might also be interested in the generated cross-references in the (confusingly similarly named) <a href=\"https://www.w3.org/TR/css-content-3/\">CSS Generated Content Module</a>.</p>\n<p>Please note that both of these are still under development and therefore have little browser support.</p>\n","m.mentions":{"user_ids":["@smudge16:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$MK3DUiesTN7HmhKnczjj8v0qHnajTpVyvCIX0EiQBqQ","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1744002375487,"senderName":"jschoi","senderId":"@jschoi:matrix.org","id":"$XIlc_7PkOEXTQWszRK47hTcYahG9ndS9INUM3iV31Ik"},
{"content":{"body":"Those are good to know about! I'd like to make my footnotes work in both print and web if possible. Thank you, again!","msgtype":"m.text"},"ts":1744002483848,"senderName":"Smudge","senderId":"@smudge16:matrix.org","id":"$oOatW5fCkGuVyLBpPA7QYbbKD9pdmxWs6Wz8G45Ilgs"},
{"content":{"body":"There's a section on footnotes: https://html.spec.whatwg.org/multipage/semantics-other.html#footnotes","m.mentions":{},"msgtype":"m.text"},"ts":1744003774744,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$xeE-gbRc6TtIYm6k1jlP4F9dxbJCRvRepSAwNqbOeU4"},
{"content":{"body":"> <@annevk:matrix.org> There's a section on footnotes: https://html.spec.whatwg.org/multipage/semantics-other.html#footnotes\n\nYes, I mentioned as much before, but the suggested alternatives to implement the type of footnotes I'm looking for each have undesirable limitations‚Äîof them, only the first two are relevant and of those, the first is inaccessible and the second I find disorienting. üòî","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$xeE-gbRc6TtIYm6k1jlP4F9dxbJCRvRepSAwNqbOeU4?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br />There's a section on footnotes: https://html.spec.whatwg.org/multipage/semantics-other.html#footnotes</blockquote></mx-reply>Yes, I mentioned as much before, but the suggested alternatives to implement the type of footnotes I'm looking for each have undesirable limitations‚Äîof them, only the first two are relevant and of those, the first is inaccessible and the second I find disorienting. üòî","m.relates_to":{"m.in_reply_to":{"event_id":"$xeE-gbRc6TtIYm6k1jlP4F9dxbJCRvRepSAwNqbOeU4"}},"msgtype":"m.text"},"ts":1744008898964,"senderName":"Smudge","senderId":"@smudge16:matrix.org","id":"$ixrMpq_b4SXNsEzG6Y9URoHOVn0e_8SN37Km8bmMgfQ"},
{"content":{"body":"There aren't any ways to detect whether a cross-origin iframe or parent is in the same agent, right?","m.mentions":{},"msgtype":"m.text"},"ts":1744017618696,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$Nsb9Mo-5iBalYOILeYAA_IuJXWzxxKa8cfarrQXzuIE"},
{"content":{"body":"I'm assuming we don't want a new API to make that information potentially exposable, right?","m.mentions":{},"msgtype":"m.text"},"ts":1744017675998,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$wKDa-QlQE9kgyJjgeGuWU1XsHIBQCikQrmp9T0cmfr4"},
{"content":{"body":"keithamus: https://github.com/whatwg/html/issues/10802 has gotten a bit messy since the \"good first issue\" label was added. Are you willing to untangle it and give the people that showed up some more feedback?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@keithamus:matrix.org\">keithamus</a>: https://github.com/whatwg/html/issues/10802 has gotten a bit messy since the \"good first issue\" label was added. Are you willing to untangle it and give the people that showed up some more feedback?","m.mentions":{"user_ids":["@keithamus:matrix.org"]},"msgtype":"m.text"},"ts":1744019086158,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$qhVFJ0x4wtI1yEuu6QLA-hBii_-Cso_G6o7iVxIRXd8"},
{"content":{"body":"And maybe we should consider this the final nail in the coffin for that label. Unfortunate, but it doesn't seem to work well.","m.mentions":{},"msgtype":"m.text"},"ts":1744019124831,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Yj-PYIqXiKyCfgzLAnebzAeNy630tZKEt1NUXmcAKi8"},
{"content":{"body":"* And maybe we should consider this the final nail in the coffin for that label. Unfortunate, but it doesn't seem to work well. Or maybe too well?","m.mentions":{},"m.new_content":{"body":"And maybe we should consider this the final nail in the coffin for that label. Unfortunate, but it doesn't seem to work well. Or maybe too well?","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$Yj-PYIqXiKyCfgzLAnebzAeNy630tZKEt1NUXmcAKi8","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1744019136216,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$5f_mAyeUMpI_2BJLJqQo55ALe_7-YAR4xJAQba5Sgyo"},
{"content":{"body":"Andreu Botella: that's right.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a>: that's right.","m.mentions":{"user_ids":["@abotella:igalia.com"]},"msgtype":"m.text"},"ts":1744019165770,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$wvWwJvZ9G6j5KoBPAeKUtuSYmyYC44d3i1tuAoMLXow"},
{"content":{"body":"Andreu Botella: although, what we really don't want to expose are the actual process boundaries. Maybe exposing agents can be okay, but we're in the midst of changing the agent boundary through the `document.domain` removal so hmm.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a>: although, what we really don't want to expose are the actual process boundaries. Maybe exposing agents can be okay, but we're in the midst of changing the agent boundary through the <code>document.domain</code> removal so hmm.","m.mentions":{"user_ids":["@abotella:igalia.com"]},"msgtype":"m.text"},"ts":1744019253816,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Kovd8_G9_mPMRZ0o9Q08elIPV_Hgauwbq77ypoDkF4w"},
{"content":{"body":"implementation-wise, would that map to e.g. having different V8 isolates, even if it's in the same process?","m.mentions":{},"msgtype":"m.text"},"ts":1744019303179,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$stG-ztwl1TblUzjgfjYbS4nMl4NDPMUEu_8endBXPXY"},
{"content":{"body":"I'm not sure. Browsers don't really have a good handle on agents which is another reason to avoid exposing them I suppose.","m.mentions":{},"msgtype":"m.text"},"ts":1744019519969,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$HO9hZQsjdGKZClx7ktphijjyfPEfL7yAyprJ5QZxv3A"},
{"content":{"body":"For AsyncContext, I don't think cross-origin events would be too much of an issue, but Scott Haseley pointed out that at least in Chrome, the `focus` and `blur` events can be fired synchronously across agents (related to https://github.com/whatwg/html/issues/3506), so that might have to be special cased","format":"org.matrix.custom.html","formatted_body":"For AsyncContext, I don't think cross-origin events would be too much of an issue, but Scott Haseley pointed out that at least in Chrome, the <code>focus</code> and <code>blur</code> events can be fired synchronously across agents (related to https://github.com/whatwg/html/issues/3506), so that might have to be special cased","m.mentions":{},"msgtype":"m.text"},"ts":1744019802277,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$YByna0SOORRfKdjIFdDjdYNk5F_ZSapna5F7IEgYwRQ"},
{"content":{"body":"since for events fired sycnhronously, AsyncContext would always propagate the context, which would be able to be used to detect whether the iframes are in the same agent, or even in the same process","m.mentions":{},"msgtype":"m.text"},"ts":1744019879350,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$30xjk9ipzOpaP3qRrbNrEO0RF44Qlg7U0c-dverqK3k"},
{"content":{"body":"* since for events fired sycnhronously, AsyncContext would always propagate the context, which would be able to be used to detect whether the iframes are in the same agent/process","m.mentions":{},"m.new_content":{"body":"since for events fired sycnhronously, AsyncContext would always propagate the context, which would be able to be used to detect whether the iframes are in the same agent/process","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$30xjk9ipzOpaP3qRrbNrEO0RF44Qlg7U0c-dverqK3k","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1744019889125,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$QCYWnIFKEPViIDkqyI8BDc3OMuu7tmHrzLYIuQy8dSk"},
{"content":{"body":"Noam Rosenthal: just to confirm, appending Math.random() to an image URL's query is sufficient to cache bust it right?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: just to confirm, appending Math.random() to an image URL's query is sufficient to cache bust it right?","m.mentions":{"user_ids":["@noamr:matrix.org"]},"msgtype":"m.text"},"ts":1744024972317,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$fbIrJta1hlYw5zoDttWE-4Mx7WgOC6SR1CuNz-eCMMs"},
{"content":{"body":"annevk: yea unless someone is fiddling with the random seed","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: yea unless someone is fiddling with the random seed","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1744025047139,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$4pjY-b_N9CEsFKRcbelyxuTm5t4tbiPa80YFW3XP7N4"},
{"content":{"body":"(I've used `performance.now()` for this a few times and that caused flakes on some platforms)","format":"org.matrix.custom.html","formatted_body":"(I've used <code>performance.now()</code> for this a few times and that caused flakes on some platforms)","m.mentions":{},"msgtype":"m.text"},"ts":1744025910152,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$n_JhwHtwUGxZssm7T8ji9Jl4Pd806zTeIXUgAixwXdA"},
{"content":{"body":"If I'm doing this in a test I usually prefer to have an incrementing index","m.mentions":{},"msgtype":"m.text"},"ts":1744025939721,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$cN0rUxiu3c1YZcNoh4WypV5JFImfQr0pm0IBzbl-flE"},
{"content":{"body":"Is there currently a way to have an element be persistently at the top of the top layer? Imagine a side-drawer that is implemented as a `<dialog>`, but then you also want a global toast that can show ontop of the dialog backdrop (and dialog). Because top layer ordering is controlled by opening order, this means that one would have to make the toast a `popover` and then close and re-open it everytime something else gets added to the top-layer, so that the toast is always at the top of the top layer. Is there a better way?","format":"org.matrix.custom.html","formatted_body":"Is there currently a way to have an element be persistently at the top of the top layer? Imagine a side-drawer that is implemented as a <code>&lt;dialog&gt;</code>, but then you also want a global toast that can show ontop of the dialog backdrop (and dialog). Because top layer ordering is controlled by opening order, this means that one would have to make the toast a <code>popover</code> and then close and re-open it everytime something else gets added to the top-layer, so that the toast is always at the top of the top layer. Is there a better way?","msgtype":"m.text"},"ts":1744027123294,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$i67a49P2l8h85n7fwbwqK3AgwENDy7ZxSJSjXH9JMno"},
{"content":{"body":"Noam Rosenthal: should be fine here, they're all reftests","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: should be fine here, they're all reftests","m.mentions":{"user_ids":["@noamr:matrix.org"]},"msgtype":"m.text"},"ts":1744027174015,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$IHMlS7E8vPc7qPLPgTv8Zg08iQlp7HOWaRoPiD4z7aM"},
{"content":{"body":"Luca Casonato: I don't think so. Might be worth filing an issue on.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">Luca Casonato</a>: I don't think so. Might be worth filing an issue on.","m.mentions":{"user_ids":["@lucacasonato:matrix.org"]},"msgtype":"m.text"},"ts":1744027218946,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$BLbYDOssbcJAnQqxT2GG0r7sn74DXDvMjzqkkSqiQgo"},
{"content":{"body":"@anne","msgtype":"m.text"},"ts":1744027246673,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$nJY7JPNC0go9kOGHfLuDG2lXm3pL1CbFYuftRWbwu8M"},
{"content":{"body":"@annevk Will do. The more I get exposed to the top layer, the more I feel like it is not a good abstraction :(","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk</a> Will do. The more I get exposed to the top layer, the more I feel like it is not a good abstraction :(","msgtype":"m.text"},"ts":1744027263936,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$lrKBspkwwl2YVYlY9Q4sPYxdMRljjQQdIuOY2r51moE"},
{"content":{"body":"> <@lucacasonato:matrix.org> @annevk Will do. The more I get exposed to the top layer, the more I feel like it is not a good abstraction :(\n\nhttps://github.com/whatwg/html/issues/11193","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$lrKBspkwwl2YVYlY9Q4sPYxdMRljjQQdIuOY2r51moE\">In reply to</a> <a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">@lucacasonato:matrix.org</a><br><a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk</a> Will do. The more I get exposed to the top layer, the more I feel like it is not a good abstraction :(</blockquote></mx-reply>https:&#47;&#47;github.com&#47;whatwg&#47;html&#47;issues&#47;11193","m.relates_to":{"m.in_reply_to":{"event_id":"$lrKBspkwwl2YVYlY9Q4sPYxdMRljjQQdIuOY2r51moE"}},"msgtype":"m.text"},"ts":1744027559491,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$P1s0x-WZE9J_zPfgOWnZx55PEFEzgNod--Y2PWcpcBc"},
{"content":{"body":"Luca Casonato: yeah maybe. What's at least clear is that developers would like more control over it. Though how to give that and not run into other issues doesn't seem straightforward to solve.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">Luca Casonato</a>: yeah maybe. What's at least clear is that developers would like more control over it. Though how to give that and not run into other issues doesn't seem straightforward to solve.","m.mentions":{"user_ids":["@lucacasonato:matrix.org"]},"msgtype":"m.text"},"ts":1744027771546,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Gb6tdeZQF-lw4JW6ayo1itFYfc4LZAjYvuWNDsRynLg"},
{"content":{"body":"krosylight: thanks for closing that PR, please don't forget the \"invalid\" label next time","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@krosylight:mozilla.org\">krosylight</a>: thanks for closing that PR, please don't forget the \"invalid\" label next time","m.mentions":{"user_ids":["@krosylight:mozilla.org"]},"msgtype":"m.text"},"ts":1744029051582,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$VaVYicU_RuRaakhsgd0UalKhRy5uyl1RmCP-f2DkW14"},
{"content":{"body":"(The \"invalid\" label is what helps GitHub determine whether certain people are spammy.)","m.mentions":{},"msgtype":"m.text"},"ts":1744029131086,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Wu3vtkujdgbNuh0lG8oqL8YhT3s2poFH8k_Mu6j9m4Q"},
{"content":{"body":"> <@annevk:matrix.org> Luca Casonato: yeah maybe. What's at least clear is that developers would like more control over it. Though how to give that and not run into other issues doesn't seem straightforward to solve.\n\nYeah I hear this a lot from people. They want control via CSS or at least a way to have more control. But I struggle to see how this doesn't end up being z-index wars all over again.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$Gb6tdeZQF-lw4JW6ayo1itFYfc4LZAjYvuWNDsRynLg?via=igalia.com&via=matrix.org&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br /><a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">Luca Casonato</a>: yeah maybe. What's at least clear is that developers would like more control over it. Though how to give that and not run into other issues doesn't seem straightforward to solve.</blockquote></mx-reply>Yeah I hear this a lot from people. They want control via CSS or at least a way to have more control. But I struggle to see how this doesn't end up being z-index wars all over again.","m.relates_to":{"m.in_reply_to":{"event_id":"$Gb6tdeZQF-lw4JW6ayo1itFYfc4LZAjYvuWNDsRynLg"}},"msgtype":"m.text"},"ts":1744031936577,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$1hVgeDJOXshpS3Tuksd7o9upq0REcPYtAWw9uGBbyEk"},
{"content":{"body":"> <@lwarlow:igalia.com> Yeah I hear this a lot from people. They want control via CSS or at least a way to have more control. But I struggle to see how this doesn't end up being z-index wars all over again.\n\nI mean I can deal with z-index. I can not deal with not having any control at all üòÜ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$1hVgeDJOXshpS3Tuksd7o9upq0REcPYtAWw9uGBbyEk\">In reply to</a> <a href=\"https://matrix.to/#/@lwarlow:igalia.com\">@lwarlow:igalia.com</a><br>Yeah I hear this a lot from people. They want control via CSS or at least a way to have more control. But I struggle to see how this doesn't end up being z-index wars all over again.</blockquote></mx-reply>I mean I can deal with z-index. I can not deal with not having any control at all üòÜ","m.mentions":{"user_ids":["@lwarlow:igalia.com"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$1hVgeDJOXshpS3Tuksd7o9upq0REcPYtAWw9uGBbyEk"}},"msgtype":"m.text"},"ts":1744031995670,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$vsiyKjgvnynA2zO3nM2eb-yLKNaSRWOfCSVFNIx5JYM"},
{"content":{"body":"I suspect we'd maybe be better trying to directly solve the specific use cases rather than ripping open the layer for all to access. Like perhaps we need a toast primitive that is always on top.","msgtype":"m.text"},"ts":1744032106620,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$zccjmfCQf432LmaTU71r2lmbibA1fp7mwIagPqDH9ug"},
{"content":{"body":"That‚Äôs an option too for sure. ","format":"org.matrix.custom.html","formatted_body":"That‚Äôs an option too for sure.","m.mentions":{},"msgtype":"m.text"},"ts":1744032227411,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$aMFby5grM_ihEaFqj5zIW2XG2kBa_-16I3wu44r9-us"},
{"content":{"body":"Hi!\nWhen trying to build the DOM standard locally with `make local` I get the following error:\n```\nLINE 6103:64: Multiple possible 'head' element refs.\nArbitrarily chose https://html.spec.whatwg.org/multipage/semantics.html#the-head-element\nTo auto-select one of the following refs, insert one of these lines into a <pre class=link-defaults> block:\nspec:html; type:element; text:head\nspec:epub-34; type:element; text:head\n<{head}>\n ‚úò  Did not generate, due to errors exceeding the allowed error level.\nmake: *** [Makefile:19: local] Error 2\n```\n\nIs there something I'm doing wrong or is this a known issue?","format":"org.matrix.custom.html","formatted_body":"<p>Hi!<br>When trying to build the DOM standard locally with <code>make local</code> I get the following error:</p>\n<pre><code>LINE 6103:64: Multiple possible 'head' element refs.\nArbitrarily chose https://html.spec.whatwg.org/multipage/semantics.html#the-head-element\nTo auto-select one of the following refs, insert one of these lines into a &lt;pre class=link-defaults&gt; block:\nspec:html; type:element; text:head\nspec:epub-34; type:element; text:head\n&lt;{head}&gt;\n ‚úò  Did not generate, due to errors exceeding the allowed error level.\nmake: *** [Makefile:19: local] Error 2\n</code></pre>\n<p>Is there something I'm doing wrong or is this a known issue?</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1744033426672,"senderName":"Simon W√ºlker","senderId":"@wuelle:matrix.org","id":"$ciy-NOKL94WyzHWTlIgvvE0IW9TN0NV_3j03CEjpfeY"},
{"content":{"body":"oh, fun, session history rewrite changed the meaning of script-closeable. I wonder why","m.mentions":{},"msgtype":"m.text"},"ts":1744034155179,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$g33V6s60yjxgnMwqUsrU_pbbr8GiBMxRy3Rz7qWZHRU"},
{"content":{"body":"* oh, fun, session history rewrite changed the definition of script-closeable. I wonder why","m.mentions":{},"m.new_content":{"body":"oh, fun, session history rewrite changed the definition of script-closeable. I wonder why","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$g33V6s60yjxgnMwqUsrU_pbbr8GiBMxRy3Rz7qWZHRU","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1744034167446,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$hRKiNRAuKXni4SoK-EaGQz19vtdMokh9FMURXRfNvEM"},
{"content":{"body":"Simon W√ºlker: it's known insofar I just encountered it myself. You can add ` text: head` as a final line to the link-defaults block as a workaround for now.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@wuelle:matrix.org\">Simon W√ºlker</a>: it's known insofar I just encountered it myself. You can add <code> text: head</code> as a final line to the link-defaults block as a workaround for now.","m.mentions":{"user_ids":["@wuelle:matrix.org"]},"msgtype":"m.text"},"ts":1744034564732,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$jZy9IEkEBlXzUqSvQ1LfPsvbPZGY5XcmugOoiQhIo98"},
{"content":{"body":"* Simon W√ºlker: it's known insofar I just encountered it myself. You can add ` text: head` as a final line to the link-defaults block as a workaround for now (including the leading space).","format":"org.matrix.custom.html","formatted_body":"* <a href=\"https://matrix.to/#/@wuelle:matrix.org\">Simon W√ºlker</a>: it's known insofar I just encountered it myself. You can add <code> text: head</code> as a final line to the link-defaults block as a workaround for now (including the leading space).","m.mentions":{},"m.new_content":{"body":"Simon W√ºlker: it's known insofar I just encountered it myself. You can add ` text: head` as a final line to the link-defaults block as a workaround for now (including the leading space).","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@wuelle:matrix.org\">Simon W√ºlker</a>: it's known insofar I just encountered it myself. You can add <code> text: head</code> as a final line to the link-defaults block as a workaround for now (including the leading space).","m.mentions":{"user_ids":["@wuelle:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$jZy9IEkEBlXzUqSvQ1LfPsvbPZGY5XcmugOoiQhIo98","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1744034581060,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$V4ma8m_942K8NUeJCeQDe9DttcPQVmIjc6QoGAeGzN8"},
{"content":{"body":"How does hit detection work for the top layer (where is it specified)? In my tests the first layer of the top layer always sits ontop of any newer layers (which do render on top of the first layer). Both Chrome and Firefox behave this way seemingly.","msgtype":"m.text"},"ts":1744035266045,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$4p7q2O9HZe-M7fsTmv5YEq2mL6E_T4EVk1U_-kRlIYQ"},
{"content":{"body":"* How does hit detection work for the top layer (where is it specified)? In my tests the first layer of the top layer always sits ontop of any newer layers for hit detection (but newer layers do render on top of the first layer). Both Chrome and Firefox behave this way seemingly.","m.new_content":{"body":"How does hit detection work for the top layer (where is it specified)? In my tests the first layer of the top layer always sits ontop of any newer layers for hit detection (but newer layers do render on top of the first layer). Both Chrome and Firefox behave this way seemingly.","msgtype":"m.text"},"m.relates_to":{"event_id":"$4p7q2O9HZe-M7fsTmv5YEq2mL6E_T4EVk1U_-kRlIYQ","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1744035289485,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$4qmoR-uATfTetPCEG9sGMWkxUyZMYwmcExbn2WYe7rA"},
{"content":{"body":"Luca Casonato: hit testing is famously not defined","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">Luca Casonato</a>: hit testing is famously not defined","m.mentions":{"user_ids":["@lucacasonato:matrix.org"]},"msgtype":"m.text"},"ts":1744037378531,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$4hdj1F21uLMQmx5WWInqOuCoI08Isc8tbcLbv6_2JwU"},
{"content":{"body":"> <@lucacasonato:matrix.org> How does hit detection work for the top layer (where is it specified)? In my tests the first layer of the top layer always sits ontop of any newer layers (which do render on top of the first layer). Both Chrome and Firefox behave this way seemingly.\n\nOh it seems like this happens because when the dialog is opened through `showModal()`, it makes the rest of the page `inert`, including the other things in the top layer above it.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$4p7q2O9HZe-M7fsTmv5YEq2mL6E_T4EVk1U_-kRlIYQ\">In reply to</a> <a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">@lucacasonato:matrix.org</a><br>How does hit detection work for the top layer (where is it specified)? In my tests the first layer of the top layer always sits ontop of any newer layers (which do render on top of the first layer). Both Chrome and Firefox behave this way seemingly.</blockquote></mx-reply>Oh it seems like this happens because when the dialog is opened through <code>showModal()</code>, it makes the rest of the page <code>inert</code>, including the other things in the top layer above it.","m.relates_to":{"m.in_reply_to":{"event_id":"$4p7q2O9HZe-M7fsTmv5YEq2mL6E_T4EVk1U_-kRlIYQ"}},"msgtype":"m.text"},"ts":1744040890662,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$NglTOg-V2MiaAkybVTNfXakKsC2t87mGaHNHARo-NYc"},
{"content":{"body":"I think https://html.spec.whatwg.org/multipage/interaction.html#blocked-by-a-modal-dialog should get an exception for elements in the top layer above the subject dialog. I'll open an issue.","msgtype":"m.text"},"ts":1744041032441,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$cH5RVhaKZTpAXMzcOOGQAB1Tuh8KgAq3pZaj09HPenY"},
{"content":{"body":"https://github.com/whatwg/html/issues/11195","msgtype":"m.text"},"ts":1744041849515,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$IUqJkp1_g_GciAc9xQpCUfIGNLqisqw0nVmnVVUzyxI"}
]