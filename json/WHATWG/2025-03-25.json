[
{"content":{"body":"Yes, I think we ended up needing to figure out what CSS properties apply and don't apply, and I didn't have the bandwidth for it?","m.mentions":{"user_ids":["@akaster:serenityos.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$xcbnN114Gg0ow6BOBCPaTUGQ7f6aD0MnZ56GfBlGkY0"}},"msgtype":"m.text"},"ts":1742865609708,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$lLqyDZBKMZK26XMfSE6WEgRz4kIg2njc2-H_aSjf3S0"},
{"content":{"body":"Sounds like https://github.com/whatwg/fetch/issues/526","m.mentions":{"user_ids":["@gernknod:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$X-8CKp_7OG05otFdNS5GFj4vT1rcsHU1IWUYqXs2Zpo"}},"msgtype":"m.text"},"ts":1742865812894,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$EQnTRrM3-Fh-W3LkXsiujyW48yVOSTTQzQLsGmXFgrk"},
{"content":{"body":"Given `<p> HI </p>`, what per-spec is the expected result for running `.innerText` for that element?\n\nI’m looking at https://github.com/LadybirdBrowser/ladybird/issues/4048, which is about that ` returning `\" HI \"` (whitespace preserved) in Ladybird — but returning `\"HI\"` (whitespace trimmed) in all other engines.\n\nBut looking the source at https://github.com/LadybirdBrowser/ladybird/blob/6b9e8cf40c89c75d95f855b5c244c3382984eaa9/Libraries/LibWeb/HTML/HTMLElement.cpp#L368 for the Ladybird implementation of the “get the text steps” https://html.spec.whatwg.org/multipage/dom.html#get-the-text-steps, it looks to me like Ladybird has correctly implemented the spec requirements.\n\nSo I’m wondering if the difference is due to a bug in Ladybird’s implementation — or else due to other engines not strictly implementing the spec requirements.","format":"org.matrix.custom.html","formatted_body":"<p>Given <code>&lt;p&gt; HI &lt;/p&gt;</code>, what per-spec is the expected result for running <code>.innerText</code> for that element?</p>\n<p>I’m looking at https://github.com/LadybirdBrowser/ladybird/issues/4048, which is about that <code>returning</code>\" HI \"<code>(whitespace preserved) in Ladybird — but returning</code>\"HI\"` (whitespace trimmed) in all other engines.</p>\n<p>But looking the source at https://github.com/LadybirdBrowser/ladybird/blob/6b9e8cf40c89c75d95f855b5c244c3382984eaa9/Libraries/LibWeb/HTML/HTMLElement.cpp#L368 for the Ladybird implementation of the “get the text steps” https://html.spec.whatwg.org/multipage/dom.html#get-the-text-steps, it looks to me like Ladybird has correctly implemented the spec requirements.</p>\n<p>So I’m wondering if the difference is due to a bug in Ladybird’s implementation — or else due to other engines not strictly implementing the spec requirements.</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1742884509761,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$BwhuWTN0CkmHz2-b-Smbi9vipJbKpbYbZct6QtJi_KY"},
{"content":{"body":"* Given `<p> HI </p>`, what per-spec is the expected result for running `.innerText` for that element?\n\nI’m looking at https://github.com/LadybirdBrowser/ladybird/issues/4048, which is about that returning `\" HI \"` (whitespace preserved) in Ladybird — but returning `\"HI\"` (whitespace trimmed) in all other engines.\n\nBut looking the source at https://github.com/LadybirdBrowser/ladybird/blob/6b9e8cf40c89c75d95f855b5c244c3382984eaa9/Libraries/LibWeb/HTML/HTMLElement.cpp#L368 for the Ladybird implementation of the “get the text steps” https://html.spec.whatwg.org/multipage/dom.html#get-the-text-steps, it looks to me like Ladybird has correctly implemented the spec requirements.\n\nSo I’m wondering if the difference is due to a bug in Ladybird’s implementation — or else due to other engines not strictly implementing the spec requirements.","format":"org.matrix.custom.html","formatted_body":"* <p>Given <code>&lt;p&gt; HI &lt;/p&gt;</code>, what per-spec is the expected result for running <code>.innerText</code> for that element?</p>\n<p>I’m looking at https://github.com/LadybirdBrowser/ladybird/issues/4048, which is about that returning <code>\" HI \"</code> (whitespace preserved) in Ladybird — but returning <code>\"HI\"</code> (whitespace trimmed) in all other engines.</p>\n<p>But looking the source at https://github.com/LadybirdBrowser/ladybird/blob/6b9e8cf40c89c75d95f855b5c244c3382984eaa9/Libraries/LibWeb/HTML/HTMLElement.cpp#L368 for the Ladybird implementation of the “get the text steps” https://html.spec.whatwg.org/multipage/dom.html#get-the-text-steps, it looks to me like Ladybird has correctly implemented the spec requirements.</p>\n<p>So I’m wondering if the difference is due to a bug in Ladybird’s implementation — or else due to other engines not strictly implementing the spec requirements.</p>\n","m.mentions":{},"m.new_content":{"body":"Given `<p> HI </p>`, what per-spec is the expected result for running `.innerText` for that element?\n\nI’m looking at https://github.com/LadybirdBrowser/ladybird/issues/4048, which is about that returning `\" HI \"` (whitespace preserved) in Ladybird — but returning `\"HI\"` (whitespace trimmed) in all other engines.\n\nBut looking the source at https://github.com/LadybirdBrowser/ladybird/blob/6b9e8cf40c89c75d95f855b5c244c3382984eaa9/Libraries/LibWeb/HTML/HTMLElement.cpp#L368 for the Ladybird implementation of the “get the text steps” https://html.spec.whatwg.org/multipage/dom.html#get-the-text-steps, it looks to me like Ladybird has correctly implemented the spec requirements.\n\nSo I’m wondering if the difference is due to a bug in Ladybird’s implementation — or else due to other engines not strictly implementing the spec requirements.","format":"org.matrix.custom.html","formatted_body":"<p>Given <code>&lt;p&gt; HI &lt;/p&gt;</code>, what per-spec is the expected result for running <code>.innerText</code> for that element?</p>\n<p>I’m looking at https://github.com/LadybirdBrowser/ladybird/issues/4048, which is about that returning <code>\" HI \"</code> (whitespace preserved) in Ladybird — but returning <code>\"HI\"</code> (whitespace trimmed) in all other engines.</p>\n<p>But looking the source at https://github.com/LadybirdBrowser/ladybird/blob/6b9e8cf40c89c75d95f855b5c244c3382984eaa9/Libraries/LibWeb/HTML/HTMLElement.cpp#L368 for the Ladybird implementation of the “get the text steps” https://html.spec.whatwg.org/multipage/dom.html#get-the-text-steps, it looks to me like Ladybird has correctly implemented the spec requirements.</p>\n<p>So I’m wondering if the difference is due to a bug in Ladybird’s implementation — or else due to other engines not strictly implementing the spec requirements.</p>\n","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$BwhuWTN0CkmHz2-b-Smbi9vipJbKpbYbZct6QtJi_KY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1742884547992,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$msYMX3y-wi2ABmke2SoOIdKiWtCLMPqqlbdZ2GE2cRQ"},
{"content":{"body":"thanks, yeah it seems there's not really a lot of interest in finding a solution for this :/","m.mentions":{"user_ids":["@domenicdenicola:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$EQnTRrM3-Fh-W3LkXsiujyW48yVOSTTQzQLsGmXFgrk"}},"msgtype":"m.text"},"ts":1742889038376,"senderName":"gernknod","senderId":"@gernknod:matrix.org","id":"$VXUGdRgA8ev4V_kB0aRnf3f1UkD8ReYe_-LLUKlwDh8"},
{"content":{"body":"I think\n\n> If node is a Text node, then for each CSS text box produced by node, in content order, compute the text of the box after application of the CSS 'white-space' processing rules and 'text-transform' rules, set items to the list of the resulting strings, and return items.\n\nTrims the text. For the same reason that the rendering of `<p>Hi</p>` is the same as the rendering of `<p>\\n   Hi\\n</p>`.","format":"org.matrix.custom.html","formatted_body":"<p>I think</p>\n<blockquote>\n<p>If node is a Text node, then for each CSS text box produced by node, in content order, compute the text of the box after application of the CSS 'white-space' processing rules and 'text-transform' rules, set items to the list of the resulting strings, and return items.</p>\n</blockquote>\n<p>Trims the text. For the same reason that the rendering of <code>&lt;p&gt;Hi&lt;/p&gt;</code> is the same as the rendering of <code>&lt;p&gt;\\n   Hi\\n&lt;/p&gt;</code>.</p>\n","m.mentions":{"user_ids":["@sideshowbarker:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$BwhuWTN0CkmHz2-b-Smbi9vipJbKpbYbZct6QtJi_KY"}},"msgtype":"m.text"},"ts":1742889569305,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$kdy9gIQ67V_XS9_60MkmC97TJdt2rJoNXTsVOa6-TTU"}
]