[
{"content":{"body":"Andreu Botella (he/they): yeah, otherwise it would have used ASCII whitespace (I think it might have done so initially, even)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@andreubotella:mozilla.org\">Andreu Botella (he/they)</a>: yeah, otherwise it would have used ASCII whitespace (I think it might have done so initially, even)","msgtype":"m.text"},"ts":1632719922615,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$0EVO9ZsEM9nKCtnYgAHyY5KPkt5TA1EzicAIqRc_mnA"},
{"content":{"body":"timothygu: that's a nice find, also :-(","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@timothygu:matrix.org\">timothygu</a>: that's a nice find, also :-(","msgtype":"m.text"},"ts":1632720071903,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$veZ0YtqvN2S1U-nH-DLj2_ysQvB7vYX7elP5UfLMKxw"},
{"content":{"body":"Feeling conflicted about tests like https://github.com/web-platform-tests/wpt/blob/master/html/semantics/scripting-1/the-script-element/script-charset-02.html passing review. On one hand, it caught a bug (not yet sure what) in my code. On the other hand, it tests something more than it's meant to. (Note the location of the `meta` after a `div`.)","format":"org.matrix.custom.html","formatted_body":"Feeling conflicted about tests like https://github.com/web-platform-tests/wpt/blob/master/html/semantics/scripting-1/the-script-element/script-charset-02.html passing review. On one hand, it caught a bug (not yet sure what) in my code. On the other hand, it tests something more than it's meant to. (Note the location of the <code>meta</code> after a <code>div</code>.)","msgtype":"m.text"},"ts":1632720293490,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$SmaXvQZKo2qA8bcbzYIHmkBbI6rzGk5RKFkHUPq_Y6U"},
{"content":{"body":"hsivonen: that's likely to happen I think if there isn't a lot of good coverage to begin with, but I also suspect that the <div> coming before was overlooked and considered inconsequential","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>: that's likely to happen I think if there isn't a lot of good coverage to begin with, but I also suspect that the &lt;div&gt; coming before was overlooked and considered inconsequential","msgtype":"m.text"},"ts":1632724523673,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$XNuIsARBYo9GcLYSfolDqVqGidtOmQcqRQCHdL9wGTU"},
{"content":{"body":" * hsivonen: that's likely to happen I think if there isn't a lot of good coverage to begin with, but I also suspect that the <div> coming before was overlooked or considered inconsequential","format":"org.matrix.custom.html","formatted_body":" * <a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>: that's likely to happen I think if there isn't a lot of good coverage to begin with, but I also suspect that the &lt;div&gt; coming before was overlooked or considered inconsequential","m.new_content":{"body":"hsivonen: that's likely to happen I think if there isn't a lot of good coverage to begin with, but I also suspect that the <div> coming before was overlooked or considered inconsequential","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>: that's likely to happen I think if there isn't a lot of good coverage to begin with, but I also suspect that the &lt;div&gt; coming before was overlooked or considered inconsequential","msgtype":"m.text"},"m.relates_to":{"event_id":"$XNuIsARBYo9GcLYSfolDqVqGidtOmQcqRQCHdL9wGTU","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1632724533990,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$5rmfKdsU9X65cs07y6EiR_4_ZVkcSZuJyAzMkIsC_v0"},
{"content":{"body":"Earlier, I found a bug in my code due to WPT author metadata having non-ASCII even though the test lacked `<meta charset=utf-8>`, so I guess that was good actually.","format":"org.matrix.custom.html","formatted_body":"Earlier, I found a bug in my code due to WPT author metadata having non-ASCII even though the test lacked <code>&lt;meta charset=utf-8&gt;</code>, so I guess that was good actually.","msgtype":"m.text"},"ts":1632724620169,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$MYj68A97AQnoOidSv1AMMVQL_X4AaRK3UA1LeG6Dhpc"},
{"content":{"body":"therealandrecasal: commits prefixed with Meta:, Editorial:, or Review Draft Publication: don't make it to Twitter","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@therealandrecasal:matrix.org\">therealandrecasal</a>: commits prefixed with Meta:, Editorial:, or Review Draft Publication: don't make it to Twitter","msgtype":"m.text"},"ts":1632725239005,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$AAy8o_6Q0Yfqt-V2OqvrrdpJ63sQ7F0HPUxdClPGY38"},
{"content":{"body":"Hi annevk , seems like I'm back in the business of HTML/Fetch/resource-timing integration :) have a couple of PRs for when you have the time (https://github.com/whatwg/fetch/pull/1311 and https://github.com/whatwg/fetch/pull/1309)","format":"org.matrix.custom.html","formatted_body":"Hi <a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a> , seems like I'm back in the business of HTML/Fetch/resource-timing integration :) have a couple of PRs for when you have the time (https://github.com/whatwg/fetch/pull/1311 and https://github.com/whatwg/fetch/pull/1309)","msgtype":"m.text"},"ts":1632726473513,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$E6crYiPdghb7Ma04w5qTBjehfEvB4eitK-1YAFA2cj4"},
{"content":{"body":"I am new here. Don't know much about this.\nhttps://sixtimesanhour.com/","msgtype":"m.text"},"ts":1632731589692,"senderName":"ali ikram","senderId":"@tammyy:matrix.org","id":"$s9Rt63q-Okq0XXMdKZFpiiDo_zZoZQWaxkvfU3XXxfA"},
{"content":{"body":"Noam Rosenthal: that's great, I have a bit of a backlog today; not sure if there's anyone else that can help with reviewing but that would be nice","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: that's great, I have a bit of a backlog today; not sure if there's anyone else that can help with reviewing but that would be nice","msgtype":"m.text"},"ts":1632732216817,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$nioP4pYaP1XmYN8qbFJXXdcXJQeX3ZOmBpQSFgLy0kw"},
{"content":{"body":"annevk: no problem, it's there and ready for when your backlog permits. ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: no problem, it's there and ready for when your backlog permits.","msgtype":"m.text"},"ts":1632732990368,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$GE_43WcD-mouKTwaJaSIPkb8l9B2np5n_pffpzO1RCw"},
{"content":{"body":"Jake Archibald: are you taking document.domain into account when determining the origin for history entries? I guess if the origin is the result of URL + sandbox it won't matter, but if the origin is taken from the document/global somehow we have to be careful.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a>: are you taking document.domain into account when determining the origin for history entries? I guess if the origin is the result of URL + sandbox it won't matter, but if the origin is taken from the document/global somehow we have to be careful.","msgtype":"m.text"},"ts":1632736371420,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$sJbS_9eRiGyBZ5b0JGiPR_rlDcaIC-YtNtHEyzhy25A"},
{"content":{"body":"Jake Archibald: it came to mind when reading the history.state issue","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a>: it came to mind when reading the history.state issue","msgtype":"m.text"},"ts":1632736410145,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$NzSAEVw_4lqOgF71JQjWvJQQZTmTTjB5YsKGxrAqbj8"},
{"content":{"body":"annevk: yeah, I haven't fully understood `document.domain` yet. Eg, does it change storage buckets? What happens to an existing IDB connection?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: yeah, I haven't fully understood <code>document.domain</code> yet. Eg, does it change storage buckets? What happens to an existing IDB connection?","msgtype":"m.text"},"ts":1632736521668,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$gWvRIURIUIXoZyD0fusYG_4FvBIjqaBDjt37GXbFvOM"},
{"content":{"body":"Jake Archibald: storage doesn't work for opaque origins and we essentially use the unmodified tuple origin and you'd do a same origin comparison with that (rather than same origin-domain)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a>: storage doesn't work for opaque origins and we essentially use the unmodified tuple origin and you'd do a same origin comparison with that (rather than same origin-domain)","msgtype":"m.text"},"ts":1632736741685,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$mnOYhzl3bXcEjr_985lOcbhFCeLjW1CpyfHj-bGWQiQ"},
{"content":{"body":"annevk: I'm not 100% what to do with the origin of history entries yet, but my gut feeling is:\n\n- If there's a redirect on traversal, clear state associated with the history entry, and update the entry URL.\n- If the document is 'born' in a different origin than the entry URL (sandboxing, error documents) then the history state remains there, but the document cannot access it.\n- `document.domain` has no impact.\n\n`appHistory` introduces a new 'thing' here, in that a sandboxed page an do a series of fragment navigations, and the data in those fragments will later be revealed to a non-sandboxed page, because the entries are same-origin. I'm not really sure what to do about that.","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: I'm not 100% what to do with the origin of history entries yet, but my gut feeling is:</p>\n<ul>\n<li>If there's a redirect on traversal, clear state associated with the history entry, and update the entry URL.</li>\n<li>If the document is 'born' in a different origin than the entry URL (sandboxing, error documents) then the history state remains there, but the document cannot access it.</li>\n<li><code>document.domain</code> has no impact.</li>\n</ul>\n<p><code>appHistory</code> introduces a new 'thing' here, in that a sandboxed page an do a series of fragment navigations, and the data in those fragments will later be revealed to a non-sandboxed page, because the entries are same-origin. I'm not really sure what to do about that.</p>\n","msgtype":"m.text"},"ts":1632737346388,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$G1tr59rB35rYAn7jGcZW0mk1PvYxetVa_jEcF695dfM"}
]