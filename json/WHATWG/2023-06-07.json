[
{"content":{"body":"Question about differing behavior in FF and Chrome when focusing outside of a contenteditable with inline-block vs grid. Click below the contenteditable: https://jsfiddle.net/swk91rpx/ Notice for grid it finds the first text content and places the cursor in it in Chrome. I suspect this is a bug in Chrome as I think this happened with inline-block 7 years ago and was changed. Anyone familiar with this topic and could clarify the expected behavior so I know where to file this. (For all I know this edge-case is right for chrome and FF is the one handling it wrong).","msgtype":"m.text"},"ts":1686102978563,"senderName":"sirisian","senderId":"@sirisian:matrix.org","id":"$U48daSMZjBhxgu8DdGpzfvA9zfIzuJ1xW4UFVUS-i9w"},
{"content":{"body":"Anton Maliev: that might be correct, yeah; problem is that not everything has been refactored and we have been running into some issues with this abstraction","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@amaliev:matrix.org\">Anton Maliev</a>: that might be correct, yeah; problem is that not everything has been refactored and we have been running into some issues with this abstraction","msgtype":"m.text"},"ts":1686123716478,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$RVaiYT5nvBiqIkuAHtVTAww4qoBumsN5LRMOJW_xcAE"},
{"content":{"body":"Anton Maliev: filing an issue and copying inexorabletash and asuth might be a good start","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@amaliev:matrix.org\">Anton Maliev</a>: filing an issue and copying inexorabletash and <a href=\"https://matrix.to/#/@asuth:mozilla.org\">asuth</a> might be a good start","msgtype":"m.text"},"ts":1686123751292,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$AzCpXGdM1A-iewPA_dCmGE1zDQzpRAQyO_qdJDXSKtg"},
{"content":{"body":"sirisian: filing an issue against all of https://github.com/w3c/contentEditable/issues/new, Chromium, and Gecko seems like a good start","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sirisian:matrix.org\">sirisian</a>: filing an issue against all of https://github.com/w3c/contentEditable/issues/new, Chromium, and Gecko seems like a good start","msgtype":"m.text"},"ts":1686123842076,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$0ga-B7ICj8WBrgOGbRa3xIqP3gxmGzQf9Wwvmhl6nao"},
{"content":{"body":"sirisian: unfortunately the spec is not maintained so this has to be addressed on a case-by-case basis and likely slowly","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sirisian:matrix.org\">sirisian</a>: unfortunately the spec is not maintained so this has to be addressed on a case-by-case basis and likely slowly","msgtype":"m.text"},"ts":1686123881664,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$DafAnEart_fb5mqzpI5uWTp0-pq9n_ek3C9BC0_Zt24"},
{"content":{"body":"That might also be a hit testing issue, rather than a contenteditable issue","msgtype":"m.text"},"ts":1686132164081,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$mSCkU4SgD33_SuFTqzEltOr8ExqCXI8kU7MYqieBou4"},
{"content":{"body":"and hit testing isn't really fully specified anywhere","msgtype":"m.text"},"ts":1686132182667,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$fe-fUfYrsCqrLfRoQPFEJknihVzvWIbm461XjN8CjEc"},
{"content":{"body":"> <@etportis:matrix.org> zcorpan: so an <img alt=\"\"> should behave the same, for sizes=\"auto\"-testing purposes, as an <img src=\"5-second-ttfb.jpeg\" /> or whatever. Because the [default object size](https://drafts.csswg.org/css-images/#default-object-size) of both a [loading image](https://drafts.csswg.org/css-images/#loading-image) and an [\"img element that represents nothing and the user agent does not expect this to change\"](https://html.spec.whatwg.org/#images-3) are both 0x0.\n\nI think so! But from my test it looks like at Chromium doesn't implement it correctly","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$6ag8rud5UC8s5Vyf5JowZyuO3T037SOqRTZqCaa9pRY?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@etportis:matrix.org\">@etportis:matrix.org</a><br><a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: so an &lt;img alt=\"\"&gt; should behave the same, for sizes=\"auto\"-testing purposes, as an &lt;img src=\"5-second-ttfb.jpeg\" /&gt; or whatever. Because the <a href=\"https://drafts.csswg.org/css-images/#default-object-size\">default object size</a> of both a <a href=\"https://drafts.csswg.org/css-images/#loading-image\">loading image</a> and an <a href=\"https://html.spec.whatwg.org/#images-3\">\"img element that represents nothing and the user agent does not expect this to change\"</a> are both 0x0.</blockquote></mx-reply>I think so! But from my test it looks like at Chromium doesn't implement it correctly","m.relates_to":{"m.in_reply_to":{"event_id":"$6ag8rud5UC8s5Vyf5JowZyuO3T037SOqRTZqCaa9pRY"}},"msgtype":"m.text"},"ts":1686133053290,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$HVucWhDXq86YeM98cdsyh-SSiKputJ-0xSKGGPvfNeE"},
{"content":{"body":"> <@etportis:matrix.org> zcorpan: although according to the loading image definition, images in this state \"may trigger fallback rendering\". Is there anything in the \"concrete object size ignoring natural dimensions\" spec that forbids fallback rendering dimensions from being used?\n\nI don't follow. Both cases are replaced element 0x0 per spec?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$I_jA042KH6PDVOZ6UUcoR33kiq1FMrK9H7JB-7kTUyg?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@etportis:matrix.org\">@etportis:matrix.org</a><br><a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: although according to the loading image definition, images in this state \"may trigger fallback rendering\". Is there anything in the \"concrete object size ignoring natural dimensions\" spec that forbids fallback rendering dimensions from being used?</blockquote></mx-reply>I don't follow. Both cases are replaced element 0x0 per spec?","m.relates_to":{"m.in_reply_to":{"event_id":"$I_jA042KH6PDVOZ6UUcoR33kiq1FMrK9H7JB-7kTUyg"}},"msgtype":"m.text"},"ts":1686133153621,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$4B3vWM5ZfH2umUvndz44eax2-ua1FGwupieKEuOoaxI"},
{"content":{"body":"Adam Rice: since Mattias Buelens seems to be out, do you have any thoughts on https://github.com/whatwg/streams/pull/1264? Otherwise I'm gonna approve splitting the test out for now so Youenn is unblocked","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@ricea:matrix.org\">Adam Rice</a>: since <a href=\"https://matrix.to/#/@mattiasbuelens:matrix.org\">Mattias Buelens</a> seems to be out, do you have any thoughts on https://github.com/whatwg/streams/pull/1264? Otherwise I'm gonna approve splitting the test out for now so Youenn is unblocked","msgtype":"m.text"},"ts":1686136522645,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$_37EumPX-mD56Suxnv56-KlpdqG4LBTv9mK2e4hO-g8"},
{"content":{"body":"zcorpan: re: you not following, yes -- ignore me, I was confused. Even if the fallback representation is showing, that only adds an intrinsic size, it doesn't change the default or specified sizes.\n\nWhat does Chromium do? Is \"your test\" part of the WPTs?","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: re: you not following, yes -- ignore me, I was confused. Even if the fallback representation is showing, that only adds an intrinsic size, it doesn't change the default or specified sizes.</p>\n<p>What does Chromium do? Is \"your test\" part of the WPTs?</p>\n","msgtype":"m.text"},"ts":1686148798741,"senderName":"Eric Portis (he/him)","senderId":"@etportis:matrix.org","id":"$FP6CJD9PZo2Vs4a0AXUoIKbxTT54TjF5WYfoBOY2T2k"},
{"content":{"body":"Eric Portis (he/him): https://software.hixie.ch/utilities/js/live-dom-viewer/saved/11743","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@etportis:matrix.org\">Eric Portis (he/him)</a>: https://software.hixie.ch/utilities/js/live-dom-viewer/saved/11743","msgtype":"m.text"},"ts":1686149750504,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$L5iK4xzCe8coG_91SAWHufwQntVuT1a9f93mDTAp-0g"},
{"content":{"body":"Eric Portis (he/him): since the second element gets full width, chromium treats it as a non-replaced element instead of a replaced element with 0x0 natural dimensions. Haven't written a wpt for this","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@etportis:matrix.org\">Eric Portis (he/him)</a>: since the second element gets full width, chromium treats it as a non-replaced element instead of a replaced element with 0x0 natural dimensions. Haven't written a wpt for this","msgtype":"m.text"},"ts":1686149855315,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$7NWaIhSoBLrXcdIQhEbRjOxXLsqKXFUF4S8KOqPjHWc"},
{"content":{"body":"Hi! Can someone please merge  https://github.com/whatwg/html/pull/9397 ?","msgtype":"m.text"},"ts":1686166398960,"senderName":"ntim","senderId":"@ntim:mozilla.org","id":"$dLSozQuTGSsp017vobM7gdRG0iEga7r0T22dsSqQ_io"},
{"content":{"body":"Apologies freddy. Work got in the way. I'll shoot you an email as soon as I have more time.","format":"org.matrix.custom.html","formatted_body":"Apologies <a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>. Work got in the way. I'll shoot you an email as soon as I have more time.","m.relates_to":{"event_id":"$zCdWZN4McrVfCioYGz6avZoBOygdONgeWy9RIjbwFm0","is_falling_back":true,"m.in_reply_to":{"event_id":"$B6slqst9mV5VVc6SqNtdEtGgygn2_SYyPmskiG7TgdE"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1686166902738,"senderName":"jub0bs","senderId":"@jub0bs:matrix.org","id":"$iclJeTqq7jm5JrC_WSshVlx49-Mbost2xbGXywrrIIc"},
{"content":{"body":" * Apologies, freddy. Work got in the way. I'll shoot you an email as soon as I have more time.","format":"org.matrix.custom.html","formatted_body":" * Apologies, <a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>. Work got in the way. I'll shoot you an email as soon as I have more time.","m.new_content":{"body":"Apologies, freddy. Work got in the way. I'll shoot you an email as soon as I have more time.","format":"org.matrix.custom.html","formatted_body":"Apologies, <a href=\"https://matrix.to/#/@fbraun:mozilla.org\">freddy</a>. Work got in the way. I'll shoot you an email as soon as I have more time.","msgtype":"m.text"},"m.relates_to":{"event_id":"$iclJeTqq7jm5JrC_WSshVlx49-Mbost2xbGXywrrIIc","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1686166914837,"senderName":"jub0bs","senderId":"@jub0bs:matrix.org","id":"$Cf3h_Imzztt-Qx58GRjrKMvii2d-5qtzfUi0QAIMPIg"},
{"content":{"body":"FYI, https://github.com/w3ctag/design-principles/pull/441 about how to monkeypatch well merged to https://w3ctag.github.io/design-principles/#cant-avoid-monkey-patching. I think it describes what this group wants from monkeypatches, but if I got anything wrong, feel free to comment on the PR, and I'll try to fix it. (or you can always send your own PR of course.)","msgtype":"m.text"},"ts":1686176873789,"senderName":"Jeffrey Yasskin","senderId":"@jyasskin:matrix.org","id":"$zqnWyrCx1KJI3BtJXDzpMiIpTJbbVJoPNE8Xbx7pd_g"},
{"content":{"body":"annevk: Safari 17's `Accept` header when making image fetches seems to be: `image/webp,image/avif,image/jxl,image/heic,image/heic-sequence,video/*;q=0.8,image/png,image/svg+xml,image/*;q=0.8,*/*;q=0.5` (124 bytes). IIUC from https://github.com/whatwg/fetch/issues/862 and https://fetch.spec.whatwg.org/#cors-safelisted-request-header, the limit before a preflight is required is 128 bytes. Is that an impending problem, or (more likely) am I misunderstanding how CORS works?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: Safari 17's <code>Accept</code> header when making image fetches seems to be: <code>image/webp,image/avif,image/jxl,image/heic,image/heic-sequence,video/*;q=0.8,image/png,image/svg+xml,image/*;q=0.8,*/*;q=0.5</code> (124 bytes). IIUC from https://github.com/whatwg/fetch/issues/862 and https://fetch.spec.whatwg.org/#cors-safelisted-request-header, the limit before a preflight is required is 128 bytes. Is that an impending problem, or (more likely) am I misunderstanding how CORS works?","msgtype":"m.text"},"ts":1686177599921,"senderName":"Eric Portis (he/him)","senderId":"@etportis:matrix.org","id":"$YeqXwcMJorOQ7EwHv4s3cCvxfi64sg4NKYPV3iCyWxU"},
{"content":{"body":"zcorpan: Ah! I had only been testing with *no* src attribute, which behaves differently than an attribute with no value. Fun!","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: Ah! I had only been testing with <em>no</em> src attribute, which behaves differently than an attribute with no value. Fun!","msgtype":"m.text"},"ts":1686177794313,"senderName":"Eric Portis (he/him)","senderId":"@etportis:matrix.org","id":"$kEImJzaO06xbcdwFJhI2rPtHcu6D-HbDkO0tbbK1xCE"},
{"content":{"body":"zcorpan: Anyways, I think I finally have my mental model straight on this. Hoping to write something up about it soon; I'll definitely ping you for review once I do.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: Anyways, I think I finally have my mental model straight on this. Hoping to write something up about it soon; I'll definitely ping you for review once I do.","msgtype":"m.text"},"ts":1686177871472,"senderName":"Eric Portis (he/him)","senderId":"@etportis:matrix.org","id":"$HiAAwnXjv1s-CQI6NPxUb60wVXdpycyezolEfN4u8Vs"}
]