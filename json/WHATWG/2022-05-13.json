[
{"content":{"body":"Noam Rosenthal: I am fixing https://github.com/web-platform-tests/wpt/blob/cff0ff1898/resource-timing/SO-XO-SO-redirect-chain-tao.https.html#L56-L61 for Firefox. I wonder which redirect should cause the TAO check to fail? ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: I am fixing https://github.com/web-platform-tests/wpt/blob/cff0ff1898/resource-timing/SO-XO-SO-redirect-chain-tao.https.html#L56-L61 for Firefox. I wonder which redirect should cause the TAO check to fail?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Noam Rosenthal: I am fixing https://github.com/web-platform-tests/wpt/blob/cff0ff1898/resource-timing/SO-XO-SO-redirect-chain-tao.https.html#L56-L61 for Firefox. I wonder which redirect should cause the TAO check to fail? ","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: I am fixing https://github.com/web-platform-tests/wpt/blob/cff0ff1898/resource-timing/SO-XO-SO-redirect-chain-tao.https.html#L56-L61 for Firefox. I wonder which redirect should cause the TAO check to fail?","mimetype":"text/html"}]},"ts":1652410308268,"senderName":"sefeng","senderId":"@sefeng:mozilla.org","id":"$VRSzoIKsiXz2biw3kXhxlfx9WiQKsQtCE1I0cRvXYmA"},
{"content":{"body":"is it because the last redirect from `cross-origin` to `same-origin`? ","format":"org.matrix.custom.html","formatted_body":"is it because the last redirect from <code>cross-origin</code> to <code>same-origin</code>?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"is it because the last redirect from `cross-origin` to `same-origin`? ","mimetype":"text/plain"},{"body":"is it because the last redirect from <code>cross-origin</code> to <code>same-origin</code>?","mimetype":"text/html"}]},"ts":1652410386306,"senderName":"sefeng","senderId":"@sefeng:mozilla.org","id":"$60v02idnGr6lIWcA6kzWmppuOomwtu08SecRqqPN7oQ"},
{"content":{"body":"I am asking because in Firefox, the TAO check is done by always againsting the origin that started the load ","msgtype":"m.text","org.matrix.msc1767.text":"I am asking because in Firefox, the TAO check is done by always againsting the origin that started the load "},"ts":1652410432072,"senderName":"sefeng","senderId":"@sefeng:mozilla.org","id":"$J7TqyB0RTAszakaTgPLdmunC7TnQR8b7NecGIm7Pd-4"},
{"content":{"body":"which is probably wrong I guess. I am still not familiar with the FETCH spec, is it supposed to be done by against the current origin?  ","msgtype":"m.text","org.matrix.msc1767.text":"which is probably wrong I guess. I am still not familiar with the FETCH spec, is it supposed to be done by against the current origin?  "},"ts":1652410549423,"senderName":"sefeng","senderId":"@sefeng:mozilla.org","id":"$vdwtqN1ZNrwi-M-YJUD1Oq8UQxK2NPqHZK6OJOM8OFk"},
{"content":{"body":"Does emitting the token happen regardless of the previous if-otherwise?","msgtype":"m.text","org.matrix.msc1767.text":"Does emitting the token happen regardless of the previous if-otherwise?"},"ts":1652410699883,"senderName":"EveryOS","senderId":"@everyos:matrix.org","id":"$cgrnk_c5RxUtKzYUVhfDFBqJMwErX-3i7491FR6-_Dk"},
{"content":{"body":" * Does emitting the token happen regardless of the previous if-otherwise?","m.new_content":{"body":"Does emitting the token happen regardless of the previous if-otherwise?","msgtype":"m.text","org.matrix.msc1767.text":"Does emitting the token happen regardless of the previous if-otherwise?"},"m.relates_to":{"event_id":"$cgrnk_c5RxUtKzYUVhfDFBqJMwErX-3i7491FR6-_Dk","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * Does emitting the token happen regardless of the previous if-otherwise?"},"ts":1652410721036,"senderName":"EveryOS","senderId":"@everyos:matrix.org","id":"$d6Jp6A2UIeInTUvzqgINniCAaAmtTznsZX5uUBJ8koY"},
{"content":{"body":"sefeng: It's because the request's origin becomes redirect-tainted (https://fetch.spec.whatwg.org/#concept-request-tainted-origin), and the TAO check accesses that origin which is serialized to `null` (https://fetch.spec.whatwg.org/#ref-for-serializing-a-request-origin%E2%91%A0). This part is a bit hard to follow in the fetch spec IMO.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sefeng:mozilla.org\">sefeng</a>: It's because the request's origin becomes redirect-tainted (https://fetch.spec.whatwg.org/#concept-request-tainted-origin), and the TAO check accesses that origin which is serialized to <code>null</code> (https://fetch.spec.whatwg.org/#ref-for-serializing-a-request-origin%E2%91%A0). This part is a bit hard to follow in the fetch spec IMO.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"sefeng: It's because the request's origin becomes redirect-tainted (https://fetch.spec.whatwg.org/#concept-request-tainted-origin), and the TAO check accesses that origin which is serialized to `null` (https://fetch.spec.whatwg.org/#ref-for-serializing-a-request-origin%E2%91%A0). This part is a bit hard to follow in the fetch spec IMO.","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@sefeng:mozilla.org\">sefeng</a>: It's because the request's origin becomes redirect-tainted (https://fetch.spec.whatwg.org/#concept-request-tainted-origin), and the TAO check accesses that origin which is serialized to <code>null</code> (https://fetch.spec.whatwg.org/#ref-for-serializing-a-request-origin%E2%91%A0). This part is a bit hard to follow in the fetch spec IMO.","mimetype":"text/html"}]},"ts":1652415625347,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$Niml03p8T1ld7czeeAO_mSAwpclNwjogEFsZiFjIA2A"},
{"content":{"body":" * sefeng: It's because the request's origin becomes redirect-tainted (https://fetch.spec.whatwg.org/#concept-request-tainted-origin), and the TAO check accesses that origin which is serialized to `null` (https://fetch.spec.whatwg.org/#ref-for-serializing-a-request-origin%E2%91%A0). This part is a bit hard to follow in the fetch spec IMO.","format":"org.matrix.custom.html","formatted_body":" * <a href=\"https://matrix.to/#/@sefeng:mozilla.org\">sefeng</a>: It's because the request's origin becomes redirect-tainted (https://fetch.spec.whatwg.org/#concept-request-tainted-origin), and the TAO check accesses that origin which is serialized to <code>null</code> (https://fetch.spec.whatwg.org/#ref-for-serializing-a-request-origin%E2%91%A0). This part is a bit hard to follow in the fetch spec IMO.","m.new_content":{"body":"sefeng: It's because the request's origin becomes redirect-tainted (https://fetch.spec.whatwg.org/#concept-request-tainted-origin), and the TAO check accesses that origin which is serialized to `null` (https://fetch.spec.whatwg.org/#ref-for-serializing-a-request-origin%E2%91%A0). This part is a bit hard to follow in the fetch spec IMO.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sefeng:mozilla.org\">sefeng</a>: It's because the request's origin becomes redirect-tainted (https://fetch.spec.whatwg.org/#concept-request-tainted-origin), and the TAO check accesses that origin which is serialized to <code>null</code> (https://fetch.spec.whatwg.org/#ref-for-serializing-a-request-origin%E2%91%A0). This part is a bit hard to follow in the fetch spec IMO.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"sefeng: It's because the request's origin becomes redirect-tainted (https://fetch.spec.whatwg.org/#concept-request-tainted-origin), and the TAO check accesses that origin which is serialized to `null` (https://fetch.spec.whatwg.org/#ref-for-serializing-a-request-origin%E2%91%A0). This part is a bit hard to follow in the fetch spec IMO.","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@sefeng:mozilla.org\">sefeng</a>: It's because the request's origin becomes redirect-tainted (https://fetch.spec.whatwg.org/#concept-request-tainted-origin), and the TAO check accesses that origin which is serialized to <code>null</code> (https://fetch.spec.whatwg.org/#ref-for-serializing-a-request-origin%E2%91%A0). This part is a bit hard to follow in the fetch spec IMO.","mimetype":"text/html"}]},"m.relates_to":{"event_id":"$Niml03p8T1ld7czeeAO_mSAwpclNwjogEFsZiFjIA2A","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":" * sefeng: It's because the request's origin becomes redirect-tainted (https://fetch.spec.whatwg.org/#concept-request-tainted-origin), and the TAO check accesses that origin which is serialized to `null` (https://fetch.spec.whatwg.org/#ref-for-serializing-a-request-origin%E2%91%A0). This part is a bit hard to follow in the fetch spec IMO.","mimetype":"text/plain"},{"body":" * <a href=\"https://matrix.to/#/@sefeng:mozilla.org\">sefeng</a>: It's because the request's origin becomes redirect-tainted (https://fetch.spec.whatwg.org/#concept-request-tainted-origin), and the TAO check accesses that origin which is serialized to <code>null</code> (https://fetch.spec.whatwg.org/#ref-for-serializing-a-request-origin%E2%91%A0). This part is a bit hard to follow in the fetch spec IMO.","mimetype":"text/html"}]},"ts":1652415647068,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$qAVdmxvwEC9dMUBRGc9Qd0LnnrlhyjObsqC6wXShkqo"},
{"content":{"body":"Andrew Williams: that's a very good question, I think it's closely related to https://github.com/whatwg/html/issues/5254","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@recvfrom:matrix.org\">Andrew Williams</a>: that's a very good question, I think it's closely related to https://github.com/whatwg/html/issues/5254","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Andrew Williams: that's a very good question, I think it's closely related to https://github.com/whatwg/html/issues/5254","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@recvfrom:matrix.org\">Andrew Williams</a>: that's a very good question, I think it's closely related to https://github.com/whatwg/html/issues/5254","mimetype":"text/html"}]},"ts":1652424995043,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$6brPuYO6GiXzUePrfCzqa4D1T5YD4U_7MulagQAhqhQ"},
{"content":{"body":"Andrew Williams: my inclination would be yes, as the entire chain is HTTPS","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@recvfrom:matrix.org\">Andrew Williams</a>: my inclination would be yes, as the entire chain is HTTPS","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Andrew Williams: my inclination would be yes, as the entire chain is HTTPS","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@recvfrom:matrix.org\">Andrew Williams</a>: my inclination would be yes, as the entire chain is HTTPS","mimetype":"text/html"}]},"ts":1652425032939,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$DtTu15GNPROhJMpDJ5frdiB92SatjR8hDFxRyxyhRJ4"}
]