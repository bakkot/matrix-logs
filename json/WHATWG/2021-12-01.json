[
{"content":{"body":"Hi guys, is this room appropriate to ask questions regarding the HTML spec?","msgtype":"m.text"},"ts":1638332416746,"senderName":"devsrealmguy","senderId":"@devsrealmguy:matrix.org","id":"$5SWWOaHlNzn59tvM4VN3Eavjb3nTW1bZE3ExxTWNOUk"},
{"content":{"body":"I'll ask for now, but feel free to delete it if it's not allowed, so here is my question:","msgtype":"m.text"},"ts":1638332502914,"senderName":"devsrealmguy","senderId":"@devsrealmguy:matrix.org","id":"$99WvLpGVGeGqgC7HH1SWLrEucRcreDrWQPyyiZQE70M"},
{"content":{"body":"* I'll ask for now, but feel free to delete it if it's not allowed, so here is my question:","m.new_content":{"body":"I'll ask for now, but feel free to delete it if it's not allowed, so here is my question:","msgtype":"m.text"},"m.relates_to":{"event_id":"$99WvLpGVGeGqgC7HH1SWLrEucRcreDrWQPyyiZQE70M","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1638332513439,"senderName":"devsrealmguy","senderId":"@devsrealmguy:matrix.org","id":"$iuRgiNbzT_3hU_V2iP-qhdIiMlOhMy1VQvXG5ifdtmU"},
{"content":{"body":"In the HTML parsing section, specifically the \"Named character reference state\", we have the following info:\n\n>>> Consume the maximum number of characters possible, where the consumed characters are one of the identifiers in the first column of the named character references table. Append each character to the temporary buffer when it's consumed.\n\n>>[If there is a match]:\n\nIf the character reference was consumed as part of an attribute, and the last character matched is not a U+003B SEMICOLON character (;), and the next input character is either a U+003D EQUALS SIGN character (=) or an ASCII alphanumeric, then, for historical reasons, flush code points consumed as a character reference and switch to the return state.\n\n>>[Otherwise:]\n\nIf the last character matched is not a U+003B SEMICOLON character (;), then this is a missing-semicolon-after-character-reference parse error.\n\nSet the temporary buffer to the empty string. Append one or two characters corresponding to the character reference name (as given by the second column of the named character references table) to the temporary buffer.\n\nFlush code points consumed as a character reference. Switch to the return state.","msgtype":"m.text"},"ts":1638332994931,"senderName":"devsrealmguy","senderId":"@devsrealmguy:matrix.org","id":"$Xxmr4HumVSsLwCkOkTm1Gr9Mvva--2Nm5qvPTK3PT3Y"},
{"content":{"body":"At what point do I decide to stop consuming? It's not clear , I know I can lookahead and stop matching when I encounter a semi-colon but the spec doesn't make that clear","msgtype":"m.text"},"ts":1638333230109,"senderName":"devsrealmguy","senderId":"@devsrealmguy:matrix.org","id":"$60RxUTcLkwr43F6wLVdQ0wQcJX0ZiQXjl5iBhV9UxPI"},
{"content":{"body":"devsrealmguy: I think you basically stop consuming when thereâ€™s no match","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@devsrealmguy:matrix.org\">devsrealmguy</a>: I think you basically stop consuming when thereâ€™s no match","msgtype":"m.text"},"ts":1638333309154,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$m2MwhV_wD2y4CdxTkshynwVj8yEK0GqFnsk6kKoTqK8"},
{"content":{"body":"no substring match","msgtype":"m.text"},"ts":1638333320976,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$awlkGGcreVVgJA-DfECDtvIetV6J0rjaQFWiuFM8tjA"},
{"content":{"body":"so if you get `&h`, keep consuming, `&he`, keep consuming, `&hel`, `&hell`, `&helli`, still consuming","format":"org.matrix.custom.html","formatted_body":"so if you get <code>&amp;h</code>, keep consuming, <code>&amp;he</code>, keep consuming, <code>&amp;hel</code>, <code>&amp;hell</code>, <code>&amp;helli</code>, still consuming","msgtype":"m.text"},"ts":1638333520369,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$HxMKEX4eCZRgjJr9n0WwncG-c2hLog3CkOvThUJJwrI"},
{"content":{"body":"because those all are substring matches of valid character references","msgtype":"m.text"},"ts":1638333568815,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$Y4LQ7fqwnKNZRQ2QB49PzYuY3vqvV4g0DIxt2cqBr3E"},
{"content":{"body":"but if you hit `&helliq`, stop consuming â€” because that is not a substring match of any valid character reference","format":"org.matrix.custom.html","formatted_body":"but if you hit <code>&amp;helliq</code>, stop consuming â€” because that is not a substring match of any valid character reference","msgtype":"m.text"},"ts":1638333607990,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$XpnUmGbYFgGAhXNGnYz2b65r8b_pKcZGj8h6QB1SB0I"},
{"content":{"body":"Thanks for replying, I appreciate it a lot. I am on mobile, so, it's really hard to write and my sight is really poor, so, sorry if I my grammar is wrong. \n\nAnd yes, that is exactly what I am doing, what if you have &not and &notin?","msgtype":"m.text"},"ts":1638333661746,"senderName":"devsrealmguy","senderId":"@devsrealmguy:matrix.org","id":"$etfxXb_e0BmnjYZjN8yVnG04pDBhaAEFNevHpZ2DFMo"},
{"content":{"body":"> but if you hit `&helliq`, stop consuming â€” because that is not a substring match of any valid character reference\n\nBrilliant, I was looking to stop consuming when I encounter a semi-colon but you just nailed it.","msgtype":"m.text"},"ts":1638333846282,"senderName":"devsrealmguy","senderId":"@devsrealmguy:matrix.org","id":"$Z_qRbnOqhX3n30ycNPylq94iaMkHu4WWjQ4UL7wDMkg"},
{"content":{"body":"Never mind with the &notit and &notin. Got it, thanks ðŸ˜Š","msgtype":"m.text"},"ts":1638334483723,"senderName":"devsrealmguy","senderId":"@devsrealmguy:matrix.org","id":"$SSPu_APL5w00DD-ZQrmVeuFzQlOlIZwJR6zQWI9pJ-0"},
{"content":{"body":"morning annevk, I think https://github.com/whatwg/fetch/pull/1311 is reviewable again, and I have two other pending ones (preload & controller), when you get the chance to look","format":"org.matrix.custom.html","formatted_body":"morning <a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>, I think https://github.com/whatwg/fetch/pull/1311 is reviewable again, and I have two other pending ones (preload &amp; controller), when you get the chance to look","msgtype":"m.text"},"ts":1638343766200,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$GfnJcbEUrptmMkuCVH3UoTqsEfGqPib-jxx2Lu8z9U8"},
{"content":{"body":"I think I am done with covering the tokenization state, the only state that is a bit difficult is the \"Named Character Reference State\".\n\nJust to confirm I didn't mess things up, this point says:\n\n1) If the last character matched is not a U+003B SEMICOLON character (;), then this is a missing-semicolon-after-character-reference parse error.\n\n2) Set the temporary buffer to the empty string. Append one or two characters corresponding to the character reference name (as given by the second column of the named character references table) to the temporary buffer\"\n\nAn example of point 1 is this: \"James &amp his brother went for launch\". \n\nIt is clear that the &amp is missing a semi-colon, so, is the point 2 saying to correct it to &amp; (with the semi-colon) or is it saying to swap it with the codepoint which is U+00026 as that is what is given in the second column table which the point 2 is referring to.\n\nI was curious enough to check how other libraries did theirs, some are converting the codepoint to a character, some are appending the semi-colon and many ignored it. I can see why it trips people of.\n\nWhere should I sail to?\n\n","msgtype":"m.text"},"ts":1638370130645,"senderName":"devsrealmguy","senderId":"@devsrealmguy:matrix.org","id":"$XqrDCiJQDWWn5dPuT6T4OvljVj6cou9ENmL8Cp2vWFo"},
{"content":{"body":"* I think I am done with covering the tokenizationstate, the only state that is a bit difficult is the \"Named Character Reference State\".\n\nJust to confirm I didn't mess things up, this point says:\n\n1) If the last character matched is not a U+003B SEMICOLON character (;), then this is a missing-semicolon-after-character-reference parse error.\n\n2) Set the temporary buffer to the empty string. Append one or two characters corresponding to the character reference name (as given by the second column of the named character references table) to the temporary buffer\"\n\nAn example of point 1 is this: \"James &amp his brother went for launch\". \n\nIt is clear that the &amp is missing a semi-colon, so, is the point 2 saying to correct it to &amp; (with the semi-colon) or is it saying to swap it with the codepoint which is U+00026 as that is what is given in the second column table which the point 2 is referring to.\n\nI was curious enough to check how other libraries did theirs, some are converting the codepoint to a character, some are appending the semi-colon and many ignored it. I can see why it trips people of.\n\nWhere should I sail to?\n\n","m.new_content":{"body":"I think I am done with covering the tokenizationstate, the only state that is a bit difficult is the \"Named Character Reference State\".\n\nJust to confirm I didn't mess things up, this point says:\n\n1) If the last character matched is not a U+003B SEMICOLON character (;), then this is a missing-semicolon-after-character-reference parse error.\n\n2) Set the temporary buffer to the empty string. Append one or two characters corresponding to the character reference name (as given by the second column of the named character references table) to the temporary buffer\"\n\nAn example of point 1 is this: \"James &amp his brother went for launch\". \n\nIt is clear that the &amp is missing a semi-colon, so, is the point 2 saying to correct it to &amp; (with the semi-colon) or is it saying to swap it with the codepoint which is U+00026 as that is what is given in the second column table which the point 2 is referring to.\n\nI was curious enough to check how other libraries did theirs, some are converting the codepoint to a character, some are appending the semi-colon and many ignored it. I can see why it trips people of.\n\nWhere should I sail to?\n\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$XqrDCiJQDWWn5dPuT6T4OvljVj6cou9ENmL8Cp2vWFo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1638370153307,"senderName":"devsrealmguy","senderId":"@devsrealmguy:matrix.org","id":"$hkkRt85izXcVyFAz9XqfLvt_EHxIoF60uvRzgsOOgMU"},
{"content":{"body":"* I think I am done with covering the tokenization state, the only state that is a bit difficult is the \"Named Character Reference State\".\n\nJust to confirm I didn't mess things up, this point says:\n\n1) If the last character matched is not a U+003B SEMICOLON character (;), then this is a missing-semicolon-after-character-reference parse error.\n\n2) Set the temporary buffer to the empty string. Append one or two characters corresponding to the character reference name (as given by the second column of the named character references table) to the temporary buffer\"\n\nAn example of point 1 is this: \"James &amp his brother went for launch\". \n\nIt is clear that the &amp is missing a semi-colon, so, is the point 2 saying to correct it to &amp; (with the semi-colon) or is it saying to swap it with the codepoint which is U+00026 as that is what is given in the second column table which the point 2 is referring to.\n\nI was curious enough to check how other libraries did theirs, some are converting the codepoint to a character, some are appending the semi-colon and many ignored it. I can see why it trips people of.\n\nWhere should I sail to?\n\n","m.new_content":{"body":"I think I am done with covering the tokenization state, the only state that is a bit difficult is the \"Named Character Reference State\".\n\nJust to confirm I didn't mess things up, this point says:\n\n1) If the last character matched is not a U+003B SEMICOLON character (;), then this is a missing-semicolon-after-character-reference parse error.\n\n2) Set the temporary buffer to the empty string. Append one or two characters corresponding to the character reference name (as given by the second column of the named character references table) to the temporary buffer\"\n\nAn example of point 1 is this: \"James &amp his brother went for launch\". \n\nIt is clear that the &amp is missing a semi-colon, so, is the point 2 saying to correct it to &amp; (with the semi-colon) or is it saying to swap it with the codepoint which is U+00026 as that is what is given in the second column table which the point 2 is referring to.\n\nI was curious enough to check how other libraries did theirs, some are converting the codepoint to a character, some are appending the semi-colon and many ignored it. I can see why it trips people of.\n\nWhere should I sail to?\n\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$XqrDCiJQDWWn5dPuT6T4OvljVj6cou9ENmL8Cp2vWFo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1638370173671,"senderName":"devsrealmguy","senderId":"@devsrealmguy:matrix.org","id":"$9GKtCXb-iL-Uzt4VIe3Qmar31AuCgIDh-Q5LK5aZfEM"}
]