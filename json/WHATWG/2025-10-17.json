[
{"content":{"body":"I am having some difficulties applying CSS `mask-size` with SVG `<mask>` elements: https://codepen.io/ondrejzara/pen/pvgdZLB (size not being applied, both Firefox and Chrome). Any ideas what I am doing wrong? Or perhaps some better CSS-related channels where I can ask for help?","format":"org.matrix.custom.html","formatted_body":"I am having some difficulties applying CSS <code>mask-size</code> with SVG <code>&lt;mask&gt;</code> elements: https://codepen.io/ondrejzara/pen/pvgdZLB (size not being applied, both Firefox and Chrome). Any ideas what I am doing wrong? Or perhaps some better CSS-related channels where I can ask for help?","m.mentions":{},"msgtype":"m.text"},"ts":1760679285790,"senderName":"Ondřej Žára","senderId":"@ondr4s:matrix.org","id":"$VSu6PM7eO3O68_ZioOxCcV7-9HF1sSYZqWxuhWE-iLc"},
{"content":{"body":"I suppose stackoverflow would be a proper venue for that kind of question.\nhttps://drafts.fxtf.org/css-masking/#masking states that `mask-position` and `mask-size` do apply for the case where `mask-image` doesn't point at a `<mask>`,  though that doesn't seem very obvious...\nBut to make a `<mask>` fit its masked element, you'd generally set its `width` and `height` in percentages, and its `maskContentUnits` to `objectBoundingBox` (also beware `x` and `y` have a default `-10%` value).","format":"org.matrix.custom.html","formatted_body":"I suppose stackoverflow would be a proper venue for that kind of question.<br>https://drafts.fxtf.org/css-masking/#masking states that <code>mask-position</code> and <code>mask-size</code> do apply for the case where <code>mask-image</code> doesn't point at a <code>&lt;mask&gt;</code>,  though that doesn't seem very obvious...<br>But to make a <code>&lt;mask&gt;</code> fit its masked element, you'd generally set its <code>width</code> and <code>height</code> in percentages, and its <code>maskContentUnits</code> to <code>objectBoundingBox</code> (also beware <code>x</code> and <code>y</code> have a default <code>-10%</code> value).","m.mentions":{},"m.relates_to":{"event_id":"$VSu6PM7eO3O68_ZioOxCcV7-9HF1sSYZqWxuhWE-iLc","is_falling_back":true,"m.in_reply_to":{"event_id":"$VSu6PM7eO3O68_ZioOxCcV7-9HF1sSYZqWxuhWE-iLc"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1760681633586,"senderName":"Kaiido","senderId":"@kaiido:matrix.org","id":"$K4qgkZ41Vt5rbQi_ruO5DTlup0anQ-h9bs6e2s3xd_I"},
{"content":{"body":"Kaiido: thanks for the reply! I am not sure I 100% follow your suggestion. Does this mean that the `<path>` inside of a mask must only use percentage units?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@kaiido:matrix.org\">Kaiido</a>: thanks for the reply! I am not sure I 100% follow your suggestion. Does this mean that the <code>&lt;path&gt;</code> inside of a mask must only use percentage units?","m.mentions":{"user_ids":["@kaiido:matrix.org"]},"m.relates_to":{"event_id":"$VSu6PM7eO3O68_ZioOxCcV7-9HF1sSYZqWxuhWE-iLc","is_falling_back":true,"m.in_reply_to":{"event_id":"$K4qgkZ41Vt5rbQi_ruO5DTlup0anQ-h9bs6e2s3xd_I"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1760683103745,"senderName":"Ondřej Žára","senderId":"@ondr4s:matrix.org","id":"$usPZZ9ch36RFFVdA_Mx7vbDiUDOOx0miNCvgUQyklWg"},
{"content":{"body":"Yeah, apparently -- that is literally what `objectBoundingBox` requires. But that would not work when I have a lot of existing `<path>` elements that were designed for a particular `viewBox` setup (such as 24x24 icons).","format":"org.matrix.custom.html","formatted_body":"Yeah, apparently -- that is literally what <code>objectBoundingBox</code> requires. But that would not work when I have a lot of existing <code>&lt;path&gt;</code> elements that were designed for a particular <code>viewBox</code> setup (such as 24x24 icons).","m.mentions":{},"m.relates_to":{"event_id":"$VSu6PM7eO3O68_ZioOxCcV7-9HF1sSYZqWxuhWE-iLc","is_falling_back":true,"m.in_reply_to":{"event_id":"$usPZZ9ch36RFFVdA_Mx7vbDiUDOOx0miNCvgUQyklWg"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1760683214972,"senderName":"Ondřej Žára","senderId":"@ondr4s:matrix.org","id":"$VmKWomvCAc-gK4D2zzh52waVlA0NxqGjPmzG1Fyx2Yw"},
{"content":{"body":"Does this mean that my already-defined 24x24 path cannot be used as a scalable `<mask>`?","format":"org.matrix.custom.html","formatted_body":"Does this mean that my already-defined 24x24 path cannot be used as a scalable <code>&lt;mask&gt;</code>?","m.mentions":{},"m.relates_to":{"event_id":"$VSu6PM7eO3O68_ZioOxCcV7-9HF1sSYZqWxuhWE-iLc","is_falling_back":true,"m.in_reply_to":{"event_id":"$VmKWomvCAc-gK4D2zzh52waVlA0NxqGjPmzG1Fyx2Yw"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1760683236159,"senderName":"Ondřej Žára","senderId":"@ondr4s:matrix.org","id":"$yk9MlriEwDw4KmD8mahuy7OxZWJPCErMWt0sdsmPNzM"},
{"content":{"body":"You could use a `<use>` to reference a `<symbol viewBox>` that would contain your existing content: https://jsfiddle.net/n30e7xro/ but at this rate, it's probably just easier to not use a `<mask>` at all and reference a full svg image.","format":"org.matrix.custom.html","formatted_body":"You could use a <code>&lt;use&gt;</code> to reference a <code>&lt;symbol viewBox&gt;</code> that would contain your existing content: https://jsfiddle.net/n30e7xro/ but at this rate, it's probably just easier to not use a <code>&lt;mask&gt;</code> at all and reference a full svg image.","m.mentions":{},"m.relates_to":{"event_id":"$VSu6PM7eO3O68_ZioOxCcV7-9HF1sSYZqWxuhWE-iLc","is_falling_back":true,"m.in_reply_to":{"event_id":"$yk9MlriEwDw4KmD8mahuy7OxZWJPCErMWt0sdsmPNzM"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1760684667088,"senderName":"Kaiido","senderId":"@kaiido:matrix.org","id":"$Blkkd8LDNAQf2sCgJbKVMGpzWCRfqLdYTeisDegRxiQ"},
{"content":{"body":"I see, thanks. My initial goal was to store many masks in one file (to reduce the amount of http requests). But working with individual svg mask files seems to be a lot more flexible.","m.mentions":{},"m.relates_to":{"event_id":"$VSu6PM7eO3O68_ZioOxCcV7-9HF1sSYZqWxuhWE-iLc","is_falling_back":true,"m.in_reply_to":{"event_id":"$Blkkd8LDNAQf2sCgJbKVMGpzWCRfqLdYTeisDegRxiQ"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1760686332701,"senderName":"Ondřej Žára","senderId":"@ondr4s:matrix.org","id":"$R0HPIjkc4-710On_bdYA_DJId0Ot2LVE33RN-HOEaBI"},
{"content":{"body":"Apparently, adding css-styleable icons exclusively via css is tricky :)","m.mentions":{},"m.relates_to":{"event_id":"$VSu6PM7eO3O68_ZioOxCcV7-9HF1sSYZqWxuhWE-iLc","is_falling_back":true,"m.in_reply_to":{"event_id":"$R0HPIjkc4-710On_bdYA_DJId0Ot2LVE33RN-HOEaBI"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1760686348440,"senderName":"Ondřej Žára","senderId":"@ondr4s:matrix.org","id":"$XADFgw19hS0IiIZZu0UD-k94gg770vFA1DF_hYtWm5w"},
{"content":{"body":"For this use case there is a hack that I first saw from Lea Verrou I think, which is to use the `:target` selector to show/hide different elements based on the current hash set for the SVG url: https://jsfiddle.net/dn14ghyf/","format":"org.matrix.custom.html","formatted_body":"For this use case there is a hack that I first saw from Lea Verrou I think, which is to use the <code>:target</code> selector to show/hide different elements based on the current hash set for the SVG url: https://jsfiddle.net/dn14ghyf/","m.mentions":{},"m.relates_to":{"event_id":"$VSu6PM7eO3O68_ZioOxCcV7-9HF1sSYZqWxuhWE-iLc","is_falling_back":true,"m.in_reply_to":{"event_id":"$XADFgw19hS0IiIZZu0UD-k94gg770vFA1DF_hYtWm5w"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1760688619293,"senderName":"Kaiido","senderId":"@kaiido:matrix.org","id":"$zYDq8gU-Y6HZGy3bIJKyH2XrH0lZib6qMzl06iTGIUg"},
{"content":{"body":"I see, nice! Is this `:target`-based styling inside `<svg>` universally supported?","format":"org.matrix.custom.html","formatted_body":"I see, nice! Is this <code>:target</code>-based styling inside <code>&lt;svg&gt;</code> universally supported?","m.mentions":{},"m.relates_to":{"event_id":"$VSu6PM7eO3O68_ZioOxCcV7-9HF1sSYZqWxuhWE-iLc","is_falling_back":true,"m.in_reply_to":{"event_id":"$zYDq8gU-Y6HZGy3bIJKyH2XrH0lZib6qMzl06iTGIUg"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1760690791234,"senderName":"Ondřej Žára","senderId":"@ondr4s:matrix.org","id":"$pUmPigQBiGX43YrmkwPyXKiTjExZGGGLKaS2VxPfstQ"}
]