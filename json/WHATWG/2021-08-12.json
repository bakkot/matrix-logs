[
{"content":{"body":"random q: in step 3.1 of Formatter in the console spec, it calls `String(arg)`: https://console.spec.whatwg.org/#formatter","format":"org.matrix.custom.html","formatted_body":"random q: in step 3.1 of Formatter in the console spec, it calls <code>String(arg)</code>: https://console.spec.whatwg.org/#formatter","msgtype":"m.text"},"ts":1628731669841,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$pZ5Rgct-NpiBgJpK6L3Ge7yqEuau2xLvvaZrZa0vJDs"},
{"content":{"body":"this implies to me that `console.log(\">%s<\", ({ toString: () => { return 'custom' } }))` should print `>custom<`, which it does in FF, but not in Chrome (which instead prints `>Object<`)","format":"org.matrix.custom.html","formatted_body":"this implies to me that <code>console.log(&quot;&gt;%s&lt;&quot;, ({ toString: () =&gt; { return 'custom' } }))</code> should print <code>&gt;custom&lt;</code>, which it does in FF, but not in Chrome (which instead prints <code>&gt;Object&lt;</code>)","msgtype":"m.text"},"ts":1628731695853,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$FZObfBxvaLCWBvxFj7FeTO6M6-qEt-bt-MbOuAH1Z_4"},
{"content":{"body":"am I misreading, or is Chrome not following the spec?","msgtype":"m.text"},"ts":1628731708094,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$rBF2_ft3CmM1pW8WMegRRydLrdT1lttWKSIHiX9zuYo"},
{"content":{"body":"Could someone explain why running the below snippet on https://google.com results in different output than https://source.chromium.org/? As far as I can tell neither are in quirks mode.\n\n```js\nconst target = new EventTarget()\ntarget.addEventListener(\"f\", () => {\n    console.log(\"f\");\n    queueMicrotask(() => console.log(\"f mt\"));\n});\ntarget.addEventListener(\"x\", () => {\n    console.log(\"x\");\n    queueMicrotask(() => console.log(\"x mt\"));\n});\ntarget.dispatchEvent(new Event(\"f\"));\ntarget.dispatchEvent(new Event(\"x\"));\n```","format":"org.matrix.custom.html","formatted_body":"<p>Could someone explain why running the below snippet on https://google.com results in different output than https://source.chromium.org/? As far as I can tell neither are in quirks mode.</p>\n<pre><code class=\"language-js\">const target = new EventTarget()\ntarget.addEventListener(&quot;f&quot;, () =&gt; {\n    console.log(&quot;f&quot;);\n    queueMicrotask(() =&gt; console.log(&quot;f mt&quot;));\n});\ntarget.addEventListener(&quot;x&quot;, () =&gt; {\n    console.log(&quot;x&quot;);\n    queueMicrotask(() =&gt; console.log(&quot;x mt&quot;));\n});\ntarget.dispatchEvent(new Event(&quot;f&quot;));\ntarget.dispatchEvent(new Event(&quot;x&quot;));\n</code></pre>\n","msgtype":"m.text"},"ts":1628765760779,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$SYmrDmMZEhG75NboikjwBGebA_-2iOpvF_uIutqA40I"},
{"content":{"body":"google.com logs\n```\nf\nVM143:7 x\nVM143:4 f mt\nVM143:8 x mt\n","format":"org.matrix.custom.html","formatted_body":"<p>google.com logs</p>\n<pre><code>f\nVM143:7 x\nVM143:4 f mt\nVM143:8 x mt\n</code></pre>\n","msgtype":"m.text"},"ts":1628765795864,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$qhVLJgeRfcGHh-l7YcGu10otEkUr6r7lQj-H4Hg31Zs"},
{"content":{"body":" * google.com logs\n```\nf\nx\nf mt\nx mt\n```\nwhile source.chromium.org logs\n```\nf\nf mt\nx\nx mt\n```","format":"org.matrix.custom.html","formatted_body":" * <p>google.com logs</p>\n<pre><code>f\nx\nf mt\nx mt\n</code></pre>\n<p>while source.chromium.org logs</p>\n<pre><code>f\nf mt\nx\nx mt\n</code></pre>\n","m.new_content":{"body":"google.com logs\n```\nf\nx\nf mt\nx mt\n```\nwhile source.chromium.org logs\n```\nf\nf mt\nx\nx mt\n```","format":"org.matrix.custom.html","formatted_body":"<p>google.com logs</p>\n<pre><code>f\nx\nf mt\nx mt\n</code></pre>\n<p>while source.chromium.org logs</p>\n<pre><code>f\nf mt\nx\nx mt\n</code></pre>\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$qhVLJgeRfcGHh-l7YcGu10otEkUr6r7lQj-H4Hg31Zs","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1628765817489,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$QkFAWqCcTJl2KS3lVNyn7Y5bobbNyQXhV36NHyezBfY"},
{"content":{"body":"Oh, source.chromium.org has a custom `queueMicrotask`. Should have looked for that right away. Please ignore :-)","format":"org.matrix.custom.html","formatted_body":"Oh, source.chromium.org has a custom <code>queueMicrotask</code>. Should have looked for that right away. Please ignore :-)","msgtype":"m.text"},"ts":1628766042316,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$DcfxsHZcUrACZ5PrmyWMseh4kaawQTPFl6eQ_JW5B3o"}
]