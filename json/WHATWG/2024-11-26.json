[
{"content":{"body":"> <@akaster:serenityos.org> hm. maybe our patch to add that was in error anyway. doesn't fail any of our local tests to remove it 😅\n\nDid you see the big red box saying that there are lots of problems with the DOMParser / XMLSerializer specs? This one reminds me of one of them... https://github.com/w3c/DOM-Parsing/issues","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$TOQLleSwHwQkFRek_gmxvw-Q7he0P5qOWdZZMBreAGA?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@akaster:serenityos.org\">@akaster:serenityos.org</a><br>hm. maybe our patch to add that was in error anyway. doesn&#39;t fail any of our local tests to remove it 😅</blockquote></mx-reply>Did you see the big red box saying that there are lots of problems with the DOMParser / XMLSerializer specs? This one reminds me of one of them... https://github.com/w3c/DOM-Parsing/issues","m.mentions":{"user_ids":["@akaster:serenityos.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$TOQLleSwHwQkFRek_gmxvw-Q7he0P5qOWdZZMBreAGA"}},"msgtype":"m.text"},"ts":1732591565791,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$Dcw-ia5oFTI6r1br0uNDmZleMEnpFjeTYXkvCl9X3bQ"},
{"content":{"body":"None of the other engines produce a result with the xml ns applied. We just slapped that into our XML document parser while referencing https://html.spec.whatwg.org/multipage/infrastructure.html#xml","m.mentions":{},"msgtype":"m.text"},"ts":1732591781695,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$UgWJUSLhqJT239-1uhEnBp3lTMGNjG8_8BYGPcC_4a0"},
{"content":{"body":"/     To ease migration from HTML to XML, user agents conforming to this specification will place elements in HTML\n//     in the http://www.w3.org/1999/xhtml namespace, at least for the purposes of the DOM and CSS.\n//     The term \"HTML elements\" refers to any element in that namespace, even in XML documents.\n\nBasically asserting that the spec is telling us \"any element placed in any XML or HTML document shall have the xhtml namespace\"","m.mentions":{},"msgtype":"m.text"},"ts":1732591843674,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$LZzFvye3GxzXV6z6NfWu_7t_2WluDI9vZ_O-0iaYR8A"},
{"content":{"body":"which seems... unlikely to be the desired effect","m.mentions":{},"msgtype":"m.text"},"ts":1732591850688,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$Yh3gL1JW_kAhqsJkoMqXWrYCdl1zUUAJ61b0bc-EbH4"},
{"content":{"body":"There's a PR reverting that behavior that causes us to now pass https://github.com/web-platform-tests/wpt/blob/24c2e5fb6c/domparsing/XMLSerializer-serializeToString.html#L34 🤷‍♂️","m.mentions":{},"msgtype":"m.text"},"ts":1732592061311,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$OV7mXRJy1Fl9XMVLXjwuF7x6GkmfQL8D_HpWWx5PjJ0"},
{"content":{"body":"https://github.com/LadybirdBrowser/ladybird/pull/2579/files#diff-607aaf214af29d5eaa606d04c2e53b4a0e931f713843fd158cf1f47a6f84d2cbL95","m.mentions":{},"msgtype":"m.text"},"ts":1732592137424,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$FwMQjAbjGEAqhstZUkrTzh_uRYwkOmkD-iRjfSlwN4A"},
{"content":{"body":"Oh I guess I missed this part on my read-through: \"An XML parser, for the purposes of this specification, is a construct that follows the rules given in XML to map a string of bytes or characters into a Document object. NOTE: At the time of writing, no such rules actually exist\"\n\n... I guess we're purely in \"wing it and run the tests\" territory","m.mentions":{},"msgtype":"m.text"},"ts":1732593039100,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$ZZs6Naaoyp4WOopRRZ523pQu7SduIWp_OFNq-UwBrn8"},
{"content":{"body":"> <@akaster:serenityos.org> /     To ease migration from HTML to XML, user agents conforming to this specification will place elements in HTML\n> //     in the http://www.w3.org/1999/xhtml namespace, at least for the purposes of the DOM and CSS.\n> //     The term \"HTML elements\" refers to any element in that namespace, even in XML documents.\n> \n> Basically asserting that the spec is telling us \"any element placed in any XML or HTML document shall have the xhtml namespace\"\n\nYeah that is not saying what you're thinking. That's just saying \"we recognize that XML namespaces are, unfortunately, part of the web. Therefore, instead of completely ignoring them, https://html.spec.whatwg.org/#insert-an-html-element uses the XHTML namespace.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$LZzFvye3GxzXV6z6NfWu_7t_2WluDI9vZ_O-0iaYR8A?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@akaster:serenityos.org\">@akaster:serenityos.org</a><br>/     To ease migration from HTML to XML, user agents conforming to this specification will place elements in HTML<br/>//     in the http://www.w3.org/1999/xhtml namespace, at least for the purposes of the DOM and CSS.<br/>//     The term &quot;HTML elements&quot; refers to any element in that namespace, even in XML documents.<br/><br/>Basically asserting that the spec is telling us &quot;any element placed in any XML or HTML document shall have the xhtml namespace&quot;</blockquote></mx-reply>Yeah that is not saying what you're thinking. That's just saying \"we recognize that XML namespaces are, unfortunately, part of the web. Therefore, instead of completely ignoring them, https://html.spec.whatwg.org/#insert-an-html-element uses the XHTML namespace.","m.mentions":{"user_ids":["@akaster:serenityos.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$LZzFvye3GxzXV6z6NfWu_7t_2WluDI9vZ_O-0iaYR8A"}},"msgtype":"m.text"},"ts":1732595549472,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$0xHKoVKGHCozTkEKojFCZWSMSENxfskvqhZrkcsUU7M"},
{"content":{"body":"You can kind of tell that because it says \"will place\" instead of \"must place\", it means \"there's a normative requirement somewhere else\".","m.mentions":{},"msgtype":"m.text"},"ts":1732595594253,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$GKqvVz0dMKNXtIoX5ofguC6RmvZ8Pkh-LsN9lweufEE"},
{"content":{"body":"keithamus: https://github.com/whatwg/html/pull/9841 still has a number of (hidden) unresolved conversations","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@keithamus:matrix.org\">keithamus</a>: https://github.com/whatwg/html/pull/9841 still has a number of (hidden) unresolved conversations","m.mentions":{"user_ids":["@keithamus:matrix.org"]},"msgtype":"m.text"},"ts":1732614902293,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$nEpXAuAHO5timzi7RDXNpqYQmG3HZaZetNLvV1cbytU"}
]