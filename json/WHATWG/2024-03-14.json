[
{"content":{"body":"> <@noamr:matrix.org> judge_sour_dough_bread: seems right, you need to have an `extends` option to make this into a customize built-in element.\n\nThank you, Noam. To give some context here, I may have understood Web components a bit wrong -- I originally wanted some subclass of specifically `HTMLElement` -- and not a known HTML element like `span`, `fieldset`, `button` etc -- because I wanted a \"mix-in\" component, one that can work regardless what element is upgraded to its functionality. Which is why I was trying to use the `is` attribute, but turns out that in practice (correct me if I am wrong about this, please) one either uses `is` attribute on a known HTML element, to upgrade to a custom element that specifies `extends`, or one that uses the custom element name (e.g. `foo-bar`) for a component that does _not_ use `extends`. So, in effect, \"mix-ins\", contrary to perhaps their general principle, cannot be used without `extends`?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$tJY3GpDxZLCKraRzEw_yZ046l0-miNyTzeg6AEU6PSI?via=matrix.org\">In reply to</a> <a href=\"https://matrix.to/#/@noamr:matrix.org\">@noamr:matrix.org</a><br><a href=\"https://matrix.to/#/@judge_sour_dough_bread:matrix.org\">judge_sour_dough_bread</a>: seems right, you need to have an <code>extends</code> option to make this into a customize built-in element.</blockquote></mx-reply>Thank you, Noam. To give some context here, I may have understood Web components a bit wrong -- I originally wanted some subclass of specifically <code>HTMLElement</code> -- and not a known HTML element like <code>span</code>, <code>fieldset</code>, <code>button</code> etc -- because I wanted a \"mix-in\" component, one that can work regardless what element is upgraded to its functionality. Which is why I was trying to use the <code>is</code> attribute, but turns out that in practice (correct me if I am wrong about this, please) one either uses <code>is</code> attribute on a known HTML element, to upgrade to a custom element that specifies <code>extends</code>, or one that uses the custom element name (e.g. <code>foo-bar</code>) for a component that does <em>not</em> use <code>extends</code>. So, in effect, \"mix-ins\", contrary to perhaps their general principle, cannot be used without <code>extends</code>?","m.mentions":{"user_ids":["@noamr:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$tJY3GpDxZLCKraRzEw_yZ046l0-miNyTzeg6AEU6PSI"}},"msgtype":"m.text"},"ts":1710411271863,"senderName":"judge_sour_dough_bread","senderId":"@judge_sour_dough_bread:matrix.org","id":"$PeRviygDikbYmVJ0sIGy33flBXUixpQdLkNgTFhemYc"},
{"content":{"body":"Yea I donâ€™t think you can implement a mixin in this particular way, but there might be other forums with more ideas around this (this forum is for working on the standards themselves)","msgtype":"m.text"},"ts":1710425855182,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$QbLG23Y4pH2sgoRZPz8YW6jWT_nwVwvGWQ6zrbSIz6o"},
{"content":{"body":"Luke Warlow: feel free to reverse dupe yourself in the future, especially if it's an area you're working on. I think you should be able to do that given you're in the triage team.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@lwarlow:igalia.com\">Luke Warlow</a>: feel free to reverse dupe yourself in the future, especially if it's an area you're working on. I think you should be able to do that given you're in the triage team.","m.mentions":{"user_ids":["@lwarlow:igalia.com"]},"msgtype":"m.text"},"ts":1710428319838,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$LROvMuwWHXBpCLDzQPLqm2iCe_0CtjmC5ZReYGMvXfI"},
{"content":{"body":"Okay good to note, forgot I had those permissions.","m.mentions":{},"m.relates_to":{"event_id":"$LROvMuwWHXBpCLDzQPLqm2iCe_0CtjmC5ZReYGMvXfI","is_falling_back":true,"m.in_reply_to":{"event_id":"$LROvMuwWHXBpCLDzQPLqm2iCe_0CtjmC5ZReYGMvXfI"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1710428376489,"senderName":"Luke Warlow","senderId":"@lwarlow:igalia.com","id":"$-v7Co1tdouEDlKRmEMyh7zOgmppiBnd1m89K1EiWiMc"},
{"content":{"body":"annevk: https://github.com/whatwg/html/issues/10077#issuecomment-1997383562","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: https://github.com/whatwg/html/issues/10077#issuecomment-1997383562","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1710434970598,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$M5f0S2LnffCFA6UPpaUAbUqVSlhA4rzuXhzQsKxWmes"},
{"content":{"body":"Suppose you want a web API to be able to take as an argument, an instance of a JS class that has some methods, and you want the API to be able to call those methods on the input instance. Do you have to define the param as type `any` and then just `GetMethod(obj, 'method1')`, ....? and pull those methods off and store them separately as callback functions, for later invocation?","format":"org.matrix.custom.html","formatted_body":"Suppose you want a web API to be able to take as an argument, an instance of a JS class that has some methods, and you want the API to be able to call those methods on the input instance. Do you have to define the param as type <code>any</code> and then just <code>GetMethod(obj, 'method1')</code>, ....? and pull those methods off and store them separately as callback functions, for later invocation?","m.mentions":{},"msgtype":"m.text"},"ts":1710440544558,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$NmGeiRRkBV0AUMo4SFZJ5RNd8FwlLOrsRBhz8t97ElY"},
{"content":{"body":"And does that give you the right `this` value (i.e., the instance of the class w/ the methods) when you're invoking the callbacks later on? I'm pretty sure it doesn't","format":"org.matrix.custom.html","formatted_body":"And does that give you the right <code>this</code> value (i.e., the instance of the class w/ the methods) when you're invoking the callbacks later on? I'm pretty sure it doesn't","m.mentions":{},"msgtype":"m.text"},"ts":1710440639784,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$H1FeC-jNUwhpKOtvFtb_in4doKc3TzTsXuXaQMpqn90"},
{"content":{"body":"Is this about Observer? There's an issue discussing that I thought.","m.mentions":{},"msgtype":"m.text"},"ts":1710440842315,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$JV5TkQN1mpNfCHm-Sw0x-p51JAKT-MwgjWigMTQ7VKM"},
{"content":{"body":"This is not","m.mentions":{},"msgtype":"m.text"},"ts":1710440860848,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$FSSM4TDUvNnpr_aqJ5a6Fw-2nKdlZPcUUXkvXD_rHGM"},
{"content":{"body":"Thanks, will hopefully have some details tomorrow.","m.mentions":{},"m.relates_to":{"event_id":"$M5f0S2LnffCFA6UPpaUAbUqVSlhA4rzuXhzQsKxWmes","is_falling_back":true,"m.in_reply_to":{"event_id":"$M5f0S2LnffCFA6UPpaUAbUqVSlhA4rzuXhzQsKxWmes"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1710440869502,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$UwcuxAv2fOzzOHiZvD0L9XSHkE3TT5VPC_YfQt5uEX0"},
{"content":{"body":"I found https://webidl.spec.whatwg.org/#dfn-callback-this-value though, which is what I'm looking for","m.mentions":{},"msgtype":"m.text"},"ts":1710440870131,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$-hXCHkhw5UYvSFRNsD-NIMgjCWpELpC-LUy7rXRkb5Y"},
{"content":{"body":"This is about shared storage worklets","m.mentions":{},"msgtype":"m.text"},"ts":1710440874447,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$30s1KzXF0ZVmcKFS1ROyuQU2Nz4NfUJtk92YuhVCZRM"},
{"content":{"body":"So it turns out https://html.spec.whatwg.org/C#fakeworkletglobalscope-process is basically what I was looking for-ish i think","m.mentions":{},"msgtype":"m.text"},"ts":1710440894230,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$J-_Hv3GKFPDreyh_jNxLs2M9nl2b5nonKWUPrO4JsMc"},
{"content":{"body":"If it's an arbitrary JS class (not an IDL interface), then generally we'll treat it as a dictionary, I think? And pull the methods off when initially passed, stashing them for later calling.","m.mentions":{},"msgtype":"m.text"},"ts":1710440930784,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$CTKUrsZ4V3z-puQZaDNsOfTcagtWzxIqYl4hRGXK4B4"},
{"content":{"body":"That, _plus_ storing the original instance for later use as the callback this value, I guess?","format":"org.matrix.custom.html","formatted_body":"That, <em>plus</em> storing the original instance for later use as the callback this value, I guess?","m.mentions":{},"msgtype":"m.text"},"ts":1710440960364,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$zuye8IJ4x7kwvAUgLFvOBkxLyMaI0a41d1Iz4-B2Fvw"},
{"content":{"body":"Worklets was the other thing I thought of that might have something like this, yeah.","m.mentions":{},"msgtype":"m.text"},"ts":1710440960869,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$UJY4SWomU-b8pwsakchCIBaa12k1aYql9OFjJqNw-9M"},
{"content":{"body":"The one wrinkle here is that this is what `interface callback` is, essentially, but we generally decided we didn't want that. But maybe we do, sometimes.","format":"org.matrix.custom.html","formatted_body":"The one wrinkle here is that this is what <code>interface callback</code> is, essentially, but we generally decided we didn't want that. But maybe we do, sometimes.","m.mentions":{},"msgtype":"m.text"},"ts":1710441011715,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$BvSO4OG6AWcJGeCNuM_d5n3iQHhkHxEsjPBkuTvrfhg"},
{"content":{"body":"Heh, yeah but for as long as that scary note above callback interfaces exists, getting away with normal callbacks feels less controversial","m.mentions":{},"msgtype":"m.text"},"ts":1710441190385,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$A5a0JtQSdkp1Sn3HToX75axsF4Ma4x5oUeIu-29BJHU"}
]