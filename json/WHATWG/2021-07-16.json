[
{"content":{"body":"https://source.chromium.org/chromium/chromium/src/+/master:third_party/blink/renderer/core/html/parser/html_meta_charset_parser.h;l=58 indeed looks a lot like Chromium is using the real HTML tokenizer. But not the real tree builder: https://source.chromium.org/chromium/chromium/src/+/master:third_party/blink/renderer/core/html/parser/html_meta_charset_parser.h;l=58","msgtype":"m.text"},"ts":1626420890209,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$b0Erdy3ZaRRjxhmP9efbLHKKT8yKMH1crR1g6hFyl_Y"},
{"content":{"body":"Can anyone think of bad Web compat consequences from using the real tree builder algorithm for figuring out where `body` starts?","format":"org.matrix.custom.html","formatted_body":"Can anyone think of bad Web compat consequences from using the real tree builder algorithm for figuring out where <code>body</code> starts?","msgtype":"m.text"},"ts":1626420946795,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$EyeyZ70x3sJg1zHGqx6vnIbH6MGAlqYKcIVZ9XXsQVw"},
{"content":{"body":"That is, running the tree builder in the scripting enabled mode without actually executing scripts during the `meta` prescan?","format":"org.matrix.custom.html","formatted_body":"That is, running the tree builder in the scripting enabled mode without actually executing scripts during the <code>meta</code> prescan?","msgtype":"m.text"},"ts":1626420988469,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$XUcDuYZ3nVZEbc0uuLrjjqN6AskLY-RN9roKrj7xd30"},
{"content":{"body":"Oops. The second link was supposed to be https://source.chromium.org/chromium/chromium/src/+/master:third_party/blink/renderer/core/html/parser/html_meta_charset_parser.h;l=58","msgtype":"m.text"},"ts":1626421063654,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$7_Uf1XfAX1qI5wwkBdAl5PTrbudiZ0ksPkWzRy8nOM8"},
{"content":{"body":"What","msgtype":"m.text"},"ts":1626421071420,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$y1HRSuKn0N7EUEIGeUJs1G8gDRzklL8G2Gp2-vdc1M0"},
{"content":{"body":"https://source.chromium.org/chromium/chromium/src/+/master:third_party/blink/renderer/core/html/parser/html_meta_charset_parser.cc;l=88","msgtype":"m.text"},"ts":1626421094568,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$8Bd8ws6BphMSJZtAoGzpVcdGlaiFfIU69EQzuL0qzyU"},
{"content":{"body":"Something weird going on with how the copypasteable URL updates.","msgtype":"m.text"},"ts":1626421107803,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$OLBZvh8zs7UrNZEH4WvPyrg5op7vxK_ZB5WtrG5_WXg"},
{"content":{"body":"AFAICT, the biggest risk is probably `meta` inside `script` in a manner that should be honored for compat. Need to write tests...","format":"org.matrix.custom.html","formatted_body":"AFAICT, the biggest risk is probably <code>meta</code> inside <code>script</code> in a manner that should be honored for compat. Need to write tests...","msgtype":"m.text"},"ts":1626421291580,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$YZBVMWNwdk7bQSQ6YGjvrT6dTZjAV4gfMefj5o4U2gc"}
]