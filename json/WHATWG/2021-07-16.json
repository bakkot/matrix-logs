[
{"content":{"body":"https://source.chromium.org/chromium/chromium/src/+/master:third_party/blink/renderer/core/html/parser/html_meta_charset_parser.h;l=58 indeed looks a lot like Chromium is using the real HTML tokenizer. But not the real tree builder: https://source.chromium.org/chromium/chromium/src/+/master:third_party/blink/renderer/core/html/parser/html_meta_charset_parser.h;l=58","msgtype":"m.text"},"ts":1626420890209,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$b0Erdy3ZaRRjxhmP9efbLHKKT8yKMH1crR1g6hFyl_Y"},
{"content":{"body":"Can anyone think of bad Web compat consequences from using the real tree builder algorithm for figuring out where `body` starts?","format":"org.matrix.custom.html","formatted_body":"Can anyone think of bad Web compat consequences from using the real tree builder algorithm for figuring out where <code>body</code> starts?","msgtype":"m.text"},"ts":1626420946795,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$EyeyZ70x3sJg1zHGqx6vnIbH6MGAlqYKcIVZ9XXsQVw"},
{"content":{"body":"That is, running the tree builder in the scripting enabled mode without actually executing scripts during the `meta` prescan?","format":"org.matrix.custom.html","formatted_body":"That is, running the tree builder in the scripting enabled mode without actually executing scripts during the <code>meta</code> prescan?","msgtype":"m.text"},"ts":1626420988469,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$XUcDuYZ3nVZEbc0uuLrjjqN6AskLY-RN9roKrj7xd30"},
{"content":{"body":"Oops. The second link was supposed to be https://source.chromium.org/chromium/chromium/src/+/master:third_party/blink/renderer/core/html/parser/html_meta_charset_parser.h;l=58","msgtype":"m.text"},"ts":1626421063654,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$7_Uf1XfAX1qI5wwkBdAl5PTrbudiZ0ksPkWzRy8nOM8"},
{"content":{"body":"What","msgtype":"m.text"},"ts":1626421071420,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$y1HRSuKn0N7EUEIGeUJs1G8gDRzklL8G2Gp2-vdc1M0"},
{"content":{"body":"https://source.chromium.org/chromium/chromium/src/+/master:third_party/blink/renderer/core/html/parser/html_meta_charset_parser.cc;l=88","msgtype":"m.text"},"ts":1626421094568,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$8Bd8ws6BphMSJZtAoGzpVcdGlaiFfIU69EQzuL0qzyU"},
{"content":{"body":"Something weird going on with how the copypasteable URL updates.","msgtype":"m.text"},"ts":1626421107803,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$OLBZvh8zs7UrNZEH4WvPyrg5op7vxK_ZB5WtrG5_WXg"},
{"content":{"body":"AFAICT, the biggest risk is probably `meta` inside `script` in a manner that should be honored for compat. Need to write tests...","format":"org.matrix.custom.html","formatted_body":"AFAICT, the biggest risk is probably <code>meta</code> inside <code>script</code> in a manner that should be honored for compat. Need to write tests...","msgtype":"m.text"},"ts":1626421291580,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$YZBVMWNwdk7bQSQ6YGjvrT6dTZjAV4gfMefj5o4U2gc"},
{"content":{"body":"> <@hsivonen:mozilla.org> AFAICT, the biggest risk is probably `meta` inside `script` in a manner that should be honored for compat. Need to write tests...\n\nFWIW, I would be strongly in favour of not allowing this (or `meta` inside `noscript`), if we could get away this from a compat POV","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$YZBVMWNwdk7bQSQ6YGjvrT6dTZjAV4gfMefj5o4U2gc?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">@hsivonen:mozilla.org</a><br>AFAICT, the biggest risk is probably <code>meta</code> inside <code>script</code> in a manner that should be honored for compat. Need to write tests...</blockquote></mx-reply>FWIW, I would be strongly in favour of not allowing this (or <code>meta</code> inside <code>noscript</code>), if we could get away this from a compat POV","m.relates_to":{"m.in_reply_to":{"event_id":"$YZBVMWNwdk7bQSQ6YGjvrT6dTZjAV4gfMefj5o4U2gc"}},"msgtype":"m.text"},"ts":1626426312030,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$JySB5g0TtjDS9NzKXtLTzGhnLOB59V9lTW9zklNh-ic"},
{"content":{"body":"I don't know the origins of why Hixie spec'd it as allowing it, though…","msgtype":"m.text"},"ts":1626426447244,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$LJAq0-4uhJI4M9sHwlNJQe5o5MpBgr8aPa_jLpYrd94"},
{"content":{"body":"Compat is nice and all, but sometimes I understand why people wanted to burn it all to the ground","msgtype":"m.text"},"ts":1626426455486,"senderName":"Ms2ger","senderId":"@ms2ger:igalia.com","id":"$Er7hRnJnqCpE41RF_aPw8aBjV3Ih3KZ5t3eQh07j2jA"},
{"content":{"body":"I guess it's somewhat difficult to avoid the actual parser changing encoding from `document.write`, and probably practically unacceptable :(","format":"org.matrix.custom.html","formatted_body":"I guess it's somewhat difficult to avoid the actual parser changing encoding from <code>document.write</code>, and probably practically unacceptable :(","msgtype":"m.text"},"ts":1626426781823,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$Eonw5SbRYV-tOwHyo9Rya3LyPtclfaD38Ep0JqbIjTQ"},
{"content":{"body":"Compat is nice / but compat can stop you / from doing all the things in life you'd like to.","msgtype":"m.text"},"ts":1626426864008,"senderName":"jgraham","senderId":"@jgraham_:matrix.org","id":"$6WpkAaqLOqS55Ax5vvPxAhOvi-_mlb6ThToWzCgf0zA"},
{"content":{"body":"(also I think to quote The Smiths these days, one need to pretend that Morrissey doesn't exist and it's all Johnny Marr)","msgtype":"m.text"},"ts":1626426961608,"senderName":"jgraham","senderId":"@jgraham_:matrix.org","id":"$Rv_e2jt4wbkhvjZZlnIDHMxEZAUdBofNgrKHOI5AIw4"},
{"content":{"body":"Who are The Smiths?","msgtype":"m.text"},"ts":1626426976450,"senderName":"Ms2ger","senderId":"@ms2ger:igalia.com","id":"$eph_ZDdLhoX64f77RBCYsOA_uo293dlXK4WD5w_LSwo"},
{"content":{"body":"gets inspired to put on a far more acceptable band, The Jesus and the Mary Chain","msgtype":"m.emote"},"ts":1626427095628,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$4MabETP_ZN2e9LmzXhFw-AiRLc6OTd464L3u6DjCX74"},
{"content":{"body":"> <@gsnedders:mozilla.org> I don't know the origins of why Hixie spec'd it as allowing it, though…\n\nI thought Hixie specced it the way it's specced in order to imitate IE6. However, I could be wrong and maybe the spec is creative in ways it shouldn't have been.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$LJAq0-4uhJI4M9sHwlNJQe5o5MpBgr8aPa_jLpYrd94?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@gsnedders:mozilla.org\">@gsnedders:mozilla.org</a><br>I don&#39;t know the origins of why Hixie spec&#39;d it as allowing it, though…</blockquote></mx-reply>I thought Hixie specced it the way it's specced in order to imitate IE6. However, I could be wrong and maybe the spec is creative in ways it shouldn't have been.","m.relates_to":{"m.in_reply_to":{"event_id":"$LJAq0-4uhJI4M9sHwlNJQe5o5MpBgr8aPa_jLpYrd94"}},"msgtype":"m.text"},"ts":1626427410114,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$NumHoWL7TKCOy6naVHzHGnTHJFvFK4TO11syyQ4ljgc"},
{"content":{"body":"> <@hsivonen:mozilla.org> I thought Hixie specced it the way it's specced in order to imitate IE6. However, I could be wrong and maybe the spec is creative in ways it shouldn't have been.\n\nI have a suspicion that it didn't handle `<script>` for the sake of keeping the prescan as simple as possible?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$NumHoWL7TKCOy6naVHzHGnTHJFvFK4TO11syyQ4ljgc?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">@hsivonen:mozilla.org</a><br>I thought Hixie specced it the way it's specced in order to imitate IE6. However, I could be wrong and maybe the spec is creative in ways it shouldn't have been.</blockquote></mx-reply>I have a suspicion that it didn't handle <code>&lt;script&gt;</code> for the sake of keeping the prescan as simple as possible?","m.relates_to":{"m.in_reply_to":{"event_id":"$NumHoWL7TKCOy6naVHzHGnTHJFvFK4TO11syyQ4ljgc"}},"msgtype":"m.text"},"ts":1626427467804,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$hFGTZTnmtmszg0iWqGFxRN7aG6taz1dkI6Sm-cYObmc"},
{"content":{"body":"Also possible.","msgtype":"m.text"},"ts":1626427479807,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$sPPjbYS61YSr5WMtSnuzDL41NPtHbm8rb05JZZf12_o"},
{"content":{"body":"If I'm reading the Chromium code correctly, it's running the tokeniser with scripting disabled, which means the prescan would pick up `<noscript><meta charset=…>`","format":"org.matrix.custom.html","formatted_body":"If I'm reading the Chromium code correctly, it's running the tokeniser with scripting disabled, which means the prescan would pick up <code>&lt;noscript&gt;&lt;meta charset=…&gt;</code>","msgtype":"m.text"},"ts":1626427936402,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$4IH0N3Iwtq4RDH8z8h0MmeB38ptTtXQpv0jci5Ign0o"},
{"content":{"body":"Fun","msgtype":"m.text"},"ts":1626427947500,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$tKad9cMzgik6RYDX3eRJltwnbnZ30sETnZBGIuJBk0Q"},
{"content":{"body":"What would be a simple way for the page to self-diagnose whether there was a charset reload?","msgtype":"m.text"},"ts":1626427986493,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$FRHu5VImVQVB-fWNjfgUhOSvISG98ZL99GA9j5Sy33o"},
{"content":{"body":"write in localStorage? though I guess that depends on how it deals with committing things there","msgtype":"m.text"},"ts":1626428011313,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$EUxPvabszeMvrZrtdnAlliXEUC08l-mnv_xucrzjmhU"},
{"content":{"body":"I guess local-storage would involve having to edit a test-specific key into each test.","msgtype":"m.text"},"ts":1626428051856,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$SB53NTINIyuqT7XZsoQHUeiRB5r5i9y7GlMbtK9598w"},
{"content":{"body":"> <@gsnedders:mozilla.org> I guess it's somewhat difficult to avoid the actual parser changing encoding from `document.write`, and probably practically unacceptable :(\n\na more radical suggestion to deal with `document.write` for the parser would be to change the confidence to `certain` before executing any script; I wonder how often that would change things…","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$Eonw5SbRYV-tOwHyo9Rya3LyPtclfaD38Ep0JqbIjTQ?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@gsnedders:mozilla.org\">@gsnedders:mozilla.org</a><br>I guess it's somewhat difficult to avoid the actual parser changing encoding from <code>document.write</code>, and probably practically unacceptable :(</blockquote></mx-reply>a more radical suggestion to deal with <code>document.write</code> for the parser would be to change the confidence to <code>certain</code> before executing any script; I wonder how often that would change things…","m.relates_to":{"m.in_reply_to":{"event_id":"$Eonw5SbRYV-tOwHyo9Rya3LyPtclfaD38Ep0JqbIjTQ"}},"msgtype":"m.text"},"ts":1626428088921,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$NcNMo0_JJ_ng463l2hL0u4pQJtpONsitahfTkaUm_JI"},
{"content":{"body":"Pretty sure that would break the Web.","msgtype":"m.text"},"ts":1626428110563,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$75XSqoGpLdrKYUeKej7-1YBRygZFr1rY_JH8JfUnw34"},
{"content":{"body":"I can find very little evidence for sites using `document.write(\"<meta charset=…>\")` at least, but yeah, I suspect it would break the web due to sites having the meta after a first script","format":"org.matrix.custom.html","formatted_body":"I can find very little evidence for sites using <code>document.write(&quot;&lt;meta charset=…&gt;&quot;)</code> at least, but yeah, I suspect it would break the web due to sites having the meta after a first script","msgtype":"m.text"},"ts":1626428147654,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$TU0IPRBw7I0NweKg3oBWuxRYOHr3nKcOGSOFnKl3UG4"},
{"content":{"body":"even just changing changing it to certain on a `document.write` call would I expect break things :(","format":"org.matrix.custom.html","formatted_body":"even just changing changing it to certain on a <code>document.write</code> call would I expect break things :(","msgtype":"m.text"},"ts":1626428195515,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$qp52rVSm_LsXAiduQENnhHg4m1fv9fahxxfgfx1kd4k"},
{"content":{"body":"Wouldn't that have to be `document.write(\"<meta ch\" + \"arset=...\")`?","format":"org.matrix.custom.html","formatted_body":"Wouldn't that have to be <code>document.write(&quot;&lt;meta ch&quot; + &quot;arset=...&quot;)</code>?","msgtype":"m.text"},"ts":1626428204316,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$y2AI3ha0awRURIS5K6g3bfPPpK-k1qXDr8KhI5RLX2U"},
{"content":{"body":"to avoid the prescan? yes","msgtype":"m.text"},"ts":1626428218705,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$fJ05QM7OIy7g3ciCJL-dPuhvuBDhskcTW3TmpC29yYI"},
{"content":{"body":"my hypothesis is few sites are deliberately trying to avoid the prescanner 🙃","msgtype":"m.text"},"ts":1626428262465,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$42JGJ9EwBQO6Z2hmw38r2Hr_o6jf-YmETwmmNR5s6xc"},
{"content":{"body":"That WebKit/Blink got away with https://hsivonen.com/test/moz/meta/after-head-after-1kb.htm goes against my intuition of the Web.","msgtype":"m.text"},"ts":1626428561200,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$yNjWJRgUbgFL4OzyZ6BD1BCCnE0zQhc8qfn8DtEiGCI"},
{"content":{"body":"Too bad that for TLS reasons, it's very annoying to test IE6 these days.","msgtype":"m.text"},"ts":1626428610090,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$71TkUO7EEnHunUxUt2xWLyl1YS-DPmnILBopij_fh7M"},
{"content":{"body":"Please leave your intuition at the door as well?","msgtype":"m.text"},"ts":1626428616167,"senderName":"Ms2ger","senderId":"@ms2ger:igalia.com","id":"$0D4YjEqYbq9AM8d33FFf17yeVAZH8bFqTbVd8FMciYM"},
{"content":{"body":"is that another difference with the prescanner? (after `</head>`)","format":"org.matrix.custom.html","formatted_body":"is that another difference with the prescanner? (after <code>&lt;/head&gt;</code>)","msgtype":"m.text"},"ts":1626428642655,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$r_IO9c73KyhTy9T09KjhWzaWnwnhvGJaYmqQvFoqNtQ"},
{"content":{"body":"Looking for the end of `head` is a WebKit/Blink difference from the spec. The one that I'm trying to resolve in Gecko.","format":"org.matrix.custom.html","formatted_body":"Looking for the end of <code>head</code> is a WebKit/Blink difference from the spec. The one that I'm trying to resolve in Gecko.","msgtype":"m.text"},"ts":1626428690590,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$fIaDcMwDu2I2E3bGHeB3ohh7veKY6BLTjrwGRlDNEv4"},
{"content":{"body":"Specifically, I'm trying to make Gecko load https://hsivonen.com/test/moz/meta/after-1kb.htm like WebKit/Blink without reloading. (With this test the reload is so fast that you don't notice.)","msgtype":"m.text"},"ts":1626428823431,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$2wh-kwvNKZWp_UNZasUJp2hwp1pn03h5QSDMW3r5qDM"},
{"content":{"body":"(As for why not just go ahead and do exactly what Chrome does: That would involve introducing the capability of the tokenizer to have different kinds of token sinks in Gecko. Also, if using the tree builder works, the prescan process could yield speculative loads.)","msgtype":"m.text"},"ts":1626428957305,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$joRhoQyRRbHhKQdrUQE538yL9VEGQ_2AxA0M3VlhzRQ"},
{"content":{"body":"the only difference then would be the prescan running without scripting?","msgtype":"m.text"},"ts":1626429252486,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$PPlKuVUkMmR-NKqCkJ5eoDK8ve3-YumdOui34Yy78mE"},
{"content":{"body":"(v. the \"real\" parser)","msgtype":"m.text"},"ts":1626429284778,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$lTgDEwikoe7X1HofpPLVk7Z-Bts7COZaMoJfvwsAtlk"},
{"content":{"body":"> <@gsnedders:mozilla.org> the only difference then would be the prescan running without scripting?\n\nYes. In particular, the prescan could be the real parse if UTF-8 is declared and none of the scripts `document.write`. That is, it could be a speculative real parse.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$PPlKuVUkMmR-NKqCkJ5eoDK8ve3-YumdOui34Yy78mE?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@gsnedders:mozilla.org\">@gsnedders:mozilla.org</a><br>the only difference then would be the prescan running without scripting?</blockquote></mx-reply>Yes. In particular, the prescan could be the real parse if UTF-8 is declared and none of the scripts <code>document.write</code>. That is, it could be a speculative real parse.","m.relates_to":{"m.in_reply_to":{"event_id":"$PPlKuVUkMmR-NKqCkJ5eoDK8ve3-YumdOui34Yy78mE"}},"msgtype":"m.text"},"ts":1626438021917,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$vkkR7qdBJCMACaG-SRqcYGmz1KtdnQ5S9Idnsl8ZjSw"},
{"content":{"body":"So far, `noscript` is the only case where using the real tree builder would differ from Chrome: https://hsivonen.com/test/moz/meta/","format":"org.matrix.custom.html","formatted_body":"So far, <code>noscript</code> is the only case where using the real tree builder would differ from Chrome: https://hsivonen.com/test/moz/meta/","msgtype":"m.text"},"ts":1626438613461,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$AGTkxY_g5WQvxjBTxzNExEK7J5_l-Wb8pBdpEnMFJAU"},
{"content":{"body":"Another difference between Chrome and the real tree builder: https://hsivonen.com/test/moz/meta/in-template-after-1kb.htm","msgtype":"m.text"},"ts":1626439538426,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$yl_vi-q21ED2Ak1fNfX_NzXlPAWHGptOoDLgvYScc1o"},
{"content":{"body":"I noticed that on the introduction page ( html.spec.whatwg.org/multipage/introduction.html ) the section :\"Design Notes\"  includes a paragraph stating:  Authors can create plugins and invoke them using the embed element. This is how Flash works.\n\nSince the announcement of Adobe ending support of Flash Player on December 31, 2020,\nshould this be revised to provide a different example?","msgtype":"m.text"},"ts":1626466174922,"senderName":"dg12","senderId":"@dg12:matrix.org","id":"$cFs0GYez4bsb28JTcCnii-PuSTX51IHESHNBccyYxpw"},
{"content":{"body":"Good point. It's no longer true that authors can create plugins, since the after the death of Flash the spec's sections about plugins are being slimmed down to only leave things that are relevant to PDF viewers.","msgtype":"m.text"},"ts":1626466329391,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$ZM391ep4vcpzZeK37mZepdjvzD37IUqjFogE4zQsFQs"},
{"content":{"body":"Andreu, can you submit an issue?","msgtype":"m.text"},"ts":1626466414112,"senderName":"dg12","senderId":"@dg12:matrix.org","id":"$778ORbCev2mIrbUMZRqM0kH3r1Scv_9j3xvENQzc1Hk"},
{"content":{"body":"I'll file a pull request","msgtype":"m.text"},"ts":1626466449107,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$bR1rzG9Mn18h-Zm--FxHICcfd0n6MhInaw125K6YKqg"},
{"content":{"body":"Thansk","msgtype":"m.text"},"ts":1626466457412,"senderName":"dg12","senderId":"@dg12:matrix.org","id":"$6zvKIclfAP8MaGDzGVnf0-U06e1G1QUKkJeP4SESyv4"},
{"content":{"body":"when you do can you please let me know where it is filed.","msgtype":"m.text"},"ts":1626466537532,"senderName":"dg12","senderId":"@dg12:matrix.org","id":"$7tyr7TxZ4ktwdad-hveedWlt9PB75drj79Q8LOKuiOM"},
{"content":{"body":"dg12: https://github.com/whatwg/html/pull/6867","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@dg12:matrix.org\">dg12</a>: https://github.com/whatwg/html/pull/6867","msgtype":"m.text"},"ts":1626467452200,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$Vnq01D3tBoCScheRIVg2SLu3-cHNjPBGDT6m1ODaZV4"},
{"content":{"body":"dg12: Do you want me to add you to the acknowledgments section?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@dg12:matrix.org\">dg12</a>: Do you want me to add you to the acknowledgments section?","msgtype":"m.text"},"ts":1626470903674,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$KIjEtmXyXMtq62PxdiUj4hkw6_htxafXm0W0I60CIhI"},
{"content":{"body":"hey folks, long time no see","msgtype":"m.text"},"ts":1626473657267,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$S3V1PK6xZnjJEtTIHELmP7ZzzBYwg_uTfmcdjItBDBI"},
{"content":{"body":"hi ian!","msgtype":"m.text"},"ts":1626473670114,"senderName":"hober","senderId":"@hober:mozilla.org","id":"$dIZARrSUCrfTTCjt0EUVQv0TNxaSej6qRetxrlAyqSs"},
{"content":{"body":"i hope you're well","msgtype":"m.text"},"ts":1626473684052,"senderName":"hober","senderId":"@hober:mozilla.org","id":"$oKsaj7XAIiLlszZw-9NjGb2NIWHDApg_ompykwT73Q0"},
{"content":{"body":"whoah","msgtype":"m.text"},"ts":1626473686582,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$14pNNWzu-edDSnuP31iDYxSoUlde8YRZWQXNQg16BG0"},
{"content":{"body":"Howdy Ian","msgtype":"m.text"},"ts":1626473694508,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$oGoNOh_9zZAQwxo851BxrfL5vXWUES6J-R_xEUcABW8"},
{"content":{"body":"i figured i would pop in because i've been working on a vector graphics format for flutter and thought y'all might be a good audience to get feedback from :-)","msgtype":"m.text"},"ts":1626473701574,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$Cs8QmroU_PIoC-PQeNQ0IPXMD6ExnM2MZfADvdtFq-0"},
{"content":{"body":"flutter.dev/go/vector-graphics is the doc, it's mostly a discussion on the use cases and requirements and such, but there's a proposal at the bottom","msgtype":"m.text"},"ts":1626473730257,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$K2X6AU7qE_JynoBEb3V2-vOo5qHFZAaDwoTMghCB04o"},
{"content":{"body":"Ian Hickson: incidentally, one thing that surprised me when I read this before was the *“Flutter explicitly does not support vertical text”* part","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@hixie:matrix.org\">Ian Hickson</a>: incidentally, one thing that surprised me when I read this before was the <em>“Flutter explicitly does not support vertical text”</em> part","msgtype":"m.text"},"ts":1626473847557,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$R3nET6jC4XNNlvzbrPq4XdUjiWMKXVLxQXPbe9HunZM"},
{"content":{"body":"for developing apps for Japanese users, seems like a pretty big limitation ","msgtype":"m.text"},"ts":1626473877290,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$VTU465VAUIqeNhHJWuc_XqRtJJ5vv3-6eVPDqVSlti8"},
{"content":{"body":"yeah, that was a decision we made really early on, because we knew that if we had to support vertical text it would increase the complexity hugely, since it's really not something you can bolt on the side","msgtype":"m.text"},"ts":1626473952895,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$F1flQlt4D0CIam8-2FImk6Ykv5yuAoG9QeuNA5jTRN4"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1626473962108,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$ewC6fAr4tmsQaoVAwAjZbIM1buUD8jXB18rI5UI5TjE"},
{"content":{"body":"we tried to use the \"pay as you go\" model for most of our design, and we couldn't see a way to do vertical text in that model","msgtype":"m.text"},"ts":1626473976988,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$t1hRSt3beGbc6U0NH3B-xBtTkos7WpElhihfMZGyY2Q"},
{"content":{"body":"(pay as you go, as in, if you don't need a feature, you don't have any overhead from it. like, in HTML, even if you never use padding, you still have to pay the cost for parsing `padding` in CSS, laying it out, etc. but in flutter if you never use padding, all the code for it is literally not in your binary.)","format":"org.matrix.custom.html","formatted_body":"(pay as you go, as in, if you don't need a feature, you don't have any overhead from it. like, in HTML, even if you never use padding, you still have to pay the cost for parsing <code>padding</code> in CSS, laying it out, etc. but in flutter if you never use padding, all the code for it is literally not in your binary.)","msgtype":"m.text"},"ts":1626474024321,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$8HwQTkcOOPovVYkE6r_1BVNIEdhHnIsp1IZrW99wMEw"},
{"content":{"body":"(same's true of bidi, but there's a bigger portion of people who need that.)","msgtype":"m.text"},"ts":1626474082635,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$aGH2PJCSz2QWLJo1eWXg1gx1bqjtZdRMgAooURywj6M"},
{"content":{"body":"right yeah it makes sense but certainly I would think that choice is going to limit Flutter adoption in Japan vs the alternatives","msgtype":"m.text"},"ts":1626474094584,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$9fl25cEMvR3swiMPmQLkgOwMdY2wCwWVyHf_D_meIR0"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1626474100112,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$fVfbnXO5CzPXM7kL7FWb4tgjDZvY3264hjEQ4VRw-Ok"},
{"content":{"body":"definitely","msgtype":"m.text"},"ts":1626474116737,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$SADZMwqE7ujwag84dr1PUFcuGMleg5bL7QZhkmC88-o"},
{"content":{"body":"yeah vertical text is very exceptional in that it really isn’t needed outside Japan, while however it’s *really* needed in Japan ","format":"org.matrix.custom.html","formatted_body":"yeah vertical text is very exceptional in that it really isn’t needed outside Japan, while however it’s <em>really</em> needed in Japan","msgtype":"m.text"},"ts":1626474144418,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$s5NojXM0j5s1vyDI-0hthQmbVPI0g-oTaMvRoWs5Bm0"},
{"content":{"body":"anyway, I had another meta-comment about the WVG part","msgtype":"m.text"},"ts":1626474166233,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$cPu6gYcnZVKbKfah8FoAsqRXYi5LfxxH3NV6r33mToY"},
{"content":{"body":"…which is, why you prefaced it with *This is presented as a proof of concept, not a formal proposal*","format":"org.matrix.custom.html","formatted_body":"…which is, why you prefaced it with <em>This is presented as a proof of concept, not a formal proposal</em>","msgtype":"m.text"},"ts":1626474190938,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$jqxnTTTZc9t0p0JRF55wJGNpJmuaNC3urwsPdVMp7Wo"},
{"content":{"body":"that somewhat gives me the impression that maybe I should avoid avoid looking at the spec in much detail, because maybe it’s all just  gonna change… or something","msgtype":"m.text"},"ts":1626474279759,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$qMCh_k-HmTY4Vow_sOfSYW_oqvp75sy-GzhKdgLmFTg"},
{"content":{"body":"oh it'll definitely change, yeah","msgtype":"m.text"},"ts":1626474569373,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$SQ-BF4a-TCIedkGzsjRSt3VvyGy7Q6S4N1t6SUgBHz4"},
{"content":{"body":"right now it's just a strawman intended to trigger discussion","msgtype":"m.text"},"ts":1626474584456,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$fUqOczxk0w3A6aJod3gUsKjLFO36wDmpwNuRSVUoGrc"},
{"content":{"body":"i want to see if people are like \"this entire approach is absurd\"","msgtype":"m.text"},"ts":1626474595704,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$V2Mu2V_MgCj8apWQBY6SfKR6CtxKv9_vr3EGjk1pIKw"},
{"content":{"body":"or if they're like \"omg this is awesome ship it now\"","msgtype":"m.text"},"ts":1626474603820,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$-EcwgtLBBqp6Iq0lvjI781HkF8U6SyflgdJuIUOyNvU"},
{"content":{"body":"or something in between","msgtype":"m.text"},"ts":1626474611376,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$TUab3sf5X5KzdRXUgXhlhvWtAEVhN2wRKRDFhYHU_Qg"},
{"content":{"body":"and if nobody says its absurd, the next step is to remove the thing saying its just a proof of concept, and threaten to implement it, maybe that'll get people to say its absurd. :-)","msgtype":"m.text"},"ts":1626474656376,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$gR2n5qCh7ZEL7BA-yV6mu3hq18bO4YXLNb2DIzJxxPI"},
{"content":{"body":" * and if nobody says its absurd, the next step is to remove the thing saying its just a proof of concept, and threaten to implement it, maybe that'll get people to say it's absurd. :-)","m.new_content":{"body":"and if nobody says its absurd, the next step is to remove the thing saying its just a proof of concept, and threaten to implement it, maybe that'll get people to say it's absurd. :-)","msgtype":"m.text"},"m.relates_to":{"event_id":"$gR2n5qCh7ZEL7BA-yV6mu3hq18bO4YXLNb2DIzJxxPI","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1626474668962,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$XJN35HeWh8MNzxgBxzYEH6TdMdpGYom1bo4VXwuN8jU"},
{"content":{"body":"hahaha","msgtype":"m.text"},"ts":1626474702910,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$bat1LEIW5k9j8PB3wdnLlGK1QhMrJj3AIggrCLM1884"},
{"content":{"body":"i've definitely never found a good solution to the problem of getting feedback on an early proposal. there seems to be no step between \"everyone ignores it because it doesn't matter\" and \"everyone freaks out because they think you're deploying a _fait accompli_\"","format":"org.matrix.custom.html","formatted_body":"i've definitely never found a good solution to the problem of getting feedback on an early proposal. there seems to be no step between &quot;everyone ignores it because it doesn't matter&quot; and &quot;everyone freaks out because they think you're deploying a <em>fait accompli</em>&quot;","msgtype":"m.text"},"ts":1626474803713,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$0ZZPnDbQXwBM3VxWGAbKbm2SjCT6VdIH2qg-WBxBqMQ"},
{"content":{"body":"I’ll wait until v3 to say it’s absurd, because by then it will inevitably be so.","msgtype":"m.text"},"ts":1626474866839,"senderName":"Alan Stearns","senderId":"@alanstearns:matrix.org","id":"$rasi1k4l6oKOM-Yj1ifRNy0PUyr79pG3hBepuHM1V6k"},
{"content":{"body":"The vector format is interesting - especially the lack of support for text and strokes. The former I can understand; text is awfully complex, and probably isn't too important for the listed use-cases. The latter seems potentially more controversial; have you made any prototypes using representative images to see what the benefit is of converting all of these to fills, and if it is worth the added complexity to the overall image?","msgtype":"m.text"},"ts":1626474890650,"senderName":"Karl","senderId":"@karwa:matrix.org","id":"$XPiH4AdzLH5rbI2QP6I6zWxYnif1e7WW912Rw438m1c"},
{"content":{"body":"alan: careful, if it's a format i'm designing it's not gonna be versioned :-P","msgtype":"m.text"},"ts":1626474895277,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$mbnAYd1oIsEuRkW5xN0awOpQdy_BqSa65-ii_bdr66k"},
{"content":{"body":"karl: yeah that's definitely one of the things i'm most curious about.","msgtype":"m.text"},"ts":1626474926075,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$aRNzuwcS52eSYfz77rVCX_fM26PSCoLeGUwVnW869Jw"},
{"content":{"body":"karl: it's based on the desire to be able to implement the whole format in graphics shaders, where strokes are a lot harder to do than fills (apparently, i'm basing this on feedback i got from graphics library implementors, not personal experience)","msgtype":"m.text"},"ts":1626474977797,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$-Gznd07Vn85l-2c9KYYBfVc9qNgclDzmtD7acrCH8eY"},
{"content":{"body":"i haven't tried converting a stroke-based image to fills","msgtype":"m.text"},"ts":1626474984907,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$PFKYJMCAmM1_wxI_SkUDbjXnTGfSNIgY6SSoMs-Ys7s"},
{"content":{"body":"that would definitely be a good thing to try","msgtype":"m.text"},"ts":1626474994460,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$ahg7xvlcBcsmjM8pB-Jpil_87dW5cx6qIXzz18DwoBI"},
{"content":{"body":"the tiger image in particular has a lot of strokes and is one i would love to test","msgtype":"m.text"},"ts":1626475010431,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$wv_DPxqlkkJRUjcrvI4RO_zfj1tPzg1PE036sUMkv0c"},
{"content":{"body":"you lose the ability to do hairline strokes of course","msgtype":"m.text"},"ts":1626475116325,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$aPcgpr2Z_fkxRDSuZ2tbhpNxJncsdghIWwpTWwfpVVg"},
{"content":{"body":"at the broadest level, I would want this optimized for implementation in browser engines","msgtype":"m.text"},"ts":1626475587264,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$pHTCULVjD4NY_F3_xU7me8epR92otyoxTMwD5KvEUtI"},
{"content":{"body":"I say that because while I’d be glad for y’all if you end up with a format that works well in Flutter, I would be much gladder if it also were to become something that web developers could use on the web — as an alternative to needing to use SVG","msgtype":"m.text"},"ts":1626475610562,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$-jq9AO2hCRc2onjZcwuGC4SROSBmoHwqC9eXrU19zFw"},
{"content":{"body":"yeah, web support is definitely something i would love to see","msgtype":"m.text"},"ts":1626475627232,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$ozjr5NPKyIMidoPxaX2RzgoukwKlUqvpqz4IZYTg88g"},
{"content":{"body":"(that's why i called it WVG :-) )","msgtype":"m.text"},"ts":1626475636078,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$rjb2C2xqrjX7e29eCyecQOY83kJEsEMzGsC4nLpse5w"},
{"content":{"body":" * I say that because while I’d be glad for y’all if you end up with a format that works well in Flutter, I would be much gladder if it also were to become something that web developers could use on the web — as an alternative to needing to use SVG","m.new_content":{"body":"I say that because while I’d be glad for y’all if you end up with a format that works well in Flutter, I would be much gladder if it also were to become something that web developers could use on the web — as an alternative to needing to use SVG","msgtype":"m.text"},"m.relates_to":{"event_id":"$-jq9AO2hCRc2onjZcwuGC4SROSBmoHwqC9eXrU19zFw","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1626475638009,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$cEpyImi8bbc395qnQ48fc_zKWZ5U9V2lDOTQZzIt4ys"},
{"content":{"body":"Yeah, SVG has some cool uses, like interactive diagrams in the HTML spec where it cross-links to the relevant definitions and algorithms... but for vector icons etc., something nice and simple would be great.","msgtype":"m.text"},"ts":1626475649031,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$lB7zzMy7UET0S_3T3hYDn1c7HvSX--CH1G_7tzTVuH4"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1626475663843,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$mfokuK3U5EQm9fj-llxYYJKSzYNtEXHbp4kVFR_VrLk"},
{"content":{"body":"flutter being a fork of chrome and using the same skia backend, i suspect anything we do for flutter will work fine for the web","msgtype":"m.text"},"ts":1626475668006,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$sEajDBQyhoy4Js7V2xjdHh1oP-WGZ-LpxW18XME3eoI"},
{"content":{"body":"but that's definitely on my mind","msgtype":"m.text"},"ts":1626475692660,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$0m9NRuv-uOixzc9oHTqN4utm_2qcUC35A3_LaqTYAE8"},
{"content":{"body":"I guess I had trouble reading the spec because it's all about the binary format. I was able to get a high-level view that it only supports a few primitives and was able to tell what it omits. But I'd be curious about the authoring-friendly pre-compilation format and what that would look like. I enjoy the hackability of SVG.","msgtype":"m.text"},"ts":1626475707844,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$c17nR6pgSogHYDflu3q8YqqbnhoNBJQxo3wCpTRnNXI"},
{"content":{"body":"there's a link somewhere to sample images which show the format i used to create them","msgtype":"m.text"},"ts":1626475769313,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$K-DyrlNj2oUA-pe8kBV6S09rfD2CntT0XWvHgzbqzis"},
{"content":{"body":"Or maybe from another angle: I'd be interested in what the abstract model for such a file is, with the binary format being just one serialization of that model.","msgtype":"m.text"},"ts":1626475780680,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$0kvKFfHcxA7rlmnvKBjYXK-yhp5OdBTIowMMGhlSSQU"},
{"content":{"body":"here's an example: https://github.com/google/ui-exp-dg/blob/e9416c6bb836b0b0e412ea71d8164feefcf0e047/wvg/handcrafting/samples/action-info.wvgtxt","msgtype":"m.text"},"ts":1626475805702,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$HSquhr6imCbccvbW_HxkTRW6Ny00HaK99Bbv8wELDlo"},
{"content":{"body":"Seems like it's something like \"has metadata, has matrices, has shapes, has gradients, has paint somethings, has composition somethings\" but it's all defined in terms of the binary blocks","msgtype":"m.text"},"ts":1626475836597,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$Xie-2MzgfeoK1fh5IXq1LbqWu4rKzWEgrvtxJDq-kS0"},
{"content":{"body":"or a more elaborate one: https://github.com/google/ui-exp-dg/blob/e9416c6bb836b0b0e412ea71d8164feefcf0e047/wvg/handcrafting/samples/slider.wvgtxt","msgtype":"m.text"},"ts":1626475841297,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$V4P19DvqBPSgFjwVwM4k39h-abhZjRepoo1CmaHXQnk"},
{"content":{"body":"Which is probably great for interoperable implementations but just makes it hard to read","msgtype":"m.text"},"ts":1626475844454,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$V0zJrtanxKoRy7XSEIAgjFWtn25CQS4PKjxFz4yzU0A"},
{"content":{"body":"Oh those examples do help","msgtype":"m.text"},"ts":1626475860978,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$K0hs9y1LVWkEv33BczSJx0VXAQPkcXL24WcdHdIKoWI"},
{"content":{"body":"but yeah that's good feedback, i should add an intro section that talks about the abstract model","msgtype":"m.text"},"ts":1626475912366,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$wwfjSO95G1sAHrzrm5HLY1brgBftEHTyjcIMGjYXafM"},
{"content":{"body":"makes a note","msgtype":"m.emote"},"ts":1626475928555,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$WcmNjomn7cPFUjrodLTWc9hp48Rob7DmeIYzHDarFec"},
{"content":{"body":"Also I can't quite tell where WVG comes down on this but I do think one killer advantage a new format might have is properly accounting for high-gamut and HDR colors. (Are those the same thing? Different? Color spaces? I dunno.) It seems like the web is going through a very slow and painful transition process to allow better colors and I imagine SVG getting that will be years down the line, after canvas and CSS and <img> etc.","msgtype":"m.text"},"ts":1626475989099,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$RDxtCYuQVNLQmrEqWy-z376LDZmg1N9stC7p9vVbajY"},
{"content":{"body":"currently this is all just 32bit color","msgtype":"m.text"},"ts":1626476014786,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$JhxzrKPIyYFnXLAl4oI-afeOytTZN-jKVXJTyGBIiCY"},
{"content":{"body":"rgba","msgtype":"m.text"},"ts":1626476018178,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$6vv3AAHS-bVdOuJymLkxHgrwJZFnooa18GyorLx4RlY"},
{"content":{"body":"though i guess i don't actually say rgba anywhere","msgtype":"m.text"},"ts":1626476023252,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$2NandKRWdiZAA4sw6xziiUo67Bs8k3yXyVWXAzrs7BQ"},
{"content":{"body":"I don't know if anyone is clamoring for HDR icons but it seems like a good idea to allow them in the abstract","msgtype":"m.text"},"ts":1626476076525,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$vxV86IWbHNz1-L1X4y9BH5aNd79zQtc4yGhD8WrVJsg"},
{"content":{"body":" * srgb","m.new_content":{"body":"srgb","msgtype":"m.text"},"m.relates_to":{"event_id":"$6vv3AAHS-bVdOuJymLkxHgrwJZFnooa18GyorLx4RlY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1626476098666,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$__MlbIVBkbpCdu7Cq0U_K9XrF1AHENFO54WgTXzXQEo"},
{"content":{"body":" * though i guess i don't actually say srgb anywhere","m.new_content":{"body":"though i guess i don't actually say srgb anywhere","msgtype":"m.text"},"m.relates_to":{"event_id":"$2NandKRWdiZAA4sw6xziiUo67Bs8k3yXyVWXAzrs7BQ","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1626476103004,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$bJB048a6j9G8S2i9Dg8yeHqoXJJ1XO7IJFEiBQhyu_o"},
{"content":{"body":"what would the format need to support to allow for it?","msgtype":"m.text"},"ts":1626476145040,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$wHRDyyQEzAcO9W-3Fyr3W-2pmicvDBR4Lo5tZ-J9K-4"},
{"content":{"body":"I am like 60% confident that it would want some notion of color space, plus the ability for colors to be more than 32 bits. (I think 16 bits x 4 channels was mentioned somewhere). But it's better to ask someone who actually knows things :)","msgtype":"m.text"},"ts":1626476206236,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$UJX5sQ38_xtHiMWOENZgZZtpPAnGaNeV_islyC0CfJo"},
{"content":{"body":"color space would be easy to add","msgtype":"m.text"},"ts":1626476220694,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$Le-KaYB6GoEtkvRoS_tt2wZYX4h5Rn3pgaqM4hGXIhg"},
{"content":{"body":"more than 32 bits per color would be a new format, heh","msgtype":"m.text"},"ts":1626476234235,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$sSF21adk_15CYwlErpTC4u2OKKTgmedoSti423KBh2g"},
{"content":{"body":"this format is basically built around 32 bits as the unit of data","msgtype":"m.text"},"ts":1626476245966,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$Ygk70_5Aq8aBLRvW95wcphbZF4hZlqHQpFGVFnsCyqA"},
{"content":{"body":"(it can certainly be 64 bits if that's what we need though, this is the kind of thing i really want to find out)","msgtype":"m.text"},"ts":1626476278138,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$MCZc-Xprh5cRbzTHRa7vyIiHaPiJcn6XoPN-5HJmvdg"},
{"content":{"body":"HDR icons would be very cool - one of the things I really love about the Mac (at least traditionally) is the fidelity and attention to detail even in \"little things\" like icons. Richer colours might not be the thing you'd immediately notice, but if you got used to it and went back to SDR colour, I think you'd feel that it just wasn't as good; that something was just missing.","msgtype":"m.text"},"ts":1626476314070,"senderName":"Karl","senderId":"@karwa:matrix.org","id":"$fBub6rjCzDyruDoAfmuDipNHn--Xxxhwg3OnMVe2mQs"},
{"content":{"body":"https://github.com/whatwg/html/issues/299 is somewhat relevant","msgtype":"m.text"},"ts":1626476482085,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$vPZ9YimFaGaVpIGxV7Bwjhk_XoUBZ4exLcn2ovzuGM4"},
{"content":{"body":"based on some research it looks like 32 bits to describe the colors in the file itself would be fine in a vector format; we can always extend it later with a color space block to change how those 32 bits are interpreted","msgtype":"m.text"},"ts":1626476938498,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$JCtSIkHA3svTECiZ_ip_7sXlLjXnhrDAKEQzaKrEChc"},
{"content":{"body":"e.g. in the extreme we could literally define a block that defines a palette using groups of floats and then index into that","msgtype":"m.text"},"ts":1626476972620,"senderName":"Ian Hickson","senderId":"@hixie:matrix.org","id":"$isdP-3G8X5fGW_qSPUt-i5y_ql1L6XgySDSzk_0U2Hs"}
]