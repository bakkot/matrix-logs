[
{"content":{"body":"Domenic Noam Rosenthal annevk Thank you for the answers re: CORS/CORP differences (a week ago)! Very helpful.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a> <a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a> Thank you for the answers re: CORS/CORP differences (a week ago)! Very helpful.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic Noam Rosenthal annevk Thank you for the answers re: CORS/CORP differences (a week ago)! Very helpful.","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a> <a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a> Thank you for the answers re: CORS/CORP differences (a week ago)! Very helpful.","mimetype":"text/html"}]},"ts":1653018789791,"senderName":"Eric Portis (he/him)","senderId":"@etportis:matrix.org","id":"$6BSRvtn0wJvhb3PiYljq1HH9hZu7VI2yQuBpjhB_EFY"},
{"content":{"body":"Sounds like, for the use case I had in mind (serving a totally static, public resource), add both… and it’s overly reductive to say `ACAO:*` represents “global read access” and `CORP:cross-origin` represents “global embed access, which, worst case, escalates to read access”. The flows are different enough in at least some cases that the platform can’t always infer that `CORP:cross-origin` would be safe, given the presence of `ACAO:*`.","format":"org.matrix.custom.html","formatted_body":"Sounds like, for the use case I had in mind (serving a totally static, public resource), add both… and it’s overly reductive to say <code>ACAO:*</code> represents “global read access” and <code>CORP:cross-origin</code> represents “global embed access, which, worst case, escalates to read access”. The flows are different enough in at least some cases that the platform can’t always infer that <code>CORP:cross-origin</code> would be safe, given the presence of <code>ACAO:*</code>.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Sounds like, for the use case I had in mind (serving a totally static, public resource), add both… and it’s overly reductive to say `ACAO:*` represents “global read access” and `CORP:cross-origin` represents “global embed access, which, worst case, escalates to read access”. The flows are different enough in at least some cases that the platform can’t always infer that `CORP:cross-origin` would be safe, given the presence of `ACAO:*`.","mimetype":"text/plain"},{"body":"Sounds like, for the use case I had in mind (serving a totally static, public resource), add both… and it’s overly reductive to say <code>ACAO:*</code> represents “global read access” and <code>CORP:cross-origin</code> represents “global embed access, which, worst case, escalates to read access”. The flows are different enough in at least some cases that the platform can’t always infer that <code>CORP:cross-origin</code> would be safe, given the presence of <code>ACAO:*</code>.","mimetype":"text/html"}]},"ts":1653018820515,"senderName":"Eric Portis (he/him)","senderId":"@etportis:matrix.org","id":"$AmgSduNlUDH9EnFxC7lAz47w-bLD0OjNR9Up7TF1LP4"},
{"content":{"body":"One follow up question… Noam Rosenthal said CORP:cross-origin “kind of” means that you send all/the same data to every Origin. Which (I think) makes sense... But let’s say the resource doesn’t vary per Origin, and doesn’t vary based on Cookie or Authentication, but does vary based on other things (Accept, User-Agent… IP??) Is adding either/both headers to requests that vary in these ways dangerous? Does the \"degree or type of variance\" matter?","format":"org.matrix.custom.html","formatted_body":"One follow up question… <a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a> said CORP:cross-origin “kind of” means that you send all/the same data to every Origin. Which (I think) makes sense... But let’s say the resource doesn’t vary per Origin, and doesn’t vary based on Cookie or Authentication, but does vary based on other things (Accept, User-Agent… IP??) Is adding either/both headers to requests that vary in these ways dangerous? Does the &quot;degree or type of variance&quot; matter?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"One follow up question… Noam Rosenthal said CORP:cross-origin “kind of” means that you send all/the same data to every Origin. Which (I think) makes sense... But let’s say the resource doesn’t vary per Origin, and doesn’t vary based on Cookie or Authentication, but does vary based on other things (Accept, User-Agent… IP??) Is adding either/both headers to requests that vary in these ways dangerous? Does the \"degree or type of variance\" matter?","mimetype":"text/plain"},{"body":"One follow up question… <a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a> said CORP:cross-origin “kind of” means that you send all/the same data to every Origin. Which (I think) makes sense... But let’s say the resource doesn’t vary per Origin, and doesn’t vary based on Cookie or Authentication, but does vary based on other things (Accept, User-Agent… IP??) Is adding either/both headers to requests that vary in these ways dangerous? Does the &quot;degree or type of variance&quot; matter?","mimetype":"text/html"}]},"ts":1653018900121,"senderName":"Eric Portis (he/him)","senderId":"@etportis:matrix.org","id":"$sd6Cp945qcDnEtEkP2oWYLLxUsfMnOSkx-IQOSdhx8U"},
{"content":{"body":"* One follow up question… Noam Rosenthal said CORP:cross-origin “kind of” means that you send all/the same data to every Origin. Which (I think) makes sense... But let’s say the resource doesn’t vary per Origin, and doesn’t vary based on Cookie or Authentication, but does vary based on other things (Accept, User-Agent… IP??) Is adding either/both headers to responses that vary in these ways dangerous? Does the \"degree or type of variance\" matter?","format":"org.matrix.custom.html","formatted_body":"* One follow up question… Noam Rosenthal said CORP:cross-origin “kind of” means that you send all/the same data to every Origin. Which (I think) makes sense... But let’s say the resource doesn’t vary per Origin, and doesn’t vary based on Cookie or Authentication, but does vary based on other things (Accept, User-Agent… IP??) Is adding either/both headers to responses that vary in these ways dangerous? Does the &quot;degree or type of variance&quot; matter?","m.new_content":{"body":"One follow up question… Noam Rosenthal said CORP:cross-origin “kind of” means that you send all/the same data to every Origin. Which (I think) makes sense... But let’s say the resource doesn’t vary per Origin, and doesn’t vary based on Cookie or Authentication, but does vary based on other things (Accept, User-Agent… IP??) Is adding either/both headers to responses that vary in these ways dangerous? Does the \"degree or type of variance\" matter?","format":"org.matrix.custom.html","formatted_body":"One follow up question… Noam Rosenthal said CORP:cross-origin “kind of” means that you send all/the same data to every Origin. Which (I think) makes sense... But let’s say the resource doesn’t vary per Origin, and doesn’t vary based on Cookie or Authentication, but does vary based on other things (Accept, User-Agent… IP??) Is adding either/both headers to responses that vary in these ways dangerous? Does the &quot;degree or type of variance&quot; matter?","msgtype":"m.text"},"m.relates_to":{"event_id":"$sd6Cp945qcDnEtEkP2oWYLLxUsfMnOSkx-IQOSdhx8U","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1653021323383,"senderName":"Eric Portis (he/him)","senderId":"@etportis:matrix.org","id":"$1JLiMrY1GImi38GWOpMfYZ2uw_TUNqEozijUzCtOXZ4"},
{"content":{"body":"After some thought, my guess is it’s not dangerous because the value of those request headers doesn’t change based on origin, so they don’t reveal anything about the user’s relationship to that other origin.","msgtype":"m.text"},"ts":1653021687525,"senderName":"Eric Portis (he/him)","senderId":"@etportis:matrix.org","id":"$udWCOSmbqbjUN-xrtCOaaKMuzaWzkfvACW1uo2ALOu0"},
{"content":{"body":"I'll help 10 people on how to earn $12,000 within 72 hours but you will pay me 10% of your profit when you receive it.\nNote: only interested people should apply, click and drop a message let's get started\nhttps://t.me/isheilabillyinvest","msgtype":"m.text"},"ts":1653022259270,"senderName":"californiatok","senderId":"@californiatok:matrix.org","id":"$u1EO67oDg6JEv6okFyqskP4BrRV5-TVQIHQhbXjGgnU"},
{"content":{"body":"Eric Portis (he/him): the question is more about whether the variations reveal something about the user only the server in question knows about and whether you are comfortable sharing that widely","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@etportis:matrix.org\">Eric Portis (he/him)</a>: the question is more about whether the variations reveal something about the user only the server in question knows about and whether you are comfortable sharing that widely","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Eric Portis (he/him): the question is more about whether the variations reveal something about the user only the server in question knows about and whether you are comfortable sharing that widely","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@etportis:matrix.org\">Eric Portis (he/him)</a>: the question is more about whether the variations reveal something about the user only the server in question knows about and whether you are comfortable sharing that widely","mimetype":"text/html"}]},"ts":1653024688466,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$OjPsynjzwGY9MrdhL__6uxsDYfF21WuMFNGOg9bjVBY"},
{"content":{"body":"Eric Portis (he/him): Example: If `embedder.com` is embedding an image from `image.com`, and the served image is different per client-IP, then it's a question of - is that information that `embedder.com` should have access to?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@etportis:matrix.org\">Eric Portis (he/him)</a>: Example: If <code>embedder.com</code> is embedding an image from <code>image.com</code>, and the served image is different per client-IP, then it's a question of - is that information that <code>embedder.com</code> should have access to?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Eric Portis (he/him): Example: If `embedder.com` is embedding an image from `image.com`, and the served image is different per client-IP, then it's a question of - is that information that `embedder.com` should have access to?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@etportis:matrix.org\">Eric Portis (he/him)</a>: Example: If <code>embedder.com</code> is embedding an image from <code>image.com</code>, and the served image is different per client-IP, then it's a question of - is that information that <code>embedder.com</code> should have access to?","mimetype":"text/html"}]},"ts":1653028923415,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$HZFMnHWdz27Fl4KYyTyA1RyC_td5o9-asJDocalVppU"},
{"content":{"body":"The `Origin` header answers the question: \"which website is asking for this image on behalf of this user?\". The only thing it reveals about the user in itself, is the fact that they are currently visiting that origin","format":"org.matrix.custom.html","formatted_body":"The <code>Origin</code> header answers the question: &quot;which website is asking for this image on behalf of this user?&quot;. The only thing it reveals about the user in itself, is the fact that they are currently visiting that origin","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"The `Origin` header answers the question: \"which website is asking for this image on behalf of this user?\". The only thing it reveals about the user in itself, is the fact that they are currently visiting that origin","mimetype":"text/plain"},{"body":"The <code>Origin</code> header answers the question: &quot;which website is asking for this image on behalf of this user?&quot;. The only thing it reveals about the user in itself, is the fact that they are currently visiting that origin","mimetype":"text/html"}]},"ts":1653029127850,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$zlTxsHIZ2_wVy08WU1mhxeQ2FkDqvaBVzEzjJBpDBj4"},
{"content":{"body":"... What helps me remember the CORS/CORP essence is that when you make a server-to-server request. both don't apply. That's because a server is not a user-agent - it doesn't have the user's cookies/client-certs, and also not other anonymous-but-revealing properties like IP and user-agent. CORS/CORP are both there to protect the user from having a content site reveal to the embedding document information that only the user should know and protected by their credentials or private information like client IP. Either by having the embedder self-identify (CORS), or by allowing limited access to unidentified origins (CORP)","msgtype":"m.text","org.matrix.msc1767.text":"... What helps me remember the CORS/CORP essence is that when you make a server-to-server request. both don't apply. That's because a server is not a user-agent - it doesn't have the user's cookies/client-certs, and also not other anonymous-but-revealing properties like IP and user-agent. CORS/CORP are both there to protect the user from having a content site reveal to the embedding document information that only the user should know and protected by their credentials or private information like client IP. Either by having the embedder self-identify (CORS), or by allowing limited access to unidentified origins (CORP)"},"ts":1653029536190,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$wq4g46gVoByF28xP0cYtPOZw2XEi4xdKWigNAmH7_Zo"},
{"content":{"body":"wanderview: presumably someone at Chromium has thought about this though? E.g., the anonymous iframe proposal clearly wants the partitioned nonce for both storage and networking","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@wanderview:matrix.org\">wanderview</a>: presumably someone at Chromium has thought about this though? E.g., the anonymous iframe proposal clearly wants the partitioned nonce for both storage and networking","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"wanderview: presumably someone at Chromium has thought about this though? E.g., the anonymous iframe proposal clearly wants the partitioned nonce for both storage and networking","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@wanderview:matrix.org\">wanderview</a>: presumably someone at Chromium has thought about this though? E.g., the anonymous iframe proposal clearly wants the partitioned nonce for both storage and networking","mimetype":"text/html"}]},"ts":1653062541038,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$_DqmDPRWs8jRXwTd8W5NWbJDHqB7eVCPfD38s8FLUcI"},
{"content":{"body":"To me that, as well as what we've learned about the security/privacy boundary over the last couple years suggests some kind of unification is in order","msgtype":"m.text","org.matrix.msc1767.text":"To me that, as well as what we've learned about the security/privacy boundary over the last couple years suggests some kind of unification is in order"},"ts":1653062599800,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$5C8Pmp1ub8gm3Nr3S1GPMKeKxTVzvQrqVqdflDBGfgg"},
{"content":{"body":"I'd rather not work on a solution just for storage keys if a couple months later we have to do it again for networking","msgtype":"m.text","org.matrix.msc1767.text":"I'd rather not work on a solution just for storage keys if a couple months later we have to do it again for networking"},"ts":1653062626932,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$6bzxsowZLHEOOq18w0XAbq54D1iDPCjTwt_HIptWGDk"},
{"content":{"body":"I think making storage partitioning block on that unification is going to delay spec'ing storage partitioning... at least I don't have bandwidth for it at the moment","msgtype":"m.text","org.matrix.msc1767.text":"I think making storage partitioning block on that unification is going to delay spec'ing storage partitioning... at least I don't have bandwidth for it at the moment"},"ts":1653062647436,"senderName":"wanderview","senderId":"@wanderview:matrix.org","id":"$KPMkURyGH6xLfvd1qR1emqmrkMsNXydkNnInkBBCeys"},
{"content":{"body":" * I think making storage partitioning block on that unification is going to delay spec'ing storage partitioning... at least I don't have bandwidth for it at the moment","m.new_content":{"body":"I think making storage partitioning block on that unification is going to delay spec'ing storage partitioning... at least I don't have bandwidth for it at the moment","msgtype":"m.text","org.matrix.msc1767.text":"I think making storage partitioning block on that unification is going to delay spec'ing storage partitioning... at least I don't have bandwidth for it at the moment"},"m.relates_to":{"event_id":"$KPMkURyGH6xLfvd1qR1emqmrkMsNXydkNnInkBBCeys","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * I think making storage partitioning block on that unification is going to delay spec'ing storage partitioning... at least I don't have bandwidth for it at the moment"},"ts":1653062661913,"senderName":"wanderview","senderId":"@wanderview:matrix.org","id":"$9K65zwgNLGTL5mhoNgS5XVxsCFxK-7-8Y3RuowkKD2Q"},
{"content":{"body":"and arguably I don't understand it... maybe you are the only here who knows what your vision looks like?","msgtype":"m.text","org.matrix.msc1767.text":"and arguably I don't understand it... maybe you are the only here who knows what your vision looks like?"},"ts":1653062677512,"senderName":"wanderview","senderId":"@wanderview:matrix.org","id":"$t1eC_lWDfkrWqr9NYFeNNbj-nTjTas7A4IvFzsKFokg"}
]