[
{"content":{"body":"Domenic Noam Rosenthal annevk Thank you for the answers re: CORS/CORP differences (a week ago)! Very helpful.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a> <a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a> Thank you for the answers re: CORS/CORP differences (a week ago)! Very helpful.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic Noam Rosenthal annevk Thank you for the answers re: CORS/CORP differences (a week ago)! Very helpful.","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a> <a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a> Thank you for the answers re: CORS/CORP differences (a week ago)! Very helpful.","mimetype":"text/html"}]},"ts":1653018789791,"senderName":"Eric Portis (he/him)","senderId":"@etportis:matrix.org","id":"$6BSRvtn0wJvhb3PiYljq1HH9hZu7VI2yQuBpjhB_EFY"},
{"content":{"body":"Sounds like, for the use case I had in mind (serving a totally static, public resource), add both… and it’s overly reductive to say `ACAO:*` represents “global read access” and `CORP:cross-origin` represents “global embed access, which, worst case, escalates to read access”. The flows are different enough in at least some cases that the platform can’t always infer that `CORP:cross-origin` would be safe, given the presence of `ACAO:*`.","format":"org.matrix.custom.html","formatted_body":"Sounds like, for the use case I had in mind (serving a totally static, public resource), add both… and it’s overly reductive to say <code>ACAO:*</code> represents “global read access” and <code>CORP:cross-origin</code> represents “global embed access, which, worst case, escalates to read access”. The flows are different enough in at least some cases that the platform can’t always infer that <code>CORP:cross-origin</code> would be safe, given the presence of <code>ACAO:*</code>.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Sounds like, for the use case I had in mind (serving a totally static, public resource), add both… and it’s overly reductive to say `ACAO:*` represents “global read access” and `CORP:cross-origin` represents “global embed access, which, worst case, escalates to read access”. The flows are different enough in at least some cases that the platform can’t always infer that `CORP:cross-origin` would be safe, given the presence of `ACAO:*`.","mimetype":"text/plain"},{"body":"Sounds like, for the use case I had in mind (serving a totally static, public resource), add both… and it’s overly reductive to say <code>ACAO:*</code> represents “global read access” and <code>CORP:cross-origin</code> represents “global embed access, which, worst case, escalates to read access”. The flows are different enough in at least some cases that the platform can’t always infer that <code>CORP:cross-origin</code> would be safe, given the presence of <code>ACAO:*</code>.","mimetype":"text/html"}]},"ts":1653018820515,"senderName":"Eric Portis (he/him)","senderId":"@etportis:matrix.org","id":"$AmgSduNlUDH9EnFxC7lAz47w-bLD0OjNR9Up7TF1LP4"},
{"content":{"body":"One follow up question… Noam Rosenthal said CORP:cross-origin “kind of” means that you send all/the same data to every Origin. Which (I think) makes sense... But let’s say the resource doesn’t vary per Origin, and doesn’t vary based on Cookie or Authentication, but does vary based on other things (Accept, User-Agent… IP??) Is adding either/both headers to requests that vary in these ways dangerous? Does the \"degree or type of variance\" matter?","format":"org.matrix.custom.html","formatted_body":"One follow up question… <a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a> said CORP:cross-origin “kind of” means that you send all/the same data to every Origin. Which (I think) makes sense... But let’s say the resource doesn’t vary per Origin, and doesn’t vary based on Cookie or Authentication, but does vary based on other things (Accept, User-Agent… IP??) Is adding either/both headers to requests that vary in these ways dangerous? Does the &quot;degree or type of variance&quot; matter?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"One follow up question… Noam Rosenthal said CORP:cross-origin “kind of” means that you send all/the same data to every Origin. Which (I think) makes sense... But let’s say the resource doesn’t vary per Origin, and doesn’t vary based on Cookie or Authentication, but does vary based on other things (Accept, User-Agent… IP??) Is adding either/both headers to requests that vary in these ways dangerous? Does the \"degree or type of variance\" matter?","mimetype":"text/plain"},{"body":"One follow up question… <a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a> said CORP:cross-origin “kind of” means that you send all/the same data to every Origin. Which (I think) makes sense... But let’s say the resource doesn’t vary per Origin, and doesn’t vary based on Cookie or Authentication, but does vary based on other things (Accept, User-Agent… IP??) Is adding either/both headers to requests that vary in these ways dangerous? Does the &quot;degree or type of variance&quot; matter?","mimetype":"text/html"}]},"ts":1653018900121,"senderName":"Eric Portis (he/him)","senderId":"@etportis:matrix.org","id":"$sd6Cp945qcDnEtEkP2oWYLLxUsfMnOSkx-IQOSdhx8U"},
{"content":{"body":"* One follow up question… Noam Rosenthal said CORP:cross-origin “kind of” means that you send all/the same data to every Origin. Which (I think) makes sense... But let’s say the resource doesn’t vary per Origin, and doesn’t vary based on Cookie or Authentication, but does vary based on other things (Accept, User-Agent… IP??) Is adding either/both headers to responses that vary in these ways dangerous? Does the \"degree or type of variance\" matter?","format":"org.matrix.custom.html","formatted_body":"* One follow up question… Noam Rosenthal said CORP:cross-origin “kind of” means that you send all/the same data to every Origin. Which (I think) makes sense... But let’s say the resource doesn’t vary per Origin, and doesn’t vary based on Cookie or Authentication, but does vary based on other things (Accept, User-Agent… IP??) Is adding either/both headers to responses that vary in these ways dangerous? Does the &quot;degree or type of variance&quot; matter?","m.new_content":{"body":"One follow up question… Noam Rosenthal said CORP:cross-origin “kind of” means that you send all/the same data to every Origin. Which (I think) makes sense... But let’s say the resource doesn’t vary per Origin, and doesn’t vary based on Cookie or Authentication, but does vary based on other things (Accept, User-Agent… IP??) Is adding either/both headers to responses that vary in these ways dangerous? Does the \"degree or type of variance\" matter?","format":"org.matrix.custom.html","formatted_body":"One follow up question… Noam Rosenthal said CORP:cross-origin “kind of” means that you send all/the same data to every Origin. Which (I think) makes sense... But let’s say the resource doesn’t vary per Origin, and doesn’t vary based on Cookie or Authentication, but does vary based on other things (Accept, User-Agent… IP??) Is adding either/both headers to responses that vary in these ways dangerous? Does the &quot;degree or type of variance&quot; matter?","msgtype":"m.text"},"m.relates_to":{"event_id":"$sd6Cp945qcDnEtEkP2oWYLLxUsfMnOSkx-IQOSdhx8U","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1653021323383,"senderName":"Eric Portis (he/him)","senderId":"@etportis:matrix.org","id":"$1JLiMrY1GImi38GWOpMfYZ2uw_TUNqEozijUzCtOXZ4"},
{"content":{"body":"After some thought, my guess is it’s not dangerous because the value of those request headers doesn’t change based on origin, so they don’t reveal anything about the user’s relationship to that other origin.","msgtype":"m.text"},"ts":1653021687525,"senderName":"Eric Portis (he/him)","senderId":"@etportis:matrix.org","id":"$udWCOSmbqbjUN-xrtCOaaKMuzaWzkfvACW1uo2ALOu0"},
{"content":{"body":"I'll help 10 people on how to earn $12,000 within 72 hours but you will pay me 10% of your profit when you receive it.\nNote: only interested people should apply, click and drop a message let's get started\nhttps://t.me/isheilabillyinvest","msgtype":"m.text"},"ts":1653022259270,"senderName":"californiatok","senderId":"@californiatok:matrix.org","id":"$u1EO67oDg6JEv6okFyqskP4BrRV5-TVQIHQhbXjGgnU"},
{"content":{"body":"Eric Portis (he/him): the question is more about whether the variations reveal something about the user only the server in question knows about and whether you are comfortable sharing that widely","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@etportis:matrix.org\">Eric Portis (he/him)</a>: the question is more about whether the variations reveal something about the user only the server in question knows about and whether you are comfortable sharing that widely","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Eric Portis (he/him): the question is more about whether the variations reveal something about the user only the server in question knows about and whether you are comfortable sharing that widely","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@etportis:matrix.org\">Eric Portis (he/him)</a>: the question is more about whether the variations reveal something about the user only the server in question knows about and whether you are comfortable sharing that widely","mimetype":"text/html"}]},"ts":1653024688466,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$OjPsynjzwGY9MrdhL__6uxsDYfF21WuMFNGOg9bjVBY"},
{"content":{"body":"Eric Portis (he/him): Example: If `embedder.com` is embedding an image from `image.com`, and the served image is different per client-IP, then it's a question of - is that information that `embedder.com` should have access to?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@etportis:matrix.org\">Eric Portis (he/him)</a>: Example: If <code>embedder.com</code> is embedding an image from <code>image.com</code>, and the served image is different per client-IP, then it's a question of - is that information that <code>embedder.com</code> should have access to?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Eric Portis (he/him): Example: If `embedder.com` is embedding an image from `image.com`, and the served image is different per client-IP, then it's a question of - is that information that `embedder.com` should have access to?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@etportis:matrix.org\">Eric Portis (he/him)</a>: Example: If <code>embedder.com</code> is embedding an image from <code>image.com</code>, and the served image is different per client-IP, then it's a question of - is that information that <code>embedder.com</code> should have access to?","mimetype":"text/html"}]},"ts":1653028923415,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$HZFMnHWdz27Fl4KYyTyA1RyC_td5o9-asJDocalVppU"},
{"content":{"body":"The `Origin` header answers the question: \"which website is asking for this image on behalf of this user?\". The only thing it reveals about the user in itself, is the fact that they are currently visiting that origin","format":"org.matrix.custom.html","formatted_body":"The <code>Origin</code> header answers the question: &quot;which website is asking for this image on behalf of this user?&quot;. The only thing it reveals about the user in itself, is the fact that they are currently visiting that origin","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"The `Origin` header answers the question: \"which website is asking for this image on behalf of this user?\". The only thing it reveals about the user in itself, is the fact that they are currently visiting that origin","mimetype":"text/plain"},{"body":"The <code>Origin</code> header answers the question: &quot;which website is asking for this image on behalf of this user?&quot;. The only thing it reveals about the user in itself, is the fact that they are currently visiting that origin","mimetype":"text/html"}]},"ts":1653029127850,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$zlTxsHIZ2_wVy08WU1mhxeQ2FkDqvaBVzEzjJBpDBj4"},
{"content":{"body":"... What helps me remember the CORS/CORP essence is that when you make a server-to-server request. both don't apply. That's because a server is not a user-agent - it doesn't have the user's cookies/client-certs, and also not other anonymous-but-revealing properties like IP and user-agent. CORS/CORP are both there to protect the user from having a content site reveal to the embedding document information that only the user should know and protected by their credentials or private information like client IP. Either by having the embedder self-identify (CORS), or by allowing limited access to unidentified origins (CORP)","msgtype":"m.text","org.matrix.msc1767.text":"... What helps me remember the CORS/CORP essence is that when you make a server-to-server request. both don't apply. That's because a server is not a user-agent - it doesn't have the user's cookies/client-certs, and also not other anonymous-but-revealing properties like IP and user-agent. CORS/CORP are both there to protect the user from having a content site reveal to the embedding document information that only the user should know and protected by their credentials or private information like client IP. Either by having the embedder self-identify (CORS), or by allowing limited access to unidentified origins (CORP)"},"ts":1653029536190,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$wq4g46gVoByF28xP0cYtPOZw2XEi4xdKWigNAmH7_Zo"},
{"content":{"body":"wanderview: presumably someone at Chromium has thought about this though? E.g., the anonymous iframe proposal clearly wants the partitioned nonce for both storage and networking","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@wanderview:matrix.org\">wanderview</a>: presumably someone at Chromium has thought about this though? E.g., the anonymous iframe proposal clearly wants the partitioned nonce for both storage and networking","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"wanderview: presumably someone at Chromium has thought about this though? E.g., the anonymous iframe proposal clearly wants the partitioned nonce for both storage and networking","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@wanderview:matrix.org\">wanderview</a>: presumably someone at Chromium has thought about this though? E.g., the anonymous iframe proposal clearly wants the partitioned nonce for both storage and networking","mimetype":"text/html"}]},"ts":1653062541038,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$_DqmDPRWs8jRXwTd8W5NWbJDHqB7eVCPfD38s8FLUcI"},
{"content":{"body":"To me that, as well as what we've learned about the security/privacy boundary over the last couple years suggests some kind of unification is in order","msgtype":"m.text","org.matrix.msc1767.text":"To me that, as well as what we've learned about the security/privacy boundary over the last couple years suggests some kind of unification is in order"},"ts":1653062599800,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$5C8Pmp1ub8gm3Nr3S1GPMKeKxTVzvQrqVqdflDBGfgg"},
{"content":{"body":"I'd rather not work on a solution just for storage keys if a couple months later we have to do it again for networking","msgtype":"m.text","org.matrix.msc1767.text":"I'd rather not work on a solution just for storage keys if a couple months later we have to do it again for networking"},"ts":1653062626932,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$6bzxsowZLHEOOq18w0XAbq54D1iDPCjTwt_HIptWGDk"},
{"content":{"body":"I think making storage partitioning block on that unification is going to delay spec'ing storage partitioning... at least I don't have bandwidth for it at the moment","msgtype":"m.text","org.matrix.msc1767.text":"I think making storage partitioning block on that unification is going to delay spec'ing storage partitioning... at least I don't have bandwidth for it at the moment"},"ts":1653062647436,"senderName":"wanderview","senderId":"@wanderview:matrix.org","id":"$KPMkURyGH6xLfvd1qR1emqmrkMsNXydkNnInkBBCeys"},
{"content":{"body":" * I think making storage partitioning block on that unification is going to delay spec'ing storage partitioning... at least I don't have bandwidth for it at the moment","m.new_content":{"body":"I think making storage partitioning block on that unification is going to delay spec'ing storage partitioning... at least I don't have bandwidth for it at the moment","msgtype":"m.text","org.matrix.msc1767.text":"I think making storage partitioning block on that unification is going to delay spec'ing storage partitioning... at least I don't have bandwidth for it at the moment"},"m.relates_to":{"event_id":"$KPMkURyGH6xLfvd1qR1emqmrkMsNXydkNnInkBBCeys","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * I think making storage partitioning block on that unification is going to delay spec'ing storage partitioning... at least I don't have bandwidth for it at the moment"},"ts":1653062661913,"senderName":"wanderview","senderId":"@wanderview:matrix.org","id":"$9K65zwgNLGTL5mhoNgS5XVxsCFxK-7-8Y3RuowkKD2Q"},
{"content":{"body":"and arguably I don't understand it... maybe you are the only here who knows what your vision looks like?","msgtype":"m.text","org.matrix.msc1767.text":"and arguably I don't understand it... maybe you are the only here who knows what your vision looks like?"},"ts":1653062677512,"senderName":"wanderview","senderId":"@wanderview:matrix.org","id":"$t1eC_lWDfkrWqr9NYFeNNbj-nTjTas7A4IvFzsKFokg"},
{"content":{"body":"at a minimum it would need more definition of what your final state looks like... right now it seems a bit vague to me","msgtype":"m.text","org.matrix.msc1767.text":"at a minimum it would need more definition of what your final state looks like... right now it seems a bit vague to me"},"ts":1653062728610,"senderName":"wanderview","senderId":"@wanderview:matrix.org","id":"$0T-Ax9sKv31LeD2ln4Ome4p7ShgaoOpykHqgv5INZDw"},
{"content":{"body":"and I hesitate to invest a lot of time trying to implement a grand vision that I don't understand and may not be what you are looking for anyway","msgtype":"m.text","org.matrix.msc1767.text":"and I hesitate to invest a lot of time trying to implement a grand vision that I don't understand and may not be what you are looking for anyway"},"ts":1653062754664,"senderName":"wanderview","senderId":"@wanderview:matrix.org","id":"$-TpemyWnll2ROSC--VnnR32zDUMw5ykkHFS2XU7OQuQ"},
{"content":{"body":"That's fair, but that also goes for the variety of Google's proposals in this area, no?","msgtype":"m.text","org.matrix.msc1767.text":"That's fair, but that also goes for the variety of Google's proposals in this area, no?"},"ts":1653062847944,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$aHWC2UmZCp_BthapIJz8O_I_UOK_O2K7MwPThBRJ-1k"},
{"content":{"body":"I don't understand what you mean?","msgtype":"m.text","org.matrix.msc1767.text":"I don't understand what you mean?"},"ts":1653062898708,"senderName":"wanderview","senderId":"@wanderview:matrix.org","id":"$wIfFmIkSowLfJo200ovRbxtgNUUN6z9mABR3Lp710yU"},
{"content":{"body":"Well, going back to https://github.com/whatwg/storage/issues/142. What's stated there is incorrect as I've shown by pointing to the anonymous iframe proposal.","msgtype":"m.text","org.matrix.msc1767.text":"Well, going back to https://github.com/whatwg/storage/issues/142. What's stated there is incorrect as I've shown by pointing to the anonymous iframe proposal."},"ts":1653062932012,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$9md4JTSWebCfjuOE46WOcIOtA1RfcekbmO7lR68p3o4"},
{"content":{"body":"In that the nonce is used elsewhere.","msgtype":"m.text","org.matrix.msc1767.text":"In that the nonce is used elsewhere."},"ts":1653062949546,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$tayTsbxIci00FnxQyIMYWHyW25xjHItK3Ge0qPQs9HQ"},
{"content":{"body":"So it's also not clear to me what Google's vision is here as there are contradictory statements.","msgtype":"m.text","org.matrix.msc1767.text":"So it's also not clear to me what Google's vision is here as there are contradictory statements."},"ts":1653062976446,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$xsK8kWeYdBHPJpNttwW4GCDl2X-NSEbLWdtqY2U0Iao"},
{"content":{"body":"\"used elsewhere\" means for networking in addition to storage?","msgtype":"m.text","org.matrix.msc1767.text":"\"used elsewhere\" means for networking in addition to storage?"},"ts":1653062999735,"senderName":"wanderview","senderId":"@wanderview:matrix.org","id":"$IeXEOf0A14cMCU9_ePXBhKq6RKENuogiQhTWlPT3ubU"},
{"content":{"body":"are we bikeshedding the word \"storage\"... I mean StorageKey is also used for communication APIs like broadcastchannel","msgtype":"m.text","org.matrix.msc1767.text":"are we bikeshedding the word \"storage\"... I mean StorageKey is also used for communication APIs like broadcastchannel"},"ts":1653063021860,"senderName":"wanderview","senderId":"@wanderview:matrix.org","id":"$hwBn98yzNg-wOLhoX1jmQ5jbV6AwRbYToL_c4MbSz_M"},
{"content":{"body":"I don't understand why StorageKey can't be the one source of truth here","msgtype":"m.text","org.matrix.msc1767.text":"I don't understand why StorageKey can't be the one source of truth here"},"ts":1653063046821,"senderName":"wanderview","senderId":"@wanderview:matrix.org","id":"$3gY90wYT1fkrEzNpQHFfWPCtO0HMYFcyfoCBiFQINUQ"},
{"content":{"body":"Yes networking, which cannot use the storage key directly as it doesn't use the \"origin\" part.","msgtype":"m.text","org.matrix.msc1767.text":"Yes networking, which cannot use the storage key directly as it doesn't use the \"origin\" part."},"ts":1653063053144,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$7GqCcVpxJlNzm1zx5Gr07OHYGbiIHTLE1kTnRlZKylg"},
{"content":{"body":"I'm confused.... networking would not use all of whatever this 'authority struct' is either...","msgtype":"m.text","org.matrix.msc1767.text":"I'm confused.... networking would not use all of whatever this 'authority struct' is either..."},"ts":1653063150707,"senderName":"wanderview","senderId":"@wanderview:matrix.org","id":"$1Zg-sR8GCGcKd_UQ5x0LJoeoHs7KDvBJcGLW9nFsFaY"},
{"content":{"body":" * I'm confused.... networking would not use all of whatever this 'authority struct' is either...","m.new_content":{"body":"I'm confused.... networking would not use all of whatever this 'authority struct' is either...","msgtype":"m.text","org.matrix.msc1767.text":"I'm confused.... networking would not use all of whatever this 'authority struct' is either..."},"m.relates_to":{"event_id":"$1Zg-sR8GCGcKd_UQ5x0LJoeoHs7KDvBJcGLW9nFsFaY","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * I'm confused.... networking would not use all of whatever this 'authority struct' is either..."},"ts":1653063159758,"senderName":"wanderview","senderId":"@wanderview:matrix.org","id":"$HWbBRRgnbncM8RONpIHw6IxvBqBYzpKc0HJo73A9oeE"},
{"content":{"body":"why can't networking pull the nonce out of storagekey","msgtype":"m.text","org.matrix.msc1767.text":"why can't networking pull the nonce out of storagekey"},"ts":1653063174240,"senderName":"wanderview","senderId":"@wanderview:matrix.org","id":"$yeiwNppj0j-ZxiLY3Tj_MFT_ClGIWEow5O9JOiXh6Lc"},
{"content":{"body":"just as it would this authority struct","msgtype":"m.text","org.matrix.msc1767.text":"just as it would this authority struct"},"ts":1653063182339,"senderName":"wanderview","senderId":"@wanderview:matrix.org","id":"$PJSAt2SocZgj8gLM9tpDfraU6jtvr2EdWc6E6143HTM"},
{"content":{"body":"It doesn't currently no, but that's what I'm suggesting we do over time. Unify the networking partition key and the storage key somewhat.","msgtype":"m.text","org.matrix.msc1767.text":"It doesn't currently no, but that's what I'm suggesting we do over time. Unify the networking partition key and the storage key somewhat."},"ts":1653063183568,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$5GUlxD1JVjAM0ZENy1Am9melzd7tRmm-Sc5x6ibFxq4"},
{"content":{"body":"And have them be more centrally owned, similar to origin.","msgtype":"m.text","org.matrix.msc1767.text":"And have them be more centrally owned, similar to origin."},"ts":1653063200706,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$VUyW4YcQYG9wDyQKAYxNenMUPafzXzsOBfGeQFNNtak"},
{"content":{"body":"the \"over time\" does not seem consistent with the \"can't make incremental improvements\" position you have here","msgtype":"m.text","org.matrix.msc1767.text":"the \"over time\" does not seem consistent with the \"can't make incremental improvements\" position you have here"},"ts":1653063250276,"senderName":"wanderview","senderId":"@wanderview:matrix.org","id":"$PDCts9WXroaRpd_-LCK2NI43hNRzwmhlpHkEYyLBHxI"},
{"content":{"body":"I'm fine with that being the goal long term... but you seem to be saying you want it now before we do anything else","msgtype":"m.text","org.matrix.msc1767.text":"I'm fine with that being the goal long term... but you seem to be saying you want it now before we do anything else"},"ts":1653063285577,"senderName":"wanderview","senderId":"@wanderview:matrix.org","id":"$k9vflJsqSFHhjoCr9XO9MpuutV_VfuiDqL3leVX-U_U"},
{"content":{"body":"I think my suggestion can be mostly backwards compatible.","msgtype":"m.text","org.matrix.msc1767.text":"I think my suggestion can be mostly backwards compatible."},"ts":1653063287896,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$ejI9w8vxOVBx3cpjQykItPezhRPtiPOlLIBAV4ZJizM"},
{"content":{"body":"As in we put the state there, you'd have to adjust \"obtain a storage key\" slightly, but after that it would all still work.","msgtype":"m.text","org.matrix.msc1767.text":"As in we put the state there, you'd have to adjust \"obtain a storage key\" slightly, but after that it would all still work."},"ts":1653063358962,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$EUrnUKRB-z3oF0a1h7QuqXKRZceIL_J6y2MPbKxTi5o"},
{"content":{"body":"so you want to do the opposite of what I wrote in https://github.com/whatwg/storage/issues/142... I did not take that from your comment there","msgtype":"m.text","org.matrix.msc1767.text":"so you want to do the opposite of what I wrote in https://github.com/whatwg/storage/issues/142... I did not take that from your comment there"},"ts":1653063400729,"senderName":"wanderview","senderId":"@wanderview:matrix.org","id":"$iU_9bdN5HZuhs20dZIIql387flM-KEhxCPqI7CHPg5E"},
{"content":{"body":"wanderview: perhaps your comment above naming is correct; I think we should group this state on environment and give it a name that'll serve us going forward","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@wanderview:matrix.org\">wanderview</a>: perhaps your comment above naming is correct; I think we should group this state on environment and give it a name that'll serve us going forward","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"wanderview: perhaps your comment above naming is correct; I think we should group this state on environment and give it a name that'll serve us going forward","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@wanderview:matrix.org\">wanderview</a>: perhaps your comment above naming is correct; I think we should group this state on environment and give it a name that'll serve us going forward","mimetype":"text/html"}]},"ts":1653063543088,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$n0W-2dN8DT6GJOK-vk5ieJcSJ3-1T84cr0gwvgktu3s"},
{"content":{"body":"But I meant what I wrote there, I agree that it would make sense for us to store this state on environment, I just think it's wider than a storage key, especially given that with \"storage\" the web platform typically doesn't mean cookies or network state","msgtype":"m.text","org.matrix.msc1767.text":"But I meant what I wrote there, I agree that it would make sense for us to store this state on environment, I just think it's wider than a storage key, especially given that with \"storage\" the web platform typically doesn't mean cookies or network state"},"ts":1653063640933,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$tW9nF96d_t-OmdtnyvryzIJCea6pAgVTnGcDPkhw-sM"},
{"content":{"body":"I gotta go, happy to discuss more on Monday; also happy to try to explain it better or work with whoever at Chromium is nominally in charge of these various keys to hash something out, let me know","msgtype":"m.text","org.matrix.msc1767.text":"I gotta go, happy to discuss more on Monday; also happy to try to explain it better or work with whoever at Chromium is nominally in charge of these various keys to hash something out, let me know"},"ts":1653064450489,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$tHcnAzIyDK9gi86xz_0M86eDomJ0xsVapDoSrgIVAHs"},
{"content":{"body":"Noam Rosenthal annevk Thank you, again, for the explanations. Very helpful.\n\nannevk said: “whether the variations reveal something about the user only the server in question knows…”\n\nOk, so… interpreted literally, that’s potentially every aspect of the request. image.com has no guarantee that the user is sending any of the same headers (or IP) to image.com vs embedder.com.\n\nannevk said: “…and whether you are comfortable sharing that widely”\n\nThis is the part I struggle to reason through, in cases that don’t involve Cookies/Authentication (which are more obvious). Wrote up some examples and how I'm thinking about them... https://gist.github.com/eeeps/ecfbf8d554bcbdd0d92c74c7edd11d15 Am I thinking ~correctly? Any advice on the murky cases?","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a> Thank you, again, for the explanations. Very helpful.</p>\n<p><a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a> said: “whether the variations reveal something about the user only the server in question knows…”</p>\n<p>Ok, so… interpreted literally, that’s potentially every aspect of the request. image.com has no guarantee that the user is sending any of the same headers (or IP) to image.com vs embedder.com.</p>\n<p><a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a> said: “…and whether you are comfortable sharing that widely”</p>\n<p>This is the part I struggle to reason through, in cases that don’t involve Cookies/Authentication (which are more obvious). Wrote up some examples and how I'm thinking about them... https://gist.github.com/eeeps/ecfbf8d554bcbdd0d92c74c7edd11d15 Am I thinking ~correctly? Any advice on the murky cases?</p>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Noam Rosenthal annevk Thank you, again, for the explanations. Very helpful.\n\nannevk said: “whether the variations reveal something about the user only the server in question knows…”\n\nOk, so… interpreted literally, that’s potentially every aspect of the request. image.com has no guarantee that the user is sending any of the same headers (or IP) to image.com vs embedder.com.\n\nannevk said: “…and whether you are comfortable sharing that widely”\n\nThis is the part I struggle to reason through, in cases that don’t involve Cookies/Authentication (which are more obvious). Wrote up some examples and how I'm thinking about them... https://gist.github.com/eeeps/ecfbf8d554bcbdd0d92c74c7edd11d15 Am I thinking ~correctly? Any advice on the murky cases?","mimetype":"text/plain"},{"body":"<p><a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a> Thank you, again, for the explanations. Very helpful.</p>\n<p><a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a> said: “whether the variations reveal something about the user only the server in question knows…”</p>\n<p>Ok, so… interpreted literally, that’s potentially every aspect of the request. image.com has no guarantee that the user is sending any of the same headers (or IP) to image.com vs embedder.com.</p>\n<p><a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a> said: “…and whether you are comfortable sharing that widely”</p>\n<p>This is the part I struggle to reason through, in cases that don’t involve Cookies/Authentication (which are more obvious). Wrote up some examples and how I'm thinking about them... https://gist.github.com/eeeps/ecfbf8d554bcbdd0d92c74c7edd11d15 Am I thinking ~correctly? Any advice on the murky cases?</p>\n","mimetype":"text/html"}]},"ts":1653065345917,"senderName":"Eric Portis (he/him)","senderId":"@etportis:matrix.org","id":"$_dOdrv8T_a3t-Juae--wzJNbVxU2qIf2QfS8puGCjs8"},
{"content":{"body":"Eric Portis (he/him): in practice these are all probably okay; it seems unlikely the two requests end up with different IP addresses though perhaps this will be more common in the future (but who is to say that image.com is getting an accurate one then)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@etportis:matrix.org\">Eric Portis (he/him)</a>: in practice these are all probably okay; it seems unlikely the two requests end up with different IP addresses though perhaps this will be more common in the future (but who is to say that image.com is getting an accurate one then)","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Eric Portis (he/him): in practice these are all probably okay; it seems unlikely the two requests end up with different IP addresses though perhaps this will be more common in the future (but who is to say that image.com is getting an accurate one then)","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@etportis:matrix.org\">Eric Portis (he/him)</a>: in practice these are all probably okay; it seems unlikely the two requests end up with different IP addresses though perhaps this will be more common in the future (but who is to say that image.com is getting an accurate one then)","mimetype":"text/html"}]},"ts":1653067114214,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$SzPfmbCmu4qzJEB6qrRhFXPcCoRo6M8v2ja87N0TOJE"},
{"content":{"body":"Eric Portis (he/him): the main problematic case without credentials is using the IP address of the user to authenticate them","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@etportis:matrix.org\">Eric Portis (he/him)</a>: the main problematic case without credentials is using the IP address of the user to authenticate them","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Eric Portis (he/him): the main problematic case without credentials is using the IP address of the user to authenticate them","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@etportis:matrix.org\">Eric Portis (he/him)</a>: the main problematic case without credentials is using the IP address of the user to authenticate them","mimetype":"text/html"}]},"ts":1653067144377,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$wmfLS1yBNjftcpz9jnLvp6jvzYlkbmu8CuBtZPFazmE"},
{"content":{"body":"Eric Portis (he/him): so not so much revealing their IP address, but revealing who they are","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@etportis:matrix.org\">Eric Portis (he/him)</a>: so not so much revealing their IP address, but revealing who they are","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Eric Portis (he/him): so not so much revealing their IP address, but revealing who they are","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@etportis:matrix.org\">Eric Portis (he/him)</a>: so not so much revealing their IP address, but revealing who they are","mimetype":"text/html"}]},"ts":1653067175575,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$PzzthF0YlBvxLR06mECuXj3zcZX0Ns6_dCnIVQveYpI"}
]