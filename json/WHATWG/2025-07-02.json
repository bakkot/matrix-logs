[
{"content":{"body":"sideshowbarker: doing spring cleanup?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: doing spring cleanup?","m.mentions":{"user_ids":["@sideshowbarker:matrix.org"]},"msgtype":"m.text"},"ts":1751435815087,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$eO3ECZ2qexTNhs1zn3mwNVejaFajc0mPlqWvBAMqiDM"},
{"content":{"body":"* sideshowbarker: doing (very late) spring cleanup?","format":"org.matrix.custom.html","formatted_body":"* <a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: doing (very late) spring cleanup?","m.mentions":{},"m.new_content":{"body":"sideshowbarker: doing (very late) spring cleanup?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:matrix.org\">sideshowbarker</a>: doing (very late) spring cleanup?","m.mentions":{"user_ids":["@sideshowbarker:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$eO3ECZ2qexTNhs1zn3mwNVejaFajc0mPlqWvBAMqiDM","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1751435828120,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$9XAu7mKXL9wPJlOKid0GPQI2oJW3qhCjUeD2EacINyI"},
{"content":{"body":"Something like that yeah","msgtype":"m.text"},"ts":1751436566045,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$twf_FK5zAT4RgZE5qC8TfKVuwtqI5n3mMsZ76ewPomE"},
{"content":{"body":"Whoa, someone left a lot of spam. Thanks for dealing with it Domenic!","m.mentions":{},"msgtype":"m.text"},"ts":1751436887475,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Qt7cG7AqhtacAjGkkY5GV-35jv-qQI_8zAoY7WHWnS0"},
{"content":{"body":"annevk: I'm going through Ladybird failures on the scoped custom element registry tests, and passing a registry to `Document.importNode()` isn't making sense to me. I see that Safari passes all of custom-elements/registries/Document-importNode.html, so maybe the implementation doesn't match the spec there. I'm looking at the second subtest there:\n\n`assert_true(document.importNode(document.createElement('some-element'), {customElementRegistry: scopedRegistry}) instanceof ScopedSomeElement);`\n\n`some-element` gets created using the document's registry. The test then expects `importNode()` to return a node that is using `scopedRegistry` instead. But, the registry is passed as `cloneNode()`'s `fallbackRegistry`, and that's only used if the node doesn't already have a registry. And it does have one!","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: I'm going through Ladybird failures on the scoped custom element registry tests, and passing a registry to <code>Document.importNode()</code> isn't making sense to me. I see that Safari passes all of custom-elements/registries/Document-importNode.html, so maybe the implementation doesn't match the spec there. I'm looking at the second subtest there:</p>\n<p><code>assert_true(document.importNode(document.createElement('some-element'), {customElementRegistry: scopedRegistry}) instanceof ScopedSomeElement);</code></p>\n<p><code>some-element</code> gets created using the document's registry. The test then expects <code>importNode()</code> to return a node that is using <code>scopedRegistry</code> instead. But, the registry is passed as <code>cloneNode()</code>'s <code>fallbackRegistry</code>, and that's only used if the node doesn't already have a registry. And it does have one!</p>\n","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1751450127378,"senderName":"AtkinsSJ","senderId":"@atkinssj:serenityos.org","id":"$SvLKKRyB3hAf5KcWvRvTXN6Vo7PxmcjjACVB7E__ibE"},
{"content":{"body":"The idea of cloning a custom element and getting a different type of custom element seems strange to me but maybe I just need to read up on that more.","m.mentions":{},"msgtype":"m.text"},"ts":1751450402453,"senderName":"AtkinsSJ","senderId":"@atkinssj:serenityos.org","id":"$si3EuWdrfk4wgGhzYutj7Br_878DJcUlZNdOsPoCI9w"}
]