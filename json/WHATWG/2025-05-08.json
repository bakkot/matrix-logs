[
{"content":{"body":"Chrome seems to be the only browser which shares user activation across iframes. Is this worthy of filing an issue to discuss or is this well known? /cc smaug ","format":"org.matrix.custom.html","formatted_body":"Chrome seems to be the only browser which shares user activation across iframes. Is this worthy of filing an issue to discuss or is this well known? /cc <a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>","m.mentions":{"user_ids":["@smaug:mozilla.org"]},"msgtype":"m.text"},"ts":1746698677568,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$kTf7-CAlOl_NrL7Bb14s6d5i7XZXuGmVplJhHxYvSno"},
{"content":{"body":"* Chrome seems to be the only browser which shares user activation across iframes. Is this worthy of filing an issue to discuss or is this well known? /cc smaug\n\nTest case:\n\n`data:text/html,<!DOCTYPE html><iframe src=\"https://www.keithcirkel.co.uk/active-check/\"></iframe><iframe src=\"https://www.keithcirkel.co.uk/active-check/\"></iframe>`\n\nClick one of the buttons, in Chrome both will switch to `isActive: true` - others won't.","format":"org.matrix.custom.html","formatted_body":"* <p>Chrome seems to be the only browser which shares user activation across iframes. Is this worthy of filing an issue to discuss or is this well known? /cc <a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a></p>\n<p>Test case:</p>\n<p><code>data:text/html,&lt;!DOCTYPE html&gt;&lt;iframe src=\"https://www.keithcirkel.co.uk/active-check/\"&gt;&lt;/iframe&gt;&lt;iframe src=\"https://www.keithcirkel.co.uk/active-check/\"&gt;&lt;/iframe&gt;</code></p>\n<p>Click one of the buttons, in Chrome both will switch to <code>isActive: true</code> - others won't.</p>\n","m.mentions":{},"m.new_content":{"body":"Chrome seems to be the only browser which shares user activation across iframes. Is this worthy of filing an issue to discuss or is this well known? /cc smaug\n\nTest case:\n\n`data:text/html,<!DOCTYPE html><iframe src=\"https://www.keithcirkel.co.uk/active-check/\"></iframe><iframe src=\"https://www.keithcirkel.co.uk/active-check/\"></iframe>`\n\nClick one of the buttons, in Chrome both will switch to `isActive: true` - others won't.","format":"org.matrix.custom.html","formatted_body":"<p>Chrome seems to be the only browser which shares user activation across iframes. Is this worthy of filing an issue to discuss or is this well known? /cc <a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a></p>\n<p>Test case:</p>\n<p><code>data:text/html,&lt;!DOCTYPE html&gt;&lt;iframe src=\"https://www.keithcirkel.co.uk/active-check/\"&gt;&lt;/iframe&gt;&lt;iframe src=\"https://www.keithcirkel.co.uk/active-check/\"&gt;&lt;/iframe&gt;</code></p>\n<p>Click one of the buttons, in Chrome both will switch to <code>isActive: true</code> - others won't.</p>\n","m.mentions":{"user_ids":["@smaug:mozilla.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$kTf7-CAlOl_NrL7Bb14s6d5i7XZXuGmVplJhHxYvSno","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1746699100089,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$r1h6A8RqRF1iIZbDoipV7wiYxzEsWQJaR4DCfjnZO64"},
{"content":{"body":"keithamus: so that case about sibling iframes","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@keithamus:matrix.org\">keithamus</a>: so that case about sibling iframes","m.mentions":{"user_ids":["@keithamus:matrix.org"]},"msgtype":"m.text"},"ts":1746699320662,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$jj9m0osZ4SXUj7pX5Re8__EJBtQHhnEev9AP9vTSsyg"},
{"content":{"body":"* keithamus: so that case about sibling iframes, right?","format":"org.matrix.custom.html","formatted_body":"* <a href=\"https://matrix.to/#/@keithamus:matrix.org\">keithamus</a>: so that case about sibling iframes, right?","m.mentions":{},"m.new_content":{"body":"keithamus: so that case about sibling iframes, right?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@keithamus:matrix.org\">keithamus</a>: so that case about sibling iframes, right?","m.mentions":{"user_ids":["@keithamus:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$jj9m0osZ4SXUj7pX5Re8__EJBtQHhnEev9AP9vTSsyg","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1746699339775,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$Tv4tTXycpzArcDBpw-QtzpiFwpaUqh3VKYAJqMln2WY"},
{"content":{"body":"yes exactly.","m.mentions":{},"msgtype":"m.text"},"ts":1746699353779,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$dxKjjmZGWuE1RWKulqJvlb0GZOTJ_Mn9kvXQwFzxhc4"},
{"content":{"body":"Per spec user activation should propagate to ancestors and descendants, I think https://html.spec.whatwg.org/multipage/interaction.html#activation-notification","m.mentions":{},"msgtype":"m.text"},"ts":1746699404441,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$4gZ-HdXNWixqMQ4Hk5H4a3su1TAXx_yWHOPWsiD781M"},
{"content":{"body":"and that seems to be what Gecko does","m.mentions":{},"msgtype":"m.text"},"ts":1746699409535,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$JWyJG2X11b_QaOglDePDDdobp-JIgFxZAiRXTMPXyjU"},
{"content":{"body":"(if I read the code correctly)","m.mentions":{},"msgtype":"m.text"},"ts":1746699416521,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$A69t773qj0IK9SAHgCHl4ZBr55OCdOMc5tBm9VI4vL0"},
{"content":{"body":"so is this just a bug in Chrome?","m.mentions":{},"msgtype":"m.text"},"ts":1746699520191,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$UHNu7Pa81Z-pNSYROeRb6XkjAAn04XJ_jOOP2s5XfOQ"},
{"content":{"body":"https://www.keithcirkel.co.uk/active-check/same-origin.html yes it seems same origin descendants works fine across all","m.mentions":{},"msgtype":"m.text"},"ts":1746699564450,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$DM5aYr0rA6Nx4-5gNhPBkdkIkenp1fLD2rKj6XADfgs"},
{"content":{"body":"So yeah this is perhaps a chrome bug.","m.mentions":{},"msgtype":"m.text"},"ts":1746699572424,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$uTTd9BHxkyC7pkbd7HQx2iC6NF4JVB1GR6zxzMSiivg"},
{"content":{"body":"https://github.com/whatwg/html/issues/9831 looks like canadahonk already reported this one ðŸ˜…. It's tracked in https://issues.chromium.org/issues/41449756 but seems like some ad tech depends on it?","format":"org.matrix.custom.html","formatted_body":"https://github.com/whatwg/html/issues/9831 looks like <a href=\"https://matrix.to/#/@canadahonk:matrix.org\">canadahonk</a> already reported this one ðŸ˜…. It's tracked in https://issues.chromium.org/issues/41449756 but seems like some ad tech depends on it?","m.mentions":{"user_ids":["@canadahonk:matrix.org"]},"msgtype":"m.text"},"ts":1746699868958,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$yyE2LSx_Or346CRMYoRiFMOUzKFEBK7cHKkAH62ZFIY"},
{"content":{"body":"or that ad tech would prefer the spec behavior?","m.mentions":{},"msgtype":"m.text"},"ts":1746706098306,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$hWW9L49NJZ_ryeX0uhdVcf7O-gRJHUkvHO7n5VW2v30"},
{"content":{"body":"i recommend commenting on that chrome bug to get mustaq's attention","m.mentions":{},"msgtype":"m.text"},"ts":1746715851804,"senderName":"jarhar","senderId":"@jarhar:matrix.org","id":"$v6IENSwVSdVgxlkZACSJb92IJWjTQBFnvl6PESF0Sqk"}
]