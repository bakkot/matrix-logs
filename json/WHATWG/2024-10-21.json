[
{"content":{"body":"Specifically, http://wpt.live/mimesniff/mime-types/charset-parameter.window.html seems to expect the charset from `text/html;test=ÿ;charset=gbk` to be successfully parsed. Should the test field be ignored, re-encoded or set to the replacement character?","format":"org.matrix.custom.html","formatted_body":"Specifically, http://wpt.live/mimesniff/mime-types/charset-parameter.window.html seems to expect the charset from <code>text/html;test=ÿ;charset=gbk</code> to be successfully parsed. Should the test field be ignored, re-encoded or set to the replacement character?","m.mentions":{},"msgtype":"m.text"},"ts":1729471064510,"senderName":"gingeh_","senderId":"@gingeh_:matrix.org","id":"$6YRczrB6eaaRSXMF7-cn0-p3xrTLexolenZ1jpcM9xI"},
{"content":{"body":"> <@gingeh_:matrix.org> Hello, how should isomorphic decoding handle non-ASCII bytes (>0x7F)?\n\nThere's no special handling for ASCII vs. non-ASCII bytes. Bytes greater than 0x7F also go to their corresponding code point.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$SennOs-3rdYuWUlBe8q2oJlWJ_3D5-nr7ecniZYyses?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@gingeh_:matrix.org\">@gingeh_:matrix.org</a><br>Hello, how should isomorphic decoding handle non-ASCII bytes (&gt;0x7F)?</blockquote></mx-reply>There's no special handling for ASCII vs. non-ASCII bytes. Bytes greater than 0x7F also go to their corresponding code point.","m.mentions":{"user_ids":["@gingeh_:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$SennOs-3rdYuWUlBe8q2oJlWJ_3D5-nr7ecniZYyses"}},"msgtype":"m.text"},"ts":1729476016007,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$8huFohcVR1a8oGSUibKrU9pp6JLdkwrsxKyjNPPg0jI"},
{"content":{"body":"0xFF -> the code point U+00FF (ÿ), in particular.","m.mentions":{},"msgtype":"m.text"},"ts":1729476053208,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$BZx3X7Z_ks8dO3V25nyJLWUwvZUIZETE7aVAQZUOUFc"},
{"content":{"body":" * 0xFF <-> the code point U+00FF (ÿ), in particular.","m.mentions":{},"m.new_content":{"body":"0xFF <-> the code point U+00FF (ÿ), in particular.","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$BZx3X7Z_ks8dO3V25nyJLWUwvZUIZETE7aVAQZUOUFc","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1729476064548,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$XJer9QMxzCG6wxDi3oO5j1PA7ePOTVqKlsqJSSJfBpk"},
{"content":{"body":"I see my mistake now, I had misinterpreted it as meaning \"interpret bytes as UTF-8 bytes\" not \"interpret bytes as unicode code point values\"","m.mentions":{},"msgtype":"m.text"},"ts":1729479610230,"senderName":"gingeh_","senderId":"@gingeh_:matrix.org","id":"$ry_oQx9HaQWuldWQpJ8-l_4Gg_zvuIm8hGpMO_MP5U0"},
{"content":{"body":"Yup, isomorphic as \"same shape\", just moving literally between the two encodings.","m.mentions":{},"msgtype":"m.text"},"ts":1729533469367,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$GY1ojiVCWCZu6iAlmfBaWYOQ8Rh4jzlGe4KdylTW1Sg"},
{"content":{"body":"> Browser user agents should provide the ability to navigate, reload, and stop loading any top-level traversable in their top-level traversable set.\n\nWhat is _sourceDocument_ in these cases?","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>Browser user agents should provide the ability to navigate, reload, and stop loading any top-level traversable in their top-level traversable set.</p>\n</blockquote>\n<p>What is <em>sourceDocument</em> in these cases?</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1729536490243,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$cjRNNLNf6z-KYLPfXLZJBCiQ_YR6TczpkewEFKNV3_c"},
{"content":{"body":"None","m.mentions":{},"m.relates_to":{"event_id":"$cjRNNLNf6z-KYLPfXLZJBCiQ_YR6TczpkewEFKNV3_c","is_falling_back":true,"m.in_reply_to":{"event_id":"$cjRNNLNf6z-KYLPfXLZJBCiQ_YR6TczpkewEFKNV3_c"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1729538159834,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$-ZsEi-CH-VLbuy2Ylm7TGR69NjeNYr0apbmrPD6pDjU"},
{"content":{"body":"`sourceDocument` is for when you browse from a context of another document (e.g. `window.open`, `location.replace()`, not from the browser UI","format":"org.matrix.custom.html","formatted_body":"<code>sourceDocument</code> is for when you browse from a context of another document (e.g. <code>window.open</code>, <code>location.replace()</code>, not from the browser UI","m.mentions":{},"m.relates_to":{"event_id":"$cjRNNLNf6z-KYLPfXLZJBCiQ_YR6TczpkewEFKNV3_c","is_falling_back":true,"m.in_reply_to":{"event_id":"$-ZsEi-CH-VLbuy2Ylm7TGR69NjeNYr0apbmrPD6pDjU"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1729538190646,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$y0Gu3riK8wyR4XzhOPtnl1Ml7bnbQO6v4yYX4QJc-vg"},
{"content":{"body":"That's not a valid value though. It takes a `Document`.","format":"org.matrix.custom.html","formatted_body":"That's not a valid value though. It takes a <code>Document</code>.","m.mentions":{},"m.relates_to":{"event_id":"$cjRNNLNf6z-KYLPfXLZJBCiQ_YR6TczpkewEFKNV3_c","is_falling_back":true,"m.in_reply_to":{"event_id":"$y0Gu3riK8wyR4XzhOPtnl1Ml7bnbQO6v4yYX4QJc-vg"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1729542509383,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$kvWiQXiJ3wNCnl27wGpl53ad7mJOZJrb9MBj-sYD7WU"},
{"content":{"body":"We use the top level traversable's active document in this case, which is not correct. It prevents navigating from e.g. an https:// site to a file:// page from the browser UI.","m.mentions":{},"m.relates_to":{"event_id":"$cjRNNLNf6z-KYLPfXLZJBCiQ_YR6TczpkewEFKNV3_c","is_falling_back":true,"m.in_reply_to":{"event_id":"$kvWiQXiJ3wNCnl27wGpl53ad7mJOZJrb9MBj-sYD7WU"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1729548487217,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$ISR89HK_X7Taevai6JODCqESCafxuESP_PYNzCAd-ag"},
{"content":{"body":"well I mean it could work, if there were additional checks involving the User Navigation Involvement ","m.mentions":{},"m.relates_to":{"event_id":"$cjRNNLNf6z-KYLPfXLZJBCiQ_YR6TczpkewEFKNV3_c","is_falling_back":true,"m.in_reply_to":{"event_id":"$ISR89HK_X7Taevai6JODCqESCafxuESP_PYNzCAd-ag"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1729548551554,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$QJNMeyoFS_cGIJ9njtNuq59J0WK_btHDkvGNIYM-oCw"}
]