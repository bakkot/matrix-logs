[
{"content":{"body":"Hello! Regarding the FS Living Standard (https://fs.spec.whatwg.org/#files-and-directories) I notice that there's no direct mention of maximum path length. Is that expected to be a non-issue? Or should app developers keep the total directories below some threshold for cross-platform compatibility? (Crossing fingers that I don't need to keep things under 256/260 chars for MAX_PATH lol.)","m.mentions":{},"msgtype":"m.text"},"ts":1729664700659,"senderName":"scott_michaud_riv","senderId":"@scott_michaud_riv:matrix.org","id":"$_N4QzDB-i8zkpBVfN2YW2t3cNc4Ys_HKKf_wDbz73Hc"},
{"content":{"body":" * Hello! Regarding the FS Living Standard (https://fs.spec.whatwg.org/#files-and-directories) I notice that there's no direct mention of maximum path length. Is that expected to be a non-issue? Or should app developers keep the total nesting of directories below some threshold for cross-platform compatibility? (Crossing fingers that I don't need to keep things under 256/260 chars for MAX\\_PATH lol.)","format":"org.matrix.custom.html","formatted_body":" * Hello! Regarding the FS Living Standard (https://fs.spec.whatwg.org/#files-and-directories) I notice that there's no direct mention of maximum path length. Is that expected to be a non-issue? Or should app developers keep the total nesting of directories below some threshold for cross-platform compatibility? (Crossing fingers that I don't need to keep things under 256/260 chars for MAX_PATH lol.)","m.mentions":{},"m.new_content":{"body":"Hello! Regarding the FS Living Standard (https://fs.spec.whatwg.org/#files-and-directories) I notice that there's no direct mention of maximum path length. Is that expected to be a non-issue? Or should app developers keep the total nesting of directories below some threshold for cross-platform compatibility? (Crossing fingers that I don't need to keep things under 256/260 chars for MAX\\_PATH lol.)","format":"org.matrix.custom.html","formatted_body":"Hello! Regarding the FS Living Standard (https://fs.spec.whatwg.org/#files-and-directories) I notice that there's no direct mention of maximum path length. Is that expected to be a non-issue? Or should app developers keep the total nesting of directories below some threshold for cross-platform compatibility? (Crossing fingers that I don't need to keep things under 256/260 chars for MAX_PATH lol.)","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$_N4QzDB-i8zkpBVfN2YW2t3cNc4Ys_HKKf_wDbz73Hc","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1729664715804,"senderName":"scott_michaud_riv","senderId":"@scott_michaud_riv:matrix.org","id":"$fODqn2pDYx4w4jMZlHzwpUP-3FTwR9OxwE3Qv1eGOY8"},
{"content":{"body":"We're already using this fictional document when navigating a new tab... so it would be a consistent unfortunate way to spec this","m.mentions":{},"m.relates_to":{"event_id":"$cjRNNLNf6z-KYLPfXLZJBCiQ_YR6TczpkewEFKNV3_c","is_falling_back":true,"m.in_reply_to":{"event_id":"$jq-1hxM7TM7oD3LvUsUQkzcD6sh7R3w0ijSgsY5mHEc"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1729679917007,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$4kjTGahRrlaWWM9hn5LoyPzS3ar5eIjsz-Nl9DdbBrA"},
{"content":{"body":"There are probably clearer ways to describe the desired behavior but I'm not convinced about \"easier\"","m.mentions":{},"m.relates_to":{"event_id":"$cjRNNLNf6z-KYLPfXLZJBCiQ_YR6TczpkewEFKNV3_c","is_falling_back":true,"m.in_reply_to":{"event_id":"$4kjTGahRrlaWWM9hn5LoyPzS3ar5eIjsz-Nl9DdbBrA"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1729679971736,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$6chz7teYc7WVCYhBsGfJ3qHmybVnH51WZH58UwSkbok"},
{"content":{"body":"We can probably create something like a reserved environment that's not a document to be the fetch client in this case, but I'm not sure it's easier in anyway (or substantially different from an `initial about:blank`)","format":"org.matrix.custom.html","formatted_body":"We can probably create something like a reserved environment that's not a document to be the fetch client in this case, but I'm not sure it's easier in anyway (or substantially different from an <code>initial about:blank</code>)","m.mentions":{},"m.relates_to":{"event_id":"$cjRNNLNf6z-KYLPfXLZJBCiQ_YR6TczpkewEFKNV3_c","is_falling_back":true,"m.in_reply_to":{"event_id":"$6chz7teYc7WVCYhBsGfJ3qHmybVnH51WZH58UwSkbok"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1729680090125,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$ogPueaN_DfOFp6iUzB_ZY3SVNoNTEuTk6jgsAketSAY"},
{"content":{"body":"In any case, the result should be equivalent in the web observable sense","m.mentions":{},"m.relates_to":{"event_id":"$cjRNNLNf6z-KYLPfXLZJBCiQ_YR6TczpkewEFKNV3_c","is_falling_back":true,"m.in_reply_to":{"event_id":"$ogPueaN_DfOFp6iUzB_ZY3SVNoNTEuTk6jgsAketSAY"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1729680574171,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$WezqlMt0vCM_ge76V_Jp2cU0x-vH3nklG7H42ZUT6vU"},
{"content":{"body":"I think the other option is actually to have a request client of `null`. It would have a `reserved client` created in https://html.spec.whatwg.org/multipage/browsing-the-web.html#create-navigation-params-by-fetching. `fetch` can work fine without a request client. ","format":"org.matrix.custom.html","formatted_body":"I think the other option is actually to have a request client of <code>null</code>. It would have a <code>reserved client</code> created in https://html.spec.whatwg.org/multipage/browsing-the-web.html#create-navigation-params-by-fetching. <code>fetch</code> can work fine without a request client.","m.mentions":{},"m.relates_to":{"event_id":"$cjRNNLNf6z-KYLPfXLZJBCiQ_YR6TczpkewEFKNV3_c","is_falling_back":true,"m.in_reply_to":{"event_id":"$WezqlMt0vCM_ge76V_Jp2cU0x-vH3nklG7H42ZUT6vU"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1729681387106,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$dEruvFMwsfCdHRc5wAjlLzDpnN0K5P5TUslEwgjsHrY"},
{"content":{"body":"Looking at chromium code for this, it's kind of more equivalent to what's happening in a UI-initiated navigation","m.mentions":{},"m.relates_to":{"event_id":"$cjRNNLNf6z-KYLPfXLZJBCiQ_YR6TczpkewEFKNV3_c","is_falling_back":true,"m.in_reply_to":{"event_id":"$dEruvFMwsfCdHRc5wAjlLzDpnN0K5P5TUslEwgjsHrY"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1729681415385,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$zibbgmC7qrYsn29PjdjqdBL6XM3rVLhzzKGzJfChljg"},
{"content":{"body":"Heh in `Sec-Fetch-Site`: \n\n\"If r is a navigation request that was explicitly caused by a user’s interaction with the user agent (by typing an address into the user agent directly, for example, or by clicking a bookmark, etc.), then set header’s value to none.\"\n\nhttps://w3c.github.io/webappsec-fetch-metadata/#sec-fetch-site-header","format":"org.matrix.custom.html","formatted_body":"<p>Heh in <code>Sec-Fetch-Site</code>:</p>\n<p>\"If r is a navigation request that was explicitly caused by a user’s interaction with the user agent (by typing an address into the user agent directly, for example, or by clicking a bookmark, etc.), then set header’s value to none.\"</p>\n<p>https://w3c.github.io/webappsec-fetch-metadata/#sec-fetch-site-header</p>\n","m.mentions":{},"m.relates_to":{"event_id":"$cjRNNLNf6z-KYLPfXLZJBCiQ_YR6TczpkewEFKNV3_c","is_falling_back":true,"m.in_reply_to":{"event_id":"$zibbgmC7qrYsn29PjdjqdBL6XM3rVLhzzKGzJfChljg"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1729687193851,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$w9yuTDNChPLSe5GGCFifDQuQfC2ywASoA7jlgjqTYAQ"},
{"content":{"body":"So so far I can't see one place where it matters whether the origin of the navigation request is opaque or the new navigation URL, also service workers don't expose this","m.mentions":{},"m.relates_to":{"event_id":"$cjRNNLNf6z-KYLPfXLZJBCiQ_YR6TczpkewEFKNV3_c","is_falling_back":true,"m.in_reply_to":{"event_id":"$w9yuTDNChPLSe5GGCFifDQuQfC2ywASoA7jlgjqTYAQ"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1729687251482,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$P7BoCAieiZI3-S6m0yn_5t-Z93aVdt5485u6KRHaIhM"},
{"content":{"body":"scott_michaud_riv: not sure. But https://infra.spec.whatwg.org/#algorithm-limits might help.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@scott_michaud_riv:matrix.org\">scott_michaud_riv</a>: not sure. But https://infra.spec.whatwg.org/#algorithm-limits might help.","m.mentions":{"user_ids":["@scott_michaud_riv:matrix.org"]},"msgtype":"m.text"},"ts":1729700081706,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$6x1utpc-nyuJ4f7TyVuQri2o10MCYOC_J17Z5LyG4a0"},
{"content":{"body":"When WebIDL says:\n\nN. Return PerformPromiseThen(promise.[[Promise]], onFulfilled, onRejected, newCapability).\n\nshould the steps actually be:\n\nN. PerformPromiseThen(promise.[[Promise]], onFulfilled, onRejected, newCapability).\nN+1. Return newCapability.\n\n?\n","m.mentions":{},"msgtype":"m.text"},"ts":1729718459603,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$rhsE-OSqb9xU-C19JPsZSA44i4wxkflZgyfjgRFABJs"},
{"content":{"body":"PerformPromiseThen will return newCapability.[[Promise]] if newCapability is not undefined. but the actual [[Promise]] slot of a PromiseCapability is kind of useless to WebIDL","m.mentions":{},"msgtype":"m.text"},"ts":1729718509159,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$ZPcnxcsaAWqePIwR4xRI2tkBFQJ6samwnChxj-l06Yg"},
{"content":{"body":"you can't re-wrap it in another PromiseCapability for example","m.mentions":{},"msgtype":"m.text"},"ts":1729718521194,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$IsX1RT8hms6jUZrqDJSTtIa-b3BdmLk5Mt1AjdrsaFw"},
{"content":{"body":"akaster: seems likely from what is done elsewhere, though not exactly an expert. You could wait for Domenic but seems reasonable to preemptively file an issue to at least get it clarified if it's intentional.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@akaster:serenityos.org\">akaster</a>: seems likely from what is done elsewhere, though not exactly an expert. You could wait for <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a> but seems reasonable to preemptively file an issue to at least get it clarified if it's intentional.","m.mentions":{"user_ids":["@akaster:serenityos.org","@domenicdenicola:matrix.org"]},"msgtype":"m.text"},"ts":1729719027564,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$XAbAgNRppD5UDk0j7p7T77-C9Fam-2dH2C8L46Dh4Ik"},
{"content":{"body":"thanks! I'm looking at our implementation of converting JS values to WebIDL Promises and back, and it seems we had quite a lot of confusion about the use of a Promise vs a PromiseCapability back when we wrote that part of the code generator. Cleaning this up is requiring some hard looks at the WebIDL spec. (side yak from implementing https://webassembly.github.io/spec/web-api/#compile-a-potential-webassembly-response, which both takes and returns a Promise<T>)","m.mentions":{},"msgtype":"m.text"},"ts":1729719123976,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$_dglesNORYa7tMGZupXJknFOgIXT2ycebufEmmyO-8Q"},
{"content":{"body":"https://github.com/whatwg/webidl/issues/1443","m.mentions":{},"msgtype":"m.text"},"ts":1729719694527,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$0QbR3cV17yh2R7HZi1U60UEYsqVRYllUFZZybtEaPiQ"}
]