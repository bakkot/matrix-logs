[
{"content":{"body":"smaug: can I get you to quickly review https://github.com/whatwg/dom/pull/1334? rniwa already looked it over, but since it's fairly significant I thought I should get at least one other person.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: can I get you to quickly review https://github.com/whatwg/dom/pull/1334? rniwa already looked it over, but since it's fairly significant I thought I should get at least one other person.","m.mentions":{"user_ids":["@smaug:mozilla.org"]},"msgtype":"m.text"},"ts":1734081163865,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$ayXvFuCogsWbC0_GZ3R8wU1fRsIB3bjYYa2_URvRH6A"},
{"content":{"body":"will do in a moment","m.mentions":{},"msgtype":"m.text"},"ts":1734085297432,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$Ov47z24VkY346bQcz37osXosnvI-6gCjqd73ZEmyDb0"},
{"content":{"body":"Any Cashapp? Chime? Zelle? Btc? Usdt?Skrill? Apple Pay? Pay pal? Venmo? BOA? Wells Fargo? Join my channel\nhttps://t.me/+32cFzLuOiacxZmM0\nâ€¨Got any of theseâ€¨Chase?â€¨BOA?â€¨Wells Fargo?â€¨Navy federal?â€¨Capital one?â€¨Truist?â€¨Att &t?â€¨PNC?â€¨TD bank?â€¨Credit union?â€¨M&T bank?â€¨Santander bank?â€¨Northwest bank?â€¨Or any other local Bankâ€¨JOIN THE CHANNEL NOW TO GET PAIDðŸ’¯ âœ…","msgtype":"m.text"},"ts":1734087278171,"senderName":"sharonne","senderId":"@sharonne:matrix.org","id":"$RKGUPVkGbD1tppN-AfaAsxYBvffgDoaeI2d6P9KYBrQ"},
{"content":{"body":"smaug: thanks! So I guess that means that \"clone a shadow root\" needs to be its independent operation that we call from both \"clone a node\" and \"clone a node's children\". And I guess that also goes for running the cloning steps then as they will also append a bunch of nodes in case of the template element.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: thanks! So I guess that means that \"clone a shadow root\" needs to be its independent operation that we call from both \"clone a node\" and \"clone a node's children\". And I guess that also goes for running the cloning steps then as they will also append a bunch of nodes in case of the template element.","m.mentions":{"user_ids":["@smaug:mozilla.org"]},"msgtype":"m.text"},"ts":1734092198885,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$WbC15Cjn35gBa4jCN8R71Ysku_AVyiLTbDrKUPXeJ-o"},
{"content":{"body":"So much unfortunate duplication, but it seems hard to avoid.","m.mentions":{},"msgtype":"m.text"},"ts":1734092308392,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$co0hze9_gpGLa4j-q_U7cdB9sMCwd56z0iWNtEluhNo"},
{"content":{"body":"I guess template element just calls clone for its content. And it doesn't matter much where that happens, since the content lives on its own subtree","m.mentions":{},"msgtype":"m.text"},"ts":1734092481649,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$UoEmGKDzcvV5DQMWcKAapBRpedjTEJeFyyRSkM6EU8Q"},
{"content":{"body":"or does it create document fragment on the new one and clones that as the parent","m.mentions":{},"msgtype":"m.text"},"ts":1734092548063,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$a9JMqfzAANL-4l6pCmie_fBQu5s_dfkS4bUc3jNUJco"},
{"content":{"body":"I guess it goes like that","m.mentions":{},"msgtype":"m.text"},"ts":1734092553388,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$31t-5xdirmYqNYnhaaCuJ80jYWbKo4VCtlnx440c9sU"},
{"content":{"body":"but still doesn't matter too much when that happens","m.mentions":{},"msgtype":"m.text"},"ts":1734092567206,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$J5DetJi4-Lxmzzi1zqvOdrYsRgYLYYKQa4-4vZMNSTM"},
{"content":{"body":"Oh I guess you're right. It's only shadow-including tree traversal. That doesn't go into all conceptual hosts.","m.mentions":{},"msgtype":"m.text"},"ts":1734092711459,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$X8R8yO3LBga9FfSfOgEsJwEHDP4Y7q974sQzkVhQomM"},
{"content":{"body":"smaug: should be good now.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: should be good now.","m.mentions":{"user_ids":["@smaug:mozilla.org"]},"msgtype":"m.text"},"ts":1734094351836,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$k4Qa3nAMEbOfSuy6vhaTgPkyN9PFdVWfIjvJzOdAo0I"},
{"content":{"body":"smaug: I think I have stared long enough at this now that I can deduplicate \"clone a node\" and \"clone a node's children\". Let me try that.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: I think I have stared long enough at this now that I can deduplicate \"clone a node\" and \"clone a node's children\". Let me try that.","m.mentions":{"user_ids":["@smaug:mozilla.org"]},"msgtype":"m.text"},"ts":1734095197020,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$2-WHRTgPnKoB-2Ph0s7g3iF4femf3gBIVGcuxXVT-j4"},
{"content":{"body":"will read the pr after lunch","msgtype":"m.emote"},"ts":1734095383398,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$lfcgLdQ3dwsMF0U3gpsMi2XkvLYk8_A0lAjmlVjdwC0"},
{"content":{"body":"I think this is the approach I had initially in mind, but then forgot how to do it. I still need to push it.","m.mentions":{},"msgtype":"m.text"},"ts":1734096139225,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$-2dt7KTpDOehT1kezCofUZk726ytEzBPjYmw3PHYW_c"},
{"content":{"body":"I think I could even go back to a single recursive algorithm. The only new parameter it needs is a parent node. But it seems a little clearer with cloning a single node being its own algorithm. And also with most callers not having to pass in a null parent.","m.mentions":{},"msgtype":"m.text"},"ts":1734096553414,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$iaMptS96ZJamUQ5UAQJ8YEbClrWQyI_yW6Eysnu98eA"}
]