[
{"content":{"body":"smaug: I think we do it the same as desktop? If the iframe is focused, its close watchers are targeted, otherwise the top-level's close watchers are targeted?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: I think we do it the same as desktop? If the iframe is focused, its close watchers are targeted, otherwise the top-level's close watchers are targeted?","m.mentions":{"user_ids":["@smaug:mozilla.org"]},"msgtype":"m.text"},"ts":1747289289207,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$WhSszEhOfjmYJIfmtQCh2lkJItw0gO0J2OUFe611NIA"},
{"content":{"body":"Is there someone in the WHATNOT meeting who can let other people in?","m.mentions":{},"msgtype":"m.text"},"ts":1747296154824,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$-qjfU6RR2a6P2axjG3njgq62tkH-Rr-kMyapp8dKmbI"},
{"content":{"body":"https://developer.chrome.com/blog/smooshgate/ is great and should be required reading","m.mentions":{},"msgtype":"m.text"},"ts":1747301702030,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$P-ogdPhu0iNcJfrpv0vZkThywsNzvrKz-C_CCr9EieI"},
{"content":{"body":"Is it expected to be confused by the `shared worker manager` steps in https://html.spec.whatwg.org/multipage/workers.html#dom-sharedworker ?\n\nWe start execution in the Agent corresponding to `outside settings`. Then we're expected to iterate over a list of SharedWorkerGlobalScope objects, which might exist in different agents or agent clusters from the one we're in. I can understand that this should be some abstract 'ask the user agent global data about this' operation. Then in step 11.5 we're supposed to, in the realm/agent of the caller of the SharedWorker constructor, create a message port to entangle with the existing shared worker object. But like mentioned above, the shared worker global scope might not even exist in the same agent or agent cluster. So we're supposed to hand-wave some IPC to connect a new owner and IPC message port connection?\n\nThe run a worker steps at least take the time to `obtaining a dedicated/shared worker agent` and be explicit about who is calling what from where ðŸ˜…","format":"org.matrix.custom.html","formatted_body":"<p>Is it expected to be confused by the <code>shared worker manager</code> steps in https://html.spec.whatwg.org/multipage/workers.html#dom-sharedworker ?</p>\n<p>We start execution in the Agent corresponding to <code>outside settings</code>. Then we're expected to iterate over a list of SharedWorkerGlobalScope objects, which might exist in different agents or agent clusters from the one we're in. I can understand that this should be some abstract 'ask the user agent global data about this' operation. Then in step 11.5 we're supposed to, in the realm/agent of the caller of the SharedWorker constructor, create a message port to entangle with the existing shared worker object. But like mentioned above, the shared worker global scope might not even exist in the same agent or agent cluster. So we're supposed to hand-wave some IPC to connect a new owner and IPC message port connection?</p>\n<p>The run a worker steps at least take the time to <code>obtaining a dedicated/shared worker agent</code> and be explicit about who is calling what from where ðŸ˜…</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1747322554496,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$H2lNpn2xicBABjbwtuLKIirDy2HxFdpCg1-bhZGFIto"},
{"content":{"body":"akaster: there might be an issue around refactoring that better. It should prolly use parallel queue to ensure everyone is looking at the same user agent managed list of shared workers.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@akaster:serenityos.org\">akaster</a>: there might be an issue around refactoring that better. It should prolly use parallel queue to ensure everyone is looking at the same user agent managed list of shared workers.","m.mentions":{"user_ids":["@akaster:serenityos.org"]},"msgtype":"m.text"},"ts":1747327588093,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$9vpjhIzr9D-1Ab8F3nVyEbVm8pg4qSHPLeWrZpsqbT4"},
{"content":{"body":"akaster: I think I looked at doing that when we integrated with agent clusters, but there was something hairy about it.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@akaster:serenityos.org\">akaster</a>: I think I looked at doing that when we integrated with agent clusters, but there was something hairy about it.","m.mentions":{"user_ids":["@akaster:serenityos.org"]},"msgtype":"m.text"},"ts":1747327645008,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$la73wWJyaMFk9zPuBJXkJDsgbJJ2TKE5HdBfuteT17s"},
{"content":{"body":"It does mention that there's a parallel queue, but I don't know if I understand the implications of that related to cross-agent synchronization ","msgtype":"m.text"},"ts":1747329823133,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$LeIoNd9D2TDfwM_PFrmnyIn91123fHbPMuk_72tm7cM"}
]