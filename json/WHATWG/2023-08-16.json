[
{"content":{"body":"QQ - WHATWG is listed on the TPAC agenda -- is there an agenda? Is it likely to be well-attended?","msgtype":"m.text"},"ts":1692155570341,"senderName":"mnot","senderId":"@mnot:matrix.im","id":"$YZ0oZqFzkBfw6AudolUJ-_q7YMfdYhpVHVMDSfCNk74"},
{"content":{"body":" smaug: question re. https://github.com/whatwg/html/issues/9315#issuecomment-1680504091\nIn Gecko, when there is a rAF pending, would that block the first paint when coming back from bfcache?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: question re. https://github.com/whatwg/html/issues/9315#issuecomment-1680504091<br>In Gecko, when there is a rAF pending, would that block the first paint when coming back from bfcache?","msgtype":"m.text"},"ts":1692188699568,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$jsjg5wO9Hl6rRvTmCRSqeL2moIbqaNbzUuV3-WiKlBM"},
{"content":{"body":"there shouldn't be rAF pending when coming out of bfcache","msgtype":"m.text"},"ts":1692188741780,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$Ok01cEgEMTxo-r0dQKyrLf9FC2nN-vJpZGV6QnM31Sw"},
{"content":{"body":"can't you call `requestAnimationFrame` in pagehide?","format":"org.matrix.custom.html","formatted_body":"can't you call <code>requestAnimationFrame</code> in pagehide?","msgtype":"m.text"},"ts":1692188762736,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$IQ3OYXcBTQek-acia1_5wmv03_WXJbAJB5b8rLbvW6w"},
{"content":{"body":"sure, but the current rendering might be cached","msgtype":"m.text"},"ts":1692188803905,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$V64YEuvi4AwPGCFxzDQJKiNIu8u8l--yNcQgufoXLjg"},
{"content":{"body":"and shown to the user and then rAF called","msgtype":"m.text"},"ts":1692188823826,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$TwVj4h1parJHoC8gYnJzpX6m79wWPbPY_YMaeDQ2V6w"},
{"content":{"body":"ok, so it's sort of the same as what we're proposing with reveal","msgtype":"m.text"},"ts":1692188843302,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$12Hj_cOmI57aqUeLILuGVCKrQXl_imiZTMXrXvVcoys"},
{"content":{"body":"expect that reveal would force waiting for handling of reveal event before showing anything to the user","msgtype":"m.text"},"ts":1692188885595,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$ovTl5_nFBWp5AyavbMcUVAaeh_Mu_61YWffm2vh63Bg"},
{"content":{"body":"it's guaranteed to be called before the next rAF, and in the case of an actual view transition also guaranteed to be before the first paint - but that's because VT holds painting of the new document, not because of the reveal event itself","msgtype":"m.text"},"ts":1692188886633,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$zP8TRwzGAzOGXHK3_aaxxzWl9_NLRrgquaBRYTbPgbk"},
{"content":{"body":"what forces waiting is the fact that there is a view transition, not the reveal event.","msgtype":"m.text"},"ts":1692188902948,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$5pflShxNKWeenAgDjR1Ckl__2YbwLHsrU_UG3WCKUoc"},
{"content":{"body":"if there is a reveal event without a VT - show the cached image, fire the reveal event, fire the rAF callback if it exists, and continue your life","msgtype":"m.text"},"ts":1692188945943,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$3Ehk3PjE0RUNAaMK50FPKIEjoZE38ag__XsjetfTY94"}
]