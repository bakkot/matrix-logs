[
{"content":{"body":"bkardell: yeah, every web app still has a URL, and the thing at the end of the URL is straight to WASM\n\nThat is, the thing at the end of the URL is a single binary, a single executable, completely just object code — a single `.wasm` file/resource\n\nAnd so then for that app, all that the browser does is just to load that single binary into memory and execute it — execute it in the existing WebAssembly execution environment that all browsers already have.\n\nAnd that’s all in contrast to what browsers need to do now with the current HTML/DOM+JS+CSS stack, which is: browsers must load three different things into memory: the must a DOM tree/object, a JavaScript global object, and CSS cascade/Stylesheet object — and then also keep those three in sync through all the DOM mutations and everything","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@bkardell:igalia.com\">bkardell</a>: yeah, every web app still has a URL, and the thing at the end of the URL is straight to WASM</p>\n<p>That is, the thing at the end of the URL is a single binary, a single executable, completely just object code — a single <code>.wasm</code> file/resource</p>\n<p>And so then for that app, all that the browser does is just to load that single binary into memory and execute it — execute it in the existing WebAssembly execution environment that all browsers already have.</p>\n<p>And that’s all in contrast to what browsers need to do now with the current HTML/DOM+JS+CSS stack, which is: browsers must load three different things into memory: the must a DOM tree/object, a JavaScript global object, and CSS cascade/Stylesheet object — and then also keep those three in sync through all the DOM mutations and everything</p>\n","msgtype":"m.text"},"ts":1675299049249,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$qLQpKauRokTLGe1TxpKwrZEw8vMp01ZVwmagaipQJkg"},
{"content":{"body":"With this WABI alternative, there’s no DOM at all, there’s no JavaScript global at all, there’s CSS Stylesheet at all","msgtype":"m.text"},"ts":1675299160951,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$NpjDH3xFYrOoS-lmMp08UjalTf77AOOBVPGHBoW7LNc"},
{"content":{"body":"Instead, browsers load only the binary object code for the app, and just execute that","msgtype":"m.text"},"ts":1675299199969,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$EeNL4vhqN2Oi36iRBHmtLXDnLDpH3hNckPd_ef4Mg-M"},
{"content":{"body":"And the WABI binary is the equivalent of statically linked object code — that is, it has all of its dependencies already compiled in, and doesn’t need to link into anything else nor load anything else","msgtype":"m.text"},"ts":1675299326486,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$pSPXos5XdPlHM9Im2F06sEGomSoVQDNEBDRztlbDubs"},
{"content":{"body":"So a WABI binary can contain its own layout engine, and its own complete runtime","msgtype":"m.text"},"ts":1675299394611,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$_KStbtyiLSIDszQMew_eLUCVqqIKi9O3WQTQPlrtNek"},
{"content":{"body":"As far as that goes, one analogy is how server-side Java apps can be built today — which is that you use `jlink` to compiles a singole binary that embeds a JVM runtime and all the Java libraries that the app depends on (and so, users don’t need to have a Java runtime installed on their systems to run that app, because the app itself contains the runtime)","format":"org.matrix.custom.html","formatted_body":"As far as that goes, one analogy is how server-side Java apps can be built today — which is that you use <code>jlink</code> to compiles a singole binary that embeds a JVM runtime and all the Java libraries that the app depends on (and so, users don’t need to have a Java runtime installed on their systems to run that app, because the app itself contains the runtime)","msgtype":"m.text"},"ts":1675299605119,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$sGLnlFWHIDzMsD4HuOUXBtF3exyc0nCWdCq84HL49cQ"},
{"content":{"body":"But that analogy is not at all exact, because in that case the binary is an architecture-specific binary that can only run on a single platform — that is, a Windows binary, or a Linux binary, or a macOS binary.\n\nBut a WABI binary is not architecture-specific but instead is a portable binary in every way that WASM binaries already are","msgtype":"m.text"},"ts":1675299863402,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$iHbRn_2FKnUhPZkzZ87_64X_2tk5Q3hC-bMJx2Uz3jk"},
{"content":{"body":"I think the loading code that’s currently required in browsers for HTML/DOM loading and JS loading and CSS loading may be the single most complex part of browsers implementations, and may be one of the most fragile parts — in the sense that it’s prone to regressions and to new bugs getting introduced that are hard to troubleshoot","msgtype":"m.text"},"ts":1675300138019,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$5ljt-LE8tiPlKBs8_z4Ns-EQPuqH2VyzVPH-m3s67rE"}
]