[
{"content":{"body":"https://stackoverflow.com/questions/70553932/fetch-api-abort-doesnt-works-after-1st-cancel","msgtype":"m.text"},"ts":1641137505943,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$3uqcsom2Nc2ql_NI7G4qJxBxAjZ6CD4rJgo6CYLyoWs"},
{"content":{"body":"I’m trying to clone an `SVGRect` object using `structuredClone()`, but am getting _DataCloneError: The object could not be cloned` error_ — because, I guess, the `SVGRect` object isn’t serializable.","format":"org.matrix.custom.html","formatted_body":"I’m trying to clone an <code>SVGRect</code> object using <code>structuredClone()</code>, but am getting _DataCloneError: The object could not be cloned<code>error_ — because, I guess, the</code>SVGRect` object isn’t serializable.","msgtype":"m.text"},"ts":1641147962682,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$40LT2Jlze0GjjT3FDRRom3re6kDNwv6cstbdjqb0Kds"},
{"content":{"body":"But what part of it wouldn’t be serializable?","msgtype":"m.text"},"ts":1641147985558,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$D4Dt1Nz7ERT5Opimd6izEcd_UbO9QYE0h0x-gN7ieEY"},
{"content":{"body":"Specifically, what I have is an SVG `marker` element with a `viewBox` attribute, and I assign that to a `marker` variable, and when I log `console.log(marker.viewBox.baseVal), the browser logs this:\n```js\n[object SVGRect] {\n  height: 10,\n  width: 10,\n  x: 0,\n  y: 0\n```","format":"org.matrix.custom.html","formatted_body":"<p>Specifically, what I have is an SVG <code>marker</code> element with a <code>viewBox</code> attribute, and I assign that to a <code>marker</code> variable, and when I log `console.log(marker.viewBox.baseVal), the browser logs this:</p>\n<pre><code class=\"language-js\">[object SVGRect] {\n  height: 10,\n  width: 10,\n  x: 0,\n  y: 0\n</code></pre>\n","msgtype":"m.text"},"ts":1641148119384,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$5yUxIuVBQYEa6QY-8n0NNfce8HIsjaVzpS69GvCXmSc"},
{"content":{"body":"…but if I then do this:\n```js\nlet foo = self.structuredClone(marker.viewBox.baseVal);\n```\n…it fails and that browser logs that _DataCloneError: The object could not be cloned_ ","format":"org.matrix.custom.html","formatted_body":"<p>…but if I then do this:</p>\n<pre><code class=\"language-js\">let foo = self.structuredClone(marker.viewBox.baseVal);\n</code></pre>\n<p>…it fails and that browser logs that <em>DataCloneError: The object could not be cloned</em></p>\n","msgtype":"m.text"},"ts":1641148204258,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$uwIcId1d_0_XBtup-duCsZu6fYdsCfeZs08BVTlVZvc"},
{"content":{"body":" * …but if I then do this:\n```js\nlet foo = self.structuredClone(marker.viewBox.baseVal);\n```\n\n…it fails and that browser logs that _DataCloneError: The object could not be cloned_ error","format":"org.matrix.custom.html","formatted_body":" * <p>…but if I then do this:</p>\n<pre><code class=\"language-js\">let foo = self.structuredClone(marker.viewBox.baseVal);\n</code></pre>\n<p>…it fails and that browser logs that <em>DataCloneError: The object could not be cloned</em> error</p>\n","m.new_content":{"body":"…but if I then do this:\n```js\nlet foo = self.structuredClone(marker.viewBox.baseVal);\n```\n\n…it fails and that browser logs that _DataCloneError: The object could not be cloned_ error","format":"org.matrix.custom.html","formatted_body":"<p>…but if I then do this:</p>\n<pre><code class=\"language-js\">let foo = self.structuredClone(marker.viewBox.baseVal);\n</code></pre>\n<p>…it fails and that browser logs that <em>DataCloneError: The object could not be cloned</em> error</p>\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$uwIcId1d_0_XBtup-duCsZu6fYdsCfeZs08BVTlVZvc","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1641148211671,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$KmNwWQXImlpUqjg0e9q0TKVJUud7U2LxQcw4XPvLNIQ"},
{"content":{"body":" * …but if I then do this:\n```js\nlet foo = self.structuredClone(marker.viewBox.baseVal);\n```\n\n…it fails, and the browser logs that _DataCloneError: The object could not be cloned_ error","format":"org.matrix.custom.html","formatted_body":" * <p>…but if I then do this:</p>\n<pre><code class=\"language-js\">let foo = self.structuredClone(marker.viewBox.baseVal);\n</code></pre>\n<p>…it fails, and the browser logs that <em>DataCloneError: The object could not be cloned</em> error</p>\n","m.new_content":{"body":"…but if I then do this:\n```js\nlet foo = self.structuredClone(marker.viewBox.baseVal);\n```\n\n…it fails, and the browser logs that _DataCloneError: The object could not be cloned_ error","format":"org.matrix.custom.html","formatted_body":"<p>…but if I then do this:</p>\n<pre><code class=\"language-js\">let foo = self.structuredClone(marker.viewBox.baseVal);\n</code></pre>\n<p>…it fails, and the browser logs that <em>DataCloneError: The object could not be cloned</em> error</p>\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$uwIcId1d_0_XBtup-duCsZu6fYdsCfeZs08BVTlVZvc","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1641148222717,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$bCkyfgDqsFuwARhc2YQo9Tx9bqwVHJU8FRafDR1huiw"},
{"content":{"body":" * …but if I then do this:\n```js\nlet foo = structuredClone(marker.viewBox.baseVal);\n```\n\n…it fails, and the browser logs that _DataCloneError: The object could not be cloned_ error","format":"org.matrix.custom.html","formatted_body":" * <p>…but if I then do this:</p>\n<pre><code class=\"language-js\">let foo = structuredClone(marker.viewBox.baseVal);\n</code></pre>\n<p>…it fails, and the browser logs that <em>DataCloneError: The object could not be cloned</em> error</p>\n","m.new_content":{"body":"…but if I then do this:\n```js\nlet foo = structuredClone(marker.viewBox.baseVal);\n```\n\n…it fails, and the browser logs that _DataCloneError: The object could not be cloned_ error","format":"org.matrix.custom.html","formatted_body":"<p>…but if I then do this:</p>\n<pre><code class=\"language-js\">let foo = structuredClone(marker.viewBox.baseVal);\n</code></pre>\n<p>…it fails, and the browser logs that <em>DataCloneError: The object could not be cloned</em> error</p>\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$uwIcId1d_0_XBtup-duCsZu6fYdsCfeZs08BVTlVZvc","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1641148234791,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$0AgRT5ruNH_JooMGdTFtnfeY74Qp7-3HQ4M-XV5QeBs"},
{"content":{"body":" * I’m trying to clone an `SVGRect` object using `structuredClone()`, but am getting a *DataCloneError: The object could not be cloned`error* — because, I guess, the`SVGRect` object isn’t serializable.","format":"org.matrix.custom.html","formatted_body":" * I’m trying to clone an <code>SVGRect</code> object using <code>structuredClone()</code>, but am getting a *DataCloneError: The object could not be cloned<code>error* — because, I guess, the</code>SVGRect` object isn’t serializable.","m.new_content":{"body":"I’m trying to clone an `SVGRect` object using `structuredClone()`, but am getting a *DataCloneError: The object could not be cloned`error* — because, I guess, the`SVGRect` object isn’t serializable.","format":"org.matrix.custom.html","formatted_body":"I’m trying to clone an <code>SVGRect</code> object using <code>structuredClone()</code>, but am getting a *DataCloneError: The object could not be cloned<code>error* — because, I guess, the</code>SVGRect` object isn’t serializable.","msgtype":"m.text"},"m.relates_to":{"event_id":"$40LT2Jlze0GjjT3FDRRom3re6kDNwv6cstbdjqb0Kds","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1641148341213,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$qM4kOty5RO5-KHTpVNGXtdLFxhf0yWt4RjYc9IWq0Ow"},
{"content":{"body":" * I’m trying to clone an `SVGRect` object using `structuredClone()`, but am getting a _DataCloneError: The object could not be cloned_ error — because, I guess, the`SVGRect` object isn’t serializable.","format":"org.matrix.custom.html","formatted_body":" * I’m trying to clone an <code>SVGRect</code> object using <code>structuredClone()</code>, but am getting a <em>DataCloneError: The object could not be cloned</em> error — because, I guess, the<code>SVGRect</code> object isn’t serializable.","m.new_content":{"body":"I’m trying to clone an `SVGRect` object using `structuredClone()`, but am getting a _DataCloneError: The object could not be cloned_ error — because, I guess, the`SVGRect` object isn’t serializable.","format":"org.matrix.custom.html","formatted_body":"I’m trying to clone an <code>SVGRect</code> object using <code>structuredClone()</code>, but am getting a <em>DataCloneError: The object could not be cloned</em> error — because, I guess, the<code>SVGRect</code> object isn’t serializable.","msgtype":"m.text"},"m.relates_to":{"event_id":"$40LT2Jlze0GjjT3FDRRom3re6kDNwv6cstbdjqb0Kds","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1641148363697,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$vb1blVXQcDiWnFD08p0KbEmOg0pB7YFmkTRZuJH1tuY"},
{"content":{"body":"* …but if I then do this:\n```js\nlet foo = structuredClone(marker.viewBox.baseVal);\n```\n\n…it fails, and the browser logs that *DataCloneError: The object could not be cloned* error","m.new_content":{"body":"…but if I then do this:\n```js\nlet foo = structuredClone(marker.viewBox.baseVal);\n```\n\n…it fails, and the browser logs that *DataCloneError: The object could not be cloned* error","msgtype":"m.text"},"m.relates_to":{"event_id":"$uwIcId1d_0_XBtup-duCsZu6fYdsCfeZs08BVTlVZvc","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1641153542426,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$2ixbcS_Z67tavJPbTHSwm5fLl4BoCWXqONC-a0MkhPI"},
{"content":{"body":"Web APIs are by default not serializable, even with `DOMRect`, which is as close to a plain object as it gets","format":"org.matrix.custom.html","formatted_body":"Web APIs are by default not serializable, even with <code>DOMRect</code>, which is as close to a plain object as it gets","msgtype":"m.text"},"ts":1641156409240,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$c16V_fQRFsr_qGn83mbb6GyZ5iKcHMhui1uh5aKvd-M"},
{"content":{"body":"Maybe it'd be worth it to try and identify such interfaces","msgtype":"m.text"},"ts":1641156449258,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$WY7oaH4vJy8T52Eaeeugs7DhUGqumLLzzFsPfKjbSqw"},
{"content":{"body":"I see","msgtype":"m.text"},"ts":1641156926084,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$DPy4YINiQ1PKoaKvhlKPh28xRDmIMOd1VgFIKB9Gi1A"}
]