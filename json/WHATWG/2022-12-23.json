[
{"content":{"body":"> <@jugglinmike:matrix.org> annevk: Domenic I don't know if it matters much, but the return value of [parse a JSON string to an infra value](https://infra.spec.whatwg.org/#parse-a-json-string-to-an-infra-value) seems inconsistent to me. Rather than always returning a completion record, it returns an \"throw\" completion record on failure and a infra value on success\n\nreturning a throw completion record is the same as throwing an exception.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$m1n5g4PwKVQ2ebYoLYpDOYitO0_KtdhrSZ2anjKa-3Y?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@jugglinmike:matrix.org\">@jugglinmike:matrix.org</a><br><a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a> I don't know if it matters much, but the return value of <a href=\"https://infra.spec.whatwg.org/#parse-a-json-string-to-an-infra-value\">parse a JSON string to an infra value</a> seems inconsistent to me. Rather than always returning a completion record, it returns an \"throw\" completion record on failure and a infra value on success</blockquote></mx-reply>returning a throw completion record is the same as throwing an exception.","m.relates_to":{"m.in_reply_to":{"event_id":"$m1n5g4PwKVQ2ebYoLYpDOYitO0_KtdhrSZ2anjKa-3Y"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@jugglinmike:matrix.org> annevk: Domenic I don't know if it matters much, but the return value of [parse a JSON string to an infra value](https://infra.spec.whatwg.org/#parse-a-json-string-to-an-infra-value) seems inconsistent to me. Rather than always returning a completion record, it returns an \"throw\" completion record on failure and a infra value on success\n\nreturning a throw completion record is the same as throwing an exception.","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$m1n5g4PwKVQ2ebYoLYpDOYitO0_KtdhrSZ2anjKa-3Y?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@jugglinmike:matrix.org\">@jugglinmike:matrix.org</a><br><a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a> I don't know if it matters much, but the return value of <a href=\"https://infra.spec.whatwg.org/#parse-a-json-string-to-an-infra-value\">parse a JSON string to an infra value</a> seems inconsistent to me. Rather than always returning a completion record, it returns an \"throw\" completion record on failure and a infra value on success</blockquote></mx-reply>returning a throw completion record is the same as throwing an exception.","mimetype":"text/html"}]},"ts":1671758038572,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$sg2WNKDx9MsLYowYDXo8uwSNPdPlbSkkHKKnu6XGllE"},
{"content":{"body":"Domenic: Right. I was thinking about how it seems to return a completion record in some cases and an infra value in others. When I remembered the \"implicit normal completion\" section in ECMAScript, I thought that might explain things here, because if it also applies to the Infra spec, it would mean that the algorithm always returns a completion record.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: Right. I was thinking about how it seems to return a completion record in some cases and an infra value in others. When I remembered the &quot;implicit normal completion&quot; section in ECMAScript, I thought that might explain things here, because if it also applies to the Infra spec, it would mean that the algorithm always returns a completion record.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic: Right. I was thinking about how it seems to return a completion record in some cases and an infra value in others. When I remembered the \"implicit normal completion\" section in ECMAScript, I thought that might explain things here, because if it also applies to the Infra spec, it would mean that the algorithm always returns a completion record.","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: Right. I was thinking about how it seems to return a completion record in some cases and an infra value in others. When I remembered the &quot;implicit normal completion&quot; section in ECMAScript, I thought that might explain things here, because if it also applies to the Infra spec, it would mean that the algorithm always returns a completion record.","mimetype":"text/html"}]},"ts":1671763535272,"senderName":"jugglinmike","senderId":"@jugglinmike:matrix.org","id":"$CsW75IlYiTF3EveNPaqCNFK7hdFQQ8dZuGfmuXhldws"},
{"content":{"body":"It always either returns an Infra value or throws an exception.","msgtype":"m.text","org.matrix.msc1767.text":"It always either returns an Infra value or throws an exception."},"ts":1671763556683,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$2FkTbB9vVKHT1n4nYm04Beu7zEQ0FWE21pVlR09ebQE"},
{"content":{"body":"But an Infra value is not a completion record, right?","msgtype":"m.text","org.matrix.msc1767.text":"But an Infra value is not a completion record, right?"},"ts":1671763591505,"senderName":"jugglinmike","senderId":"@jugglinmike:matrix.org","id":"$AOXVfX00YneYVuCicwRYdj7BnuzQ0cxna32vj39GNPM"},
{"content":{"body":"Correct. It never returns a completion record.","msgtype":"m.text","org.matrix.msc1767.text":"Correct. It never returns a completion record."},"ts":1671763609579,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$UE7Bofq32gHvNgeaVrP2nOxmi0twfD9yVYLY6BJtLDc"},
{"content":{"body":"Oh, huh. So a throw completion is not a completion record?","msgtype":"m.text","org.matrix.msc1767.text":"Oh, huh. So a throw completion is not a completion record?"},"ts":1671763715491,"senderName":"jugglinmike","senderId":"@jugglinmike:matrix.org","id":"$gHV0tq9d7gXxsw3oF_Udty6DlWvfAvuyi7q6h9X6dGE"},
{"content":{"body":"That can't be it. \"throw completion refers to any Completion Record with a [[Type]] value of throw.\"","msgtype":"m.text","org.matrix.msc1767.text":"That can't be it. \"throw completion refers to any Completion Record with a [[Type]] value of throw.\""},"ts":1671763768035,"senderName":"jugglinmike","senderId":"@jugglinmike:matrix.org","id":"$htLhzU03dNScEweK0AvKo-RbpYnW64dpTLG0HVEEVQA"},
{"content":{"body":"Here's where I'm getting confused: I can't square the statements that \"[the algorithm] never returns a completion record\" and \"[the algorithm] always either returns an Infra value or throws an exception\", given that \"returning a throw completion record is the same as throwing an exception\"","msgtype":"m.text","org.matrix.msc1767.text":"Here's where I'm getting confused: I can't square the statements that \"[the algorithm] never returns a completion record\" and \"[the algorithm] always either returns an Infra value or throws an exception\", given that \"returning a throw completion record is the same as throwing an exception\""},"ts":1671763881062,"senderName":"jugglinmike","senderId":"@jugglinmike:matrix.org","id":"$2YqWeGzWsN7cprImLz2LJclBcgq1HwYe30mEyXQHMk4"},
{"content":{"body":"At Google is there a current Developer Advocate for WebAssembly? (I know it used to be Ingvar Stepanyan)","msgtype":"m.text","org.matrix.msc1767.text":"At Google is there a current Developer Advocate for WebAssembly? (I know it used to be Ingvar Stepanyan)"},"ts":1671767258195,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$QVt29fEnMYEi9_CMdVyvLgsMPVbZqXBd-C9ffqTzTh8"}
]