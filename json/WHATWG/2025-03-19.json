[
{"content":{"body":"Shannon Booth: I see you're implementing URLPattern. Would be curious if you agree with the test changes I propose in https://github.com/web-platform-tests/wpt/pull/51316","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@shannonbooth:matrix.org\">Shannon Booth</a>: I see you're implementing URLPattern. Would be curious if you agree with the test changes I propose in https://github.com/web-platform-tests/wpt/pull/51316","m.mentions":{"user_ids":["@shannonbooth:matrix.org"]},"msgtype":"m.text"},"ts":1742357413632,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$n36xNwlnDp3eirnYy9XNKxkHGq_VgYDPSccD6ds0bJw"},
{"content":{"body":"Indeed, I've been working on it a little when I can find time outside of day job. it makes the '{ \"protocol\": \"http\", \"port\": \"80 \" }' test fail for me, and the 'https://{sub.}?example{.com/}foo' one pass.\n\nWill investigate why it's different. Could very well be an issue on my side, I'm sitting at 328 pass 22 fail overall, there are some issues I still need to debug.","m.mentions":{},"msgtype":"m.text"},"ts":1742379288808,"senderName":"Shannon Booth","senderId":"@shannon-booth:matrix.org","id":"$I3zC9KVxxeyaAw1j4xHR8_xuYSYxu6SCWhWA44E_rbg"},
{"content":{"body":"* Indeed, I've been working on it a little when I can find time outside of day job. it makes the '{ \"protocol\": \"http\", \"port\": \"80 \" }' test fail for me, and the 'https://{sub.}?example{.com/}foo' one pass.\n\nWill investigate why it's different. Could very well be an issue on my side, I'm sitting at 335 pass 15 fail overall, there are some issues I still need to debug.","m.mentions":{},"m.new_content":{"body":"Indeed, I've been working on it a little when I can find time outside of day job. it makes the '{ \"protocol\": \"http\", \"port\": \"80 \" }' test fail for me, and the 'https://{sub.}?example{.com/}foo' one pass.\n\nWill investigate why it's different. Could very well be an issue on my side, I'm sitting at 335 pass 15 fail overall, there are some issues I still need to debug.","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$I3zC9KVxxeyaAw1j4xHR8_xuYSYxu6SCWhWA44E_rbg","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1742384618811,"senderName":"Shannon Booth","senderId":"@shannon-booth:matrix.org","id":"$IuA91OJfCwycj5pyefAKfPYClKoP0Aiq5njxU24169w"},
{"content":{"body":"I left a comment on your URL merge request with what seems to be a related case that is currently failing locally","m.mentions":{},"msgtype":"m.text"},"ts":1742386779040,"senderName":"Shannon Booth","senderId":"@shannon-booth:matrix.org","id":"$BNZornZ5BppoC_hRqD3nr_xVT-cJMSRr7hCweiZV3mo"},
{"content":{"body":"How does chromium track intermittently failing tests? Maybe I'm just using wrong keywords when trying to find some information from issues.chromium.org","m.mentions":{},"msgtype":"m.text"},"ts":1742401089167,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$aqFf9NTWv3g1Lhzp4RjVZCcIv7iIvcOz5cYnoG8bvMs"},
{"content":{"body":"annevk: you might know if webkit is doing something like that","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: you might know if webkit is doing something like that","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1742401155911,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$6atqm1nDT1bQ9wWvZtUDz-uhazctcoJf3q3LDCPUWXA"},
{"content":{"body":"The background is that it might be useful to see if some tests are failing in multiple engines - especially if the tests are written in a way where they rely on certain scheduling even though the spec doesn't require that.","m.mentions":{},"msgtype":"m.text"},"ts":1742401251107,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$WTJQLSAs6tsQdV77vqleHFCmwf2sE6QrSQGlDbbgYiE"},
{"content":{"body":"Shannon Booth: cool, thanks for taking a look.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@shannon-booth:matrix.org\">Shannon Booth</a>: cool, thanks for taking a look.","m.mentions":{"user_ids":["@shannon-booth:matrix.org"]},"msgtype":"m.text"},"ts":1742415655008,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$SIIkCHItgSyOba1uhmlkP9iKmKpOFpqt3Z52k8fGDx0"},
{"content":{"body":"smaug: in LayoutTests there's multiple TestExpectations files (one global and then one per platform) where we track skipping tests for flaky reasons. No standardized annotation I'm afraid, but if you have a file name it should be easyish to find there.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: in LayoutTests there's multiple TestExpectations files (one global and then one per platform) where we track skipping tests for flaky reasons. No standardized annotation I'm afraid, but if you have a file name it should be easyish to find there.","m.mentions":{"user_ids":["@smaug:mozilla.org"]},"msgtype":"m.text"},"ts":1742415734210,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$_TPUlA5J65JAzzu0NyacenXjT5epTBL6g2iHVbawNmM"},
{"content":{"body":"smaug: https://github.com/WebKit/WebKit/blob/main/LayoutTests/TestExpectations (note that some of the things that are globally skipped are enabled on specific ports, we use that for certain types of form control tests for instance)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: https://github.com/WebKit/WebKit/blob/main/LayoutTests/TestExpectations (note that some of the things that are globally skipped are enabled on specific ports, we use that for certain types of form control tests for instance)","m.mentions":{"user_ids":["@smaug:mozilla.org"]},"msgtype":"m.text"},"ts":1742415818820,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$LqFX4Pccq48H4D7apJVsXiR-4Xw5Jx-iyI0gtxalfxI"},
{"content":{"body":"> <@smaug:mozilla.org> How does chromium track intermittently failing tests? Maybe I'm just using wrong keywords when trying to find some information from issues.chromium.org\n\nIf you search for the filename of the test, it will show up if it's in TestExpectations ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$aqFf9NTWv3g1Lhzp4RjVZCcIv7iIvcOz5cYnoG8bvMs?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@smaug:mozilla.org\">@smaug:mozilla.org</a><br />How does chromium track intermittently failing tests? Maybe I'm just using wrong keywords when trying to find some information from issues.chromium.org</blockquote></mx-reply>If you search for the filename of the test, it will show up if it's in TestExpectations","m.relates_to":{"m.in_reply_to":{"event_id":"$aqFf9NTWv3g1Lhzp4RjVZCcIv7iIvcOz5cYnoG8bvMs"}},"msgtype":"m.text"},"ts":1742421942801,"senderName":"jarhar","senderId":"@jarhar:matrix.org","id":"$-jO1IxF8RFavyCUELr-bY68obEU1okTexSxdpV651WM"},
{"content":{"body":"On source.chromium.org","msgtype":"m.text"},"ts":1742421953558,"senderName":"jarhar","senderId":"@jarhar:matrix.org","id":"$iMfKzgFqNPW4HAWitCO8IrazkUsnO7iDW0K_vk_3lKo"},
{"content":{"body":"ah, thanks","m.mentions":{},"msgtype":"m.text"},"ts":1742421965811,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$hVIgLMuf0rA1VlQaYWb8PMlg8Q0AkP1fromoyWnrqXw"},
{"content":{"body":"jarhar: and there is something to hint about intermittent issues?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jarhar:matrix.org\">jarhar</a>: and there is something to hint about intermittent issues?","m.mentions":{"user_ids":["@jarhar:matrix.org"]},"msgtype":"m.text"},"ts":1742421979528,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$iz0Nam5nqByHDIwEhKFCsEccscznfbCAdWPa7ajCOTc"},
{"content":{"body":"Perhaps [ Failure Pass ] ?","m.mentions":{},"msgtype":"m.text"},"ts":1742422025578,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$LhzoCTUVPD0m29FklrnmRIaJpudO1yYPhQ50sHMClvk"},
{"content":{"body":"If the test is flaky then it is almost certainly listed in TestExpectations. If it's in TestExpectations anywhere, then we most likely ignore the test basically","msgtype":"m.text"},"ts":1742422044971,"senderName":"jarhar","senderId":"@jarhar:matrix.org","id":"$skagh87DndJfFQzS0Ta5Xnj88WDTPyooU_ctdqYBJdA"},
{"content":{"body":"Failure pass at the end of it means that we accept failure or pass results from the test","msgtype":"m.text"},"ts":1742422073385,"senderName":"jarhar","senderId":"@jarhar:matrix.org","id":"$pQcmLyVULBjV0uv28T8U3h07bBi5w8H2Di5dP87v9gI"},
{"content":{"body":"Apparently \"pass\" is implied though which is unfortunate","msgtype":"m.text"},"ts":1742422086962,"senderName":"jarhar","senderId":"@jarhar:matrix.org","id":"$LmY_v0-ENAvPhdyFbsy9TEE3Zipr46IX6fLBrWB02Og"},
{"content":{"body":"Timeout is another thing that can go in the square brackets","msgtype":"m.text"},"ts":1742422098861,"senderName":"jarhar","senderId":"@jarhar:matrix.org","id":"$kwES2mH_1Z483woEZof3LyN1qivFyDZ0jWe9Ss4SgL4"},
{"content":{"body":"If the test is failing consistently and isn't flaky or timing out, then instead of being in TestExpectations we might have another file next to it that ends with -expected.txt which contains the failing test cases/assertions","msgtype":"m.text"},"ts":1742422155261,"senderName":"jarhar","senderId":"@jarhar:matrix.org","id":"$1F80oUtMvJk_zuD6KC4EZMJJ_rurWaJaFV7tQoyyj-E"},
{"content":{"body":"ok, and [one](https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/web_tests/TestExpectations;l=8271?q=beforematch-scroll-to-text-fragment.html) of the tests I was looking at earlier today is there ðŸ™‚ ","format":"org.matrix.custom.html","formatted_body":"ok, and <a href=\"https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/web_tests/TestExpectations;l=8271?q=beforematch-scroll-to-text-fragment.html\">one</a> of the tests I was looking at earlier today is there ðŸ™‚","m.mentions":{},"msgtype":"m.text"},"ts":1742422181085,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$dCM1Nkl1xtFlNvxrz3opg8YIxC_O3oEusTiwT1ddPiw"},
{"content":{"body":"Great! Let me know if you want me to run the test for you to see what it prints out or how flaky it is","msgtype":"m.text"},"ts":1742422242377,"senderName":"jarhar","senderId":"@jarhar:matrix.org","id":"$c13HV5o6GI0Xy60xbap5AgRun2P0U6sRagN6R1k57rE"},
{"content":{"body":"we're fixing that test, well jjaschke is ","format":"org.matrix.custom.html","formatted_body":"we're fixing that test, well <a href=\"https://matrix.to/#/@jjaschke:mozilla.org\">jjaschke</a> is","m.mentions":{"user_ids":["@jjaschke:mozilla.org"]},"msgtype":"m.text"},"ts":1742422282892,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$9GgmqImck1JimJhEsJny19wErBh6vqEUVkaWkpgukLQ"},
{"content":{"body":"it is part of interop-25 though, but it expects certain scheduling which isn't defined, so need to make it less flaky ","m.mentions":{},"msgtype":"m.text"},"ts":1742422472585,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$_fHYt1y9f17sOVx6w4hXGrnvMvFgAumVIPDcVp3Roo4"},
{"content":{"body":"smaug: FYI: https://github.com/whatwg/xhr/pull/394#issuecomment-2735275248","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: FYI: https://github.com/whatwg/xhr/pull/394#issuecomment-2735275248","m.mentions":{"user_ids":["@smaug:mozilla.org"]},"msgtype":"m.text"},"ts":1742424225597,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$72FRsj8_JuhDuBzIiDFmbHVtkkO1n5hp_G5E5GVcqk4"},
{"content":{"body":"but the binding changes should be enough, I think. The relevant c++ is generated from the bindings","m.mentions":{},"msgtype":"m.text"},"ts":1742424343621,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$iZbUoEixMDcMONqGotfaKYJReht-meXWao9RjjHEtdQ"},
{"content":{"body":"* but the binding changes should be enough, I think. The relevant c++ is generated from the webidl interface","m.mentions":{},"m.new_content":{"body":"but the binding changes should be enough, I think. The relevant c++ is generated from the webidl interface","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$iZbUoEixMDcMONqGotfaKYJReht-meXWao9RjjHEtdQ","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1742424377513,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$tjmAB3KO1XT3EWGERfRktqmuj6fnLRTZapVdNVGuQNU"},
{"content":{"body":"smaug: including the internal fields to store the data? Because if those are `unsigned long long` as they are in WebKit, you'll get rounding where you should not have rounding, and such.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: including the internal fields to store the data? Because if those are <code>unsigned long long</code> as they are in WebKit, you'll get rounding where you should not have rounding, and such.","m.mentions":{"user_ids":["@smaug:mozilla.org"]},"msgtype":"m.text"},"ts":1742424403025,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$IxmO7M8TsWAtWVKuSohfIfaFVSW2MA4EhIfGFasGYPU"},
{"content":{"body":"It'd be pretty neat if you generated that much though. Might be possible for Events...","m.mentions":{},"msgtype":"m.text"},"ts":1742424466169,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$JgPLQWADqCg0Wq9S5jcp82v0hT1AMZ_VxYsDYP5QayY"},
{"content":{"body":"yeah, there is event specific codegen, works with normal kinds of events","m.mentions":{},"msgtype":"m.text"},"ts":1742424522128,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$FLOFGeQb1cZh0WU9pv3P9KuYZl_V7A3ODl5TWLbFJs4"},
{"content":{"body":"Ah okay, very nice.","m.mentions":{},"msgtype":"m.text"},"ts":1742424551148,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Gx7iFPfJRGg-YY1S3nbDlXZK75OQUuH1qgF6opAhoEU"},
{"content":{"body":"(and searchfox can find the generated [code](https://searchfox.org/mozilla-central/source/__GENERATED__/dist/include/mozilla/dom/ProgressEvent.h))","format":"org.matrix.custom.html","formatted_body":"(and searchfox can find the generated <a href=\"https://searchfox.org/mozilla-central/source/__GENERATED__/dist/include/mozilla/dom/ProgressEvent.h\">code</a>)","m.mentions":{},"msgtype":"m.text"},"ts":1742424591905,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$HhfRTqH-Jy8ia_n5Khp193oSj6cDM9du6wAPAydWtzc"}
]