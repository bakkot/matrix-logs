[
{"content":{"body":"TabAtkins: Regarding https://github.com/w3c/csswg-drafts/issues/12054#issuecomment-3837656822 I’m trying to figure out what needs to be done — what people want to be done.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@tabatkins:matrix.org\">TabAtkins</a>: Regarding https://github.com/w3c/csswg-drafts/issues/12054#issuecomment-3837656822 I’m trying to figure out what needs to be done&nbsp;— what people want to be done.","m.mentions":{"user_ids":["@tabatkins:matrix.org"]},"msgtype":"m.text"},"ts":1770084613437,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$EJXmRzqlqF1XwhYMDaGnQTD3FfTzwKqUhapQKoeNVIM"},
{"content":{"body":"Question: It seems like all the auto-publishing plumbing that Andreu had originally set up has maybe subsequently been superseded by tooling you set in since then?","m.mentions":{},"msgtype":"m.text"},"ts":1770084714621,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$Kwf67DecnQPtaoLVzjTgJAEDQmwWLlNFGQMaUczCp9s"},
{"content":{"body":"And to make auto-publishing work for the FXTF and Houdini stuff, I could replicate the workflow y’all currently have set up for the w3c/csswg-drafts repo?","m.mentions":{},"msgtype":"m.text"},"ts":1770084779596,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$0i1uY-kgq9LoJYjkP-AgXlJac6wKjzacbDAYXuyntMY"},
{"content":{"body":"waves to Andreu Botella too","format":"org.matrix.custom.html","formatted_body":"waves to <a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a> too","m.mentions":{"user_ids":["@abotella:igalia.com"]},"msgtype":"m.emote"},"ts":1770084798476,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$-GXNhGPk7kWGJkx6txZOwc1teKEG7Og5Yf98HsYCFAU"},
{"content":{"body":"Andreu Botella: I don’t wanna bug you with stuff if you’re swamped and I can manage to get it working without you needing take any time away from what you’re working on n","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a>: I don’t wanna bug you with stuff if you’re swamped and I can manage to get it working without you needing take any time away from what you’re working on n","m.mentions":{"user_ids":["@abotella:igalia.com"]},"msgtype":"m.text"},"ts":1770084858055,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$mEgAcDoq7t3YZiFqzd81kNiqaEKkY3X8UGKq_qfgyg4"},
{"content":{"body":"* Andreu Botella: I don’t wanna bug you with stuff if you’re swamped and I can manage to get it working without you needing take any time away from what you’re working on","format":"org.matrix.custom.html","formatted_body":"* <a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a>: I don’t wanna bug you with stuff if you’re swamped and I can manage to get it working without you needing take any time away from what you’re working on","m.mentions":{},"m.new_content":{"body":"Andreu Botella: I don’t wanna bug you with stuff if you’re swamped and I can manage to get it working without you needing take any time away from what you’re working on","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a>: I don’t wanna bug you with stuff if you’re swamped and I can manage to get it working without you needing take any time away from what you’re working on","m.mentions":{"user_ids":["@abotella:igalia.com"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$mEgAcDoq7t3YZiFqzd81kNiqaEKkY3X8UGKq_qfgyg4","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1770084860984,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$X8C6sInL1wRsMWF1fMyepXz9XxIPO_8U8yL6qXjAhco"},
{"content":{"body":"I’m gonna need to step away now from my machine for the next 90 minutes to 2 hours anyway — but I’ll get back to this after that","m.mentions":{},"msgtype":"m.text"},"ts":1770084933091,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$qClPFR0MOfzreeg8HxYatOGgyL6axVTP-a5aEsirkLM"},
{"content":{"body":"However, if anybody else has more clear idea of what exactly the problems are that need to be solved, and you want to take a shot at doing the set up to fix them, I wouldn’t mind at all if somebody beat me to it… ","m.mentions":{},"msgtype":"m.text"},"ts":1770085001934,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$fSlgJW2f3emDHjTG7Ssvynjf_J9kI8HMNaq_xBgbiQU"},
{"content":{"body":"well, currently the index of specs is still handled by plins's server, and eventually we'd want to get that also generated by the gh actions workflow","m.mentions":{},"msgtype":"m.text"},"ts":1770085246135,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$WUy8CF75di4EM9aloW20RzojtqhUegLk1BsniExq1ok"},
{"content":{"body":"OK, can definitely do that — probably by end-of-day my time","m.mentions":{},"msgtype":"m.text"},"ts":1770085285255,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$GlU8cPUV_Az78yERnMGxXWh1dGPnILGLv-t93kxm5Q4"},
{"content":{"body":"at first bin/build-index.py would build an index, as well as create level-less shortcuts (e.g. css-fonts for whichever the current level is)","m.mentions":{},"msgtype":"m.text"},"ts":1770085361544,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$rrRvCOSW24SueiM4acnTFcAYCd2eiNJ2HoIQYcqJeQg"},
{"content":{"body":"and for that it'd use various heuristics to figure out which is the current work, with a list of exceptions","m.mentions":{},"msgtype":"m.text"},"ts":1770085382796,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$K8VGznXHmSOQkHSJBUChPGO1a2vsO38xWGJNM-Kex8U"},
{"content":{"body":"in my repo there's still a version of that that does generate an index, although it looks quite different from the one in plins's server","m.mentions":{},"msgtype":"m.text"},"ts":1770085424873,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$_c-nEU4f74CzqW3DbH9pavtyl-ax94LzbTia1mbTsh4"},
{"content":{"body":"OK, I’ll take a look","m.mentions":{},"msgtype":"m.text"},"ts":1770085505603,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$MWde3golaD_pxZSUYo2dgTjDBLculhGZiVURQAM8HAI"},
{"content":{"body":"the *“various heuristics”* is clearly the hard part…","format":"org.matrix.custom.html","formatted_body":"the <em>“various heuristics”</em> is clearly the hard part…","m.mentions":{},"msgtype":"m.text"},"ts":1770085530127,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$7cyJjbAaGMX1poC02P8Sf81bO_F5BZ-_TfJ7iCEyMCw"},
{"content":{"body":"for the csswg-drafts repor, there are corresponding _“various heuristics”_ captured in existing build stuff there?","format":"org.matrix.custom.html","formatted_body":"for the csswg-drafts repor, there are corresponding <em>“various heuristics”</em> captured in existing build stuff there?","m.mentions":{},"msgtype":"m.text"},"ts":1770085614435,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$swp-A1ru_WoH5aF1kMmcQ1f5zoFgKcTT3ejr6n_Ner0"},
{"content":{"body":"I mean, I just want something I could use as a model for the *“various heuristics”* for the other repos","format":"org.matrix.custom.html","formatted_body":"I mean, I just want something I could use as a model for the <em>“various heuristics”</em> for the other repos","m.mentions":{},"msgtype":"m.text"},"ts":1770085666259,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$5V3HckW7y80uFJ0zHX5rxNE-nGw07KdrCJbMsJI4Gg4"},
{"content":{"body":"okay, so first I'm trying to get the shortname from bikeshed metadata, and i'm hardcoding some cases where it's wrong (where the shortname includes the level): https://github.com/w3c/csswg-drafts/blob/main/bin/build-index.py#L68-L84","m.mentions":{},"msgtype":"m.text"},"ts":1770085815815,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$RbPsUagclzUrYYOqiu8YJi6Pcvqz2vJEiwfNbGBRSvI"},
{"content":{"body":"there's something similar for html-only specs in `get_html_spec_metadata`","format":"org.matrix.custom.html","formatted_body":"there's something similar for html-only specs in <code>get_html_spec_metadata</code>","m.mentions":{},"msgtype":"m.text"},"ts":1770085846359,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$FsGiOfT7pOsZ4aByOqRvR_IQtwgzPJ4bbNUCfI8q-0k"},
{"content":{"body":"and in https://github.com/w3c/csswg-drafts/blob/main/bin/build-index.py#L171-L193 I'm grouping specs by their shortname, and for each shortname, i'm picking the earliest level that isn't marked as complete – or otherwise the highest level","m.mentions":{},"msgtype":"m.text"},"ts":1770086001847,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$93rcRc8dxBMbCVw00Y8c41TAU3lT201FBZvSwbe5fjc"},
{"content":{"body":"and there's the list of exceptions for cases where that's wrong","m.mentions":{},"msgtype":"m.text"},"ts":1770086024056,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$su6fKpoJ6AFJsWqQwIHf4yMMjSi5a-wtHsvxJDO666A"},
{"content":{"body":"in the august F2F folks mentioned that (at least for csswg-drafts) you can find out which level is the current work based on the github issue labels","m.mentions":{},"msgtype":"m.text"},"ts":1770086103492,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$pdL697ZmWYf-Ww3NuOdxW5VoqIhDoG0IfR28E9XppYI"},
{"content":{"body":"but it'd be better to maintain that as a json in the repo or something","m.mentions":{},"msgtype":"m.text"},"ts":1770086111815,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$Qi4HytxsMdj4xXtbgie-1h3oQkXB2SerTQFJCOjnhS8"},
{"content":{"body":"Andreu Botella: got it all, thanks — that’s enough for me to work with","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a>: got it all, thanks — that’s enough for me to work with","m.mentions":{"user_ids":["@abotella:igalia.com"]},"msgtype":"m.text"},"ts":1770093857304,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$qHN-8Z1RFb-oifsRNunjLiHfA7LFZy30ChSCYT2g01w"},
{"content":{"body":"Incidentally, I’ve noticed that the toolchain seems to still be set up to add some client-side script to the output HTML to make the w3c.github.io/csswg-drafts URLs redirect to drafts.csswg.org URLs","m.mentions":{},"msgtype":"m.text"},"ts":1770096391826,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$Ttvc1fD-xejpkswcFZao3YOgkxciuXhHYO2rJAnmGA0"},
{"content":{"body":"…but it apparently is no longer working, and I’ve tried to figure out why, but I haven’t been able to figure it out","m.mentions":{},"msgtype":"m.text"},"ts":1770096437353,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$_V-oayYFAQbMN4SINTbHaJD9f7IbJONIHbRz-tVKGE4"},
{"content":{"body":"But I’m not complaining. We shouldn’t be doing those redirects, so I’m glad it’s turned off … somewhere … or else, broken.","m.mentions":{},"msgtype":"m.text"},"ts":1770096495371,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$fwcE5bUBt3_t9wA9Ni8gr1gtXXpZiONFOyx7FNHxl08"},
{"content":{"body":"If something broke it accidentally, then thank god for that happy accident.","m.mentions":{},"msgtype":"m.text"},"ts":1770096518514,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$iHHcgytO3M-B02_R1Os0eQi540XBoStlLDk50QPONJk"},
{"content":{"body":"TabAtkins: Question: does `--md-Text-Macro=\"BUILTBYGITHUBCI foo\"` have any purpose other than making that redirect happen? (when it was actually working/enabled)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@tabatkins:matrix.org\">TabAtkins</a>: Question: does <code>--md-Text-Macro=\"BUILTBYGITHUBCI foo\"</code> have any purpose other than making that redirect happen? (when it was actually working/enabled)","m.mentions":{"user_ids":["@tabatkins:matrix.org"]},"msgtype":"m.text"},"ts":1770098242131,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$fEnGKFg-sLLUymn6wN0TKDNSmfSUpHy_bIEs9qDhNnM"},
{"content":{"body":"ok wait, only now do I notice that y’all got all the FXTF drafts moved to the csswg-drafts repo? And you’re redirecting all the old URLs?  And if so, then it gets me back to my original question of, trying to figure out what actual problem people commenting in https://github.com/w3c/csswg-drafts/issues/12054#issuecomment-3837656822 want solved","m.mentions":{},"msgtype":"m.text"},"ts":1770099486880,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$6Kd7dacko6ZzqenAAtVLM9FVv6zLlwzgaPxKiPhEJ30"}
]