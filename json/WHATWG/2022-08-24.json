[
{"content":{"body":"Kaiido, Jake Archibald I've just found out that even this static HTML `<details open>` *already* fires an event.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@kaiido:matrix.org\">Kaiido</a>, <a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a> I've just found out that even this static HTML <code>&lt;details open&gt;</code> <em>already</em> fires an event.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Kaiido, Jake Archibald I've just found out that even this static HTML `<details open>` *already* fires an event.","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@kaiido:matrix.org\">Kaiido</a>, <a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a> I've just found out that even this static HTML <code>&lt;details open&gt;</code> <em>already</em> fires an event.","mimetype":"text/html"}]},"ts":1661335132698,"senderName":"kraftwer1","senderId":"@kraftwer1:matrix.org","id":"$aNnbZbcn0_1HTzgSV5nhsHf93JY2QumGyEFUtBrKp20"},
{"content":{"body":"Jake Archibald: do you know of any other HTML elements that fire events on programmatic changes? I'm specifically asking for elements, not \"non-element\" APIs like Navigation, LocalStorage, etc.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a>: do you know of any other HTML elements that fire events on programmatic changes? I'm specifically asking for elements, not &quot;non-element&quot; APIs like Navigation, LocalStorage, etc.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Jake Archibald: do you know of any other HTML elements that fire events on programmatic changes? I'm specifically asking for elements, not \"non-element\" APIs like Navigation, LocalStorage, etc.","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a>: do you know of any other HTML elements that fire events on programmatic changes? I'm specifically asking for elements, not &quot;non-element&quot; APIs like Navigation, LocalStorage, etc.","mimetype":"text/html"}]},"ts":1661335192395,"senderName":"kraftwer1","senderId":"@kraftwer1:matrix.org","id":"$56LPSEyrP2jG3pyxGpzcBCX3NVaG-oa5r_SHUHYRSlU"},
{"content":{"body":"I suppose I will have to look at engine compat anyway regarding https://github.com/web-platform-tests/wpt/blob/master/FileAPI/url/sandboxed-iframe.html , but surely it's not OK for a test that doesn't specifically test how srcless iframe behaves to depend on what happens to happen between the iframe insertion and the subsequent script execution.","msgtype":"m.text","org.matrix.msc1767.text":"I suppose I will have to look at engine compat anyway regarding https://github.com/web-platform-tests/wpt/blob/master/FileAPI/url/sandboxed-iframe.html , but surely it's not OK for a test that doesn't specifically test how srcless iframe behaves to depend on what happens to happen between the iframe insertion and the subsequent script execution."},"ts":1661335406465,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$Wf3OY88jWeaJDdfFDNFSaBFSCzgbMT-pyE4GPAPV13A"},
{"content":{"body":"kraftwer1: `close` on `<dialog>`. `load` and `error` on lots of elements. Lots of events on `<video>` and `<audio>`. Even more fire events in response to method calls, like `focus()`, `blur()`, `click()`, selection changes etc etc.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@kraftwer1:matrix.org\">kraftwer1</a>: <code>close</code> on <code>&lt;dialog&gt;</code>. <code>load</code> and <code>error</code> on lots of elements. Lots of events on <code>&lt;video&gt;</code> and <code>&lt;audio&gt;</code>. Even more fire events in response to method calls, like <code>focus()</code>, <code>blur()</code>, <code>click()</code>, selection changes etc etc.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"kraftwer1: `close` on `<dialog>`. `load` and `error` on lots of elements. Lots of events on `<video>` and `<audio>`. Even more fire events in response to method calls, like `focus()`, `blur()`, `click()`, selection changes etc etc.","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@kraftwer1:matrix.org\">kraftwer1</a>: <code>close</code> on <code>&lt;dialog&gt;</code>. <code>load</code> and <code>error</code> on lots of elements. Lots of events on <code>&lt;video&gt;</code> and <code>&lt;audio&gt;</code>. Even more fire events in response to method calls, like <code>focus()</code>, <code>blur()</code>, <code>click()</code>, selection changes etc etc.","mimetype":"text/html"}]},"ts":1661336535267,"senderName":"Jake Archibald","senderId":"@jakea:matrix.org","id":"$2GjXIvUV47JAX8_0YgGFhLkiBgJXtKeb3tEDsyHLiT8"},
{"content":{"body":"Indeed, I think almost all events on elements are in response to programmatic changes, with the exception of `<input>` and other form controls which have very unusual behavior.","format":"org.matrix.custom.html","formatted_body":"Indeed, I think almost all events on elements are in response to programmatic changes, with the exception of <code>&lt;input&gt;</code> and other form controls which have very unusual behavior.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Indeed, I think almost all events on elements are in response to programmatic changes, with the exception of `<input>` and other form controls which have very unusual behavior.","mimetype":"text/plain"},{"body":"Indeed, I think almost all events on elements are in response to programmatic changes, with the exception of <code>&lt;input&gt;</code> and other form controls which have very unusual behavior.","mimetype":"text/html"}]},"ts":1661337780776,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$Tgmm_MVt46pjXoq9P-DumCFDtZqwsNk7IvE9UJ9R5Dg"},
{"content":{"body":"> <@hsivonen:mozilla.org> I suppose I will have to look at engine compat anyway regarding https://github.com/web-platform-tests/wpt/blob/master/FileAPI/url/sandboxed-iframe.html , but surely it's not OK for a test that doesn't specifically test how srcless iframe behaves to depend on what happens to happen between the iframe insertion and the subsequent script execution.\n\nIt just seems like the test is assuming some basic conformance to other areas  of specs? Similar to how it assumes that, e.g., JS syntax works as specced. I don't see anything \"not OK\" here; it's not like the test is assuming some specific implementation-defined behavior.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$Wf3OY88jWeaJDdfFDNFSaBFSCzgbMT-pyE4GPAPV13A?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">@hsivonen:mozilla.org</a><br>I suppose I will have to look at engine compat anyway regarding https://github.com/web-platform-tests/wpt/blob/master/FileAPI/url/sandboxed-iframe.html , but surely it&#39;s not OK for a test that doesn&#39;t specifically test how srcless iframe behaves to depend on what happens to happen between the iframe insertion and the subsequent script execution.</blockquote></mx-reply>It just seems like the test is assuming some basic conformance to other areas  of specs? Similar to how it assumes that, e.g., JS syntax works as specced. I don't see anything &quot;not OK&quot; here; it's not like the test is assuming some specific implementation-defined behavior.","m.relates_to":{"m.in_reply_to":{"event_id":"$Wf3OY88jWeaJDdfFDNFSaBFSCzgbMT-pyE4GPAPV13A"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@hsivonen:mozilla.org> I suppose I will have to look at engine compat anyway regarding https://github.com/web-platform-tests/wpt/blob/master/FileAPI/url/sandboxed-iframe.html , but surely it's not OK for a test that doesn't specifically test how srcless iframe behaves to depend on what happens to happen between the iframe insertion and the subsequent script execution.\n\nIt just seems like the test is assuming some basic conformance to other areas  of specs? Similar to how it assumes that, e.g., JS syntax works as specced. I don't see anything \"not OK\" here; it's not like the test is assuming some specific implementation-defined behavior.","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$Wf3OY88jWeaJDdfFDNFSaBFSCzgbMT-pyE4GPAPV13A?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">@hsivonen:mozilla.org</a><br>I suppose I will have to look at engine compat anyway regarding https://github.com/web-platform-tests/wpt/blob/master/FileAPI/url/sandboxed-iframe.html , but surely it&#39;s not OK for a test that doesn&#39;t specifically test how srcless iframe behaves to depend on what happens to happen between the iframe insertion and the subsequent script execution.</blockquote></mx-reply>It just seems like the test is assuming some basic conformance to other areas  of specs? Similar to how it assumes that, e.g., JS syntax works as specced. I don't see anything &quot;not OK&quot; here; it's not like the test is assuming some specific implementation-defined behavior.","mimetype":"text/html"}]},"ts":1661337960233,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$WuMCf4o8eaeSGL9fA0lvxn55M5GN26kNTxV8BPEyShU"},
{"content":{"body":"> <@domenicdenicola:matrix.org> It just seems like the test is assuming some basic conformance to other areas  of specs? Similar to how it assumes that, e.g., JS syntax works as specced. I don't see anything \"not OK\" here; it's not like the test is assuming some specific implementation-defined behavior.\n\nYeah, on second look, it doesn't seem to matter if the event loop spins between the iframe and the script.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$WuMCf4o8eaeSGL9fA0lvxn55M5GN26kNTxV8BPEyShU?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br>It just seems like the test is assuming some basic conformance to other areas  of specs? Similar to how it assumes that, e.g., JS syntax works as specced. I don't see anything \"not OK\" here; it's not like the test is assuming some specific implementation-defined behavior.</blockquote></mx-reply>Yeah, on second look, it doesn't seem to matter if the event loop spins between the iframe and the script.","m.relates_to":{"m.in_reply_to":{"event_id":"$WuMCf4o8eaeSGL9fA0lvxn55M5GN26kNTxV8BPEyShU"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@domenicdenicola:matrix.org> It just seems like the test is assuming some basic conformance to other areas  of specs? Similar to how it assumes that, e.g., JS syntax works as specced. I don't see anything \"not OK\" here; it's not like the test is assuming some specific implementation-defined behavior.\n\nYeah, on second look, it doesn't seem to matter if the event loop spins between the iframe and the script.","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$WuMCf4o8eaeSGL9fA0lvxn55M5GN26kNTxV8BPEyShU?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br>It just seems like the test is assuming some basic conformance to other areas  of specs? Similar to how it assumes that, e.g., JS syntax works as specced. I don't see anything \"not OK\" here; it's not like the test is assuming some specific implementation-defined behavior.</blockquote></mx-reply>Yeah, on second look, it doesn't seem to matter if the event loop spins between the iframe and the script.","mimetype":"text/html"}]},"ts":1661338021801,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$Ecx_j_RK0_9yp0Pw20peNpKF2mLJTOR757iiatLj2BY"},
{"content":{"body":"Domenic Jake Archibald Thanks!\n1. Any idea where this \"very unusual behavior\" form elements behavior is coming from? Was it really to prevent potential endless loops, like Kaiido suggested? Or was it simply personal taste?\n2. If you could start again on a green field, would you choose to *always* fire events, just like `<details>`?\n==> meaning `<input value=\"foo\">` would already fire an event (because `value` is set to `\"foo\"`)?","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a> <a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a> Thanks!</p>\n<ol>\n<li>Any idea where this &quot;very unusual behavior&quot; form elements behavior is coming from? Was it really to prevent potential endless loops, like <a href=\"https://matrix.to/#/@kaiido:matrix.org\">Kaiido</a> suggested? Or was it simply personal taste?</li>\n<li>If you could start again on a green field, would you choose to <em>always</em> fire events, just like <code>&lt;details&gt;</code>?<br>==&gt; meaning <code>&lt;input value=&quot;foo&quot;&gt;</code> would already fire an event (because <code>value</code> is set to <code>&quot;foo&quot;</code>)?</li>\n</ol>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Domenic Jake Archibald Thanks!\n1. Any idea where this \"very unusual behavior\" form elements behavior is coming from? Was it really to prevent potential endless loops, like Kaiido suggested? Or was it simply personal taste?\n2. If you could start again on a green field, would you choose to *always* fire events, just like `<details>`?\n==> meaning `<input value=\"foo\">` would already fire an event (because `value` is set to `\"foo\"`)?","mimetype":"text/plain"},{"body":"<p><a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a> <a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a> Thanks!</p>\n<ol>\n<li>Any idea where this &quot;very unusual behavior&quot; form elements behavior is coming from? Was it really to prevent potential endless loops, like <a href=\"https://matrix.to/#/@kaiido:matrix.org\">Kaiido</a> suggested? Or was it simply personal taste?</li>\n<li>If you could start again on a green field, would you choose to <em>always</em> fire events, just like <code>&lt;details&gt;</code>?<br>==&gt; meaning <code>&lt;input value=&quot;foo&quot;&gt;</code> would already fire an event (because <code>value</code> is set to <code>&quot;foo&quot;</code>)?</li>\n</ol>\n","mimetype":"text/html"}]},"ts":1661339537897,"senderName":"kraftwer1","senderId":"@kraftwer1:matrix.org","id":"$XVUf2av-R33_O5rjIApL26xvYwW2TSyg6cIGQlwKi6A"}
]