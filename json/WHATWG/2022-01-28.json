[
{"content":{"body":"Andreu Botella (he/they): Ugh, indeed, the sidebar's background color is manually specified with the assumption of light mode. I'll fix.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@andreubotella:mozilla.org\">Andreu Botella (he/they)</a>: Ugh, indeed, the sidebar's background color is manually specified with the assumption of light mode. I'll fix.","msgtype":"m.text"},"ts":1643329328413,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$osObbxjq1N10-gIFAWQUQbkb9Hl1F_ab9oz2ImetGMI"},
{"content":{"body":"FYI https://github.com/WICG/proposals/issues/46 ","msgtype":"m.text"},"ts":1643334228384,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$Ct0G3qifKdw2k0bseDfzOK5nOokO_b-9EP1CAi1Jc1I"},
{"content":{"body":"Jake Archibald: have you ever seen service workers create JSON responses? Trying to figure out browser interest for https://github.com/whatwg/fetch/issues/1389","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jakea:matrix.org\">Jake Archibald</a>: have you ever seen service workers create JSON responses? Trying to figure out browser interest for https://github.com/whatwg/fetch/issues/1389","msgtype":"m.text"},"ts":1643379177151,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$Az1swoSNMBREByk_ASfl-u2zrl9yuV2mt9VztaV06og"},
{"content":{"body":"annevk: I am I correct in thinking that according to the mime spec, the following mime types should parse like this?\n- `text/html;in]valid=asd` -> `text/html`\n- `text/html;in]valid=asd;foo=bar` -> `text/html;foo=bar`\n","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: I am I correct in thinking that according to the mime spec, the following mime types should parse like this?</p>\n<ul>\n<li><code>text/html;in]valid=asd</code> -&gt; <code>text/html</code></li>\n<li><code>text/html;in]valid=asd;foo=bar</code> -&gt; <code>text/html;foo=bar</code></li>\n</ul>\n","msgtype":"m.text"},"ts":1643380337380,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$dilwIBt_vZpkNF5VfwkUB2ha-L6ZRlXm2vb1-F9JaE4"},
{"content":{"body":"All browser engines just accept this invalid name as valid.","msgtype":"m.text"},"ts":1643380370727,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$1VZXoY_u8GQG_iUHtghvrVWzHLEEByuy99Fur7b0qE8"},
{"content":{"body":"Which brings me to this highly depressing page: https://wpt.fyi/results/mimesniff/mime-types?label=experimental&label=master&product=chrome&product=firefox&product=safari&aligned&q=mimesniff. Not even half of the tests pass in any browser","msgtype":"m.text"},"ts":1643380498309,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$VhLkLI_hhWaMiVaG1_PV0fEoDyWQTFMhBnvBXSwPynU"},
{"content":{"body":"I think that's mostly due to Blob/Request/Response not having been updated accordingly","msgtype":"m.text"},"ts":1643385294324,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$ZplxY64vM7Sw50SOCKGcEwGO1g5z_CklGY-FU5LwbUA"},
{"content":{"body":"Luca Casonato: and yeah, not all invalid MIME types yield failure, same as with HTML and URLs","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">Luca Casonato</a>: and yeah, not all invalid MIME types yield failure, same as with HTML and URLs","msgtype":"m.text"},"ts":1643385383510,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$NAN0boLsNDKcEkufNkxv9_lkq8C_m1xySALHtP4zgaM"},
{"content":{"body":"At least in the web platform \"does it parse?\" and \"is it valid?\" can have different answers","msgtype":"m.text"},"ts":1643385428832,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$eIk_TMHi6vPCq1faz51b-eTal6sYXHVwMt9fQ9OuPoM"},
{"content":{"body":"> <@annevk:mozilla.org> I think that's mostly due to Blob/Request/Response not having been updated accordingly\n\nAh ok, that makes sense.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$ZplxY64vM7Sw50SOCKGcEwGO1g5z_CklGY-FU5LwbUA?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br>I think that&#39;s mostly due to Blob/Request/Response not having been updated accordingly</blockquote></mx-reply>Ah ok, that makes sense.","m.relates_to":{"m.in_reply_to":{"event_id":"$ZplxY64vM7Sw50SOCKGcEwGO1g5z_CklGY-FU5LwbUA"}},"msgtype":"m.text"},"ts":1643391473648,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$b37NaGXI5hOTopS-m62r3sYg2f_XzlgxgIGLa3ROuXY"},
{"content":{"body":"> <@lucacasonato:matrix.org> annevk: I am I correct in thinking that according to the mime spec, the following mime types should parse like this?\n> - `text/html;in]valid=asd` -> `text/html`\n> - `text/html;in]valid=asd;foo=bar` -> `text/html;foo=bar`\n\nYou can test current spec using https://npm.runkit.com/whatwg-mimetype . Maybe we should make a live-mime-viewer page...","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$dilwIBt_vZpkNF5VfwkUB2ha-L6ZRlXm2vb1-F9JaE4?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">@lucacasonato:matrix.org</a><br><p><a href=\"https://matrix.to/#/@annevk:mozilla.org\">annevk</a>: I am I correct in thinking that according to the mime spec, the following mime types should parse like this?</p>\n<ul>\n<li><code>text/html;in]valid=asd</code> -&gt; <code>text/html</code></li>\n<li><code>text/html;in]valid=asd;foo=bar</code> -&gt; <code>text/html;foo=bar</code></li>\n</ul>\n</blockquote></mx-reply>You can test current spec using https://npm.runkit.com/whatwg-mimetype . Maybe we should make a live-mime-viewer page...","m.relates_to":{"m.in_reply_to":{"event_id":"$dilwIBt_vZpkNF5VfwkUB2ha-L6ZRlXm2vb1-F9JaE4"}},"msgtype":"m.text"},"ts":1643397648041,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$7VwCxrceEzq3yYXHSUGV0i9Lc0yLQ-RU1nMXU0nBMAo"},
{"content":{"body":"> <@domenicdenicola:matrix.org> You can test current spec using https://npm.runkit.com/whatwg-mimetype . Maybe we should make a live-mime-viewer page...\n\nThanks, that's pretty much what I did ultimately. Ran the following in my Deno repl:\n```js\nimport MIMEType from \"https://esm.sh/whatwg-mimetype\";\nconsole.log(new MIMEType(\"text/html;a]=bar;b[=bar;c=bar\").toString());\n// text/html;c=bar\nconsole.log(new MIMEType('text/html;valid=\";\";foo=bar').toString());\n// text/html;valid=\";\";foo=bar\nconsole.log(new MIMEType('text/html;in]valid=\";\";foo=bar').toString());\n// text/html;foo=bar\n```","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$7VwCxrceEzq3yYXHSUGV0i9Lc0yLQ-RU1nMXU0nBMAo?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br>You can test current spec using https://npm.runkit.com/whatwg-mimetype . Maybe we should make a live-mime-viewer page...</blockquote></mx-reply><p>Thanks, that's pretty much what I did ultimately. Ran the following in my Deno repl:</p>\n<pre><code class=\"language-js\">import MIMEType from &quot;https://esm.sh/whatwg-mimetype&quot;;\nconsole.log(new MIMEType(&quot;text/html;a]=bar;b[=bar;c=bar&quot;).toString());\n// text/html;c=bar\nconsole.log(new MIMEType('text/html;valid=&quot;;&quot;;foo=bar').toString());\n// text/html;valid=&quot;;&quot;;foo=bar\nconsole.log(new MIMEType('text/html;in]valid=&quot;;&quot;;foo=bar').toString());\n// text/html;foo=bar\n</code></pre>\n","m.relates_to":{"m.in_reply_to":{"event_id":"$7VwCxrceEzq3yYXHSUGV0i9Lc0yLQ-RU1nMXU0nBMAo"}},"msgtype":"m.text"},"ts":1643409755829,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$9bCMYtjBuau6HVXLGFqAII34BDGrJ8BcQpkf44YclzQ"}
]