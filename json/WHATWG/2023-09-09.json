[
{"content":{"body":"Coincidentally, I also plan to implement the navigation soon\nThough it's really dense (the intro paragraph literally calls it \"the dragon's maw\") so I'm ðŸŒˆ procrastinating ðŸŒˆ","msgtype":"m.text"},"ts":1694219721749,"senderName":"EveryOS","senderId":"@everyos:matrix.org","id":"$Of9gBaKaASjSleUh-ITYCbogKlg4kSB9TcVKvqoXPek"},
{"content":{"body":"Off the top of my head on a weekend, I thought there was a step early in navigation/traversal that would abort any current loads in the top-level traversable and its descendants?","msgtype":"m.text"},"ts":1694265386635,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$3TfJtICglJvHdeDmG43FxECfUWrA5tCYGG4LuI4-Zu0"},
{"content":{"body":"Domenic: I think so, there was a concept of maturing and a new navigation would abort immature navigations or some such","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: I think so, there was a concept of maturing and a new navigation would abort immature navigations or some such","msgtype":"m.text"},"ts":1694275926165,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$TFLyJDg9ViAXsd3gfhE3yxiopq8pS29TklJVzMm9IeQ"},
{"content":{"body":"> <@domenicdenicola:matrix.org> Off the top of my head on a weekend, I thought there was a step early in navigation/traversal that would abort any current loads in the top-level traversable and its descendants?\n\nAs I understand it, if the navigation that is currently loading needs to be canceled, we need to set its \"ongoing navigation\" to something other than the navigation ID. I would expect this to happen during the \"apply the history step\" process, but from what I've seen, it only takes care of \"changing navigables\".","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$3TfJtICglJvHdeDmG43FxECfUWrA5tCYGG4LuI4-Zu0?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br>Off the top of my head on a weekend, I thought there was a step early in navigation/traversal that would abort any current loads in the top-level traversable and its descendants?</blockquote></mx-reply>As I understand it, if the navigation that is currently loading needs to be canceled, we need to set its \"ongoing navigation\" to something other than the navigation ID. I would expect this to happen during the \"apply the history step\" process, but from what I've seen, it only takes care of \"changing navigables\".","m.relates_to":{"m.in_reply_to":{"event_id":"$3TfJtICglJvHdeDmG43FxECfUWrA5tCYGG4LuI4-Zu0"}},"msgtype":"m.text"},"ts":1694276863932,"senderName":"Alexander Kalenik","senderId":"@aliaksandr.kalenik:matrix.org","id":"$Ntk_z34k22qX9huF9Vmqi_KU8WUuAUo0FqxW0EP_2So"},
{"content":{"body":"> <@annevk:matrix.org> Domenic: I think so, there was a concept of maturing and a new navigation would abort immature navigations or some such\n\nyes, I would expect something like that to happen but haven't yet found this in the spec","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$TFLyJDg9ViAXsd3gfhE3yxiopq8pS29TklJVzMm9IeQ?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br><a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: I think so, there was a concept of maturing and a new navigation would abort immature navigations or some such</blockquote></mx-reply>yes, I would expect something like that to happen but haven't yet found this in the spec","m.relates_to":{"m.in_reply_to":{"event_id":"$TFLyJDg9ViAXsd3gfhE3yxiopq8pS29TklJVzMm9IeQ"}},"msgtype":"m.text"},"ts":1694277098868,"senderName":"Alexander Kalenik","senderId":"@aliaksandr.kalenik:matrix.org","id":"$vTM_gBTfZz_FdUzL2mK3fcQlgKPuFas3ETLwyS1Awhg"},
{"content":{"body":"Hmm, did that get removed in the navigation refactor?","msgtype":"m.text"},"ts":1694277132196,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$6ERY4JuTN7YomdA5Hf3MZehDI-IzkzRuq7-o_E2Su4Q"},
{"content":{"body":"Step 11 of https://html.spec.whatwg.org/review-drafts/2022-07/#navigate has it. So if it's not there now it's a regression. Pretty bad one.","msgtype":"m.text"},"ts":1694277206687,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$8oUMRI5_zG76k7vPccMM1ZDYss-P7CQw4JepGQLICZ0"},
{"content":{"body":"It's still there. Step 17. https://html.spec.whatwg.org/#navigate","msgtype":"m.text"},"ts":1694277378707,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$hxyRt5DeLJdHieihRuwrfS1K5JXLM73y8Uo__QpEsW0"},
{"content":{"body":"right, changing \"ongoing navigation\" means canceling any navigation that hasn't been finished. but should we also do that for all child navigables of a navigable that navigates?","msgtype":"m.text"},"ts":1694277542479,"senderName":"Alexander Kalenik","senderId":"@aliaksandr.kalenik:matrix.org","id":"$SQo9MpyST5zUFpjDRs8GKQea8rQKO8yXn__g2qMtm9Q"},
{"content":{"body":" * right, changing \"ongoing navigation\" means canceling any navigation that hasn't been finished. but shouldn't we also do that for all child navigables of a navigable that navigates?","m.new_content":{"body":"right, changing \"ongoing navigation\" means canceling any navigation that hasn't been finished. but shouldn't we also do that for all child navigables of a navigable that navigates?","msgtype":"m.text"},"m.relates_to":{"event_id":"$SQo9MpyST5zUFpjDRs8GKQea8rQKO8yXn__g2qMtm9Q","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1694277678334,"senderName":"Alexander Kalenik","senderId":"@aliaksandr.kalenik:matrix.org","id":"$NEni7AhXeMpmhIIaHhoZI_ZbMLcXxr_J6Fme34LvwY8"},
{"content":{"body":"I guess descendants might never have been covered. I guess that can happen with bfcache?","msgtype":"m.text"},"ts":1694277751965,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$1qrhVpwqyFeOEUgWlRnqUgheQlu_osYgU70Mw6SM9AQ"},
{"content":{"body":"Oh wait. I think I see now. Yeah hmm, not sure.","msgtype":"m.text"},"ts":1694277787662,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$6PVFYpwwvLThy1rHZQONwy6-_RGbHK7xfcRXJNdUeqg"},
{"content":{"body":"Recalling stuff from long ago now... I think that ought to be covered by canceling all the fetches for the fetch group, but we never got around to specifying that well.","msgtype":"m.text"},"ts":1694277869378,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$i0cgBDMMMVX8IzaltpjN1CDqBuvOoqymac24kR5ZWsc"},
{"content":{"body":"Step 20.3 should take care of descendants","msgtype":"m.text"},"ts":1694278588463,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$CtXUpTLudX55gSFULid5PvHMhVD295s-6VNhw42XV9I"},
{"content":{"body":"https://html.spec.whatwg.org/#abort-a-document #2 is a bit lacking in terms of what it means to \"cancel any instances of fetch\", I'd be happy to fix this as part of `fetchLater`, didn't it use to call \"terminate a fetch group\" before?","format":"org.matrix.custom.html","formatted_body":"https://html.spec.whatwg.org/#abort-a-document #2 is a bit lacking in terms of what it means to \"cancel any instances of fetch\", I'd be happy to fix this as part of <code>fetchLater</code>, didn't it use to call \"terminate a fetch group\" before?","msgtype":"m.text"},"ts":1694278767016,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$YdGFp65FShteZ-S5pYU4IIwOd4oGl1LkUnChIVKT5R0"}
]