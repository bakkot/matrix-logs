[
{"content":{"body":"Hi annevk , I'd appreciate your thoughts on my comments in the writingsuggestions PR: https://github.com/whatwg/html/pull/10018#issuecomment-1960295747\nI think this is the last thing before this PR can move forward, so hoping to settle on an approach get this resolved.","format":"org.matrix.custom.html","formatted_body":"Hi <a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a> , I'd appreciate your thoughts on my comments in the writingsuggestions PR: https://github.com/whatwg/html/pull/10018#issuecomment-1960295747<br>I think this is the last thing before this PR can move forward, so hoping to settle on an approach get this resolved.","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"ts":1708995519264,"senderName":"dandclark","senderId":"@dandclark:matrix.org","id":"$DrCLmu0WG6BsZTK3E5ZGXOcmwc3tywHMywsQFSEkdkc"},
{"content":{"body":" * Hi annevk , I'd appreciate your thoughts on my comments in the writingsuggestions PR: https://github.com/whatwg/html/pull/10018#issuecomment-1960295747\nI think this is the last thing before this PR can move forward, so hoping to settle on an approach and get this resolved.","format":"org.matrix.custom.html","formatted_body":" * Hi <a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a> , I'd appreciate your thoughts on my comments in the writingsuggestions PR: https://github.com/whatwg/html/pull/10018#issuecomment-1960295747<br>I think this is the last thing before this PR can move forward, so hoping to settle on an approach and get this resolved.","m.mentions":{},"m.new_content":{"body":"Hi annevk , I'd appreciate your thoughts on my comments in the writingsuggestions PR: https://github.com/whatwg/html/pull/10018#issuecomment-1960295747\nI think this is the last thing before this PR can move forward, so hoping to settle on an approach and get this resolved.","format":"org.matrix.custom.html","formatted_body":"Hi <a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a> , I'd appreciate your thoughts on my comments in the writingsuggestions PR: https://github.com/whatwg/html/pull/10018#issuecomment-1960295747<br>I think this is the last thing before this PR can move forward, so hoping to settle on an approach and get this resolved.","m.mentions":{"user_ids":["@annevk:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$DrCLmu0WG6BsZTK3E5ZGXOcmwc3tywHMywsQFSEkdkc","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1708995532505,"senderName":"dandclark","senderId":"@dandclark:matrix.org","id":"$v4j_mxaEEJof9b8Ze3-L8SstIkeT3CV5C0JDA_jfbY0"},
{"content":{"body":"Does anyone know if https://html.spec.whatwg.org/C#pragma-directives:attr-meta-http-equiv-keyword-default-style is supposed to re-apply a new style sheet right then and there (and therefore have script-observable changes)?","m.mentions":{},"msgtype":"m.text"},"ts":1709051971678,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$BNkkKABvTCL0cENO8LEBn4nbb1D3Nr50JaORlS5GSDY"},
{"content":{"body":"I ask because https://drafts.csswg.org/cssom/#change-the-preferred-css-style-sheet-set-name seems to be incredibly vague. It just \"enables\" a style sheet, which flips some internal flags/state, but I'm not sure if that's supposed to impact the actual live rendering/styles.","m.mentions":{},"msgtype":"m.text"},"ts":1709052025405,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$AMJi7Sxp-6UaRq5ehA51QJHBU1DtF1vE_OJysjnpsYo"},
{"content":{"body":"Noam Rosenthal: ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>:","m.mentions":{"user_ids":["@noamr:matrix.org"]},"msgtype":"m.text"},"ts":1709052139696,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$DGOMzteUBqRvW_uDhKwZNYZ_YjWsDC3UDv17cFrWgK0"},
{"content":{"body":"Interestingly in Chrome, we only process it *after* all pending DOM mutations are complete: https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/core/html/html_meta_element.cc;l=582;drc=8e98d0b38a95fc7fd4fc51cd59be77c5bf9e315c","format":"org.matrix.custom.html","formatted_body":"Interestingly in Chrome, we only process it <em>after</em> all pending DOM mutations are complete: https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/renderer/core/html/html_meta_element.cc;l=582;drc=8e98d0b38a95fc7fd4fc51cd59be77c5bf9e315c","m.mentions":{},"msgtype":"m.text"},"ts":1709052714738,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$Iz8ji-Ar1db0n4dPjsh77lvFTdyddeFXdb9mlguqUv0"},
{"content":{"body":"Dominic Farolino: there's nothing that defers it behind a task/microtask so seems like it, but perhaps others have more context","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domfarolino:matrix.org\">Dominic Farolino</a>: there's nothing that defers it behind a task/microtask so seems like it, but perhaps others have more context","m.mentions":{"user_ids":["@domfarolino:matrix.org"]},"msgtype":"m.text"},"ts":1709054199532,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$hkNpzVJQKY6rbnlgvy47fS52Yp3ZnqhD5d6pMXpTsco"},
{"content":{"body":"Oh, I didn't mean scheduling-wise. I just didn't know if https://drafts.csswg.org/cssom/#change-the-preferred-css-style-sheet-set-name was actually supposed to have script-observable consequences to styles? It seems to deal exclusively in internal bit flipping and flag setting, and I'm unclear if that stuff is supposed to result in observable changes to the document's styles.","m.mentions":{},"msgtype":"m.text"},"ts":1709059058718,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$K_YeLPLHWgzIgXR4RrXkZSFSqC2tTTmLfZoG8LSVsjc"},
{"content":{"body":"I guess it is... idk I've always hard a hard time evaluating when real observable changes are supposed to take place in CSS specs. They seem very disconnected from HTML Standard in that sense","m.mentions":{},"msgtype":"m.text"},"ts":1709059136097,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$GVQh8u1kxb4Q43orgcuNYbdnWBSvvKna0At4Xtaxe5o"},
{"content":{"body":"Is this the correct place to give an idea of a Web API that generates PDF files?","m.mentions":{},"msgtype":"m.text"},"ts":1709059768277,"senderName":"tech-enthusiastic","senderId":"@tech-enthusiastic:matrix.org","id":"$Mn0GGH1v9aTKIT_bLxfnncUTbBaXblbNrTe_CuEdUM8"},
{"content":{"body":"var pdf = new PDF();\n\n//Function to create pages\npdf.CreatePage('portrait','<h2>Hello World!</h2>');\npdf.CreatePage('landscape','My birthday photos.<img src=\"photo1.jpg\">');\npdf.CreatePage('portrait','ops! wrong text');\n\n//Function to create pages in array, can also be used to delete a page or modify its content\npdf.pages([\n  ['portrait', '<h2>Hello World!</h2>'],\n  ['landscape', 'My birthday photos.<br><img src=\"photo1.jpg\">'],\n  ['portrait', 'ops! wrong text']\n]);\n\n//Function to delete pages\npdf.DeletePage('3');\n\n//File output functions\npdf.toBase64();\npdf.Download();","format":"org.matrix.custom.html","formatted_body":"<p>var pdf = new PDF();</p>\n<p>//Function to create pages<br>pdf.CreatePage('portrait','&lt;h2&gt;Hello World!&lt;/h2&gt;');<br>pdf.CreatePage('landscape','My birthday photos.&lt;img src=\"photo1.jpg\"&gt;');<br>pdf.CreatePage('portrait','ops! wrong text');</p>\n<p>//Function to create pages in array, can also be used to delete a page or modify its content<br>pdf.pages([<br>['portrait', '&lt;h2&gt;Hello World!&lt;/h2&gt;'],<br>['landscape', 'My birthday photos.<br>&lt;img src=\"photo1.jpg\"&gt;'],<br>['portrait', 'ops! wrong text']<br>]);</p>\n<p>//Function to delete pages<br>pdf.DeletePage('3');</p>\n<p>//File output functions<br>pdf.toBase64();<br>pdf.Download();</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1709061297940,"senderName":"tech-enthusiastic","senderId":"@tech-enthusiastic:matrix.org","id":"$eh-AJ4t4ykgYYDScX346-k4wuy8caMv3RBkZP6SxY0M"},
{"content":{"body":"Domenic: in https://github.com/whatwg/html/issues/9920#issuecomment-1804977146 you told me that \n\n> Despite \"object\" in the name, \"environment settings objects\" are not JS objects. You can pass them anywhere.\n\nWhich... still doesn't make sense to me :). The only place that we create the ESO is when attaching it to a Realm as its [[Host Defined]] slot. So in my mental model, the HTML concept of Environment Settings Object is very much tied to the Realm it was created for. It also holds two weak sets for module resolution. And there's always a 1-1-1 mapping between a realm, a global object, and an environment settings object, per https://html.spec.whatwg.org/multipage/webappapis.html#realms-settings-objects-global-objects\n\nSo I don't see how always using an environment settings object from a different realm (the Worker's owner's realm) as a Fetch Request's client can possibly work in a case where I implement Workers in a new process.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: in https://github.com/whatwg/html/issues/9920#issuecomment-1804977146 you told me that \n\n> Despite \"object\" in the name, \"environment settings objects\" are not JS objects. You can pass them anywhere.\n\nWhich... still doesn't make sense to me :). The only place that we create the ESO is when attaching it to a Realm as its [[Host Defined]] slot. So in my mental model, the HTML concept of Environment Settings Object is very much tied to the Realm it was created for. It also holds two weak sets for module resolution. And there's always a 1-1-1 mapping between a realm, a global object, and an environment settings object, per https://html.spec.whatwg.org/multipage/webappapis.html#realms-settings-objects-global-objects\n\nSo I don't see how always using an environment settings object from a different realm (the Worker's owner's realm) as a Fetch Request's client can possibly work in a case where I implement Workers in a new process.","msgtype":"m.text"},"ts":1709062666437,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$MvvmNelR2poGFg16nu1RyccRTntqZFps9EmjJ7BAB-8"},
{"content":{"body":"* Domenic: in https://github.com/whatwg/html/issues/9920#issuecomment-1804977146 you told me that\n\n\n\nDespite \"object\" in the name, \"environment settings objects\" are not JS objects. You can pass them anywhere.\n\n\nWhich... still doesn't make sense to me :). The only place that we create the ESO is when attaching it to a Realm as its [[Host Defined]] slot. So in my mental model, the HTML concept of Environment Settings Object is very much tied to the Realm it was created for. It also holds two weak sets for module resolution. And there's always a 1-1-1 mapping between a realm, a global object, and an environment settings object, per https://html.spec.whatwg.org/multipage/webappapis.html#realms-settings-objects-global-objects\n\nSo I don't see how always using an environment settings object from a different realm (the Worker's owner's realm) as a Fetch Request's client can possibly work in a case where I implement Workers in a new process.","m.new_content":{"body":"Domenic: in https://github.com/whatwg/html/issues/9920#issuecomment-1804977146 you told me that\n\n\n\nDespite \"object\" in the name, \"environment settings objects\" are not JS objects. You can pass them anywhere.\n\n\nWhich... still doesn't make sense to me :). The only place that we create the ESO is when attaching it to a Realm as its [[Host Defined]] slot. So in my mental model, the HTML concept of Environment Settings Object is very much tied to the Realm it was created for. It also holds two weak sets for module resolution. And there's always a 1-1-1 mapping between a realm, a global object, and an environment settings object, per https://html.spec.whatwg.org/multipage/webappapis.html#realms-settings-objects-global-objects\n\nSo I don't see how always using an environment settings object from a different realm (the Worker's owner's realm) as a Fetch Request's client can possibly work in a case where I implement Workers in a new process.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: in https://github.com/whatwg/html/issues/9920#issuecomment-1804977146 you told me that\n\n\n\nDespite \"object\" in the name, \"environment settings objects\" are not JS objects. You can pass them anywhere.\n\n\nWhich... still doesn't make sense to me :). The only place that we create the ESO is when attaching it to a Realm as its [[Host Defined]] slot. So in my mental model, the HTML concept of Environment Settings Object is very much tied to the Realm it was created for. It also holds two weak sets for module resolution. And there's always a 1-1-1 mapping between a realm, a global object, and an environment settings object, per https://html.spec.whatwg.org/multipage/webappapis.html#realms-settings-objects-global-objects\n\nSo I don't see how always using an environment settings object from a different realm (the Worker's owner's realm) as a Fetch Request's client can possibly work in a case where I implement Workers in a new process.","msgtype":"m.text"},"m.relates_to":{"event_id":"$MvvmNelR2poGFg16nu1RyccRTntqZFps9EmjJ7BAB-8","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1709062681865,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$JRH77tP3JViZ60yH6_vcc25WXJrhFK3rtwANtgYhmfI"},
{"content":{"body":"* Domenic: in https://github.com/whatwg/html/issues/9920#issuecomment-1804977146 you told me that:\n\n\nDespite \"object\" in the name, \"environment settings objects\" are not JS objects. You can pass them anywhere.\n\n\nWhich... still doesn't make sense to me :). The only place that we create the ESO is when attaching it to a Realm as its [[Host Defined]] slot. So in my mental model, the HTML concept of Environment Settings Object is very much tied to the Realm it was created for. It also holds two weak sets for module resolution. And there's always a 1-1-1 mapping between a realm, a global object, and an environment settings object, per https://html.spec.whatwg.org/multipage/webappapis.html#realms-settings-objects-global-objects\n\nSo I don't see how always using an environment settings object from a different realm (the Worker's owner's realm) as a Fetch Request's client can possibly work in a case where I implement Workers in a new process.","m.new_content":{"body":"Domenic: in https://github.com/whatwg/html/issues/9920#issuecomment-1804977146 you told me that:\n\n\nDespite \"object\" in the name, \"environment settings objects\" are not JS objects. You can pass them anywhere.\n\n\nWhich... still doesn't make sense to me :). The only place that we create the ESO is when attaching it to a Realm as its [[Host Defined]] slot. So in my mental model, the HTML concept of Environment Settings Object is very much tied to the Realm it was created for. It also holds two weak sets for module resolution. And there's always a 1-1-1 mapping between a realm, a global object, and an environment settings object, per https://html.spec.whatwg.org/multipage/webappapis.html#realms-settings-objects-global-objects\n\nSo I don't see how always using an environment settings object from a different realm (the Worker's owner's realm) as a Fetch Request's client can possibly work in a case where I implement Workers in a new process.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: in https://github.com/whatwg/html/issues/9920#issuecomment-1804977146 you told me that:\n\n\nDespite \"object\" in the name, \"environment settings objects\" are not JS objects. You can pass them anywhere.\n\n\nWhich... still doesn't make sense to me :). The only place that we create the ESO is when attaching it to a Realm as its [[Host Defined]] slot. So in my mental model, the HTML concept of Environment Settings Object is very much tied to the Realm it was created for. It also holds two weak sets for module resolution. And there's always a 1-1-1 mapping between a realm, a global object, and an environment settings object, per https://html.spec.whatwg.org/multipage/webappapis.html#realms-settings-objects-global-objects\n\nSo I don't see how always using an environment settings object from a different realm (the Worker's owner's realm) as a Fetch Request's client can possibly work in a case where I implement Workers in a new process.","msgtype":"m.text"},"m.relates_to":{"event_id":"$MvvmNelR2poGFg16nu1RyccRTntqZFps9EmjJ7BAB-8","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1709062695810,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$dBJQNxA1uvp67lqZryaC1xjOzlRZQ4ago7KEkxbdjx8"}
]