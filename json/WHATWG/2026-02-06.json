[
{"content":{"body":"jmdyck: I believe it is correct albeit not clear, the Text nodes are being excluded, they are the descendants of <script> or <svg:script> that are descendants of the <legend>. So they're indeed \"descendants of descendants\".","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jmdyck:matrix.org\">jmdyck</a>: I believe it is correct albeit not clear, the Text nodes are being excluded, they are the descendants of &lt;script&gt; or <a href=\"svg:script\">svg:script</a> that are descendants of the &lt;legend&gt;. So they're indeed \"descendants of descendants\".","m.mentions":{"user_ids":["@jmdyck:matrix.org"]},"msgtype":"m.text"},"ts":1770351169029,"senderName":"Kaiido","senderId":"@kaiido:matrix.org","id":"$OnO4XpljzgwKzXL4WWrwVPqF2uIt44n9cNG1UYMovog"},
{"content":{"body":"Phil Pizlo finally putting his Fil-C work to good use: https://yoshell.ai ðŸ˜€","m.mentions":{},"msgtype":"m.text"},"ts":1770365199951,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$ZG2gwL21Wn1G6YtROOlQv6eEWdHqb3fGa2pm6s4btUo"},
{"content":{"body":"zcorpan: I'm trying to understand how `<script>console.log(\"</script>\")</script>` manages to \"back up\" when it sees the \">\" inside the console.log string so that the script element text is just 'console.log(\"'. Do you know what tokenizer state this is? It looks to me like \"Script data double escape start state\" or \"Script data double escape end state\", but it looks like 'console.log(\"</script' has already been emitted as character tokens at that point. How does the tokenizer \"take back\" what's already been emitted?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: I'm trying to understand how <code>&lt;script&gt;console.log(\"&lt;/script&gt;\")&lt;/script&gt;</code> manages to \"back up\" when it sees the \"&gt;\" inside the console.log string so that the script element text is just 'console.log(\"'. Do you know what tokenizer state this is? It looks to me like \"Script data double escape start state\" or \"Script data double escape end state\", but it looks like 'console.log(\"&lt;/script' has already been emitted as character tokens at that point. How does the tokenizer \"take back\" what's already been emitted?","m.mentions":{"user_ids":["@zcorpan:mozilla.org"]},"msgtype":"m.text"},"ts":1770376926843,"senderName":"foolip","senderId":"@foolip:matrix.org","id":"$8kOkfKA0v0JOGK-VAXB9vGD6YNpruEBLLtplehZG2P8"},
{"content":{"body":"foolip: it doesn't back up it just closes the script element there. \nhttps://html.spec.whatwg.org/#script-data-state\nhttps://html.spec.whatwg.org/#script-data-less-than-sign-state\nhttps://html.spec.whatwg.org/#script-data-end-tag-open-state\nhttps://html.spec.whatwg.org/#script-data-end-tag-name-state\n","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@foolip:matrix.org\">foolip</a>: it doesn't back up it just closes the script element there.<br>https://html.spec.whatwg.org/#script-data-state<br>https://html.spec.whatwg.org/#script-data-less-than-sign-state<br>https://html.spec.whatwg.org/#script-data-end-tag-open-state<br>https://html.spec.whatwg.org/#script-data-end-tag-name-state","m.mentions":{"user_ids":["@foolip:matrix.org"]},"msgtype":"m.text"},"ts":1770377527219,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$RiXx5nbGtvojU5TiDCjawiUrbZoqailjV0s0RSgzge4"},
{"content":{"body":"foolip: you need <script><!-- to enter https://html.spec.whatwg.org/#script-data-escaped-state","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@foolip:matrix.org\">foolip</a>: you need &lt;script&gt;&lt;!-- to enter https://html.spec.whatwg.org/#script-data-escaped-state","m.mentions":{"user_ids":["@foolip:matrix.org"]},"msgtype":"m.text"},"ts":1770377609335,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$Vmk3z-irTWkM8WRZmNchRzx_d17yINcVQOZ71qHQX0Y"},
{"content":{"body":"foolip: and <script><!--<script> to enter https://html.spec.whatwg.org/#script-data-escaped-state (which causes a single </script> to not close the element)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@foolip:matrix.org\">foolip</a>: and &lt;script&gt;&lt;!--&lt;script&gt; to enter https://html.spec.whatwg.org/#script-data-escaped-state (which causes a single &lt;/script&gt; to not close the element)","m.mentions":{"user_ids":["@foolip:matrix.org"]},"msgtype":"m.text"},"ts":1770377704194,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$R2_xKxBwJ9YIhunHIDgv_ERQ8QnjqRHzDQjbgrWd-LE"}
]