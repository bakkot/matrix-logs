[
{"content":{"body":"Yeah, that aspect would be observable with this change. I think if we had to preserve that I'd favor some kind of [VerifyArgument] annotation over attempting to change the type. So you'd have to write `[VerifyArgument] (TrustedHTML or DOMString) input` and `[VerifyArgument]` would take care of running some kind of callback based on the type of argument. Maybe that's a reasonable middle ground even that would also allow the more complicated cases to rely on IDL.","format":"org.matrix.custom.html","formatted_body":"Yeah, that aspect would be observable with this change. I think if we had to preserve that I'd favor some kind of [VerifyArgument] annotation over attempting to change the type. So you'd have to write <code>[VerifyArgument] (TrustedHTML or DOMString) input</code> and <code>[VerifyArgument]</code> would take care of running some kind of callback based on the type of argument. Maybe that's a reasonable middle ground even that would also allow the more complicated cases to rely on IDL.","m.mentions":{},"msgtype":"m.text"},"ts":1712297927685,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$S3apaA3NWRoR9kKA-JJe3HpWNEDbH7cl56O-1v1ACl4"},
{"content":{"body":" * Yeah, that aspect would be observable with this change. I think if we had to preserve that I'd favor some kind of \\[VerifyArgument\\] annotation over attempting to change the type. So you'd have to write `[VerifyArgument] (TrustedHTML or DOMString) input` and `[VerifyArgument]` would take care of running the \"verify/validate\" algorithm based on the type of argument. Maybe that's a reasonable middle ground that would also allow the more complicated cases to rely on IDL.","format":"org.matrix.custom.html","formatted_body":" * Yeah, that aspect would be observable with this change. I think if we had to preserve that I'd favor some kind of [VerifyArgument] annotation over attempting to change the type. So you'd have to write <code>[VerifyArgument] (TrustedHTML or DOMString) input</code> and <code>[VerifyArgument]</code> would take care of running the \"verify/validate\" algorithm based on the type of argument. Maybe that's a reasonable middle ground that would also allow the more complicated cases to rely on IDL.","m.mentions":{},"m.new_content":{"body":"Yeah, that aspect would be observable with this change. I think if we had to preserve that I'd favor some kind of \\[VerifyArgument\\] annotation over attempting to change the type. So you'd have to write `[VerifyArgument] (TrustedHTML or DOMString) input` and `[VerifyArgument]` would take care of running the \"verify/validate\" algorithm based on the type of argument. Maybe that's a reasonable middle ground that would also allow the more complicated cases to rely on IDL.","format":"org.matrix.custom.html","formatted_body":"Yeah, that aspect would be observable with this change. I think if we had to preserve that I'd favor some kind of [VerifyArgument] annotation over attempting to change the type. So you'd have to write <code>[VerifyArgument] (TrustedHTML or DOMString) input</code> and <code>[VerifyArgument]</code> would take care of running the \"verify/validate\" algorithm based on the type of argument. Maybe that's a reasonable middle ground that would also allow the more complicated cases to rely on IDL.","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$S3apaA3NWRoR9kKA-JJe3HpWNEDbH7cl56O-1v1ACl4","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1712297972763,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$wsZmA7mmJ4CRemFhUDDOqc8TNy7qhFRMP4hNgi5_EE4"},
{"content":{"body":"I'm not sure if running arbitrary validation code in the middle of IDL conversion excites me all that much. Is changing the order of operations a blocker?","m.mentions":{},"msgtype":"m.text"},"ts":1712302575386,"senderName":"Ms2ger","senderId":"@ms2ger:igalia.com","id":"$DKwbAes5SfBfG6T140Pigk8R1MEuyi7Wp1OLv0eWlgM"}
]