[
{"content":{"body":"jarhar: The code in the PR branch of https://github.com/WebKit/WebKit/pull/18785 has a working implementation of auto-expanding `details`. If you have time to build from that and try it, let me know if you find any problems. I put it together about a month ago but so far it’s otherwise been unreviewed (maybe due to waiting to get the content-visibility implementation further along).","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jarhar:matrix.org\">jarhar</a>: The code in the PR branch of https://github.com/WebKit/WebKit/pull/18785 has a working implementation of auto-expanding <code>details</code>. If you have time to build from that and try it, let me know if you find any problems. I put it together about a month ago but so far it’s otherwise been unreviewed (maybe due to waiting to get the content-visibility implementation further along).","m.mentions":{"user_ids":["@jarhar:matrix.org"]},"msgtype":"m.text"},"ts":1700534607129,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$CajkFdzv0z1OuSIN3-_wLrgvaEC82_VsiyEpXtl6icA"},
{"content":{"body":"Is there an existing term in the HTML spec for “topmost same-agent ancestor”? Something equivalent to “local root” in chromium? (Perhaps Domenic knows?) or do I need to get that manually?","format":"org.matrix.custom.html","formatted_body":"Is there an existing term in the HTML spec for “topmost same-agent ancestor”? Something equivalent to “local root” in chromium? (Perhaps <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a> knows?) or do I need to get that manually?","msgtype":"m.text"},"ts":1700568375949,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$Fu--L5geB3YWOtfanvkbrronCnUpKHwTgKZ_vlUzGc8"},
{"content":{"body":"I'm not familiar with that Chromium term. Ancestor of what?","m.mentions":{},"msgtype":"m.text"},"ts":1700568400203,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$KfApZmacR2GLs9Sjg7KkB-QjKOt9ediiDNlOkpDc8ug"},
{"content":{"body":"A document’s ancestor. The most top level ancestor that shares an event loop with this doc ","format":"org.matrix.custom.html","formatted_body":"A document’s ancestor. The most top level ancestor that shares an event loop with this doc","msgtype":"m.text"},"ts":1700568446036,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$efZyHuT1NWb4EtGigOYL_EHG8urGMFUM-uUTAq3flKA"},
{"content":{"body":"You'd have to crawl for that manually. Sounds kinda sketchy though to expose agent allocation in that way...","m.mentions":{},"msgtype":"m.text"},"ts":1700568517373,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$DO0-vOed11xnLRuN3K8Sj44VUGXZPv16nFt95yZTJ4s"},
{"content":{"body":"It’s exposed anyway since this is about timing/who’s blocking the main thread","msgtype":"m.text"},"ts":1700568575970,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$4BKQSxpsDWtTj4NyF8gFNfwwSRRpZaoSIr357Z8cfSc"},
{"content":{"body":"It seems okay, except that it can be cross-origin today which is probably not a property we want to build on","m.mentions":{},"msgtype":"m.text"},"ts":1700568578193,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$tBSrmO7NGymqNinmX3X5SB6ovMA3DxHdqOrLfaOyNDA"},
{"content":{"body":"The idea is that each of these docs keeps the tab of how long an animation frame takes. It’s observable today because you can see you’ve been blocked… very careful about not exposing more than that. It went through chrome security and will be happy for spec scrutiny once the draft is up","msgtype":"m.text"},"ts":1700568747237,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$v5HVZ3rHvijjXNP5oXa7Htz3vBK8m5wu_sQAcRSHp7g"},
{"content":{"body":"Hmm, but in theory that could block across top-level browsing contexts as well, no? If they end up in the same process. There are quite a few things that can be observable which are nevertheless not properties we want to enshrine forever.","m.mentions":{},"msgtype":"m.text"},"ts":1700569093551,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$4W3rv3-e1jKiFLvGk_7eOlxASpDhqbVvAyz1rmNUQ3E"},
{"content":{"body":"> <@annevk:matrix.org> Hmm, but in theory that could block across top-level browsing contexts as well, no? If they end up in the same process. There are quite a few things that can be observable which are nevertheless not properties we want to enshrine forever.\n\nAbsolutely. Let's talk about the specifics when the draft is up ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs%3Amatrix.org/%244W3rv3-e1jKiFLvGk_7eOlxASpDhqbVvAyz1rmNUQ3E\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br>Hmm, but in theory that could block across top-level browsing contexts as well, no? If they end up in the same process. There are quite a few things that can be observable which are nevertheless not properties we want to enshrine forever.</blockquote></mx-reply>Absolutely. Let's talk about the specifics when the draft is up","m.relates_to":{"m.in_reply_to":{"event_id":"$4W3rv3-e1jKiFLvGk_7eOlxASpDhqbVvAyz1rmNUQ3E"}},"msgtype":"m.text"},"ts":1700569705269,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$RCgHJWpmYhYCoSZcggXudCYJiUjHWfxjdso0Ge_dKo8"},
{"content":{"body":"> <@domenicdenicola:matrix.org> You'd have to crawl for that manually. Sounds kinda sketchy though to expose agent allocation in that way...\n\nIs that so also for getting the nearest ancestor thats top level in terms of same origin? (Nearest ancestor frame who has no parent  or a cross origin parent)","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs%3Amatrix.org/%24DO0-vOed11xnLRuN3K8Sj44VUGXZPv16nFt95yZTJ4s\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br>You'd have to crawl for that manually. Sounds kinda sketchy though to expose agent allocation in that way...</blockquote></mx-reply>Is that so also for getting the nearest ancestor thats top level in terms of same origin? (Nearest ancestor frame who has no parent  or a cross origin parent)","m.relates_to":{"m.in_reply_to":{"event_id":"$DO0-vOed11xnLRuN3K8Sj44VUGXZPv16nFt95yZTJ4s"}},"msgtype":"m.text"},"ts":1700571929947,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$BzrfawsjPhuKzHZTWxQTj0fokY_mMo_-nziCdzwE8iI"},
{"content":{"body":"Noam Rosenthal: yeah, we don't have any agent traversal of that kind","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: yeah, we don't have any agent traversal of that kind","m.mentions":{"user_ids":["@noamr:matrix.org"]},"msgtype":"m.text"},"ts":1700572302775,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$axYtSgceg6w8bYhuBuDiZdWyergbydoByvKzNDxCiKg"}
]