[
{"content":{"body":"Any chance we can get some more eyes on <https://github.com/whatwg/fetch/issues/1754> ? Resolving it would unblock a ton of fetch progress for ladybird. ","msgtype":"m.text"},"ts":1733594651794,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$P7hNGQNGF3EN1X1xMIIhfupyTMTX_xn190hq87SZAKw"},
{"content":{"body":"I believe this comment has the most minimized reproducer of the problem https://github.com/LadybirdBrowser/ladybird/pull/2162#issuecomment-2521178568","msgtype":"m.text"},"ts":1733594808607,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$CuniwSKjWiry5DoOkPHyRjmZLI64-gWmRKhFOvhwwpI"},
{"content":{"body":"akaster: when we \"fully read\" the body, we get it as bytes, and then \"safely extracting\" bytes creates a new stream. It's not the same stream that you've read","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@akaster:serenityos.org\">akaster</a>: when we \"fully read\" the body, we get it as bytes, and then \"safely extracting\" bytes creates a new stream. It's not the same stream that you've read","m.mentions":{"user_ids":["@akaster:serenityos.org"]},"msgtype":"m.text"},"ts":1733604655049,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$xdDk11umroKosZgOM2TrZn3DRBP6nlYd-2kvoArqcvA"},
{"content":{"body":"... The act of \"fully reading\" a stream turns it into bytes and creates a fresh stream with no readers. Later hand over pipes that fresh stream for the \"end of body\" callback","m.mentions":{},"msgtype":"m.text"},"ts":1733605099731,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$lF3WqnOMnSuR1HKH2_KmTbF6CFXQvrs0H2dxj3b6TOk"},
{"content":{"body":"This way, you can \"fully read\" a body multiple times :)","m.mentions":{},"msgtype":"m.text"},"ts":1733605107550,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$G2JCMH-YQpyrM6AlzrW-4uS3vaSNDuxb2pCFkhmHoLw"},
{"content":{"body":"(I added the exact algo steps on the github issue, but of course there could always be missing bits and bobs)","m.mentions":{},"msgtype":"m.text"},"ts":1733605166284,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$LZLKS_YOvGkcF75Hu7rX3ljP4EjCsy3Q9dVncvJfYDw"}
]