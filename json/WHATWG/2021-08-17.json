[
{"content":{"body":"We don’t seem to have any where a definition of what _“transient activation”_ or _“transient user activation”_ is.","format":"org.matrix.custom.html","formatted_body":"We don’t seem to have any where a definition of what <em>“transient activation”</em> or <em>“transient user activation”</em> is.","msgtype":"m.text"},"ts":1629161866917,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$TBIqVt9pcKWxaphh4SixzZadBNaBvNbRk5-tQ5rbo5A"},
{"content":{"body":"I mean, I developer-friendly definition (vs something for implementors that’s just implied through what’s affected by the relevant spec requirements).","msgtype":"m.text"},"ts":1629161937625,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$Lahq554xY7xjRCrSYuBF56SJu99fH0PdKC3sr9mvI2g"},
{"content":{"body":"Is it possible to state in one or two sentences what _“transient activation”_ actually means?","format":"org.matrix.custom.html","formatted_body":"Is it possible to state in one or two sentences what <em>“transient activation”</em> actually means?","msgtype":"m.text"},"ts":1629161995918,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$s-5xNmLTP4YqLDxZlLYfuqxz_I-dgD2BE6acCLDb-7w"},
{"content":{"body":"Does it mean “requires a user gesture”? Or does it mean more than that?","msgtype":"m.text"},"ts":1629162031902,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$KqUItjt8m8LKouhMbvOMUb6RiCLcMDXfv9sG9OH-sJo"},
{"content":{"body":" * We don’t seem to have anywhere a definition of what _“transient activation”_ or _“transient user activation”_ is.","format":"org.matrix.custom.html","formatted_body":" * We don’t seem to have anywhere a definition of what <em>“transient activation”</em> or <em>“transient user activation”</em> is.","m.new_content":{"body":"We don’t seem to have anywhere a definition of what _“transient activation”_ or _“transient user activation”_ is.","format":"org.matrix.custom.html","formatted_body":"We don’t seem to have anywhere a definition of what <em>“transient activation”</em> or <em>“transient user activation”</em> is.","msgtype":"m.text"},"m.relates_to":{"event_id":"$TBIqVt9pcKWxaphh4SixzZadBNaBvNbRk5-tQ5rbo5A","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1629162045367,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$-hXxkKIbuQnWu_q8s9YhbHcwfnpRH0ToiIoDXW93EKs"},
{"content":{"body":"I take it that maybe it means, the entire browsing context is one that’s somehow known to have been triggered by a user gesture, and therefore for all features within that browsing context that would normally be considered to require a separate user gesture, the user gesture is considered to have already happened?","msgtype":"m.text"},"ts":1629162331422,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$sbT1yB31p5YBXodu8aQrhJiEN4QuYFOt0iTUADb1SY0"},
{"content":{"body":"Does “transition activation” mean the same thing as saying the user gesture has been _“propagated”_? Or are those two things not synonymous (but instead there’s some more complex relation)?","format":"org.matrix.custom.html","formatted_body":"Does “transition activation” mean the same thing as saying the user gesture has been <em>“propagated”</em>? Or are those two things not synonymous (but instead there’s some more complex relation)?","msgtype":"m.text"},"ts":1629162530438,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$Aum9xWok82y0bP4_Oap7iKsp2-w0mVaE43WnAagK8x0"},
{"content":{"body":"I’m trying to read between the lines of the discussion at https://github.com/whatwg/html/issues/1903 (and other places)","msgtype":"m.text"},"ts":1629162563359,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$NNkyPxJWgqqXHCseBbwjfEd03h9DNtVF5cmBh3E83lU"},
{"content":{"body":"…and https://docs.google.com/document/d/1erpl1yqJlc1pH0QvVVmi1s3WzqQLsEXTLLh6VuYp228/edit#","msgtype":"m.text"},"ts":1629162645035,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$aIZLd53FIyn8jVCFs3i-LRlqH3DqxlLMCw7nXKnK3rY"},
{"content":{"body":"…and https://html.spec.whatwg.org/multipage/interaction.html#user-activation-gated-apis","msgtype":"m.text"},"ts":1629162840596,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$ORFRD80bMB1nyB0Mf9jqbszRGNcsbo8IoToPpzsHn0M"},
{"content":{"body":"context is that this has come up in recent MDN article content which uses the term _“transient user activation”_ but that I we don’t yet have defined anywhere in MDN (nor have any external definition to link to)","format":"org.matrix.custom.html","formatted_body":"context is that this has come up in recent MDN article content which uses the term <em>“transient user activation”</em> but that I we don’t yet have defined anywhere in MDN (nor have any external definition to link to)","msgtype":"m.text"},"ts":1629163035068,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$0mOzLKBatxEFYWXUEbT8R6_UEBWq3d1J0zAdOTxDUCA"},
{"content":{"body":"I guess I should wait to hear from Domenic for some guidance","format":"org.matrix.custom.html","formatted_body":"I guess I should wait to hear from <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a> for some guidance","msgtype":"m.text"},"ts":1629163056017,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$UEYkIiPoPJVM8XdWfoiRkq-HAdzVIewz5PHyXreqSFE"},
{"content":{"body":" * context is that this has come up in recent MDN article content which uses the term _“transient user activation”_ without us yet having defined that term anywhere in MDN (and without having any external definition to link to)","format":"org.matrix.custom.html","formatted_body":" * context is that this has come up in recent MDN article content which uses the term <em>“transient user activation”</em> without us yet having defined that term anywhere in MDN (and without having any external definition to link to)","m.new_content":{"body":"context is that this has come up in recent MDN article content which uses the term _“transient user activation”_ without us yet having defined that term anywhere in MDN (and without having any external definition to link to)","format":"org.matrix.custom.html","formatted_body":"context is that this has come up in recent MDN article content which uses the term <em>“transient user activation”</em> without us yet having defined that term anywhere in MDN (and without having any external definition to link to)","msgtype":"m.text"},"m.relates_to":{"event_id":"$0mOzLKBatxEFYWXUEbT8R6_UEBWq3d1J0zAdOTxDUCA","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1629163110753,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$h8Zkf-onvrqo6YiFxeR_8LQXFFkoF-vAXse43NIuwQY"},
{"content":{"body":"Draft definition: https://pr7962.content.dev.mdn.mozit.cloud/en-US/docs/Glossary/Transient_activation","msgtype":"m.text"},"ts":1629168860508,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$lVfmcFZHtQoM4eVy43cKAyStssiYAGFQf83AHyJL4MU"},
{"content":{"body":"> **Transient activation** (or \"transient user activation\") is a window state that indicates a user has recently pressed a button, moved a mouse, used a menu, or performed some other user interaction.","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<strong>Transient activation</strong> (or &quot;transient user activation&quot;) is a window state that indicates a user has recently pressed a button, moved a mouse, used a menu, or performed some other user interaction.\n</blockquote>\n","msgtype":"m.text"},"ts":1629168892975,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$Pgcvp67GwKFruS8hS5ZtPYrYtFXHRH-OG8fjS8AdZJk"},
{"content":{"body":"PR at https://github.com/mdn/content/pull/7962","msgtype":"m.text"},"ts":1629168940997,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$RLeQ8-bfgcJk7bpajqV5sYcD9qvFcZG4Fil7OxqydkY"},
{"content":{"body":"Domenic: no I missed that. My concern was more that a caller might want something like str.substring(0,10), but is okay with getting back shorter strings and doesn't want to truncate the length argument based on the input","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: no I missed that. My concern was more that a caller might want something like str.substring(0,10), but is okay with getting back shorter strings and doesn't want to truncate the length argument based on the input","msgtype":"m.text"},"ts":1629183781394,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$e1sotBi5rgpkRnzV0FcM5ii_DFgGidxE2iBTEpf8hs0"},
{"content":{"body":"Domenic: and similarly you might want to do str.substring(5,1), but be okay with getting back the empty string for strings that are not at least 6 long","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: and similarly you might want to do str.substring(5,1), but be okay with getting back the empty string for strings that are not at least 6 long","msgtype":"m.text"},"ts":1629183857314,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$sfx_Vx8t2b-OMXYUBNU--WXDBVjaWBipXR5IkbSRXXc"},
{"content":{"body":"https://lists.w3.org/Archives/Public/public-webappsec/2021Aug/0009.html reading Martin Thompson say that he finds some part of a spec “mind-numbingly arcane”, I no longer feel so bad for similar mind-numbness I feel when reading some specs. Kind of feel like I’m in pretty good company now…","msgtype":"m.text"},"ts":1629184694779,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$tuxlWJiMPSJ5OD4Oc3Ng1pOijtaSEv-yGfC4-Kaow34"},
{"content":{"body":"this makes me think the entire *navigate* algorithm should ideally have normative domintro box saying something meaningful for normal readers about what the algorithm does and what some key points/effects are","format":"org.matrix.custom.html","formatted_body":"this makes me think the entire <em>navigate</em> algorithm should ideally have normative domintro box saying something meaningful for normal readers about what the algorithm does and what some key points/effects are","msgtype":"m.text"},"ts":1629184843312,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$XqOlFDCNPUI9rgT6FDQVj-k_YwIrXQJTNLuhF3Kgh-w"},
{"content":{"body":"and in general, for other algorithms, across our core specs","msgtype":"m.text"},"ts":1629184885042,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$B_X9ZTRogiiJmC64-TV65EFNFCADAts-rK4ViKp1Oa4"},
{"content":{"body":"…because people do read actually those algorithms and try to exfiltrate some understanding from them","msgtype":"m.text"},"ts":1629184936186,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$jSWQ2vq8QuYxKCTdUgDq108z9z7LHgxZfA1rCjUP8DA"},
{"content":{"body":" * this makes me think the entire **navigate** algorithm should ideally have normative domintro box saying something meaningful for normal readers about what the algorithm does and what some key points/effects are","format":"org.matrix.custom.html","formatted_body":" * this makes me think the entire <strong>navigate</strong> algorithm should ideally have normative domintro box saying something meaningful for normal readers about what the algorithm does and what some key points/effects are","m.new_content":{"body":"this makes me think the entire **navigate** algorithm should ideally have normative domintro box saying something meaningful for normal readers about what the algorithm does and what some key points/effects are","format":"org.matrix.custom.html","formatted_body":"this makes me think the entire <strong>navigate</strong> algorithm should ideally have normative domintro box saying something meaningful for normal readers about what the algorithm does and what some key points/effects are","msgtype":"m.text"},"m.relates_to":{"event_id":"$XqOlFDCNPUI9rgT6FDQVj-k_YwIrXQJTNLuhF3Kgh-w","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1629185003879,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$-3RuWmRcdDE996cC18gBCHHUBMxu4pIxEuvNyb06Djk"},
{"content":{"body":"I feel like only people who actually have a clear understanding of the **navigate** algorithm are the editors who wrote it and the *maybe* implementors who implemented it — but I suspect even the implementors, to (re)understand it, would end up needing to go back and look at the code they wrote, rather than the prose of the spec","format":"org.matrix.custom.html","formatted_body":"I feel like only people who actually have a clear understanding of the <strong>navigate</strong> algorithm are the editors who wrote it and the <em>maybe</em> implementors who implemented it — but I suspect even the implementors, to (re)understand it, would end up needing to go back and look at the code they wrote, rather than the prose of the spec","msgtype":"m.text"},"ts":1629185145777,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$Fvpg8hImKQ6drk5HuyDFkEBmWUcPWZ_iCfE7BZVemzY"},
{"content":{"body":"And to be clear, I’m not complaining about the quality of spec prose — just saying it’s kind of inherently going to be arcane to pretty much anybody. And so supplementing it with some kind of non-normative domintro intro or outro could help a bit for orienting readers.","msgtype":"m.text"},"ts":1629185290199,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$ZPBTd-WcBL-X543JIaRMSGO-ahhFNvaYhscA9TcMXyE"},
{"content":{"body":" * I feel like only people who actually have a clear understanding of the **navigate** algorithm are the editors who wrote it and _maybe_ implementors who implemented it — but I suspect even the implementors, to (re)understand it, would end up needing to go back and look at the code they wrote, rather than the prose of the spec","format":"org.matrix.custom.html","formatted_body":" * I feel like only people who actually have a clear understanding of the <strong>navigate</strong> algorithm are the editors who wrote it and <em>maybe</em> implementors who implemented it — but I suspect even the implementors, to (re)understand it, would end up needing to go back and look at the code they wrote, rather than the prose of the spec","m.new_content":{"body":"I feel like only people who actually have a clear understanding of the **navigate** algorithm are the editors who wrote it and _maybe_ implementors who implemented it — but I suspect even the implementors, to (re)understand it, would end up needing to go back and look at the code they wrote, rather than the prose of the spec","format":"org.matrix.custom.html","formatted_body":"I feel like only people who actually have a clear understanding of the <strong>navigate</strong> algorithm are the editors who wrote it and <em>maybe</em> implementors who implemented it — but I suspect even the implementors, to (re)understand it, would end up needing to go back and look at the code they wrote, rather than the prose of the spec","msgtype":"m.text"},"m.relates_to":{"event_id":"$Fvpg8hImKQ6drk5HuyDFkEBmWUcPWZ_iCfE7BZVemzY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1629185327822,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$wMEValR51_jDFQx-CFAtMlnbhXcH2urudVYjmkA958Q"},
{"content":{"body":" * this makes me think the entire **navigate** algorithm should ideally have a non-normative domintro box saying something meaningful for normal readers about what the algorithm does and what some key points/effects are","format":"org.matrix.custom.html","formatted_body":" * this makes me think the entire <strong>navigate</strong> algorithm should ideally have a non-normative domintro box saying something meaningful for normal readers about what the algorithm does and what some key points/effects are","m.new_content":{"body":"this makes me think the entire **navigate** algorithm should ideally have a non-normative domintro box saying something meaningful for normal readers about what the algorithm does and what some key points/effects are","format":"org.matrix.custom.html","formatted_body":"this makes me think the entire <strong>navigate</strong> algorithm should ideally have a non-normative domintro box saying something meaningful for normal readers about what the algorithm does and what some key points/effects are","msgtype":"m.text"},"m.relates_to":{"event_id":"$XqOlFDCNPUI9rgT6FDQVj-k_YwIrXQJTNLuhF3Kgh-w","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1629185384318,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$lzF5KwOJ5FP6N3UmL6ST__6RZBMBTvqy50qKWwOpLxQ"},
{"content":{"body":" * I feel like the only people who actually have a clear understanding of the **navigate** algorithm are the editors who wrote it and _maybe_ implementors who implemented it — but I suspect even the implementors, to (re)understand it, would end up needing to go back and look at the code they wrote, rather than the prose of the spec","format":"org.matrix.custom.html","formatted_body":" * I feel like the only people who actually have a clear understanding of the <strong>navigate</strong> algorithm are the editors who wrote it and <em>maybe</em> implementors who implemented it — but I suspect even the implementors, to (re)understand it, would end up needing to go back and look at the code they wrote, rather than the prose of the spec","m.new_content":{"body":"I feel like the only people who actually have a clear understanding of the **navigate** algorithm are the editors who wrote it and _maybe_ implementors who implemented it — but I suspect even the implementors, to (re)understand it, would end up needing to go back and look at the code they wrote, rather than the prose of the spec","format":"org.matrix.custom.html","formatted_body":"I feel like the only people who actually have a clear understanding of the <strong>navigate</strong> algorithm are the editors who wrote it and <em>maybe</em> implementors who implemented it — but I suspect even the implementors, to (re)understand it, would end up needing to go back and look at the code they wrote, rather than the prose of the spec","msgtype":"m.text"},"m.relates_to":{"event_id":"$Fvpg8hImKQ6drk5HuyDFkEBmWUcPWZ_iCfE7BZVemzY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1629185406274,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$_jK7PAXezyyfTD0DKYePvjA4kvzGzHe5TIx3rEJO22s"},
{"content":{"body":" * I feel like the only people who actually have a clear understanding of the **navigate** algorithm are the editors who wrote it and _maybe_ the implementors who implemented it — but I suspect even the implementors, to (re)understand it, would end up needing to go back and look at the code they wrote, rather than the prose of the spec","format":"org.matrix.custom.html","formatted_body":" * I feel like the only people who actually have a clear understanding of the <strong>navigate</strong> algorithm are the editors who wrote it and <em>maybe</em> the implementors who implemented it — but I suspect even the implementors, to (re)understand it, would end up needing to go back and look at the code they wrote, rather than the prose of the spec","m.new_content":{"body":"I feel like the only people who actually have a clear understanding of the **navigate** algorithm are the editors who wrote it and _maybe_ the implementors who implemented it — but I suspect even the implementors, to (re)understand it, would end up needing to go back and look at the code they wrote, rather than the prose of the spec","format":"org.matrix.custom.html","formatted_body":"I feel like the only people who actually have a clear understanding of the <strong>navigate</strong> algorithm are the editors who wrote it and <em>maybe</em> the implementors who implemented it — but I suspect even the implementors, to (re)understand it, would end up needing to go back and look at the code they wrote, rather than the prose of the spec","msgtype":"m.text"},"m.relates_to":{"event_id":"$Fvpg8hImKQ6drk5HuyDFkEBmWUcPWZ_iCfE7BZVemzY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1629185418432,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$rS7jR76Puy6auXggo8oVQyqAOWlQamDtvaOdR5EdcMw"},
{"content":{"body":"Are there any implementors who actually implemented the navigate algorithm as written by now? :)","msgtype":"m.text"},"ts":1629185614515,"senderName":"Ms2ger 💉💉","senderId":"@ms2ger:igalia.com","id":"$9LIik11m5cTuTb4M8yKZKyJq3cPxMukr0YUPLg3sDWc"},
{"content":{"body":"touché","msgtype":"m.text"},"ts":1629185691384,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$rh8ddSybf4UWp8Szs2iif6AzvKzGgebeeAFfXPyPjMg"},
{"content":{"body":"> <@sideshowbarker:mozilla.org> this makes me think the entire **navigate** algorithm should ideally have a non-normative domintro box saying something meaningful for normal readers about what the algorithm does and what some key points/effects are\n\nI've argued this before, as it makes the spec often largely opaque. See also https://github.com/whatwg/dom/issues/474 for DOM events.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$XqOlFDCNPUI9rgT6FDQVj-k_YwIrXQJTNLuhF3Kgh-w?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">@sideshowbarker:mozilla.org</a><br>this makes me think the entire <strong>navigate</strong> algorithm should ideally have a non-normative domintro box saying something meaningful for normal readers about what the algorithm does and what some key points/effects are</blockquote></mx-reply>I've argued this before, as it makes the spec often largely opaque. See also https://github.com/whatwg/dom/issues/474 for DOM events.","m.relates_to":{"m.in_reply_to":{"event_id":"$XqOlFDCNPUI9rgT6FDQVj-k_YwIrXQJTNLuhF3Kgh-w"}},"msgtype":"m.text"},"ts":1629201193738,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$_K4B7EeHmMlf-QrEQVfhUDAKI6I8nOxJF4vVhPoFCI8"},
{"content":{"body":"looks","msgtype":"m.emote"},"ts":1629201663801,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$Zo6aaO5IhedWQh6JkJLlpilUksGXKskxqsFJZTrQlaE"},
{"content":{"body":"I'm a bit skeptical if https://github.com/html5lib/html5lib-tests/blob/master/tokenizer/domjs.test#L197 is worth enough having that it makes sense to expose more API surface in a parser implementation in order to pass it.","msgtype":"m.text"},"ts":1629201866330,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$bet0PjeEGX89QxQ8vwMz1W7CUi1AfvWEwSeweInYhlQ"},
{"content":{"body":"What's the challenge there? Needing to know whether the source string came from endianness-unknown UTF-8/16 etc.?","msgtype":"m.text"},"ts":1629202111719,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$o7cqe7SoBWktYQikO_Sz_Y3Zwt8fTP4gj25rFZ7zPr4"},
{"content":{"body":"> <@gsnedders:mozilla.org> What's the challenge there? Needing to know whether the source string came from endianness-unknown UTF-8/16 etc.?\n\nBeing able to turn off BOM removal.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$o7cqe7SoBWktYQikO_Sz_Y3Zwt8fTP4gj25rFZ7zPr4?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@gsnedders:mozilla.org\">@gsnedders:mozilla.org</a><br>What&#39;s the challenge there? Needing to know whether the source string came from endianness-unknown UTF-8/16 etc.?</blockquote></mx-reply>Being able to turn off BOM removal.","m.relates_to":{"m.in_reply_to":{"event_id":"$o7cqe7SoBWktYQikO_Sz_Y3Zwt8fTP4gj25rFZ7zPr4"}},"msgtype":"m.text"},"ts":1629202141005,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$P7-LcgxGrlSTcYOK9URooQln0KH17tzQkOAYnqPwlkw"},
{"content":{"body":"per spec, BOM removal is part of the decode step in Encoding, right?","msgtype":"m.text"},"ts":1629202180911,"senderName":"Sam Sneddon [:gsnedders]","senderId":"@gsnedders:mozilla.org","id":"$EdPI88p-W52RcZa0Crc9-pU0YMOc4K8dTjpmXSxigxM"},
{"content":{"body":"> <@gsnedders:mozilla.org> per spec, BOM removal is part of the decode step in Encoding, right?\n\nYes, but it's a bit fictitious for formats that support internal encoding declarations and, therefore, have format-internal logic.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$EdPI88p-W52RcZa0Crc9-pU0YMOc4K8dTjpmXSxigxM?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@gsnedders:mozilla.org\">@gsnedders:mozilla.org</a><br>per spec, BOM removal is part of the decode step in Encoding, right?</blockquote></mx-reply>Yes, but it's a bit fictitious for formats that support internal encoding declarations and, therefore, have format-internal logic.","m.relates_to":{"m.in_reply_to":{"event_id":"$EdPI88p-W52RcZa0Crc9-pU0YMOc4K8dTjpmXSxigxM"}},"msgtype":"m.text"},"ts":1629202243020,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$EKoEvCnFLbIBEwar7VlKSz6l9qc2U56h_paWFt8KdTM"},
{"content":{"body":"Well, I suppose there's already a de facto release of the parser from the validator-nu branch, so it's not worthwhile to try to avoid that bit of public API in the other branch.","msgtype":"m.text"},"ts":1629202998044,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$04M-U60C-fCr2-ZHTnGXwhOyHhv9M0OTNkgE90NryrI"},
{"content":{"body":"hsivonen: I can’t remember for sure I’m not certain the validator-nu release of the parser is actually usable outside the context of integration with the HTML checker release","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>: I can’t remember for sure I’m not certain the validator-nu release of the parser is actually usable outside the context of integration with the HTML checker release","msgtype":"m.text"},"ts":1629203249193,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$W2y-WRZHxQOgiyWU1eOI_5YuYIIzQz53eNFdvROS024"},
{"content":{"body":"Well, anyway `Driver.java` is low-level anyway, so let's just get it merged.","format":"org.matrix.custom.html","formatted_body":"Well, anyway <code>Driver.java</code> is low-level anyway, so let's just get it merged.","msgtype":"m.text"},"ts":1629203302548,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$YWq2JtE9JWq3XkfoHuqfhf21GZhztFSP3XJpwcZeweY"},
{"content":{"body":"and to be clear, the only release has been of the maven jar to the central repo — and even that’s never been announced\n","msgtype":"m.text"},"ts":1629203305625,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$A4pVLYnFC9uFMpBpClhKDyb0dR0tazXxB1cSKQblS8I"},
{"content":{"body":"> <@hsivonen:mozilla.org> Well, anyway `Driver.java` is low-level anyway, so let's just get it merged.\n\nOK","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$YWq2JtE9JWq3XkfoHuqfhf21GZhztFSP3XJpwcZeweY?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">@hsivonen:mozilla.org</a><br>Well, anyway <code>Driver.java</code> is low-level anyway, so let's just get it merged.</blockquote></mx-reply>OK","m.relates_to":{"m.in_reply_to":{"event_id":"$YWq2JtE9JWq3XkfoHuqfhf21GZhztFSP3XJpwcZeweY"}},"msgtype":"m.text"},"ts":1629203315289,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$N_w_U8vCxx5txw7iIjQDd0WEMlHBT6f_h059BTy5H_s"},
{"content":{"body":"I'm less happy about exposing the sniffing limit esp if https://github.com/whatwg/html/issues/6962 happens, but no exposing that one seems to block a whole lot of other patches. And that also seems to be in a low-level building block anyway.","msgtype":"m.text"},"ts":1629203405227,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$xnXvPBM77xRyMRJLk03112kpBMk04bS4dWIG0RsTz1M"},
{"content":{"body":"`master` is now missing only 5 changesets from `validator-nu` and 2 of those are in-flight for m-c, so I'll probably merge them tomorrow.","format":"org.matrix.custom.html","formatted_body":"<code>master</code> is now missing only 5 changesets from <code>validator-nu</code> and 2 of those are in-flight for m-c, so I'll probably merge them tomorrow.","msgtype":"m.text"},"ts":1629203508926,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$UmIq0ADQoETXlg1XKFz00vgJmhyLunXKPDqX3Q1sDWg"},
{"content":{"body":"The three patches that will be left are the hardest one (ambiguous ampersand) and the null doctype thing, which I'm inclined to say is a spec bug.","msgtype":"m.text"},"ts":1629203559114,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$O8KZ6HPaBM32Ue4mEM3om1QpoOR98QQaSaLa-uc6gkA"},
{"content":{"body":"Null doctype name, that is.","msgtype":"m.text"},"ts":1629203574544,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$YUWuUDukHtDQJ5LBTpSIvUoweGGiEskNc-xaMqBhX7Y"},
{"content":{"body":"Another possibility is merging the null doctype patches after ensuring the change isn't Web-visible, but it seems silly to have this kind of tokenizer-level difference from what's exposed via the DOM.","msgtype":"m.text"},"ts":1629203665298,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$k6EasSBSX3IjyGPF7Cm8Z1-Wk7NuJ-7WPfyiTJ-vC1E"},
{"content":{"body":"Yeah the ambiguous-ampersand one is a beast. But if I recall correctly I at least did finally manage to get that one passing all html5lib tests. So at least it is spec-conforming.","msgtype":"m.text"},"ts":1629203748672,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$UX-plFTGQnRW9-cgqN534khQzeJS64ZpRp-ePxwJNNk"},
{"content":{"body":"sideshowbarker: Note: I ended up discarding https://github.com/validator/htmlparser/commit/b50d61182d08f9da3cb69650c7f62126f812bb39 , so that's not included in \"5\"","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">sideshowbarker</a>: Note: I ended up discarding https://github.com/validator/htmlparser/commit/b50d61182d08f9da3cb69650c7f62126f812bb39 , so that's not included in &quot;5&quot;","msgtype":"m.text"},"ts":1629203871792,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$eGnbxO3Dthsr_rw3NwInl6Vm2sqFCzgZRuYBwMsxXzg"},
{"content":{"body":"about the null-doctype-name patch, I personally have no strong opinion or special insights on the harder questions about it — I just wrote it to get the relevant html5lib tests passing","msgtype":"m.text"},"ts":1629203873189,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$sUPtHYrZLbd2z6WVohgEIGxu83797_70-N6qjP_ZsOI"},
{"content":{"body":"> <@hsivonen:mozilla.org> sideshowbarker: Note: I ended up discarding https://github.com/validator/htmlparser/commit/b50d61182d08f9da3cb69650c7f62126f812bb39 , so that's not included in \"5\"\n\nlooks","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$eGnbxO3Dthsr_rw3NwInl6Vm2sqFCzgZRuYBwMsxXzg?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">@hsivonen:mozilla.org</a><br><a href=\"https://matrix.to/#/@sideshowbarker:mozilla.org\">sideshowbarker</a>: Note: I ended up discarding https://github.com/validator/htmlparser/commit/b50d61182d08f9da3cb69650c7f62126f812bb39 , so that's not included in \"5\"</blockquote></mx-reply>looks","m.relates_to":{"m.in_reply_to":{"event_id":"$eGnbxO3Dthsr_rw3NwInl6Vm2sqFCzgZRuYBwMsxXzg"}},"msgtype":"m.emote"},"ts":1629203886320,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$ebfu9VRu0gq-YP8a223OJ6qFWFUxASnAtsbJc6Jj09U"},
{"content":{"body":"At this point, I can’t even remember the context for that one…","msgtype":"m.text"},"ts":1629203959869,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$JEoJsPBM2_u53qFYM0wpZ4v50I1wfAwG9YpQHL2pdL4"},
{"content":{"body":"It was the addition I made the last time round I tried to merge a patch affecting EOF-in-template error reporting, but I solved it in a different way that's forward-compatible with Firefox perhaps becoming able to visualize EOF-triggered errors.","msgtype":"m.text"},"ts":1629204016566,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$LVLzSFySPSGH66_BFJQnonMoirrr38GTadRSSUNFye0"},
{"content":{"body":"aha, yeah, recalling that template stuff","msgtype":"m.text"},"ts":1629204055509,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$x8QeffeWXt_8vmnSBNihYakq6B9dUOMe_C0LL_IMhAE"},
{"content":{"body":"anyway the main end goal I had with all the open PRs/patches I wrote was that we could set up CI to run the html5lib test suite so that we could catch any regressions","msgtype":"m.text"},"ts":1629204084634,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$iQjz9TMOl5U7ahUImSc7TCBzVD0LnfUIU0iAqbZ_jtE"},
{"content":{"body":"being certain that we separately confirm we are conforming to the spec was a secondary concern for me :) because I work on faith that the html5lib tests are written to conform to the actual spec requirements","msgtype":"m.text"},"ts":1629204163698,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$hlLCIaVkLNjM60nEYKCOzgCGiKafXYhRU118CqGqwgw"},
{"content":{"body":"Perhaps it's the least churn for everyone if I just merge the doctype stuff and ensure that it's not Web-visible. But it would be sad if we now have so many project depending on the test suite that it's no longer worthwhile to change the spec or suite.","msgtype":"m.text"},"ts":1629204246432,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$uSQ13SCiUpm9FoxK0i0PkYMaGqyC3JLHJu6wX96JfxA"},
{"content":{"body":"also I think for the HTML checker behavior, most (or maybe none) of these changes actually make no difference — so it’s been hard for me to feel much direct pain about any issues with them","msgtype":"m.text"},"ts":1629204263408,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$TrZwJNhi89U75Oc1F1LjDKP3Nz7545UezbTDCUM-p7s"},
{"content":{"body":"The ones that affect Firefox View Source definitely affect the checker, too.","msgtype":"m.text"},"ts":1629204290124,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$Yh2rd9y1S0CgzR4mtYh_7fBzjfQn-HVNCprH0VinCYk"},
{"content":{"body":"> <@hsivonen:mozilla.org> Perhaps it's the least churn for everyone if I just merge the doctype stuff and ensure that it's not Web-visible. But it would be sad if we now have so many project depending on the test suite that it's no longer worthwhile to change the spec or suite.\n\nyeah I agree not being able to bring the test suite into conformance with the spec is not good","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$uSQ13SCiUpm9FoxK0i0PkYMaGqyC3JLHJu6wX96JfxA?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">@hsivonen:mozilla.org</a><br>Perhaps it&#39;s the least churn for everyone if I just merge the doctype stuff and ensure that it&#39;s not Web-visible. But it would be sad if we now have so many project depending on the test suite that it&#39;s no longer worthwhile to change the spec or suite.</blockquote></mx-reply>yeah I agree not being able to bring the test suite into conformance with the spec is not good","m.relates_to":{"m.in_reply_to":{"event_id":"$uSQ13SCiUpm9FoxK0i0PkYMaGqyC3JLHJu6wX96JfxA"}},"msgtype":"m.text"},"ts":1629204324551,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$7iVRSOjeFoyrFMdxjXFE2P5ncqzdt3o6c5lz3JQtBkw"},
{"content":{"body":"but it seems to me like there are not that many projects that are using the test suite and would definitely break / need to change their implementations","msgtype":"m.text"},"ts":1629204396649,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$3KnxRL5J3rWTgJnuURBH054NXGZ0CINjIOyPVwaDXtw"},
{"content":{"body":"I mean, it seems like it’s on the order of just 6 or 7?","msgtype":"m.text"},"ts":1629204449761,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$MpxyWrVH0IXGg46CHunZ9tPpnGTrV4UhlvOVtX6rl1o"},
{"content":{"body":"Not sure how many there are.","msgtype":"m.text"},"ts":1629204466405,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$u9WQXdlilzgG9Na4-d922xP4efV1yjBi496Klv6GyHI"},
{"content":{"body":"My primary concern is that leaving this oddity in could make non-browser-DOM APIs diverge from browsers in what they expose. However, probably no one care about what the non-browser API expose for doctype.","msgtype":"m.text"},"ts":1629204518988,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$HgjX17l3Gysfq1U-je7kaULdSvv9RYWOn1xQhqDpIA0"},
{"content":{"body":"I think most of the non-browser implementations would not be resistant to changing their code. But it’s the browser projects that would.","msgtype":"m.text"},"ts":1629204533841,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$LRAzlF3sErERXE5WOkyXlXZRt-EsvBTRSNR-QgbweeQ"},
{"content":{"body":"Does any browser project even run the tokenizer tests?","msgtype":"m.text"},"ts":1629204558412,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$TI5dpsO6aQb2ps_5cUMW838sw1wfm7m5ACUSKaRF9Ic"},
{"content":{"body":"> However, probably no one care about what the non-browser API expose for doctype.\nBingo. I would think so too.","format":"org.matrix.custom.html","formatted_body":"<blockquote>\nHowever, probably no one care about what the non-browser API expose for doctype.<br>Bingo. I would think so too.\n</blockquote>\n","msgtype":"m.text"},"ts":1629204567586,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$_9xBPr-u7Rfzmpz61zlYeWaPuO8pQRhOM8-Ht0foEHg"},
{"content":{"body":"Firefox runs them only on the Java level.","msgtype":"m.text"},"ts":1629204587155,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$pUcBVjoVun7_P8tyABMxHc9kM-0uzbsE24lNB5YixTY"}
]