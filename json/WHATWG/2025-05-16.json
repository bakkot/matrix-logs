[
{"content":{"body":"https://github.com/whatwg/html/issues/11314","m.mentions":{},"msgtype":"m.text"},"ts":1747354618933,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$gP8j4eBwM4-OzlrADniXqf6-_G15TYjXVgtudLwYqso"},
{"content":{"body":"This just seems like a special case of what I covered in https://github.com/w3c/ServiceWorker/pull/1755#issuecomment-2661941708 , about how we often treat some objects as both their JS/IDL instantiations, and as their browser-process instantiations. It's especially bad for globals like Window, Document, WorkerGlobalScope.","m.mentions":{},"msgtype":"m.text"},"ts":1747369360279,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$zSGBuQ-YHObnlwMnY5eZHgXeH6179_YBx5OqnKCSAME"},
{"content":{"body":"Yeah I guess the question is if we can make a meaningful improvement here that improves clarity while at the same time not have to maintain all kinds of user-agent remote objects. Perhaps we can have some special kind of indication for what objects can be accessed across the boundary and we could maybe even indicate what state can be accessed in this way.","m.mentions":{},"msgtype":"m.text"},"ts":1747390902585,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$WkgasX8Jkp7I4F5m8pb87ZMxXFgE2myhx3uvAEYI8r0"},
{"content":{"body":"it definitely has echoes of that issue.","m.mentions":{},"msgtype":"m.text"},"ts":1747404182431,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$B3dhKvB_laTGs9V87Scq_nbzMdOg4JvXQ8oxN1l4kSE"},
{"content":{"body":"is every WorkerGlobalScope's embedder policy always supposed to have the default values for every field? I can't find anywhere in the cross references for https://html.spec.whatwg.org/multipage/workers.html#concept-workerglobalscope-embedder-policy that actually initializes it to anything.","m.mentions":{},"msgtype":"m.text"},"ts":1747411690286,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$mLd8dAZCECSJGMSoCfwN5nwvHGyd9411FcGWMMPA494"},
{"content":{"body":"is there supposed to be some stronger relationship between a worker global scope's policy container and its embedder policy or something?","m.mentions":{},"msgtype":"m.text"},"ts":1747411975320,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$aD6vn6ElEeVO9bDWQ3Ynx5yIDZxbF6xxOepUUVLKn5Q"},
{"content":{"body":"oh I think I see. the references to WorkerGlobalScope's embedder policy should instead refer to its policy container's embedder policy","m.mentions":{},"msgtype":"m.text"},"ts":1747412050975,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$SL_JAcTsp8gj-RqFW-XDDCB7v9FmxuYkp8cklGmzg6Y"},
{"content":{"body":"esp given the FIXME in https://html.spec.whatwg.org/multipage/browsers.html#policy-container to \"move other policies into the policy container\"","m.mentions":{},"msgtype":"m.text"},"ts":1747412069023,"senderName":"akaster","senderId":"@akaster:serenityos.org","id":"$DiaFa_UMFJfyW0VVPlFUD-aAZLY7BPRpPG55_LP4cHs"},
{"content":{"body":"nicolo-ribaudo: Hi, I'd like to ask a question regarding to the fetch descendants of a module script, https://html.spec.whatwg.org/#fetch-the-descendants-of-and-link-a-module-script, in step 7, \"Upon rejection of loadPromise, ...\", the spec only handles the [[ParseError]] to the 'error to rethrow', what about other Errors thrown during HostLoadImportedModule, https://html.spec.whatwg.org/#hostloadimportedmodule, for example resolutionError, TypeError ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@nicolo-ribaudo:matrix.org\">nicolo-ribaudo</a>: Hi, I'd like to ask a question regarding to the fetch descendants of a module script, https://html.spec.whatwg.org/#fetch-the-descendants-of-and-link-a-module-script, in step 7, &quot;Upon rejection of loadPromise, ...&quot;, the spec only handles the [[ParseError]] to the 'error to rethrow', what about other Errors thrown during HostLoadImportedModule, https://html.spec.whatwg.org/#hostloadimportedmodule, for example resolutionError, TypeError","msgtype":"m.text"},"ts":1747427528374,"senderName":"@allstarschh","senderId":"@allstarschh:mozilla.org","id":"$dWpXJwO75-lluxPaZig-HnVXorAVioSf7pI21GmAJkM"},
{"content":{"body":"I'll reply in the next few days, I need to re-read the spec I wrote because it has been a while","m.relates_to":{"event_id":"$dWpXJwO75-lluxPaZig-HnVXorAVioSf7pI21GmAJkM","is_falling_back":true,"m.in_reply_to":{"event_id":"$dWpXJwO75-lluxPaZig-HnVXorAVioSf7pI21GmAJkM"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1747427616441,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$kZwkViY2UenjdQebpVLGz3foItELc9v3mb3fHJRJ5TE"},
{"content":{"body":"in step 7.2 of the fetch descendants, \"run onComplete given null\", then to the 'execute the script element\", step 4, if el's result is null, fire onerror ","m.relates_to":{"event_id":"$dWpXJwO75-lluxPaZig-HnVXorAVioSf7pI21GmAJkM","is_falling_back":true,"m.in_reply_to":{"event_id":"$kZwkViY2UenjdQebpVLGz3foItELc9v3mb3fHJRJ5TE"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1747427974003,"senderName":"@allstarschh","senderId":"@allstarschh:mozilla.org","id":"$8KowvDineyq_vwykpLkklfYq_yJqkMrLBIYOC3kuOqs"},
{"content":{"body":"and the wpt is https://github.com/web-platform-tests/wpt/blob/master/html/semantics/scripting-1/the-script-element/import-attributes/invalid-type-attribute-error.html","m.relates_to":{"event_id":"$dWpXJwO75-lluxPaZig-HnVXorAVioSf7pI21GmAJkM","is_falling_back":true,"m.in_reply_to":{"event_id":"$8KowvDineyq_vwykpLkklfYq_yJqkMrLBIYOC3kuOqs"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1747428068160,"senderName":"@allstarschh","senderId":"@allstarschh:mozilla.org","id":"$6KF3cWu17Qs5lS0nRzP2KDsr8YNpqhqgP_LB-iUzu7c"},
{"content":{"body":"the wpt expects window.onerror, not  script's onerror, so I am confused","m.relates_to":{"event_id":"$dWpXJwO75-lluxPaZig-HnVXorAVioSf7pI21GmAJkM","is_falling_back":true,"m.in_reply_to":{"event_id":"$6KF3cWu17Qs5lS0nRzP2KDsr8YNpqhqgP_LB-iUzu7c"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1747428127808,"senderName":"@allstarschh","senderId":"@allstarschh:mozilla.org","id":"$_Hfw4JEk02PcJCYqVRi7e0cxHbawo1ieXvwUgwf5UUk"},
{"content":{"body":"have a nice weekend then","m.relates_to":{"event_id":"$dWpXJwO75-lluxPaZig-HnVXorAVioSf7pI21GmAJkM","is_falling_back":true,"m.in_reply_to":{"event_id":"$_Hfw4JEk02PcJCYqVRi7e0cxHbawo1ieXvwUgwf5UUk"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1747428155898,"senderName":"@allstarschh","senderId":"@allstarschh:mozilla.org","id":"$VRuZKEZ4yOebO30z-49coafrk9a0XEd0uhfGfOd9lWU"}
]