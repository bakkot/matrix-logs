[
{"content":{"body":"> <@jakea:matrix.org> hsivonen: https://www.w3.org/events/meetings/118f6c22-1545-4c3b-9581-260621fec362 - we've moved the session earlier\n\nThanks. I'll call in.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$9bMZOj9x3BGlhXtDzOLhcdiRsQEb0vPaqb1gCCSv9-E?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@jakea:matrix.org\">@jakea:matrix.org</a><br><a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>: https://www.w3.org/events/meetings/118f6c22-1545-4c3b-9581-260621fec362 - we've moved the session earlier</blockquote></mx-reply>Thanks. I'll call in.","m.relates_to":{"m.in_reply_to":{"event_id":"$9bMZOj9x3BGlhXtDzOLhcdiRsQEb0vPaqb1gCCSv9-E"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@jakea:matrix.org> hsivonen: https://www.w3.org/events/meetings/118f6c22-1545-4c3b-9581-260621fec362 - we've moved the session earlier\n\nThanks. I'll call in.","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$9bMZOj9x3BGlhXtDzOLhcdiRsQEb0vPaqb1gCCSv9-E?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@jakea:matrix.org\">@jakea:matrix.org</a><br><a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>: https://www.w3.org/events/meetings/118f6c22-1545-4c3b-9581-260621fec362 - we've moved the session earlier</blockquote></mx-reply>Thanks. I'll call in.","mimetype":"text/html"}]},"ts":1663129783342,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$OGh1Al-nEz2Emd11Wv0CQ9keflGnRjkArVBUk7yOzG0"},
{"content":{"body":"Hi! I have a question regarding modules imports.\nWhen you dynamically import a module that is already in the modules map, does it yield to the event loop? My reading of the spec is \"no\", because it schedules a task to continue the import only when it performs an actual fetch, but both Firefox and Chrome seem to yield. They only settle the dynamic import promise in the current promise tasks queue if the import specifier is malformed.","msgtype":"m.text"},"ts":1663145146503,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$HkKVioILRwyx-uiXmfHXwSK84a2zg7kM1GraLi1GfLM"},
{"content":{"body":"https://html.spec.whatwg.org/multipage/webappapis.html#hostimportmoduledynamically(referencingscriptormodule,-modulerequest,-promisecapability) - the async returning doesn't seem particularly well integrated with the event loop","msgtype":"m.text","org.matrix.msc1767.text":"https://html.spec.whatwg.org/multipage/webappapis.html#hostimportmoduledynamically(referencingscriptormodule,-modulerequest,-promisecapability) - the async returning doesn't seem particularly well integrated with the event loop"},"ts":1663145479464,"senderName":"Ms2ger ðŸ’‰ðŸ’‰","senderId":"@ms2ger:igalia.com","id":"$23fUhnMN3RpFbV85HysSqfUxYf1ZtZIaXzuN6NkBhRs"},
{"content":{"body":"Right, I'm removing it in https://github.com/whatwg/html/pull/8264 and I'm not 100% sure that I got that part correctly.","msgtype":"m.text"},"ts":1663145860137,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$3xgItrLJ639xxUdFyzUUsAkgkIUwfigYq-2k9b6fS30"},
{"content":{"body":"What mechanism makes the document.write in https://github.com/web-platform-tests/wpt/blob/master/html/browsers/browsing-the-web/navigating-across-documents/010.html not interfere with the load of href.html?","msgtype":"m.text","org.matrix.msc1767.text":"What mechanism makes the document.write in https://github.com/web-platform-tests/wpt/blob/master/html/browsers/browsing-the-web/navigating-across-documents/010.html not interfere with the load of href.html?"},"ts":1663152308111,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$rosx7jJNtiKbOt7mUCBWNXhAZlK2uRXSr4k_8SvhRAg"},
{"content":{"body":"in Chrome that is","msgtype":"m.text","org.matrix.msc1767.text":"in Chrome that is"},"ts":1663152315000,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$Rmw4b-pG_Tnh5010M9BUF39yeVdAKSnL90342iRYIus"},
{"content":{"body":"In Firefox currently, the mechanism is that the about:blank isn't the initial about:blank anymore, so the navigation does not reuse the inner window, so the `document.write` happens on the old (about:blank) document.","format":"org.matrix.custom.html","formatted_body":"In Firefox currently, the mechanism is that the about:blank isn't the initial about:blank anymore, so the navigation does not reuse the inner window, so the <code>document.write</code> happens on the old (about:blank) document.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"In Firefox currently, the mechanism is that the about:blank isn't the initial about:blank anymore, so the navigation does not reuse the inner window, so the `document.write` happens on the old (about:blank) document.","mimetype":"text/plain"},{"body":"In Firefox currently, the mechanism is that the about:blank isn't the initial about:blank anymore, so the navigation does not reuse the inner window, so the <code>document.write</code> happens on the old (about:blank) document.","mimetype":"text/html"}]},"ts":1663152360368,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$a2B9H-kyvHrtdo24bGUpyhqNoUBYaVYSD8AUh__A6eU"},
{"content":{"body":"However, when inner window reuse takes place, which it presumably does in Chrome, what makes the `document.write` not blow away the new document that has become the document of the inner window while the event loop for the sync XHR was spinning?","format":"org.matrix.custom.html","formatted_body":"However, when inner window reuse takes place, which it presumably does in Chrome, what makes the <code>document.write</code> not blow away the new document that has become the document of the inner window while the event loop for the sync XHR was spinning?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"However, when inner window reuse takes place, which it presumably does in Chrome, what makes the `document.write` not blow away the new document that has become the document of the inner window while the event loop for the sync XHR was spinning?","mimetype":"text/plain"},{"body":"However, when inner window reuse takes place, which it presumably does in Chrome, what makes the <code>document.write</code> not blow away the new document that has become the document of the inner window while the event loop for the sync XHR was spinning?","mimetype":"text/html"}]},"ts":1663152435162,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$LVNm2z8-z98WMM7qT3NUkCydflxSc8-qYUC10M4zyqM"},
{"content":{"body":"When Chrome aborts the old fetches (including the XHR), does it also manage to abort scripts that are being executed so that the JavaScript program aborts before xhr.send() returns?","msgtype":"m.text","org.matrix.msc1767.text":"When Chrome aborts the old fetches (including the XHR), does it also manage to abort scripts that are being executed so that the JavaScript program aborts before xhr.send() returns?"},"ts":1663152561618,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$8LxIK_eWi9I8qAdo5H9rW4mMxbKwcHZyOHAyZIkZTY4"},
{"content":{"body":"I guess I should test that hypothesis.","msgtype":"m.text","org.matrix.msc1767.text":"I guess I should test that hypothesis."},"ts":1663152583161,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$HhndtCY9AtupqmGf3srNAZHQidM-V5W3_vmCh5ix2HA"},
{"content":{"body":"I can't log with console.log() from within the javascript: URL in Chrome. Is Chrome not executing the javascript: URL at all for some reason?","msgtype":"m.text","org.matrix.msc1767.text":"I can't log with console.log() from within the javascript: URL in Chrome. Is Chrome not executing the javascript: URL at all for some reason?"},"ts":1663152877109,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$eP3spXsRPwSnNH-OmX9AoT2fqDhiC4X65eubjQ8aUbo"},
{"content":{"body":"smaug: smaug","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: smaug","msgtype":"m.text"},"ts":1663154768349,"senderName":"Haerul Fuad","senderId":"@aplikasi:matrix.org","id":"$FIaObpZqNtYL5tIugbdPPjPoFiKW31cxQC3xjsRrEic"},
{"content":{"body":"> <@domenicdenicola:matrix.org> Hi Tasha, what does \"didn't work\" mean? Did you get an error?\n\nSo, I clicked signed as an Individual and then submit. The result is I got an error 400. It says Invalid 'entity-name' field. I don't see any form or anything. I'm so confused. ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$Zo5zlSUNxIKep7cAlwNoF8dLxvrcaYR1YJTuyXHs0Ag?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br>Hi Tasha, what does \"didn't work\" mean? Did you get an error?</blockquote></mx-reply>So, I clicked signed as an Individual and then submit. The result is I got an error 400. It says Invalid 'entity-name' field. I don't see any form or anything. I'm so confused.","m.relates_to":{"m.in_reply_to":{"event_id":"$Zo5zlSUNxIKep7cAlwNoF8dLxvrcaYR1YJTuyXHs0Ag"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@domenicdenicola:matrix.org> Hi Tasha, what does \"didn't work\" mean? Did you get an error?\n\nSo, I clicked signed as an Individual and then submit. The result is I got an error 400. It says Invalid 'entity-name' field. I don't see any form or anything. I'm so confused. ","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$Zo5zlSUNxIKep7cAlwNoF8dLxvrcaYR1YJTuyXHs0Ag?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br>Hi Tasha, what does \"didn't work\" mean? Did you get an error?</blockquote></mx-reply>So, I clicked signed as an Individual and then submit. The result is I got an error 400. It says Invalid 'entity-name' field. I don't see any form or anything. I'm so confused.","mimetype":"text/html"}]},"ts":1663163216153,"senderName":"tashasyarifah","senderId":"@tashasyarifah:matrix.org","id":"$pwMaNeghE_mZcFY4dXZU5ZmUPkX2Frt5WNUkDx5Yw7w"},
{"content":{"body":"> with arguments method, args and, undefined.","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>with arguments method, args and, undefined.</p>\n</blockquote>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> with arguments method, args and, undefined.","mimetype":"text/plain"},{"body":"<blockquote>\n<p>with arguments method, args and, undefined.</p>\n</blockquote>\n","mimetype":"text/html"}]},"ts":1663165402311,"senderName":"Ms2ger ðŸ’‰ðŸ’‰","senderId":"@ms2ger:igalia.com","id":"$ytjUgpMgl0SUz9gJU1Px-n6BT0nUF5beqs7d6qaa88w"},
{"content":{"body":"Is that the Cambridge comma?","msgtype":"m.text","org.matrix.msc1767.text":"Is that the Cambridge comma?"},"ts":1663165408839,"senderName":"Ms2ger ðŸ’‰ðŸ’‰","senderId":"@ms2ger:igalia.com","id":"$MyOJn14YYF8oYqAjjSwMcgxHQZRY8phrSq_JLeRbH6M"},
{"content":{"body":"tashasyarifah: did you click the triangle in \" If signing as an Individual\" or did you click the link \"Individual\"?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@tashasyarifah:matrix.org\">tashasyarifah</a>: did you click the triangle in &quot; If signing as an Individual&quot; or did you click the link &quot;Individual&quot;?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"tashasyarifah: did you click the triangle in \" If signing as an Individual\" or did you click the link \"Individual\"?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@tashasyarifah:matrix.org\">tashasyarifah</a>: did you click the triangle in &quot; If signing as an Individual&quot; or did you click the link &quot;Individual&quot;?","mimetype":"text/html"}]},"ts":1663174279332,"senderName":"zcorpan","senderId":"@zcorpan_:matrix.org","id":"$8qKDMMWNTajQYTb_t1igh56xeT0whhaXt1XWG4SV5PY"},
{"content":{"body":"Maybe <details> here is confusing UI","msgtype":"m.text","org.matrix.msc1767.text":"Maybe <details> here is confusing UI"},"ts":1663174357147,"senderName":"zcorpan","senderId":"@zcorpan_:matrix.org","id":"$BWJe7GV_RUpaUywgvYhPZgI7GAKTx5pmJsAVDCHuDWI"},
{"content":{"body":"and links in <summary> is certainly confusing UI (https://github.com/whatwg/html/issues/2272)","msgtype":"m.text","org.matrix.msc1767.text":"and links in <summary> is certainly confusing UI (https://github.com/whatwg/html/issues/2272)"},"ts":1663174393545,"senderName":"zcorpan","senderId":"@zcorpan_:matrix.org","id":"$aVFSq-x5MKArS3VNEhWNBRdutvbQ7Wc_KCAw903eEqk"},
{"content":{"body":"nicolo-ribaudo: I guess we should match browsers here, and queue a task regardless. Even if IMO it would have been more elegant not to yield, this is what I get for using imprecise spec constructs; implementers used what they are familiar with / what is well specced (task yielding) and now we end up here.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@nicolo-ribaudo:matrix.org\">nicolo-ribaudo</a>: I guess we should match browsers here, and queue a task regardless. Even if IMO it would have been more elegant not to yield, this is what I get for using imprecise spec constructs; implementers used what they are familiar with / what is well specced (task yielding) and now we end up here.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"nicolo-ribaudo: I guess we should match browsers here, and queue a task regardless. Even if IMO it would have been more elegant not to yield, this is what I get for using imprecise spec constructs; implementers used what they are familiar with / what is well specced (task yielding) and now we end up here.","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@nicolo-ribaudo:matrix.org\">nicolo-ribaudo</a>: I guess we should match browsers here, and queue a task regardless. Even if IMO it would have been more elegant not to yield, this is what I get for using imprecise spec constructs; implementers used what they are familiar with / what is well specced (task yielding) and now we end up here.","mimetype":"text/html"}]},"ts":1663174503529,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$J5v2RXU9BZEdjZGPOhc3tz3IhwrqjGvMqpdHiO0hx5g"},
{"content":{"body":"Web platform tests for this would be ideal if possible :)","msgtype":"m.text","org.matrix.msc1767.text":"Web platform tests for this would be ideal if possible :)"},"ts":1663174553282,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$YmzDl_qd3Lg7kjCRbqD2SH_Yj9VNzTkVv0OY5qpM9C0"},
{"content":{"body":"Yeah I agree that not yielding would be more elegant... I'll try to check how the other browsers behave; if they all agree or if there is inconsistent behaviour.","msgtype":"m.text"},"ts":1663174796413,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$8RNAguDDHbWoB2WV7NOZ1ssbGalIWQpOYXUinZClNiU"},
{"content":{"body":"hsivonen: are you able to review https://github.com/whatwg/html/pull/8271 ?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>: are you able to review https://github.com/whatwg/html/pull/8271 ?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"hsivonen: are you able to review https://github.com/whatwg/html/pull/8271 ?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>: are you able to review https://github.com/whatwg/html/pull/8271 ?","mimetype":"text/html"}]},"ts":1663178074659,"senderName":"zcorpan","senderId":"@zcorpan_:matrix.org","id":"$gY3EK-RumkKpdG_mYaihyC4DnyT-d7tP8KBuwGJr1fE"},
{"content":{"body":"> <@zcorpan_:matrix.org> hsivonen: are you able to review https://github.com/whatwg/html/pull/8271 ?\n\nI set a reminder for myself for tomorrow","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$gY3EK-RumkKpdG_mYaihyC4DnyT-d7tP8KBuwGJr1fE?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@zcorpan_:matrix.org\">@zcorpan_:matrix.org</a><br><a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>: are you able to review https://github.com/whatwg/html/pull/8271 ?</blockquote></mx-reply>I set a reminder for myself for tomorrow","m.relates_to":{"m.in_reply_to":{"event_id":"$gY3EK-RumkKpdG_mYaihyC4DnyT-d7tP8KBuwGJr1fE"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@zcorpan_:matrix.org> hsivonen: are you able to review https://github.com/whatwg/html/pull/8271 ?\n\nI set a reminder for myself for tomorrow","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$gY3EK-RumkKpdG_mYaihyC4DnyT-d7tP8KBuwGJr1fE?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@zcorpan_:matrix.org\">@zcorpan_:matrix.org</a><br><a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">hsivonen</a>: are you able to review https://github.com/whatwg/html/pull/8271 ?</blockquote></mx-reply>I set a reminder for myself for tomorrow","mimetype":"text/html"}]},"ts":1663179857138,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$5OEJVFo-u4vzZTvDC4bGQwayTlKY_C3SuUHmnJBkCJg"},
{"content":{"body":"ty","msgtype":"m.text","org.matrix.msc1767.text":"ty"},"ts":1663181604837,"senderName":"zcorpan","senderId":"@zcorpan_:matrix.org","id":"$tzzmiMzuyP97q6Xb2BbTV9x65oTnlBkBO0xvKuQQgd4"},
{"content":{"body":"AFAICT Chrome doesn't execute the javascript: URL at all on https://github.com/web-platform-tests/wpt/blame/master/html/browsers/browsing-the-web/navigating-across-documents/010.html . Safari, however, is really strange: onmessage sees document.write() winning over the href navigation but what the user sees is the href navigation--not the document.write.","msgtype":"m.text","org.matrix.msc1767.text":"AFAICT Chrome doesn't execute the javascript: URL at all on https://github.com/web-platform-tests/wpt/blame/master/html/browsers/browsing-the-web/navigating-across-documents/010.html . Safari, however, is really strange: onmessage sees document.write() winning over the href navigation but what the user sees is the href navigation--not the document.write."},"ts":1663183337311,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$43KrMiq0VAiX7QFJxI1Yr9X-X2QHpYo99GZDZVtK9NA"},
{"content":{"body":"Currently my local patch for Gecko has document.write winning both for script and rendering purposes.","msgtype":"m.text","org.matrix.msc1767.text":"Currently my local patch for Gecko has document.write winning both for script and rendering purposes."},"ts":1663183359908,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$A3dIfh-PL_uYU6UE2T7u5zdCnmnTY5UP1edLeYDUkPQ"},
{"content":{"body":"Under what theory should document.write() not win?","msgtype":"m.text","org.matrix.msc1767.text":"Under what theory should document.write() not win?"},"ts":1663183371559,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$bzq8lYZwdKUc4QwN2Wugnt3KelUeO-lyh7hn5okLI2c"},
{"content":{"body":"That is, what's the logic that the test is trying to test? That aborting the javascript: URL navigation should abort the script excecution and not just the pseudo-network response resulting from the returned string?","msgtype":"m.text","org.matrix.msc1767.text":"That is, what's the logic that the test is trying to test? That aborting the javascript: URL navigation should abort the script excecution and not just the pseudo-network response resulting from the returned string?"},"ts":1663183479658,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$EiC9AmXhzuoj_VmEQRAGxzVJET7OoKew9xpfYvTSLdE"},
{"content":{"body":"jgraham: ^","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>: ^","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"jgraham: ^","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@jgraham_:matrix.org\">jgraham</a>: ^","mimetype":"text/html"}]},"ts":1663183485775,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$tVNrprc8N2busgVZyM1isUQ5Ck5xEKlo7lZMe5EzWDM"}
]