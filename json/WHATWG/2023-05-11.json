[
{"content":{"body":"Is `toString` intentionally omitted from the Location object's IDL? https://html.spec.whatwg.org/multipage/nav-history-apis.html","format":"org.matrix.custom.html","formatted_body":"Is <code>toString</code> intentionally omitted from the Location object's IDL? https://html.spec.whatwg.org/multipage/nav-history-apis.html","msgtype":"m.text"},"ts":1683769070939,"senderName":"jugglinmike","senderId":"@jugglinmike:matrix.org","id":"$JFMWg7DG0OLv5CdeUioOexeFbPvNpv99_5DZ1EVpIwk"},
{"content":{"body":"Actually, since `toString` could alternatively be defined in the additional creation steps but is not, I ought to ask: can someone tell me where `location.toString` is defined? (Chrome and Firefox expose it as an \"own\" property. Unlike what's spec'd for `location.valueOf`, the value is distinct from the corresponding property on the Object prototype.)","format":"org.matrix.custom.html","formatted_body":"Actually, since <code>toString</code> could alternatively be defined in the additional creation steps but is not, I ought to ask: can someone tell me where <code>location.toString</code> is defined? (Chrome and Firefox expose it as an &quot;own&quot; property. Unlike what's spec'd for <code>location.valueOf</code>, the value is distinct from the corresponding property on the Object prototype.)","msgtype":"m.text"},"ts":1683771786941,"senderName":"jugglinmike","senderId":"@jugglinmike:matrix.org","id":"$y6dbf28qMonE0rbp2iXFY5gkrkJgjsnVWt4PN552Dlg"},
{"content":{"body":"This was the central topic of [this 2017 patch](https://github.com/whatwg/html/pull/2294), but the resolution is confusing me. The change to the specification seems to rely on prototypal inheritance of `Object.prototype.toString`, but [the corresponding tests added to WPT](https://github.com/web-platform-tests/wpt/pull/4623) expect an \"own\" property.","format":"org.matrix.custom.html","formatted_body":"This was the central topic of <a href=\"https://github.com/whatwg/html/pull/2294\">this 2017 patch</a>, but the resolution is confusing me. The change to the specification seems to rely on prototypal inheritance of <code>Object.prototype.toString</code>, but <a href=\"https://github.com/web-platform-tests/wpt/pull/4623\">the corresponding tests added to WPT</a> expect an &quot;own&quot; property.","msgtype":"m.text"},"ts":1683773753131,"senderName":"jugglinmike","senderId":"@jugglinmike:matrix.org","id":"$UtwQivV8yk_CdXDPsKF58EOeuc__8mnD639B_53BKN0"},
{"content":{"body":"question:\n\n- \"resolve a URL-like module specifier\" takes a string https://html.spec.whatwg.org/multipage/webappapis.html#resolving-a-url-like-module-specifier\n- but it calls \"URL parsing\", which takes a scalar value string, i.e. one with no unpaired surrogates https://url.spec.whatwg.org/#concept-url-parser\n\nhow does that... work? is it implicitly \"convert\"ing strings to scalar strings? https://infra.spec.whatwg.org/#javascript-string-convert\n\nassuming yes, in which case Chrome has a bug - `import('./\\ud800.js')` doesn't actually end up triggering a network request for `%EF%BF%BD.js”`, which is what it would do if it did the specified conversion (FF and Safari do trigger that request)","format":"org.matrix.custom.html","formatted_body":"<p>question:</p>\n<ul>\n<li>&quot;resolve a URL-like module specifier&quot; takes a string https://html.spec.whatwg.org/multipage/webappapis.html#resolving-a-url-like-module-specifier</li>\n<li>but it calls &quot;URL parsing&quot;, which takes a scalar value string, i.e. one with no unpaired surrogates https://url.spec.whatwg.org/#concept-url-parser</li>\n</ul>\n<p>how does that... work? is it implicitly &quot;convert&quot;ing strings to scalar strings? https://infra.spec.whatwg.org/#javascript-string-convert</p>\n<p>assuming yes, in which case Chrome has a bug - <code>import('./\\ud800.js')</code> doesn't actually end up triggering a network request for <code>%EF%BF%BD.js”</code>, which is what it would do if it did the specified conversion (FF and Safari do trigger that request)</p>\n","msgtype":"m.text"},"ts":1683782817310,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$s3FG5OxFTmJgnHgu6XuPSPBlNCivtCrmqNhLnAvu4BQ"},
{"content":{"body":"TabAtkins: https://github.com/speced/bikeshed-boilerplate/pull/39 is a patch for making that change to fix the fragment-preserving redirect behavior for the CSS specs","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@tabatkins:matrix.org\">TabAtkins</a>: https://github.com/speced/bikeshed-boilerplate/pull/39 is a patch for making that change to fix the fragment-preserving redirect behavior for the CSS specs","msgtype":"m.text"},"ts":1683783092330,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$sTA0NNXUA2PV4eWp5-QIeUrgmw_uyyvaSEYfXzA1UUs"},
{"content":{"body":"snek: I'm gonna take over your WebSockets work, hope that's okay","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@devsnek:matrix.org\">snek</a>: I'm gonna take over your WebSockets work, hope that's okay","msgtype":"m.text"},"ts":1683789555928,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$qn-vsRBvNRNqy7BNaxkI7k9ac2jtg6GUwdxPocjbcJM"},
{"content":{"body":"bakkot: it's not, you found a bug, but Fx/Safari behave as the spec should read (it should call convert before it calls the URL parser)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: it's not, you found a bug, but Fx/Safari behave as the spec should read (it should call convert before it calls the URL parser)","msgtype":"m.text"},"ts":1683789760497,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$I14pQIUW-gD91jMpFlHf1Pjj3Qqv2KluyKjdDfeSqsk"},
{"content":{"body":"smaug: did you follow the discussion in https://github.com/whatwg/dom/pull/1152? Are you still okay with the PR as-is?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: did you follow the discussion in https://github.com/whatwg/dom/pull/1152? Are you still okay with the PR as-is?","msgtype":"m.text"},"ts":1683812620641,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$0jI3LGrV1XwIWMn1G1lYlxqNoDG7uUaQiGGbnMkKLyE"},
{"content":{"body":"smaug: I'm okay with it still I think, but I'd like at least one more set of eyes","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: I'm okay with it still I think, but I'd like at least one more set of eyes","msgtype":"m.text"},"ts":1683812637021,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$yv6DRF0JK4hGf6E2_w35Ekeaa6E_SAV0NtZYGrLEYWA"}
]