[
{"content":{"body":"Is `toString` intentionally omitted from the Location object's IDL? https://html.spec.whatwg.org/multipage/nav-history-apis.html","format":"org.matrix.custom.html","formatted_body":"Is <code>toString</code> intentionally omitted from the Location object's IDL? https://html.spec.whatwg.org/multipage/nav-history-apis.html","msgtype":"m.text"},"ts":1683769070939,"senderName":"jugglinmike","senderId":"@jugglinmike:matrix.org","id":"$JFMWg7DG0OLv5CdeUioOexeFbPvNpv99_5DZ1EVpIwk"},
{"content":{"body":"Actually, since `toString` could alternatively be defined in the additional creation steps but is not, I ought to ask: can someone tell me where `location.toString` is defined? (Chrome and Firefox expose it as an \"own\" property. Unlike what's spec'd for `location.valueOf`, the value is distinct from the corresponding property on the Object prototype.)","format":"org.matrix.custom.html","formatted_body":"Actually, since <code>toString</code> could alternatively be defined in the additional creation steps but is not, I ought to ask: can someone tell me where <code>location.toString</code> is defined? (Chrome and Firefox expose it as an &quot;own&quot; property. Unlike what's spec'd for <code>location.valueOf</code>, the value is distinct from the corresponding property on the Object prototype.)","msgtype":"m.text"},"ts":1683771786941,"senderName":"jugglinmike","senderId":"@jugglinmike:matrix.org","id":"$y6dbf28qMonE0rbp2iXFY5gkrkJgjsnVWt4PN552Dlg"},
{"content":{"body":"This was the central topic of [this 2017 patch](https://github.com/whatwg/html/pull/2294), but the resolution is confusing me. The change to the specification seems to rely on prototypal inheritance of `Object.prototype.toString`, but [the corresponding tests added to WPT](https://github.com/web-platform-tests/wpt/pull/4623) expect an \"own\" property.","format":"org.matrix.custom.html","formatted_body":"This was the central topic of <a href=\"https://github.com/whatwg/html/pull/2294\">this 2017 patch</a>, but the resolution is confusing me. The change to the specification seems to rely on prototypal inheritance of <code>Object.prototype.toString</code>, but <a href=\"https://github.com/web-platform-tests/wpt/pull/4623\">the corresponding tests added to WPT</a> expect an &quot;own&quot; property.","msgtype":"m.text"},"ts":1683773753131,"senderName":"jugglinmike","senderId":"@jugglinmike:matrix.org","id":"$UtwQivV8yk_CdXDPsKF58EOeuc__8mnD639B_53BKN0"},
{"content":{"body":"question:\n\n- \"resolve a URL-like module specifier\" takes a string https://html.spec.whatwg.org/multipage/webappapis.html#resolving-a-url-like-module-specifier\n- but it calls \"URL parsing\", which takes a scalar value string, i.e. one with no unpaired surrogates https://url.spec.whatwg.org/#concept-url-parser\n\nhow does that... work? is it implicitly \"convert\"ing strings to scalar strings? https://infra.spec.whatwg.org/#javascript-string-convert\n\nassuming yes, in which case Chrome has a bug - `import('./\\ud800.js')` doesn't actually end up triggering a network request for `%EF%BF%BD.js”`, which is what it would do if it did the specified conversion (FF and Safari do trigger that request)","format":"org.matrix.custom.html","formatted_body":"<p>question:</p>\n<ul>\n<li>&quot;resolve a URL-like module specifier&quot; takes a string https://html.spec.whatwg.org/multipage/webappapis.html#resolving-a-url-like-module-specifier</li>\n<li>but it calls &quot;URL parsing&quot;, which takes a scalar value string, i.e. one with no unpaired surrogates https://url.spec.whatwg.org/#concept-url-parser</li>\n</ul>\n<p>how does that... work? is it implicitly &quot;convert&quot;ing strings to scalar strings? https://infra.spec.whatwg.org/#javascript-string-convert</p>\n<p>assuming yes, in which case Chrome has a bug - <code>import('./\\ud800.js')</code> doesn't actually end up triggering a network request for <code>%EF%BF%BD.js”</code>, which is what it would do if it did the specified conversion (FF and Safari do trigger that request)</p>\n","msgtype":"m.text"},"ts":1683782817310,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$s3FG5OxFTmJgnHgu6XuPSPBlNCivtCrmqNhLnAvu4BQ"},
{"content":{"body":"TabAtkins: https://github.com/speced/bikeshed-boilerplate/pull/39 is a patch for making that change to fix the fragment-preserving redirect behavior for the CSS specs","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@tabatkins:matrix.org\">TabAtkins</a>: https://github.com/speced/bikeshed-boilerplate/pull/39 is a patch for making that change to fix the fragment-preserving redirect behavior for the CSS specs","msgtype":"m.text"},"ts":1683783092330,"senderName":"sideshowbarker","senderId":"@sideshowbarker:matrix.org","id":"$sTA0NNXUA2PV4eWp5-QIeUrgmw_uyyvaSEYfXzA1UUs"},
{"content":{"body":"snek: I'm gonna take over your WebSockets work, hope that's okay","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@devsnek:matrix.org\">snek</a>: I'm gonna take over your WebSockets work, hope that's okay","msgtype":"m.text"},"ts":1683789555928,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$qn-vsRBvNRNqy7BNaxkI7k9ac2jtg6GUwdxPocjbcJM"},
{"content":{"body":"bakkot: it's not, you found a bug, but Fx/Safari behave as the spec should read (it should call convert before it calls the URL parser)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: it's not, you found a bug, but Fx/Safari behave as the spec should read (it should call convert before it calls the URL parser)","msgtype":"m.text"},"ts":1683789760497,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$I14pQIUW-gD91jMpFlHf1Pjj3Qqv2KluyKjdDfeSqsk"},
{"content":{"body":"smaug: did you follow the discussion in https://github.com/whatwg/dom/pull/1152? Are you still okay with the PR as-is?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: did you follow the discussion in https://github.com/whatwg/dom/pull/1152? Are you still okay with the PR as-is?","msgtype":"m.text"},"ts":1683812620641,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$0jI3LGrV1XwIWMn1G1lYlxqNoDG7uUaQiGGbnMkKLyE"},
{"content":{"body":"smaug: I'm okay with it still I think, but I'd like at least one more set of eyes","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: I'm okay with it still I think, but I'd like at least one more set of eyes","msgtype":"m.text"},"ts":1683812637021,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$yv6DRF0JK4hGf6E2_w35Ekeaa6E_SAV0NtZYGrLEYWA"},
{"content":{"body":"> <@annevk:matrix.org> snek: I'm gonna take over your WebSockets work, hope that's okay\n\ngo for it fam","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$qn-vsRBvNRNqy7BNaxkI7k9ac2jtg6GUwdxPocjbcJM?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br /><a href=\"https://matrix.to/#/@devsnek:matrix.org\">snek</a>: I'm gonna take over your WebSockets work, hope that's okay</blockquote></mx-reply>go for it fam","m.relates_to":{"m.in_reply_to":{"event_id":"$qn-vsRBvNRNqy7BNaxkI7k9ac2jtg6GUwdxPocjbcJM"}},"msgtype":"m.text"},"ts":1683814800297,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$nPTvQ-A1vzPZpoXAy7XcShCJd4gUACaZQSANa15ux7U"},
{"content":{"body":"snek: shall I add you to the Acknowledgments section?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@devsnek:matrix.org\">snek</a>: shall I add you to the Acknowledgments section?","msgtype":"m.text"},"ts":1683815071044,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$2wpDsylZPxVvEL4WLQ_5xCmALmjWfGZ9Y_7-EptxujE"},
{"content":{"body":"oh you opened a whole separate pr","msgtype":"m.text"},"ts":1683815135834,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$Ye72KB-Du6bDjWdop2RCgd999jvdKiEt1lInSk8gICs"},
{"content":{"body":"yeah some form of attribution would be nice","msgtype":"m.text"},"ts":1683815155316,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$XnmjFa9f0yWdbS8EQgOrE3uN9tcQldh5iBMdldCoqSE"},
{"content":{"body":"does your change make it so that the resulting .url will still be ws scheme?","msgtype":"m.text"},"ts":1683815330165,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$hEjaot3CBLrVvr28RnO5TSwaNkGew1zqI9a03jgG6pI"},
{"content":{"body":"I'm not a huge fan but I'll take what I can get","msgtype":"m.text"},"ts":1683815351749,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$rwGc8SAoxFqCZztmJmp2fiClCB8uSrNJDhEwtPWl-oc"},
{"content":{"body":"snek: it does, I don't think it's worth supporting two sets of URLs (even though we later do rewrite back to HTTP(S)); it's unfortunate we added ws/wss, but they are what callers of `.url` expect","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@devsnek:matrix.org\">snek</a>: it does, I don't think it's worth supporting two sets of URLs (even though we later do rewrite back to HTTP(S)); it's unfortunate we added ws/wss, but they are what callers of <code>.url</code> expect","msgtype":"m.text"},"ts":1683815643406,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$8PCCTASWWFH04QMt8mL9ANZpYIOvCIsYBCJJQGbIU7Q"},
{"content":{"body":"Is there a way to click on a reference of a dfn in a spec, and immediately get a link to *that* reference? (Instead of having to go to the dfn, have the gray dfn box pop up, and binary search through it to find which reference I was at a second ago)","format":"org.matrix.custom.html","formatted_body":"Is there a way to click on a reference of a dfn in a spec, and immediately get a link to <em>that</em> reference? (Instead of having to go to the dfn, have the gray dfn box pop up, and binary search through it to find which reference I was at a second ago)","msgtype":"m.text"},"ts":1683818530176,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$0uIdtYm3vDzlFPp1CKTIa_mibANCbQ9Af3zqNMw0WIo"},
{"content":{"body":"Dominic Farolino: inspect element, copy id","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domfarolino:matrix.org\">Dominic Farolino</a>: inspect element, copy id","msgtype":"m.text"},"ts":1683819957189,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$5qItoqfZdVTsUsqBADYTrfawD6gaGhvTXKzO06n1qGQ"},
{"content":{"body":"Yikes! In at least the HTML Standard inspecting by element gives me a huge layout shift due to DevTools being popped","msgtype":"m.text"},"ts":1683819990451,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$N_YmovBXUuEiK2WDZZJNr0TSU49bOW3WBqHyW1FzmXM"},
{"content":{"body":"or select the link and click the file a bug link","msgtype":"m.text"},"ts":1683820003336,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$6dYszxW_lk-IKyHpUY_r4cVf0m8zz2h9gZg1yAyIGqg"},
{"content":{"body":"Dominic Farolino: if you have devtools at the bottom there's no layout shift","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domfarolino:matrix.org\">Dominic Farolino</a>: if you have devtools at the bottom there's no layout shift","msgtype":"m.text"},"ts":1683820047661,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$H8gHkQ3F00T2oHyEDK13V7prPPnuEsMzmP_K3pvyFxM"},
{"content":{"body":"What do you mean by \"select the link\"? Click it? Highlight it?","msgtype":"m.text"},"ts":1683820050218,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$aq-WSFQOL95DjPJZGhqLqPBUvx_x5atcg__WoXNf9YI"},
{"content":{"body":"That's true","msgtype":"m.text"},"ts":1683820054591,"senderName":"Dominic Farolino","senderId":"@domfarolino:matrix.org","id":"$GPnj-KFmj3Nct6XK-FuA84gFPokblSDx49HcefGJWr0"},
{"content":{"body":"Highlight it","msgtype":"m.text"},"ts":1683820076062,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$X65f9tkU-MYCAN0YDdB2j4Ok7YeTDX46LiK347RQkTc"},
{"content":{"body":"annevk: hmm, I had missed possible change to existing behavior ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: hmm, I had missed possible change to existing behavior","msgtype":"m.text"},"ts":1683820109675,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$QNkD1w1n2mzhOGJVFpte8CgyuBuVq6K0pLEQVNNiRas"},
{"content":{"body":"but I think the new behavior is better, if original is aborted first (in that fetch test)","msgtype":"m.text"},"ts":1683820164950,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$OoLzH5XLZmJiIs08ttdcwxbVm8HsFF0yjfzchhdyS1w"},
{"content":{"body":"so, I think the pr should be fine","msgtype":"m.text"},"ts":1683820175473,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$17-DPFv7Zt7VH_uO6EL4TP4_hTXZpxJhcMe3wTLrIW8"},
{"content":{"body":"smaug: thanks, checking with cdumez as well and then I guess I'll merge it tomorrow or early next week","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: thanks, checking with cdumez as well and then I guess I'll merge it tomorrow or early next week","msgtype":"m.text"},"ts":1683821194125,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$AqNHWkdhswlo4vWZTdKjdChEw9Jl0pbDFtXoP-iteAk"}
]