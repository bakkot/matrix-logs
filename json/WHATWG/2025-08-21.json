[
{"content":{"body":"Hi WHATWG community, I wanted to let you know that I'll be retiring soon. My last day is Friday 2025-09-26.\n\nAlthough it's tempting to stay involved in web standards, I'll be doing my best to start a new life chapter and leave it all behind. I won't be at TPAC 2025, although I'm staying in Tokyo so if you're traveling that way before/after Kobe let me know if you want to meet up!\n\nI plan to continue participating full-time until the last week or so, and then unsubscribe from various repos, remove myself as editor, etc. If there's something you'd really like me to be sure to finish before leaving, let me know.","m.mentions":{},"msgtype":"m.text"},"ts":1755755306999,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$PirkPuW0OqMppJO4LSLHpZUSzEZUYNzBWKm-BooQiuE"},
{"content":{"body":"Wow, quite the news. Thank you for your service Domenic! Best wishes for this new chapter!","m.mentions":{"user_ids":["@domenicdenicola:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$PirkPuW0OqMppJO4LSLHpZUSzEZUYNzBWKm-BooQiuE"}},"msgtype":"m.text"},"ts":1755764657060,"senderName":"Lea Verou","senderId":"@leaverou:matrix.org","id":"$V2EMhZnMNi-9M9gS9YpjAqtzaoLOUnV73kASDbRxVYM"},
{"content":{"body":"Noam Rosenthal: congratulations for getting the deferred commit changes landed","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: congratulations for getting the deferred commit changes landed","m.mentions":{"user_ids":["@noamr:matrix.org"]},"msgtype":"m.text"},"ts":1755765949603,"senderName":"farre","senderId":"@afarre:mozilla.org","id":"$TUvIMKHEaj8TIx7v45mXhlbXWzYRTUrUzZOLEWCBKiQ"},
{"content":{"body":"now I have questions :D","m.mentions":{},"msgtype":"m.text"},"ts":1755765954907,"senderName":"farre","senderId":"@afarre:mozilla.org","id":"$J84SsSEvJzKD72rUKF4kTVzS5mVJCSEPcVffDOo6D5s"},
{"content":{"body":"* Noam Rosenthal: congratulations to getting the deferred commit changes landed","format":"org.matrix.custom.html","formatted_body":"* <a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: congratulations to getting the deferred commit changes landed","m.mentions":{},"m.new_content":{"body":"Noam Rosenthal: congratulations to getting the deferred commit changes landed","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: congratulations to getting the deferred commit changes landed","m.mentions":{"user_ids":["@noamr:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$TUvIMKHEaj8TIx7v45mXhlbXWzYRTUrUzZOLEWCBKiQ","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1755765965915,"senderName":"farre","senderId":"@afarre:mozilla.org","id":"$YiY22y4ecF-AAiMd-9ChzfheYAuE_L4IKJJ1DzZGFnw"},
{"content":{"body":"I'm not sure how [#resume-applying-the-traverse-history-step](https://html.spec.whatwg.org/#resume-applying-the-traverse-history-step) is supposed to work","format":"org.matrix.custom.html","formatted_body":"I'm not sure how <a href=\"https://html.spec.whatwg.org/#resume-applying-the-traverse-history-step\">#resume-applying-the-traverse-history-step</a> is supposed to work","m.mentions":{},"msgtype":"m.text"},"ts":1755766035313,"senderName":"farre","senderId":"@afarre:mozilla.org","id":"$bdgV8Gn-incuq7zZvTksJsRsMMFQJ0gMgrUQg0j_Z-A"},
{"content":{"body":"I get that by giving it the right arguments we can short-cut passed a bunch of things (like checking for if unloading is canceled etc), but I don't see where we pause it","m.mentions":{},"msgtype":"m.text"},"ts":1755766080575,"senderName":"farre","senderId":"@afarre:mozilla.org","id":"$j_1jFkRseni6bnlSJ74HTzjm9qliFsGsirwbn8iEv_Y"},
{"content":{"body":"farre: this was a tricky one, let me try to recall","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@afarre:mozilla.org\">farre</a>: this was a tricky one, let me try to recall","m.mentions":{"user_ids":["@afarre:mozilla.org"]},"msgtype":"m.text"},"ts":1755766146278,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$1ESswig4GLBdNLFNq4Fqv3QeJ6rl9ZAPjj6PtCQ-D84"},
{"content":{"body":"because we've had some difficulties in exactly the place where [it's called](https://html.spec.whatwg.org/#navigate-event-firing:resume-applying-the-traverse-history-step) insofar that we don't have a committed to entry at that point, something that apply the history step would fix (I think). the other navigation types update their committed to entry inline there, but not \"traverse\"","format":"org.matrix.custom.html","formatted_body":"because we've had some difficulties in exactly the place where <a href=\"https://html.spec.whatwg.org/#navigate-event-firing:resume-applying-the-traverse-history-step\">it's called</a> insofar that we don't have a committed to entry at that point, something that apply the history step would fix (I think). the other navigation types update their committed to entry inline there, but not \"traverse\"","m.mentions":{},"msgtype":"m.text"},"ts":1755766290192,"senderName":"farre","senderId":"@afarre:mozilla.org","id":"$U0kiYTmlbqS4R-KNQVENdVZboqvdKYQ7FV1pKIrK-W0"},
{"content":{"body":"https://html.spec.whatwg.org/multipage/#inner-navigate-event-firing-algorithm 34","m.mentions":{},"msgtype":"m.text"},"ts":1755766306200,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$g_17YoZLAaM9KX2NK1wJ9G440H9xQWf2KbndZ4yJmkI"},
{"content":{"body":"@farre: in that spot, we either call the \"commit\" steps which call \"resume\" straight away, or hold on until all the precommit handler promises are handled and then call the \"commit\" set of steps","m.mentions":{},"msgtype":"m.text"},"ts":1755766367773,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$5yf3nCmyZucYoSXZmQDY9I_CiibKLIgbTplcxswphTU"},
{"content":{"body":"right, but I was more thinking about before calling #inner-navigate-event-firing-algorithm. say we do [#apply-the-traverse-history-step](https://html.spec.whatwg.org/#apply-the-traverse-history-step), and in [#apply-the-history-step](https://html.spec.whatwg.org/#apply-the-history-step) step 5 fire a traverse navigate event. then we'll call `#resume-applying-the-traverse-history-step` (which calls #apply-the-history-step) recursively from inside #apply-the-history-step","format":"org.matrix.custom.html","formatted_body":"right, but I was more thinking about before calling #inner-navigate-event-firing-algorithm. say we do <a href=\"https://html.spec.whatwg.org/#apply-the-traverse-history-step\">#apply-the-traverse-history-step</a>, and in <a href=\"https://html.spec.whatwg.org/#apply-the-history-step\">#apply-the-history-step</a> step 5 fire a traverse navigate event. then we'll call <code>#resume-applying-the-traverse-history-step</code> (which calls #apply-the-history-step) recursively from inside #apply-the-history-step","m.mentions":{},"msgtype":"m.text"},"ts":1755766575170,"senderName":"farre","senderId":"@afarre:mozilla.org","id":"$rEVA64Gwsuv14kR1DsgyLLHcbEhnPG42RpjsmnMM3uQ"},
{"content":{"body":"sure, we don't pass a traversable, so we won't fire again, but we'll execute apply twice?","m.mentions":{},"msgtype":"m.text"},"ts":1755766637734,"senderName":"farre","senderId":"@afarre:mozilla.org","id":"$NshNvKa24MN29ewJR9CIZwDlAHiG2LxGKHL9OtJ2m7w"},
{"content":{"body":"or rather, I expect we don't, but I can't find where","m.mentions":{},"msgtype":"m.text"},"ts":1755766648754,"senderName":"farre","senderId":"@afarre:mozilla.org","id":"$1moAohErjzwk5y57jwiR-_WRb7zdFWar2CC6fsn2TUo"},
{"content":{"body":"but step 5 returns","m.mentions":{},"msgtype":"m.text"},"ts":1755766659374,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$bKrZIqoTFBTtkhaT3OXuvQjpFABWl5CPfP-Rx1NSKNE"},
{"content":{"body":"so it's apply ->( fire -> resume -> apply -> continue past step 5) -> return from the external \"apply\"","m.mentions":{},"msgtype":"m.text"},"ts":1755766705502,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$bQ0b0bCPdVpvUSlcE6RL2gU2oH112ZHwgaPR5-s82JI"},
{"content":{"body":"ok, that makes sense","m.mentions":{},"msgtype":"m.text"},"ts":1755766720433,"senderName":"farre","senderId":"@afarre:mozilla.org","id":"$frRPF2yKsk8SMl6uMiQ2TncHasLdQLkAwPJAsUe3vbg"},
{"content":{"body":"and for non-traversables","m.mentions":{},"msgtype":"m.text"},"ts":1755766761540,"senderName":"farre","senderId":"@afarre:mozilla.org","id":"$itfjtWcIVCRnt8K1neiXUq-oqsrbBnE4Rw2Xl9DXqlc"},
{"content":{"body":"i.e 12.7.2 in apply the history step, how do we not re-enter there?","m.mentions":{},"msgtype":"m.text"},"ts":1755766876996,"senderName":"farre","senderId":"@afarre:mozilla.org","id":"$tUaDyiji9v3sFxIAWaIyy7zDb4DcSx9bKh8-wfs8MPQ"},
{"content":{"body":"yeah, I guess because it's queued. I figure we've changed how we handle the ` changingNavigableContinuations`","format":"org.matrix.custom.html","formatted_body":"yeah, I guess because it's queued. I figure we've changed how we handle the <code> changingNavigableContinuations</code>","m.mentions":{},"msgtype":"m.text"},"ts":1755767292618,"senderName":"farre","senderId":"@afarre:mozilla.org","id":"$wS9gzNS5XCU2GRGQVaUEAtKCykldk1ZUO9mGOIOFUxM"},
{"content":{"body":"Congratulations! I presume this also means retiring as a Googler?","m.mentions":{},"m.relates_to":{"event_id":"$PirkPuW0OqMppJO4LSLHpZUSzEZUYNzBWKm-BooQiuE","is_falling_back":true,"m.in_reply_to":{"event_id":"$PirkPuW0OqMppJO4LSLHpZUSzEZUYNzBWKm-BooQiuE"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1755769857111,"senderName":"keithamus","senderId":"@keithamus:matrix.org","id":"$ydc6RHRlzynmREK9AyEO54cZnk4vWP3PyWbh8UY3Xhs"},
{"content":{"body":"Aha, I [guess](https://github.com/whatwg/html/issues/11483#issuecomment-3189976403) there won't be WhatWG/OpenUI meeting today, even though I seem to have the calendar invite.","format":"org.matrix.custom.html","formatted_body":"Aha, I <a href=\"https://github.com/whatwg/html/issues/11483#issuecomment-3189976403\">guess</a> there won't be WhatWG/OpenUI meeting today, even though I seem to have the calendar invite.","m.mentions":{},"msgtype":"m.text"},"ts":1755775761673,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$hkhoMFREhgv3Lg0ap0nXOdufpakSYT88PX41dAYcCug"},
{"content":{"body":"...and now I found \"Event Canceled: OpenUI-WHATWG/HTML-CSSWG task force\" in my email","m.mentions":{},"m.relates_to":{"event_id":"$hkhoMFREhgv3Lg0ap0nXOdufpakSYT88PX41dAYcCug","is_falling_back":true,"m.in_reply_to":{"event_id":"$hkhoMFREhgv3Lg0ap0nXOdufpakSYT88PX41dAYcCug"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1755775977252,"senderName":"smaug","senderId":"@smaug:mozilla.org","id":"$jy-jazcBUg1uhuENd7E9WAfNQLgytCCuOzrw9YDAxFA"},
{"content":{"body":"we simply don't re-enter :) https://html.spec.whatwg.org/multipage/#inner-navigate-event-firing-algorithm 32.7 has different steps by navigation type and only the traverse one re-enters anything","m.mentions":{"user_ids":["@afarre:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$tUaDyiji9v3sFxIAWaIyy7zDb4DcSx9bKh8-wfs8MPQ"}},"msgtype":"m.text"},"ts":1755776498088,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$trU6zzcsOf_3X3XHTJBlE6pPXo-_H6N5dgrrS4zBsbc"},
{"content":{"body":"the other one hook to the navigation spaghetti at a different spot","m.mentions":{},"msgtype":"m.text"},"ts":1755776539287,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$5ajPQ7yiRMkr8ShOlxFtDTMTBCXBQLbsPKnPGn3LriE"},
{"content":{"body":"* the other ones hook to the navigation spaghetti at a different spot","m.mentions":{},"m.new_content":{"body":"the other ones hook to the navigation spaghetti at a different spot","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$5ajPQ7yiRMkr8ShOlxFtDTMTBCXBQLbsPKnPGn3LriE","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1755776541227,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$w4S0znRHUA6weT1hYutvLyIZ5kiO96Uz9zQ4Ud-fms0"},
{"content":{"body":"right, but there are two traverse navigate events","m.mentions":{},"msgtype":"m.text"},"ts":1755776712281,"senderName":"farre","senderId":"@afarre:mozilla.org","id":"$K6IX95yO2Uhll7xIPw9JoSkFPCUKwJ0Du3fEMnZdsAo"},
{"content":{"body":"and it's [this](https://html.spec.whatwg.org/#updating-the-traversable:fire-a-traverse-navigate-event) that I was thinking about","format":"org.matrix.custom.html","formatted_body":"and it's <a href=\"https://html.spec.whatwg.org/#updating-the-traversable:fire-a-traverse-navigate-event\">this</a> that I was thinking about","m.mentions":{},"msgtype":"m.text"},"ts":1755776732265,"senderName":"farre","senderId":"@afarre:mozilla.org","id":"$p-tps2Qv8imCHwJUxE_J04wjStpNaHZeucJfgA-RfvM"},
{"content":{"body":"but that's on the navigation and traversal task source. is that a recursive call of apply the history step then. yeah, I guess","m.mentions":{},"msgtype":"m.text"},"ts":1755776879896,"senderName":"farre","senderId":"@afarre:mozilla.org","id":"$CKqh2rnGkTr28xUWHNi2MZGcUpcypqxR04bWz1YcDWQ"},
{"content":{"body":"or \"recursive\" I should say","m.mentions":{},"msgtype":"m.text"},"ts":1755776888327,"senderName":"farre","senderId":"@afarre:mozilla.org","id":"$w2pkkcNFUX6QX10qFBzVpJQdDN6w8K3qjFQCspxCrQ8"},
{"content":{"body":"oh you mean non-traversable navigable rather than non-traverse navigation types, gotcha","m.mentions":{},"msgtype":"m.text"},"ts":1755777130193,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$31uAjMn9uGiaKzMAUId51mOGJobwRmgUa2KMSa19vAY"},
{"content":{"body":"yeah, exactly","m.mentions":{},"msgtype":"m.text"},"ts":1755777146934,"senderName":"farre","senderId":"@afarre:mozilla.org","id":"$QAepbeVE46QFiKye512oVDBDqpOBEVxl2W5JC8F5nvE"},
{"content":{"body":"I don't think you can intercept and cancel navigation on those","m.mentions":{},"msgtype":"m.text"},"ts":1755777262649,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$wMllIX3HcCRObc0M5s7829PXQh8RmsN76Xcmmskzgpo"},
{"content":{"body":"(reading through to find where this is and if I was too quick to say that)","m.mentions":{},"msgtype":"m.text"},"ts":1755777307939,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$CkBZ6yM_mihb_BEvcOf5nU9UL6i4IydvBF6tt7KaUkM"},
{"content":{"body":"yea https://html.spec.whatwg.org/#inner-navigate-event-firing-algorithm #10","m.mentions":{},"msgtype":"m.text"},"ts":1755777382996,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$gQyRPo6ic3dvJDonn1oMsbFUddQtXN3SRDaqTIqjles"},
{"content":{"body":"https://html.spec.whatwg.org/#dom-navigateevent-intercept #4.1","m.mentions":{},"msgtype":"m.text"},"ts":1755777541677,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$ZLXD_O04ktXpOB0Y9iQqct-p2Asbb154rFXFUz1URpw"},
{"content":{"body":"you can't put a precommitHandler on a non-traversable history-traversal navigation (the automatic \"back\" on an iframe)","m.mentions":{},"msgtype":"m.text"},"ts":1755777573509,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$sWnCWBzqLTP9Zr52D47zQKv12whqJk_sommWPwkMHeo"},
{"content":{"body":"So cancelling isn't really what I was worrying about, it was how the resume the history steps works in that fire traverse navigate event, but I think I realized that when that happens it's going to like starting at a non-traversable sub-tree","m.mentions":{},"msgtype":"m.text"},"ts":1755777705504,"senderName":"farre","senderId":"@afarre:mozilla.org","id":"$tQHtiqUR4lX2geZPimdAXVXqdUj5B954tohnlmIc9eo"},
{"content":{"body":"* So cancelling isn't really what I was worrying about, it was how the resume the history steps works in that fire traverse navigate event, but I think I realized that when that happens it's going to be like starting at a non-traversable sub-tree","m.mentions":{},"m.new_content":{"body":"So cancelling isn't really what I was worrying about, it was how the resume the history steps works in that fire traverse navigate event, but I think I realized that when that happens it's going to be like starting at a non-traversable sub-tree","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$tQHtiqUR4lX2geZPimdAXVXqdUj5B954tohnlmIc9eo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1755777811576,"senderName":"farre","senderId":"@afarre:mozilla.org","id":"$y3KLDT1oZaGxEIoLChvbUu9IYSSl61lTsx_fG9zhSBQ"},
{"content":{"body":"yea","m.mentions":{},"msgtype":"m.text"},"ts":1755777876600,"senderName":"Noam Rosenthal","senderId":"@noamr:matrix.org","id":"$HP1O-yRvZvNkYQb88497d6-L6cIuTtNovUGobFSllpg"}
]