[
{"content":{"body":"Hi, Can anyone please describe what is exact procedure to \"Consume the maximum number of characters possible\" mentioned here: https://html.spec.whatwg.org/#named-character-reference-state","msgtype":"m.text"},"ts":1625128475083,"senderName":"sujaldev","senderId":"@sujaldev:matrix.org","id":"$wvXs0AzqYeIwoCiHUEqt0Fgv9u0K4PTM2bUCkTOqHKk"},
{"content":{"body":" * Hi, Can anyone please describe what is the exact procedure to \"Consume the maximum number of characters possible\" mentioned here: https://html.spec.whatwg.org/#named-character-reference-state","m.new_content":{"body":"Hi, Can anyone please describe what is the exact procedure to \"Consume the maximum number of characters possible\" mentioned here: https://html.spec.whatwg.org/#named-character-reference-state","msgtype":"m.text"},"m.relates_to":{"event_id":"$wvXs0AzqYeIwoCiHUEqt0Fgv9u0K4PTM2bUCkTOqHKk","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1625128532274,"senderName":"sujaldev","senderId":"@sujaldev:matrix.org","id":"$usCt0ADMsM0J6hWpFiZ8TTyZCLnEqxxI28BFdOxZ1wg"},
{"content":{"body":"Hm, there's arguably a bug there, since the string `&centerNotDot;` should only match the charref `&center`, rather than the prefix of `&centerdot;`","format":"org.matrix.custom.html","formatted_body":"Hm, there's arguably a bug there, since the string <code>&amp;centerNotDot;</code> should only match the charref <code>&amp;center</code>, rather than the prefix of <code>&amp;centerdot;</code>","msgtype":"m.text"},"ts":1625129130344,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$yG6vAm5XSNfJOTQByqrZCQnoj0a0hDiBU7wmpXU13iE"},
{"content":{"body":" * Hm, there's arguably a bug there, since the string `&centerd;` should only match the charref `&center`, rather than the prefix of `&centerdot;`","format":"org.matrix.custom.html","formatted_body":" * Hm, there's arguably a bug there, since the string <code>&amp;centerd;</code> should only match the charref <code>&amp;center</code>, rather than the prefix of <code>&amp;centerdot;</code>","m.new_content":{"body":"Hm, there's arguably a bug there, since the string `&centerd;` should only match the charref `&center`, rather than the prefix of `&centerdot;`","format":"org.matrix.custom.html","formatted_body":"Hm, there's arguably a bug there, since the string <code>&amp;centerd;</code> should only match the charref <code>&amp;center</code>, rather than the prefix of <code>&amp;centerdot;</code>","msgtype":"m.text"},"m.relates_to":{"event_id":"$yG6vAm5XSNfJOTQByqrZCQnoj0a0hDiBU7wmpXU13iE","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1625129168081,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$EANE1Ib1XCL8qarQ6Xx7fEH0Vb3mS_iqwsegH0d9pzk"},
{"content":{"body":" * Hm, there's arguably a bug there, since the string `&centerd;` should only match the charref `&cent`, rather than the prefix of `&centerdot;`","format":"org.matrix.custom.html","formatted_body":" * Hm, there's arguably a bug there, since the string <code>&amp;centerd;</code> should only match the charref <code>&amp;cent</code>, rather than the prefix of <code>&amp;centerdot;</code>","m.new_content":{"body":"Hm, there's arguably a bug there, since the string `&centerd;` should only match the charref `&cent`, rather than the prefix of `&centerdot;`","format":"org.matrix.custom.html","formatted_body":"Hm, there's arguably a bug there, since the string <code>&amp;centerd;</code> should only match the charref <code>&amp;cent</code>, rather than the prefix of <code>&amp;centerdot;</code>","msgtype":"m.text"},"m.relates_to":{"event_id":"$yG6vAm5XSNfJOTQByqrZCQnoj0a0hDiBU7wmpXU13iE","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1625129264487,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$okMuOFl4twYjc8AtIDRBzTCO1_6sNR_aigSNU-IixnE"},
{"content":{"body":" * Hm, there's arguably a bug there, since the string `&center` should only match the charref `&cent`, rather than the prefix of `&centerdot;`","format":"org.matrix.custom.html","formatted_body":" * Hm, there's arguably a bug there, since the string <code>&amp;center</code> should only match the charref <code>&amp;cent</code>, rather than the prefix of <code>&amp;centerdot;</code>","m.new_content":{"body":"Hm, there's arguably a bug there, since the string `&center` should only match the charref `&cent`, rather than the prefix of `&centerdot;`","format":"org.matrix.custom.html","formatted_body":"Hm, there's arguably a bug there, since the string <code>&amp;center</code> should only match the charref <code>&amp;cent</code>, rather than the prefix of <code>&amp;centerdot;</code>","msgtype":"m.text"},"m.relates_to":{"event_id":"$yG6vAm5XSNfJOTQByqrZCQnoj0a0hDiBU7wmpXU13iE","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1625129275225,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$bTnVpa8VE4AL5uNByY80ZYWxmJdZX_RAES-i1JmXucw"},
{"content":{"body":"So what's the correct way to do this?","msgtype":"m.text"},"ts":1625129421827,"senderName":"sujaldev","senderId":"@sujaldev:matrix.org","id":"$CxkVj83xMwETpn96sz_6obyipDjMMzhKAVAj-MjeSJc"},
{"content":{"body":"Keep a copy of the named character references list, and for every consumed character, remove the entries that don't match up for that character","msgtype":"m.text"},"ts":1625129505453,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$7O41e_y3RBAPYa5rpBSVnT63JH-6x2-F9z0f_X1ltoI"},
{"content":{"body":"But keep in a variable the latest entry that you have consumed in full (that is, for which the next character would be end-of-string)","msgtype":"m.text"},"ts":1625129587308,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$rJZ2M627RZo8-c2_H3lMAITZdtEVhqBeXz6YyZdfXQs"},
{"content":{"body":"Once the list is empty, unconsume as many characters as (number of characters you've consumed in this algorithm - length of the latest entry consumed in full or 0)","msgtype":"m.text"},"ts":1625129669619,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$QU-dDOKNngka6tEQFdZfglDDkU9PxZYUaRpDdqVGYf4"},
{"content":{"body":"the latest entry consumed in full is the match you've found, if there is any","msgtype":"m.text"},"ts":1625129692418,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$4AudQ_qR4N-b6m6jACy2bZ4KN9XgUQYd76Ks4QffZuE"},
{"content":{"body":"sorry to ask a stupid question but what does it mean to \"unconsume\" here?","msgtype":"m.text"},"ts":1625129787036,"senderName":"sujaldev","senderId":"@sujaldev:matrix.org","id":"$ITk8sCBCp9FAxc1k1b-YfJQus_xnWkMGXjCls8LBCws"},
{"content":{"body":"To walk back the pointer into the input stream, such that the next input characters would be the characters after the end of the matched character reference, even if in parsing you've consumed more characters than those","msgtype":"m.text"},"ts":1625129971276,"senderName":"Andreu Botella (he/they)","senderId":"@andreubotella:mozilla.org","id":"$mLPvgxaDVR8SqrNRcXaRHbWniCsjirUsPKwQwmvsxbw"},
{"content":{"body":"oh ok! thank you for the help!!","msgtype":"m.text"},"ts":1625130040500,"senderName":"sujaldev","senderId":"@sujaldev:matrix.org","id":"$hhd4IIJ-nBDlpPjWh52Y-ToqnaAhZCifSd5btgomsHM"}
]