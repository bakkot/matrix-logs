[
{"content":{"body":"> <@tabatkins:matrix.org> Hm, *is* it actually possible to define an interface that inherits from ObservableArray?\n\nNope","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$2rWNrDYOlym8CRc13A0HNk6Xt1yg7b_b9EqCwCFf0eM?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@tabatkins:matrix.org\">@tabatkins:matrix.org</a><br>Hm, <em>is</em> it actually possible to define an interface that inherits from ObservableArray?</blockquote></mx-reply>Nope","m.relates_to":{"m.in_reply_to":{"event_id":"$2rWNrDYOlym8CRc13A0HNk6Xt1yg7b_b9EqCwCFf0eM"}},"msgtype":"m.text"},"ts":1680746816011,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$IOwoDrRabk2FwdyQuNkvdACiXoUX1aksGt_Kbq-rEc0"},
{"content":{"body":"Huh, that's extremely unfortunate. It means it's impossible for us to upgrade older list-like interfaces into OA.","msgtype":"m.text"},"ts":1680746861856,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$CtAMaExv_UZM6WGtuOq9BTY0QObCjFJersu1kJQhZY8"},
{"content":{"body":"It's possible someone could do the work to define that, but yeah, the idea was to use ObservableArray for all new things, since nobody has ever had the appetite to upgrade any old things","msgtype":"m.text"},"ts":1680746904097,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$_zLlPyJ0tpC_IAWiS6auapvi-5vTQILq6imua04T2wU"},
{"content":{"body":"Well \"upgrade the old things\" was a requirement for the CSSWG to agree to use OA for the new CSSStyleRule.cssRules attribute, so I guess I'll have to do the work to define that. ^^_","msgtype":"m.text"},"ts":1680748060277,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$OsXmhqJAc_CANwlV82Gwe1RxbZu1Sjq8nXV2sSBrDOM"},
{"content":{"body":" * Well \"upgrade the old things\" was a requirement for the CSSWG to agree to use OA for the new CSSStyleRule.cssRules attribute, so I guess I'll have to do the work to define that. ^_^","m.new_content":{"body":"Well \"upgrade the old things\" was a requirement for the CSSWG to agree to use OA for the new CSSStyleRule.cssRules attribute, so I guess I'll have to do the work to define that. ^_^","msgtype":"m.text"},"m.relates_to":{"event_id":"$OsXmhqJAc_CANwlV82Gwe1RxbZu1Sjq8nXV2sSBrDOM","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1680748064394,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$dbAGm8_25VretMwahtM1zmyNnnmubGIzSRkiYkNceIM"},
{"content":{"body":"(Which is extremely fair; it would be terrible API to have *some* .cssRules properties be the old version and some be the new.)","format":"org.matrix.custom.html","formatted_body":"(Which is extremely fair; it would be terrible API to have <em>some</em> .cssRules properties be the old version and some be the new.)","msgtype":"m.text"},"ts":1680748091733,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$H1w3LIbzK3HhtGGYZQQV9R0Vl6hddYaTcjcAM3rE5XU"},
{"content":{"body":"I've also got that iterator work to finish up on WebIDL, so I'll just spend some time on that spec in general soon.","msgtype":"m.text"},"ts":1680748125456,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$IttzkHazZBd0sIRwAYaYMwXOmANY7K1fb9uN_Xs7TyM"},
{"content":{"body":"> <@tabatkins:matrix.org> I've also got that iterator work to finish up on WebIDL, so I'll just spend some time on that spec in general soon.\n\nI kind of thought that was in my court to review and have been feeling guilty... I feel a bit less bad if you say it's not finished up? :)","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$IttzkHazZBd0sIRwAYaYMwXOmANY7K1fb9uN_Xs7TyM?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@tabatkins:matrix.org\">@tabatkins:matrix.org</a><br>I&#39;ve also got that iterator work to finish up on WebIDL, so I&#39;ll just spend some time on that spec in general soon.</blockquote></mx-reply>I kind of thought that was in my court to review and have been feeling guilty... I feel a bit less bad if you say it's not finished up? :)","m.relates_to":{"m.in_reply_to":{"event_id":"$IttzkHazZBd0sIRwAYaYMwXOmANY7K1fb9uN_Xs7TyM"}},"msgtype":"m.text"},"ts":1680748459096,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$vQBXPnA2FaTZMdxxEaaZ0hE9JUEQcsIqzenLmDNr8z4"},
{"content":{"body":"I think I have some things to do? I'll see next week","msgtype":"m.text"},"ts":1680748477521,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$wYYnoGIHjqVHm4xMJ1mnaqqU2VgLIik6LCSW80Ihue4"},
{"content":{"body":"I'll ping if it's your fault","msgtype":"m.text"},"ts":1680748482427,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$FuRX8ul4w2sxsiE7ar05wss2edOjuDQk1Ml5lsPtuR0"},
{"content":{"body":"> <@tabatkins:matrix.org> Well \"upgrade the old things\" was a requirement for the CSSWG to agree to use OA for the new CSSStyleRule.cssRules attribute, so I guess I'll have to do the work to define that. ^_^\n\nMaybe start by opening an issue to discuss. There are at least two ways you could do it I can think of: something that does actual inheritance (so that `x.constructor.name === \"CSSRuleList\"`, `x.hasOwnProperty(\"push\") === false`, but `x.hasOwnProperty(\"item\") === true`), or something that changes the proxy that ObservableArray uses to have special behavior for the defined properties (i.e., instead of [[GetOwnProperty]] on `\"item\"` returning undefined/whatever gets stored there via normal property access, it returns some property descriptor for the method that we conjured up). Both are pretty subtle to actually define and I'm not sure which is best, or if there's a better third option...","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$OsXmhqJAc_CANwlV82Gwe1RxbZu1Sjq8nXV2sSBrDOM?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@tabatkins:matrix.org\">@tabatkins:matrix.org</a><br>Well &quot;upgrade the old things&quot; was a requirement for the CSSWG to agree to use OA for the new CSSStyleRule.cssRules attribute, so I guess I&#39;ll have to do the work to define that. ^_^</blockquote></mx-reply>Maybe start by opening an issue to discuss. There are at least two ways you could do it I can think of: something that does actual inheritance (so that <code>x.constructor.name === &quot;CSSRuleList&quot;</code>, <code>x.hasOwnProperty(&quot;push&quot;) === false</code>, but <code>x.hasOwnProperty(&quot;item&quot;) === true</code>), or something that changes the proxy that ObservableArray uses to have special behavior for the defined properties (i.e., instead of [[GetOwnProperty]] on <code>&quot;item&quot;</code> returning undefined/whatever gets stored there via normal property access, it returns some property descriptor for the method that we conjured up). Both are pretty subtle to actually define and I'm not sure which is best, or if there's a better third option...","m.relates_to":{"m.in_reply_to":{"event_id":"$OsXmhqJAc_CANwlV82Gwe1RxbZu1Sjq8nXV2sSBrDOM"}},"msgtype":"m.text"},"ts":1680748599164,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$CVAsGhcv4Ozc3LKK2YsvW4J13SEcnmfhyjMGu0hHnzw"},
{"content":{"body":"zcorpan: that's not it, otherwise the second table wouldn't show up in one of the implementations; it's reset the insertion mode that does the wrong thing in Firefox (I think)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@zcorpan:mozilla.org\">zcorpan</a>: that's not it, otherwise the second table wouldn't show up in one of the implementations; it's reset the insertion mode that does the wrong thing in Firefox (I think)","msgtype":"m.text"},"ts":1680760714776,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$L0vnDk0ksNi5sg52_eSvr9xuwR-uBvfQVctPKtdKHWM"},
{"content":{"body":"annevk: ok","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@annevk:matrix.org\">annevk</a>: ok","msgtype":"m.text"},"ts":1680761232527,"senderName":"zcorpan","senderId":"@zcorpan:mozilla.org","id":"$DK6kpMb84vlA2h_qN1p7Nedi9k1UDJvuvgVfdh_hzxk"},
{"content":{"body":"Huh, I wonder what I was doing to stumble upon https://github.com/html5lib/html5lib-tests/issues/137","msgtype":"m.text"},"ts":1680764220923,"senderName":"Ms2ger","senderId":"@ms2ger:igalia.com","id":"$UeMHZ1hY9XXVeT7R0pellEXCKCsX-GWfXHDmgHcX-Tk"},
{"content":{"body":"hey so I'm looking into resolving the :dir stuff in the spec / tests etc and I pulled up the current spec and was looking at it and... either it has a couple of errors or (also very plausible) I do not actually understand how to read these.. I'd like to know which is the case before I move forward too far... I think you can see in this screenshot the bit that is highlighted seems like it is impossible? there are a couple of these in the existing text","msgtype":"m.text"},"ts":1680798146651,"senderName":"bkardell","senderId":"@bkardell:igalia.com","id":"$VSMeoorPpNpqlVuwdET-GcTFYjuro5DnT1xVPIn0pTY"},
{"content":{"body":"(it looks like it is checking if an input or a text area are a document element which seems... strange?)","msgtype":"m.text"},"ts":1680798325375,"senderName":"bkardell","senderId":"@bkardell:igalia.com","id":"$6nHCMQMrtVyta8Zm_KaZkhXnK1k9n2LpitFWFsE1omY"},
{"content":{"body":" * (it _looks like_ it is checking if an input or a text area are a document element which seems... strange?)","format":"org.matrix.custom.html","formatted_body":" * (it <em>looks like</em> it is checking if an input or a text area are a document element which seems... strange?)","m.new_content":{"body":"(it _looks like_ it is checking if an input or a text area are a document element which seems... strange?)","format":"org.matrix.custom.html","formatted_body":"(it <em>looks like</em> it is checking if an input or a text area are a document element which seems... strange?)","msgtype":"m.text"},"m.relates_to":{"event_id":"$6nHCMQMrtVyta8Zm_KaZkhXnK1k9n2LpitFWFsE1omY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1680798787802,"senderName":"bkardell","senderId":"@bkardell:igalia.com","id":"$V1y3zcr4DgptB51J9GMqBlPKaR8bkIzmm0uSTr-t7Xk"},
{"content":{"body":"I guess the punchline of the above is I'd like to understand if anyone else I should open a bug/pr or can help me understand how I am reading it wrong?","msgtype":"m.text"},"ts":1680807041354,"senderName":"bkardell","senderId":"@bkardell:igalia.com","id":"$lGtHO2LL9WTUt31XTc5x72iUvM_RwzzdaMptm4th-kY"},
{"content":{"body":"Yeah, that's kinda a weird way to phrase \"element doesnt' have a parent\", but that's what it's getting at.","msgtype":"m.text"},"ts":1680808252841,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$uvhGYgT_hIAbVrX0DbET_pB0lyxaLOWS3khhPT1ofc8"},
{"content":{"body":"Like, it's absolutely an unlikely situation to occur, but it *can* if you do weird DOM stuff.","format":"org.matrix.custom.html","formatted_body":"Like, it's absolutely an unlikely situation to occur, but it <em>can</em> if you do weird DOM stuff.","msgtype":"m.text"},"ts":1680808267248,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$R-qQI6y-RflpR6LFN77US2aXgsPV__T2yq387dk4LLw"},
{"content":{"body":"Noam Rosenthal: Is <https://github.com/w3c/csswg-drafts/issues/1088> something in your wheelhouse still? Or do I need to load up that context and solve it myself?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@noamr:matrix.org\">Noam Rosenthal</a>: Is <a href=\"https://github.com/w3c/csswg-drafts/issues/1088\">https://github.com/w3c/csswg-drafts/issues/1088</a> something in your wheelhouse still? Or do I need to load up that context and solve it myself?","msgtype":"m.text"},"ts":1680808289573,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$MZSBhmMkzYhFgy6xaI9wBgppuJU-5ffaEs4PcpL7WB0"},
{"content":{"body":"> <@tabatkins:matrix.org> Yeah, that's kinda a weird way to phrase \"element doesnt' have a parent\", but that's what it's getting at.\n\nthis is in reply to my thing?  But an element that doesn't have a parent isn't necessarily a document element?  we have several things that say \"If the element has a parent element\" couldn't we just say \"If the element has no parent element\"?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!AGetWbsMpFPdSgUrbs:matrix.org/$uvhGYgT_hIAbVrX0DbET_pB0lyxaLOWS3khhPT1ofc8?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@tabatkins:matrix.org\">@tabatkins:matrix.org</a><br>Yeah, that&#39;s kinda a weird way to phrase &quot;element doesnt&#39; have a parent&quot;, but that&#39;s what it&#39;s getting at.</blockquote></mx-reply>this is in reply to my thing?  But an element that doesn't have a parent isn't necessarily a document element?  we have several things that say &quot;If the element has a parent element&quot; couldn't we just say &quot;If the element has no parent element&quot;?","m.relates_to":{"m.in_reply_to":{"event_id":"$uvhGYgT_hIAbVrX0DbET_pB0lyxaLOWS3khhPT1ofc8"}},"msgtype":"m.text"},"ts":1680808589974,"senderName":"bkardell","senderId":"@bkardell:igalia.com","id":"$-m7X52VgIOx65Ws_vlfXtLk3aCJJmgx3IK2TAC4ItTg"},
{"content":{"body":"bkardell: Isn't something a document element by definition if its parent is the document?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bkardell:igalia.com\">bkardell</a>: Isn't something a document element by definition if its parent is the document?","msgtype":"m.text"},"ts":1680808631185,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$-Pf4N_F51z08NTGUx2LjJkfNUSj9M5SQTo7nsvLDZzM"},
{"content":{"body":"(I might be wrong here, I'm not chasing definitions at the moment.)","msgtype":"m.text"},"ts":1680808643648,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$N4DLqzfPKqem7kTtNcRH8UEFlg6k1hygLkTxV30xYxY"},
{"content":{"body":"> The document element of a document is the element whose parent is that document, if it exists; otherwise null.","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>The document element of a document is the element whose parent is that document, if it exists; otherwise null.</p>\n</blockquote>\n","msgtype":"m.text"},"ts":1680808699879,"senderName":"bkardell","senderId":"@bkardell:igalia.com","id":"$TeagURM01_tB47lM0Q5iQXuqqciP-mYqu8MDGvGrho4"},
{"content":{"body":"so if you said \n\n> let x = document.createElement('div')\n\nI think x's document element is null","format":"org.matrix.custom.html","formatted_body":"<p>so if you said</p>\n<blockquote>\n<p>let x = document.createElement('div')</p>\n</blockquote>\n<p>I think x's document element is null</p>\n","msgtype":"m.text"},"ts":1680808754841,"senderName":"bkardell","senderId":"@bkardell:igalia.com","id":"$aKYgIagAgCYOPphIVtprFOR6sK3en8vudStB0sPPQnA"},
{"content":{"body":"Right.","msgtype":"m.text"},"ts":1680809013287,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$4igHAcXKVJC4E2h2cTp4aXNPOzOVbcb9uj7cc78rK2E"},
{"content":{"body":"Anyway I agree with you, I think it really does *mean* \"doesn't have a parent\".","format":"org.matrix.custom.html","formatted_body":"Anyway I agree with you, I think it really does <em>mean</em> &quot;doesn't have a parent&quot;.","msgtype":"m.text"},"ts":1680809032435,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$yXYWqgIKdtGEeT5Rin3Yv27UE0QzuWfPeKyH6nBWMfQ"},
{"content":{"body":"Since otherwise the definition doesn't give an answer to your case.","msgtype":"m.text"},"ts":1680809049907,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$FiiaCIeh_TKbHZZiN74Mv99f4ZFv5I_ywocVy2cuw_I"}
]