[
{"content":{"body":"smaug: given the navigation/history rewrite it seems that should be more tractable now, in theory. I currently don't have time to investigate though.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: given the navigation/history rewrite it seems that should be more tractable now, in theory. I currently don't have time to investigate though.","m.mentions":{"user_ids":["@smaug:mozilla.org"]},"msgtype":"m.text"},"ts":1734420776728,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$ISOMfjQq_IG0BebN9ux62f-_3AlXZlrbJKLWDmnBauI"},
{"content":{"body":"smaug: also, I don't like putting the \"cloning steps\" before append in \"clone a node\", but I'll do it. It seems like in theory it could result in the same kind of issues. But it's also not important for scoped custom element registries where it is done so meh for now.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@smaug:mozilla.org\">smaug</a>: also, I don't like putting the \"cloning steps\" before append in \"clone a node\", but I'll do it. It seems like in theory it could result in the same kind of issues. But it's also not important for scoped custom element registries where it is done so meh for now.","m.mentions":{"user_ids":["@smaug:mozilla.org"]},"msgtype":"m.text"},"ts":1734421066799,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$naJTlqJYaTt3XrvEZPHAT5m-dO4eODV28_2Y2VPOeOg"},
{"content":{"body":"I should add, I really appreciate the thorough review. It has come out much better as a result.","m.mentions":{},"msgtype":"m.text"},"ts":1734421349849,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$tyTyUJnR9oh3GHOzq8j2r94oG0M3-kpzjDNYyfQGPH0"},
{"content":{"body":"Domenic: are you still around? Wanted to discuss some design issue with scoped custom element registries. We need to put the right custom element registry in scope when we call the constructor and then ideally we remove it from scope as soon as we can (as part of super(), inside HTMLElement's constructor) so there's as few side effects as possible. Of course, arbitrary script can run which can put other registries in scope and cause mischief.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">Domenic</a>: are you still around? Wanted to discuss some design issue with scoped custom element registries. We need to put the right custom element registry in scope when we call the constructor and then ideally we remove it from scope as soon as we can (as part of super(), inside HTMLElement's constructor) so there's as few side effects as possible. Of course, arbitrary script can run which can put other registries in scope and cause mischief.","m.mentions":{"user_ids":["@domenicdenicola:matrix.org"]},"msgtype":"m.text"},"ts":1734426348247,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$ZVsKhPL6HTN95wVzzTTzuPkxrqdUZqPVyfxqz-HZVMA"},
{"content":{"body":"So you need some kind of stack that HTMLElement's constructor pops. But it should only pop when the user agent pushed.","m.mentions":{},"msgtype":"m.text"},"ts":1734426388069,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$PuSxqQUp72eIlI5b07cjQ6hdsjv_73SHbobGWED_K-A"},
{"content":{"body":"Not really, but my GitHub email is in my personal inbox and I haven't been able to resist checking it daily yet","msgtype":"m.text"},"ts":1734426411763,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$dBsPUybo3v6w_b07lWqgMgjLRQgCfo4Q_4T6sRMkL-k"},
{"content":{"body":"Oh that doesn't sound good. Well, I guess I'll try to leave you alone then. ðŸ˜€","m.mentions":{},"msgtype":"m.text"},"ts":1734426509789,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$xUjTjc31I5LQMtekNlyqNSGT9IswAriCAFy_hgZtKSs"}
]