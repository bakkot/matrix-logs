[
{"content":{"body":"402 friends: in today's plenary meeting, we were unable to reach consensus on https://github.com/tc39/proposal-temporal/pull/2479. There are currently no comments from TG2 folks in that PR, nor in the original issue https://github.com/tc39/proposal-temporal/issues/2013 that's been open for more than a year.\n\nCould I humbly ask that comments be added into the PR ASAP (ideally today, or tomorrow morning) to explain any objections? This is not a complex change so hopefully it should be a quick review. If there are no (or easy-to-resolve) objections, then maybe we could ask again for consensus during the overflow topic we already have planned for later in this plenary week.\n\nTo summarize the change:\n* If the argument to `format` or `formatToParts` is a `Temporal.ZonedDateTime`, then use that instance's `timeZone` property instead of the user's time zone.\n* If the formatter had a non-undefined `timeZone` option passed to the its constructor, and if that option doesn't match (after canonicalization) the `timeZone` property of the `ZonedDateTime` instance, then throw a `RangeError`.  \n  * This is similar to our already-agreed-upon behavior for handling mismatches between the `calendar` option in the DTF constructor vs. the `calendar` option of various Temporal types, except that with calendars the `iso8601` calendar on the Temporal side will never cause a mismatch because we treat it as a null/default calendar. With time zones on other hand, there is no obvious default so all mismatches will throw.\n* The behavior described above matches the behavior of `ZonedDateTime.p.toLocaleString()`.\n\nIt's OK if there are blocking issues with the proposed fixes above, but we're all working very hard to close down any remaining open issues in Temporal. We really want to get the near-final form of this proposal into polyfill users' hands ASAP so we can ensure that no other regressions or problems come up. I realize this is just one PR among many, but we're down to hopefully the last few issues so every one we resolve this week will be helpful to the general goal of getting Temporal ready to ship.\n\nThanks!\n\n","format":"org.matrix.custom.html","formatted_body":"<p>402 friends: in today's plenary meeting, we were unable to reach consensus on https://github.com/tc39/proposal-temporal/pull/2479. There are currently no comments from TG2 folks in that PR, nor in the original issue https://github.com/tc39/proposal-temporal/issues/2013 that's been open for more than a year.</p>\n<p>Could I humbly ask that comments be added into the PR ASAP (ideally today, or tomorrow morning) to explain any objections? This is not a complex change so hopefully it should be a quick review. If there are no (or easy-to-resolve) objections, then maybe we could ask again for consensus during the overflow topic we already have planned for later in this plenary week.</p>\n<p>To summarize the change:</p>\n<ul>\n<li>If the argument to <code>format</code> or <code>formatToParts</code> is a <code>Temporal.ZonedDateTime</code>, then use that instance's <code>timeZone</code> property instead of the user's time zone.</li>\n<li>If the formatter had a non-undefined <code>timeZone</code> option passed to the its constructor, and if that option doesn't match (after canonicalization) the <code>timeZone</code> property of the <code>ZonedDateTime</code> instance, then throw a <code>RangeError</code>.\n<ul>\n<li>This is similar to our already-agreed-upon behavior for handling mismatches between the <code>calendar</code> option in the DTF constructor vs. the <code>calendar</code> option of various Temporal types, except that with calendars the <code>iso8601</code> calendar on the Temporal side will never cause a mismatch because we treat it as a null/default calendar. With time zones on other hand, there is no obvious default so all mismatches will throw.</li>\n</ul>\n</li>\n<li>The behavior described above matches the behavior of <code>ZonedDateTime.p.toLocaleString()</code>.</li>\n</ul>\n<p>It's OK if there are blocking issues with the proposed fixes above, but we're all working very hard to close down any remaining open issues in Temporal. We really want to get the near-final form of this proposal into polyfill users' hands ASAP so we can ensure that no other regressions or problems come up. I realize this is just one PR among many, but we're down to hopefully the last few issues so every one we resolve this week will be helpful to the general goal of getting Temporal ready to ship.</p>\n<p>Thanks!</p>\n","msgtype":"m.text"},"ts":1675198567006,"senderName":"justingrant","senderId":"@justingrant:matrix.org","id":"$CYt2KMmjm7E3IiLWoyuRkH4BnG8iR5871MbgGKOhbxk"}
]