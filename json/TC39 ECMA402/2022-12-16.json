[
{"content":{"body":"> <@justingrant:matrix.org> Although for some reason I'm only seeing this behavior in CI, not on my local dev machine, even though both are running Node 19.2.0. Weird.\n\nBTW, after some digging, the problem looks like a regression in CLDR 42. Apparently the Node 19 build used by GitHub Actions picks up ICU 72 (which includes CLDR 42), but my local dev machine's homebrew install includes ICU 71/CLDR 41. This explains why I only saw it in CI. \n\nI filed a bug in CLDR's JIRA to fix the formats: https://unicode-org.atlassian.net/browse/CLDR-16243\n\nIn cases like this where CLDR bugs are found, what's the normal process to follow?  Just wait for the issue to be fixed upstream?  Also file an issue in the 402 repo?  Also file bugs against V8, FF, and WebKit?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!pGTjbcoTUqwfzHcRaW:matrix.org/$L7l36LKHS5MJjab9YMtbyurtJ3CDBAu5gCx1EJoIaeY?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@justingrant:matrix.org\">@justingrant:matrix.org</a><br>Although for some reason I'm only seeing this behavior in CI, not on my local dev machine, even though both are running Node 19.2.0. Weird.</blockquote></mx-reply><p>BTW, after some digging, the problem looks like a regression in CLDR 42. Apparently the Node 19 build used by GitHub Actions picks up ICU 72 (which includes CLDR 42), but my local dev machine's homebrew install includes ICU 71/CLDR 41. This explains why I only saw it in CI.</p>\n<p>I filed a bug in CLDR's JIRA to fix the formats: https://unicode-org.atlassian.net/browse/CLDR-16243</p>\n<p>In cases like this where CLDR bugs are found, what's the normal process to follow?  Just wait for the issue to be fixed upstream?  Also file an issue in the 402 repo?  Also file bugs against V8, FF, and WebKit?</p>\n","m.relates_to":{"m.in_reply_to":{"event_id":"$L7l36LKHS5MJjab9YMtbyurtJ3CDBAu5gCx1EJoIaeY"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@justingrant:matrix.org> Although for some reason I'm only seeing this behavior in CI, not on my local dev machine, even though both are running Node 19.2.0. Weird.\n\nBTW, after some digging, the problem looks like a regression in CLDR 42. Apparently the Node 19 build used by GitHub Actions picks up ICU 72 (which includes CLDR 42), but my local dev machine's homebrew install includes ICU 71/CLDR 41. This explains why I only saw it in CI. \n\nI filed a bug in CLDR's JIRA to fix the formats: https://unicode-org.atlassian.net/browse/CLDR-16243\n\nIn cases like this where CLDR bugs are found, what's the normal process to follow?  Just wait for the issue to be fixed upstream?  Also file an issue in the 402 repo?  Also file bugs against V8, FF, and WebKit?","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!pGTjbcoTUqwfzHcRaW:matrix.org/$L7l36LKHS5MJjab9YMtbyurtJ3CDBAu5gCx1EJoIaeY?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@justingrant:matrix.org\">@justingrant:matrix.org</a><br>Although for some reason I'm only seeing this behavior in CI, not on my local dev machine, even though both are running Node 19.2.0. Weird.</blockquote></mx-reply><p>BTW, after some digging, the problem looks like a regression in CLDR 42. Apparently the Node 19 build used by GitHub Actions picks up ICU 72 (which includes CLDR 42), but my local dev machine's homebrew install includes ICU 71/CLDR 41. This explains why I only saw it in CI.</p>\n<p>I filed a bug in CLDR's JIRA to fix the formats: https://unicode-org.atlassian.net/browse/CLDR-16243</p>\n<p>In cases like this where CLDR bugs are found, what's the normal process to follow?  Just wait for the issue to be fixed upstream?  Also file an issue in the 402 repo?  Also file bugs against V8, FF, and WebKit?</p>\n","mimetype":"text/html"}]},"ts":1671185184929,"senderName":"justingrant","senderId":"@justingrant:matrix.org","id":"$LV-uiPJMFA-JEqHVIXKdrtM-Muu1KGr8xPdqghoLUQM"},
{"content":{"body":"I added the ECMAScript label to the issue. They will triage it soon","msgtype":"m.text"},"ts":1671194453968,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$8i9g8velNMMRAYEJ7H83MDRO8u3SfNj6GU46EMXiFeU"},
{"content":{"body":"But I think it's safe to assume that all this behavior is intended; it certainly won't be changing until CLDR43, so it's worth changing code to reflect the new data","msgtype":"m.text"},"ts":1671194496534,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$wfn7FyUsjxovuls7UgugzFiokqSkVatp70X4AoBwGKU"},
{"content":{"body":"> all this behavior is intended\n\nDo you mean the CLDR 42 formats are intentional changes, not bugs?\n\n> it's worth changing code to reflect the new data\n\nWhat does this mean specifically? What code? What new data?","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>all this behavior is intended</p>\n</blockquote>\n<p>Do you mean the CLDR 42 formats are intentional changes, not bugs?</p>\n<blockquote>\n<p>it's worth changing code to reflect the new data</p>\n</blockquote>\n<p>What does this mean specifically? What code? What new data?</p>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> all this behavior is intended\n\nDo you mean the CLDR 42 formats are intentional changes, not bugs?\n\n> it's worth changing code to reflect the new data\n\nWhat does this mean specifically? What code? What new data?","mimetype":"text/plain"},{"body":"<blockquote>\n<p>all this behavior is intended</p>\n</blockquote>\n<p>Do you mean the CLDR 42 formats are intentional changes, not bugs?</p>\n<blockquote>\n<p>it's worth changing code to reflect the new data</p>\n</blockquote>\n<p>What does this mean specifically? What code? What new data?</p>\n","mimetype":"text/html"}]},"ts":1671194646031,"senderName":"justingrant","senderId":"@justingrant:matrix.org","id":"$Tek7j0MmBcSINmYr2Qu_hGxIIhw751zYj4a-T--wRCM"}
]