[
{"content":{"body":"sffc: Does Chromium make good use of what better than prefix only should enable relative to Firefox and Safari? For example, is it better for yue?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sffc:mozilla.org\">sffc</a>: Does Chromium make good use of what better than prefix only should enable relative to Firefox and Safari? For example, is it better for yue?","m.mentions":{"user_ids":["@sffc:mozilla.org"]},"msgtype":"m.text"},"ts":1771873325636,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$22J3khzmd7sZ6MRDheoUceN1yJF3v6iaF9mvwU1U-8A"},
{"content":{"body":"Is there a good reason why Chrome unshipped zh-u-co-unihan but keeps ja-u-co-unihan and ko-u-co-unihan? Or is this just a case of someone having looked at unshipping Chinese collations (unihan getting unshipped together with big5han and gb2312) instead of looking at more things at the same time?","m.mentions":{},"msgtype":"m.text"},"ts":1771873445825,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$3rWEEoQzKPixH0xuifRG9FXAYmtvFirxCa0sTro4XQQ"},
{"content":{"body":"The way Firefox deals with prefix-only, Hans, and Hant is ensuring the common triplets are in the the available locales list.","m.mentions":{},"msgtype":"m.text"},"ts":1771873555262,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$LmDlsQ9KzowYPRaj3ibFkzhw-j9qq2KN2vrUkfY4IqA"},
{"content":{"body":"Common triplets starting with zh, that is. We don't have yue on the list.","m.mentions":{},"msgtype":"m.text"},"ts":1771873575778,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$IdeQwSB_epxJuiWMgmMG5igxIFx071XYnHevXkJD4w8"},
{"content":{"body":"There's a big mismatch between what the spec says and how i18n libraries actually work. Even if you implement the spec as written, as soon as you start asking ICU to do things, you are implicitly getting the best fit behavior.","msgtype":"m.text"},"ts":1771873610820,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$bmCO1ghVe8lySH33_wtPMrzFKVxg7P0OEUuBqh_szdk"},
{"content":{"body":"The whole concept of \"available locales\" just simply doesn't exist","msgtype":"m.text"},"ts":1771873640130,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$Bwbf9pM45dji5A9Sxeh216HKRtbXexg95SeB5bhIN3c"},
{"content":{"body":"sffc: We run the spec algorithm first. Passing its outcome to either ICU4C or ICU4X gives the expected result. That is, they don't do anything strange enough to break the outcome of the specced algorithm.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sffc:mozilla.org\">sffc</a>: We run the spec algorithm first. Passing its outcome to either ICU4C or ICU4X gives the expected result. That is, they don't do anything strange enough to break the outcome of the specced algorithm.","m.mentions":{"user_ids":["@sffc:mozilla.org"]},"msgtype":"m.text"},"ts":1771873678917,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$rSaDlsV8I-QUqlKnYnmhm9bbRY6XQdzztSzLwaqV74U"},
{"content":{"body":"It concretely exists in all of SpiderMonkey, JSC, and V8.","m.mentions":{"user_ids":["@sffc:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$Bwbf9pM45dji5A9Sxeh216HKRtbXexg95SeB5bhIN3c"}},"msgtype":"m.text"},"ts":1771873718536,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$BwtYfnk9gkpxDJ0sy6W_x3UyY1bMI5uolmZ_BGvprq0"},
{"content":{"body":"What does exist is \"class of locales that are vetted\" and \"class of locales that are not vetted\", where the union of those classes is the space of all locales, which is a virtually unbounded set","msgtype":"m.text"},"ts":1771873733091,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$ZM53P493H5b6GgH_9N0Fo64wM9sXYDKiqp5L-2a1W4M"},
{"content":{"body":"The spec is inventing a concept that no ICU has ever really implemented","msgtype":"m.text"},"ts":1771873757046,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$JS0Iq6GCCw8YLzRoBgQ0ynG7eUcbPEfutR0osDXXJco"},
{"content":{"body":"sffc: SpiderMonkey and V8 at least get the list from ICU4C today, so evidently ICU4C implemented something close enough to it.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sffc:mozilla.org\">sffc</a>: SpiderMonkey and V8 at least get the list from ICU4C today, so evidently ICU4C implemented something close enough to it.","m.mentions":{"user_ids":["@sffc:mozilla.org"]},"msgtype":"m.text"},"ts":1771873799893,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$5AQKlBjT1vCmq7Ky8NVr9wQzNIu1YM939t-tsDaAIH8"},
{"content":{"body":"sffc: I understand why you think the list is a bad idea, but it really does exist in implementations.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sffc:mozilla.org\">sffc</a>: I understand why you think the list is a bad idea, but it really does exist in implementations.","m.mentions":{"user_ids":["@sffc:mozilla.org"]},"msgtype":"m.text"},"ts":1771873832001,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$gOYA1i_zGX79OW8rx4KOeGWg1vZnN4DAumb6yT_H158"},
{"content":{"body":"It's not that the list is a bad idea","msgtype":"m.text"},"ts":1771873908560,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$rRzVsn3-0YLvIoVGNMwDr58n8L6SzRi8s16xgV8VXaE"},
{"content":{"body":"sffc: Do you have any insight into the unihan situation in Chrome?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@sffc:mozilla.org\">sffc</a>: Do you have any insight into the unihan situation in Chrome?","m.mentions":{"user_ids":["@sffc:mozilla.org"]},"msgtype":"m.text"},"ts":1771873913232,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$EdHHPkfl4bePifKsKDMteOm0WK1pBI1cLXGcAHv2tBs"},
{"content":{"body":"It's that the list is a list that doesn't exist; it's asking for a thing that is not real","msgtype":"m.text"},"ts":1771873938533,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$bX63NeRCz-lpL4_Iw8OOg31R0j45YPknQQuIYr6MFYA"},
{"content":{"body":"I don't remember exactly why Chrome does what it does with unihan collations","msgtype":"m.text"},"ts":1771874054456,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$bwx_os1ORndZTkbRsVt-eQf5-fJ-pmTwQSE_txt267o"},
{"content":{"body":"hi-Latn is another example where best fit matching works but prefix matching not","msgtype":"m.text"},"ts":1771874094381,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$IIYwlCsbC8JlMQtd8dXdPiYp5eE7IPq7Se4XPeyVyRw"},
{"content":{"body":"I have thoughts on how engines using ICU4X can implement the spec concept of available locales, which I've previously posted in issue 58 but never did a formal write up or docs page","msgtype":"m.text"},"ts":1771874173804,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$Fdyp3LCFQtIogVQufo3VPtIqAZmYpkMJBSnZqlF8L2w"},
{"content":{"body":"I wonder if anyone has bothered to do telemetry for traditional collations. For es, the traditional one is famous, but do people still want it? For fi and sv, it's not useful to ship traditional. Do people care about traditional for Vietnamese, Kannada, and Bengali?","m.mentions":{},"msgtype":"m.text"},"ts":1771874550608,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$2HZRVeo4Hi994miQPVjezZlPQCVWgqyeZvZytg60HSc"},
{"content":{"body":"> <@sffc:mozilla.org> I have thoughts on how engines using ICU4X can implement the spec concept of available locales, which I've previously posted in issue 58 but never did a formal write up or docs page\n\nYou deserve this writeup, and it will help Boa and V8, too. I'll put it on my list of things to do. Hopefully within a few weeks if that's okay.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!pGTjbcoTUqwfzHcRaW:matrix.org/$Fdyp3LCFQtIogVQufo3VPtIqAZmYpkMJBSnZqlF8L2w?via=mozilla.org&via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@sffc:mozilla.org\">@sffc:mozilla.org</a><br />I have thoughts on how engines using ICU4X can implement the spec concept of available locales, which I've previously posted in issue 58 but never did a formal write up or docs page</blockquote></mx-reply>You deserve this writeup, and it will help Boa and V8, too. I'll put it on my list of things to do. Hopefully within a few weeks if that's okay.","m.relates_to":{"m.in_reply_to":{"event_id":"$Fdyp3LCFQtIogVQufo3VPtIqAZmYpkMJBSnZqlF8L2w"}},"msgtype":"m.text"},"ts":1771876709536,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$VdYkJaOA2rVZ2l5llEJE17UGJuuxBeSYo23do0MmPNk"},
{"content":{"body":"This would be nice! In Boa we kinda do very weird things to implement the concept of available locales, so it would be reassuring having an \"official\" way of implementing it using ICU4X","m.mentions":{},"m.relates_to":{"event_id":"$VdYkJaOA2rVZ2l5llEJE17UGJuuxBeSYo23do0MmPNk","is_falling_back":true,"m.in_reply_to":{"event_id":"$VdYkJaOA2rVZ2l5llEJE17UGJuuxBeSYo23do0MmPNk"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1771876853765,"senderName":"Jedel","senderId":"@jedel:matrix.org","id":"$ynFTOm7VesouUVBX_mRr9_FzMEwmEHH0gjmPfsDBQf4"}
]