[
{"content":{"body":"how come `new Intl.NumberFormat('en-US', { style: 'unit', unit: 'byte', unitDisplay: 'narrow', notation: 'compact' }).format(1234567891)` prints out `1.2BB` and not `1.2GB`?","format":"org.matrix.custom.html","formatted_body":"how come <code>new Intl.NumberFormat('en-US', { style: 'unit', unit: 'byte', unitDisplay: 'narrow', notation: 'compact' }).format(1234567891)</code> prints out <code>1.2BB</code> and not <code>1.2GB</code>?","msgtype":"m.text"},"ts":1690321749111,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$mdm-TPNaOEkEnu-meetGY21ojI8C-lgsPL_fp7UKKaI"},
{"content":{"body":"because you said you wanted bytes","msgtype":"m.text"},"ts":1690322356239,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$3T9Yx0RtBh28MKPdIlUusbsTB3IUX2iwGAlAlkfvrjE"},
{"content":{"body":"whoa, that is weird","msgtype":"m.text"},"ts":1690323185094,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$LoiwPw6a8e0GPnjJLy3sq1BXClmwQfW7g3P8tFOjYOk"},
{"content":{"body":"```\n100000000 -> 100MB\n1000000000 -> 1BB\n10000000000 -> 10BB\n100000000000 -> 100BB\n1000000000000 -> 1 TB\n```","format":"org.matrix.custom.html","formatted_body":"<pre><code>100000000 -&gt; 100MB\n1000000000 -&gt; 1BB\n10000000000 -&gt; 10BB\n100000000000 -&gt; 100BB\n1000000000000 -&gt; 1 TB\n</code></pre>\n","msgtype":"m.text"},"ts":1690323332560,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$o-fNyZ5ZkKgseDRYI_AwbW7HRnOMeGi0DyNE6ospRC4"},
{"content":{"body":" * ```\n100000000 -> 100MB\n1000000000 -> 1BB\n10000000000 -> 10BB\n100000000000 -> 100BB\n1000000000000 -> 1TB\n```","format":"org.matrix.custom.html","formatted_body":" * <pre><code>100000000 -&gt; 100MB\n1000000000 -&gt; 1BB\n10000000000 -&gt; 10BB\n100000000000 -&gt; 100BB\n1000000000000 -&gt; 1TB\n</code></pre>\n","m.new_content":{"body":"```\n100000000 -> 100MB\n1000000000 -> 1BB\n10000000000 -> 10BB\n100000000000 -> 100BB\n1000000000000 -> 1TB\n```","format":"org.matrix.custom.html","formatted_body":"<pre><code>100000000 -&gt; 100MB\n1000000000 -&gt; 1BB\n10000000000 -&gt; 10BB\n100000000000 -&gt; 100BB\n1000000000000 -&gt; 1TB\n</code></pre>\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$o-fNyZ5ZkKgseDRYI_AwbW7HRnOMeGi0DyNE6ospRC4","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1690323343473,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$LRIn6ZiKG7xR3V_yG2Zcg6dkvENaDyXIDUb9Jy6qZUI"},
{"content":{"body":"You want `new Intl.NumberFormat('en-US', { style: 'unit', unit: 'gigabyte' }).format(1.234567891)`","format":"org.matrix.custom.html","formatted_body":"You want <code>new Intl.NumberFormat('en-US', { style: 'unit', unit: 'gigabyte' }).format(1.234567891)</code>","msgtype":"m.text"},"ts":1690323486174,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$kcXmfs4DUEc1XZ40bzhVGfuZsUP1atEG5W3oCkhETGw"},
{"content":{"body":"sure, but if you didn't want to have to do your own unit calc for human readable...","msgtype":"m.text"},"ts":1690323509556,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$fzATF6_01N7vRchaqg5B_hbYnvCIj6A6VMX03ftfb6k"},
{"content":{"body":"it appears every other expression is what one would expect","msgtype":"m.text"},"ts":1690323557295,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$Rc7zNWIRlQcawpNV9LDTI_lNg5ky8L7gPIJgM31-AXU"},
{"content":{"body":"There's a proposal for unit calculations/preferences but it's blocked on (1) user preferences and (2) lack of consensus that units math belongs in the standard library","msgtype":"m.text"},"ts":1690323573697,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$IZ75zOyFXz7UL7NlPLstYwFYDZuT3nX5khljPi6yamo"},
{"content":{"body":"currently at Stage 1 and last presented in 2020 I believe","msgtype":"m.text"},"ts":1690323596679,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$NxdGD5H2zQVwGxCTUAAQJ32JVTUsljIr1gbYMm6J2Xc"},
{"content":{"body":"The `1BB` is because you're printing `1B` in compact notation (`1K`, `1M`, `1B`, `1T`), and then you're attaching a unit to the end","format":"org.matrix.custom.html","formatted_body":"The <code>1BB</code> is because you're printing <code>1B</code> in compact notation (<code>1K</code>, <code>1M</code>, <code>1B</code>, <code>1T</code>), and then you're attaching a unit to the end","msgtype":"m.text"},"ts":1690323657537,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$3SK26VZLRYfAW0PRzsSqvXZcKQ8UfDoVT8-CVrUOeSc"},
{"content":{"body":" * it appears every other expression is what one would expect.  edit: stops at TB tho","m.new_content":{"body":"it appears every other expression is what one would expect.  edit: stops at TB tho","msgtype":"m.text"},"m.relates_to":{"event_id":"$Rc7zNWIRlQcawpNV9LDTI_lNg5ky8L7gPIJgM31-AXU","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1690323713779,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$uos_VAG82PV7RabYfMYDRJIBqjMBurZygTGfr2F-vcQ"},
{"content":{"body":"I don't understand why it's not `1G`, what am I missing here","format":"org.matrix.custom.html","formatted_body":"I don't understand why it's not <code>1G</code>, what am I missing here","msgtype":"m.text"},"ts":1690323765066,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$s4b1yT_DXDXZ1UtNqgAveGLscqvoAjWqOlqn1oS-TRk"},
{"content":{"body":"https://www.youtube.com/watch?v=kJQP7kiw5Fk has 8.2B Views","msgtype":"m.text"},"ts":1690323858978,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$lLqSXVCuogNWZE8bn27vLwlfkJuiU6Kt3V1UMvOKG7M"},
{"content":{"body":"so you're saying :\nK = thousand\nM = million\nB = billion\nT = trillion\nand we are just associating M and T with mega and tera erroneously","msgtype":"m.text"},"ts":1690324085148,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$OcUuqJ-7x3Miglt0hCLfsmaBKoA4uRk_i_E3NueSEJ8"},
{"content":{"body":"Compact decimal notation != SI prefixes","msgtype":"m.text"},"ts":1690324199948,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$bpoME_NNNtu7MtDvIpCP2Tc7g6r2OY-wCbgags1x4KE"},
{"content":{"body":"aye","msgtype":"m.text"},"ts":1690324214246,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$ZG5OewSJtWcvijh1A_GYPWu0B-p_b4rnNRQ7tTKqHj0"},
{"content":{"body":"it's the overloading that causes the confusion.  thanks","msgtype":"m.text"},"ts":1690324239937,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$_RPbYs61WpTKpKw3kgvAKcxeET55Knb3z2zkwCSKYwI"},
{"content":{"body":"See https://unicode.org/cldr/charts/43/by_type/numbers.compact_decimal_formatting.html for the symbols different locales use","msgtype":"m.text"},"ts":1690324241558,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$NET7zhu3HpXDFJ_QhE04naTYSxrf26AqDau9sytZLG0"},
{"content":{"body":"I see where the confusion comes from. I wouldn't be opposed to a proposal that uses SI prefixes _instead of_ compact decimal notation when style is \"unit\"","format":"org.matrix.custom.html","formatted_body":"I see where the confusion comes from. I wouldn't be opposed to a proposal that uses SI prefixes <em>instead of</em> compact decimal notation when style is \"unit\"","msgtype":"m.text"},"ts":1690324307297,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$VEgu6ZaeMvoHr3abuXGHuMF2HgpV_dZhJNMw9HX5vDo"},
{"content":{"body":"If someone files an issue, we can track that better :)","msgtype":"m.text"},"ts":1690324339609,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$UgLqkJI3x33xLHGobiZtpphWBFzQOCKiIJcCDaEYp0Q"},
{"content":{"body":"wouldn't that be a breaking change at this point?","msgtype":"m.text"},"ts":1690324402747,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$zP2lwL2ywfAjU5QUNUySSx0WSsFOjzhN5VG28QOyGJg"},
{"content":{"body":"A normative change, sure, but not necessarily web-incompatible; unclear if any of this behavior is required by the spec. I think not.","msgtype":"m.text"},"ts":1690324452987,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$QdObs5eCgSHCJVjveOO3_i8EF_UsD33atxQF8ZIvck4"},
{"content":{"body":"A normative change could be a one-liner \"the compact decimal suffix can depend on style\"","msgtype":"m.text"},"ts":1690324493006,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$JvGu1LYMZkTF9rdKDgN91W-Om_9yUbdaSBhuj8vWcxs"},
{"content":{"body":"Yeah actually in practice we already have special patterns for notation: compact with style: currency. So it shouldn't be hard to allow special patterns to be used in that way for style: unit as well.","msgtype":"m.text"},"ts":1690324811145,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$iPTBkH5qtKY9PcJsPi2EZp8s0Vu5r9oZc9dc1PIlGyI"},
{"content":{"body":"https://github.com/tc39/ecma402/issues/810","msgtype":"m.text"},"ts":1690325302188,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$DueX6h4hgxetwlqrJOp3fnVlLor7y6NnsrLXktBT0XY"},
{"content":{"body":"if the unit is \"byte\" i wouldn't expect anything but megabyte, gigabyte, terabyte, etc","msgtype":"m.text"},"ts":1690325421346,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$5uh_F8UZWzYwA2V-zKE6qm73lL8oaPKZL4W-1QQlWXE"}
]