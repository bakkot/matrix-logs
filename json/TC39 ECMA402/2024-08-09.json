[
{"content":{"body":"What should I read to learn why ECMA-402 `DisplayNames` has both \"short\" and \"narrow\" style when the expected data source (CLDR) seems to have only one kind of short?","format":"org.matrix.custom.html","formatted_body":"What should I read to learn why ECMA-402 <code>DisplayNames</code> has both \"short\" and \"narrow\" style when the expected data source (CLDR) seems to have only one kind of short?","m.mentions":{},"msgtype":"m.text"},"ts":1723202584502,"senderName":"hsivonen","senderId":"@hsivonen:mozilla.org","id":"$avAsS2bH4Zo0VA823665a4xUqmf6xAxmQpj9FybQ25k"},
{"content":{"body":"> <@hsivonen:mozilla.org> What should I read to learn why ECMA-402 `DisplayNames` has both \"short\" and \"narrow\" style when the expected data source (CLDR) seems to have only one kind of short?\n\nThere's nothing forbidding engines from obeying a request for a narrow width if they have data for it, and there is data in type: \"currency\". In previous versions of the proposal, date fields like type: \"weekday\" were included, which definitely have narrow width, but type: \"weekday\" was removed before the proposal reached Stage 3.\n\nIn Firefox 115:\n\n```\n[\"long\", \"short\", \"narrow\"].map((style) => new Intl.DisplayNames(\"es-MX\", { type: \"currency\", style }).of(\"USD\"))\nArray(3) [ \"d贸lar estadounidense\", \"USD\", \"$\" ]\n```","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!pGTjbcoTUqwfzHcRaW:matrix.org/$avAsS2bH4Zo0VA823665a4xUqmf6xAxmQpj9FybQ25k?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@hsivonen:mozilla.org\">@hsivonen:mozilla.org</a><br>What should I read to learn why ECMA-402 <code>DisplayNames</code> has both \"short\" and \"narrow\" style when the expected data source (CLDR) seems to have only one kind of short?</blockquote></mx-reply><p>There's nothing forbidding engines from obeying a request for a narrow width if they have data for it, and there is data in type: \"currency\". In previous versions of the proposal, date fields like type: \"weekday\" were included, which definitely have narrow width, but type: \"weekday\" was removed before the proposal reached Stage 3.</p>\n<p>In Firefox 115:</p>\n<pre><code>[\"long\", \"short\", \"narrow\"].map((style) =&gt; new Intl.DisplayNames(\"es-MX\", { type: \"currency\", style }).of(\"USD\"))\nArray(3) [ \"d贸lar estadounidense\", \"USD\", \"$\" ]\n</code></pre>\n","m.mentions":{"user_ids":["@hsivonen:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$avAsS2bH4Zo0VA823665a4xUqmf6xAxmQpj9FybQ25k"}},"msgtype":"m.text"},"ts":1723217935408,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$UZDzm2cK6z4zDn-qUA1Nf_DNnHIPfGtwrDZ1UXbK7o4"},
{"content":{"body":"Note: Chrome doesn't seem to respect `style` with `type: \"currency\"`?","format":"org.matrix.custom.html","formatted_body":"Note: Chrome doesn't seem to respect <code>style</code> with <code>type: \"currency\"</code>?","m.mentions":{},"msgtype":"m.text"},"ts":1723218019245,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$_WavMOCfKlEMhJ41TIM_O_2NlEAOBF8F7uiS_rDG23Q"},
{"content":{"body":"> <@sffc:mozilla.org> Note: Chrome doesn't seem to respect `style` with `type: \"currency\"`?\n\nwhat's the expected result?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!pGTjbcoTUqwfzHcRaW:matrix.org/$_WavMOCfKlEMhJ41TIM_O_2NlEAOBF8F7uiS_rDG23Q?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@sffc:mozilla.org\">@sffc:mozilla.org</a><br>Note: Chrome doesn't seem to respect <code>style</code> with <code>type: \"currency\"</code>?</blockquote></mx-reply>what's the expected result?","m.mentions":{"user_ids":["@sffc:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$_WavMOCfKlEMhJ41TIM_O_2NlEAOBF8F7uiS_rDG23Q"}},"msgtype":"m.text"},"ts":1723219011997,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$1wmoE7QYd04xUM-GBQDVffRbkPFhh1LLDNfi6fhvU-c"},
{"content":{"body":"Chrome 127:\n```\n[\"long\", \"short\", \"narrow\"].map((style) => new Intl.DisplayNames(\"es-MX\", { type: \"currency\", style }).of(\"USD\"))\nArray(3) [ \"d贸lar estadounidense\", \"USD\", \"$\" ]\n```","format":"org.matrix.custom.html","formatted_body":"<p>Chrome 127:</p>\n<pre><code>[\"long\", \"short\", \"narrow\"].map((style) =&gt; new Intl.DisplayNames(\"es-MX\", { type: \"currency\", style }).of(\"USD\"))\nArray(3) [ \"d贸lar estadounidense\", \"USD\", \"$\" ]\n</code></pre>\n","m.mentions":{},"msgtype":"m.text"},"ts":1723219167929,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$xXMz3MPDZsg4aH7lxqbFruKhK0Rrh-yt0otWHenQ7jw"}
]