[
{"content":{"body":"shu: for the reason bakkot stated: we don't have a need to support ad-hoc effects","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@shuyuguo:matrix.org\">shu</a>: for the reason <a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a> stated: we don't have a need to support ad-hoc effects","msgtype":"m.text"},"ts":1632758820261,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$OEeo4vM304cITgxBMQQ2ZX6xQLuVkoTzmpnth69CafU"},
{"content":{"body":"we will always know all the effects we support","msgtype":"m.text"},"ts":1632758826828,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$CVCfui-BTt0szsbIJIVCqCYfBI5t2yC51N3e9zrNMtg"},
{"content":{"body":"something like that is more appropriate as separate attributes than crammed into a comma-separated string together","msgtype":"m.text"},"ts":1632758869224,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$9lE65gBidA_AJw6h5tymgf6kk-LPOZoQ8JHjtoSex3c"},
{"content":{"body":"what do you want to be in the `dd`?","format":"org.matrix.custom.html","formatted_body":"what do you want to be in the <code>dd</code>?","msgtype":"m.text"},"ts":1632758885806,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$RrtyEJjSyAqGyl-qlmvz_ij0wkm_lBOOqt9u1H84Dy8"},
{"content":{"body":"just empty?","msgtype":"m.text"},"ts":1632758889012,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$V1TIf2X8mpmtKq_4P6ZLnhB-v3rKCdZTIWHBqhimt0k"},
{"content":{"body":"i mean it could also be a known list of effects in `<dt>effects</dt>`","format":"org.matrix.custom.html","formatted_body":"i mean it could also be a known list of effects in <code>&lt;dt&gt;effects&lt;/dt&gt;</code>","msgtype":"m.text"},"ts":1632758929998,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$bI1PGFQotn7rH7E42LQ5RrKApk0igHDVkTmyuPpeDME"},
{"content":{"body":"they're 2-state, right? so true/false?","msgtype":"m.text"},"ts":1632758960601,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$oxyVL6qMJMaj5baeGc5059RuNi4Wr90wetJFk9_0fxo"},
{"content":{"body":"well, and absence","msgtype":"m.text"},"ts":1632758975291,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$clvbVRwqWlCK2JSFZ7iDjM5o6JAY-6XPX6zsdALtsA8"},
{"content":{"body":"i don't see a lot of gains for separate attributes other than more typing","msgtype":"m.text"},"ts":1632758993470,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$9TiRszgVXLaTfItFviUv6WyqZ1nZVWn3m4RHa0cPwwA"},
{"content":{"body":"but i see the argument about not having it be arbitrary","msgtype":"m.text"},"ts":1632759006290,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$ndW3gl7Po1eT6Odw5cbfJnBqUDFBzPbdsWHooFCkr9Y"},
{"content":{"body":"yeah, I guess I would lean towards having it be a single attribute, for the sake of ease of reading/writing","msgtype":"m.text"},"ts":1632761478941,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$d4V8FJe_L1i_0RFmKoBWZcJxmYD-CUobt3k_xQzhEZQ"},
{"content":{"body":"if we want to limit the allowable values we can enforce that with the linter","msgtype":"m.text"},"ts":1632761509022,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$MQGaaAH7wtdg_BNR8WMltn8K-GkNqgu9GAUcl_ClaXY"},
{"content":{"body":"separate attributes is easier for scripting","msgtype":"m.text"},"ts":1632762014146,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$SABOErg3Kgw5XuFgXiNk8xMj-LiMFsjinQa4GAcwU8s"},
{"content":{"body":"otherwise every scripting operation needs to do the field parsing too","msgtype":"m.text"},"ts":1632762032058,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$WlaL7BW2WeytjkSQP624JnR8bW0UOy9Cn8-8vUAcRlM"},
{"content":{"body":"that seems like it should be a very low priority","msgtype":"m.text"},"ts":1632762054136,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Rmz0dQ5uEcLUfHnK80Y1-xX-nZZkS-aFhSCGxppkwO0"},
{"content":{"body":"speaking as the person who does most of the maintenance of the scripting here","msgtype":"m.text"},"ts":1632762075587,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$JpReoXwHk4J7R_ZaniEv2Uz7Pvq37bz1g1A0Cm52o40"},
{"content":{"body":"the scripting is `.split(',')`?","format":"org.matrix.custom.html","formatted_body":"the scripting is <code>.split(',')</code>?","msgtype":"m.text"},"ts":1632763646955,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$yllITROihzkHuX5z_ryCMnyeEGUjB-SsbBHfUrheKoI"},
{"content":{"body":"i saw you ran an autoformatter, what should i be running?","msgtype":"m.text"},"ts":1632766765143,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$uKs1MrdWBI5PxO6TaDAyKSslE-ngiFwIEo3RRxh-q3M"},
{"content":{"body":"bakkot: ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>:","msgtype":"m.text"},"ts":1632766770322,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$hskoZjDB4UFFvz6_aq96dfSlDchwfBbKiHg_LcqQ9sg"},
{"content":{"body":"`npm run format`","format":"org.matrix.custom.html","formatted_body":"<code>npm run format</code>","msgtype":"m.text"},"ts":1632766891786,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$7D-d5rS0nEjWSgtYqaVYBTDxSD5f48VQxTz9wD688ho"},
{"content":{"body":"also re: \"static sdo\", it's not enough to just update 262; ecmarkup knows about a specific list of types","msgtype":"m.text"},"ts":1632766910869,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$SZ42qG90HA32lE-jDrKNhHdfDFOjo3krUG0-v0bjRrc"},
{"content":{"body":"which does not include \"static SDO\"","msgtype":"m.text"},"ts":1632766925745,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$dZZbo19FFnmMxs7VRhnIHfQwXV1jNBHylK6e9zNh2ac"},
{"content":{"body":" * which does not include \"static sdo\"","m.new_content":{"body":"which does not include \"static sdo\"","msgtype":"m.text"},"m.relates_to":{"event_id":"$dZZbo19FFnmMxs7VRhnIHfQwXV1jNBHylK6e9zNh2ac","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1632766988183,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$aROkJ9IBinH0ZN33TIv8qcbxbXTsa5SoDWDJT-uCIj8"},
{"content":{"body":"i saw that there was special handling for some","msgtype":"m.text"},"ts":1632769486602,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$iVX4VeVMvi-itDlE6PovpnDv1CZezIINortXKlNmnBg"},
{"content":{"body":"what additional things does ecmarkup need to be taught about static sdos, if the only thing that needs static sdo handling is the effect propagation?","msgtype":"m.text"},"ts":1632769528528,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$ZM4r9G6v3BObzUfQy1W9GBOHTXEK95kM2itWl07Dy6k"},
{"content":{"body":"I think you can just grep for `'sdo'` in header-parser.ts, but like I said I think it would be better to track that as a separate bit rather than putting it into \"type\"","format":"org.matrix.custom.html","formatted_body":"I think you can just grep for <code>'sdo'</code> in header-parser.ts, but like I said I think it would be better to track that as a separate bit rather than putting it into &quot;type&quot;","msgtype":"m.text"},"ts":1632769875283,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$-JhhzBOYFXvGGUBZyzzUOcCcVVz5vprOsiPJEbph_Aw"},
{"content":{"body":"fair enough","msgtype":"m.text"},"ts":1632775457677,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$HJvkEzbCJDCJwnQodvCJ-_63zm-327Qnz8kCN2u30o0"},
{"content":{"body":"also I think you can get away without changes to 262 - you can just rely on the \"Static Semantics\" prefix, no?","msgtype":"m.text"},"ts":1632776630060,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$QPiMgAzeQ0LyhJ1m51RDF7_3gKp_kbz4f3SLqUsOzLk"},
{"content":{"body":"for step 10 of https://tc39.es/ecma262/#sec-string.prototype.lastindexof - is there any interest in me restating that prose in the form of an explicit loop? (like how it's done in https://tc39.es/ecma262/#sec-stringindexof)","msgtype":"m.text"},"ts":1632778707441,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$0JO1RQL1YpMJuQj3Sx98ZOyxYb1qZv8qr3vY6pJeyM8"},
{"content":{"body":"bakkot: yes, good point, \"Static Semantics\" prefix suffices","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: yes, good point, &quot;Static Semantics&quot; prefix suffices","msgtype":"m.text"},"ts":1632780614094,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$LcWi0sqyHOqE3JRqQFssxvK7ro1Aq9hsCvzcOtZysfg"},
{"content":{"body":"ljharb: yes, that sounds great","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@ljharb:matrix.org\">ljharb</a>: yes, that sounds great","msgtype":"m.text"},"ts":1632785880124,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$SUl4rhFCop7q7ZFInRmLr_oNSb1_Q8y0RUpBRzPRy5o"},
{"content":{"body":"the proposal copied what was in StringIndexOf before https://github.com/tc39/ecma262/pull/2258 landed, I suppose","msgtype":"m.text"},"ts":1632785900900,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$_-lLhjIf30SGprsFLhkMLAw2Cv6uBOYjdhbd1CWTYpU"},
{"content":{"body":"wish I'd noticed that during review","msgtype":"m.text"},"ts":1632785924389,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$v8QAGWTMrEnmv8uvAHePnTXJYsZGo9aDb6pVdyORPjI"},
{"content":{"body":"or, wait","msgtype":"m.text"},"ts":1632785956227,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$qd2vz9Zfp8xrjuvDX87oMxr8kaeOQe5qt-ZZpfjhxco"},
{"content":{"body":"I'm thinking of find-from-last","msgtype":"m.text"},"ts":1632785961058,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$zT3rLrmQtrWJuqp3ynHU10GGbGwqv8tLIrc4xHDGuPM"},
{"content":{"body":"lastIndexOf is old","msgtype":"m.text"},"ts":1632785965516,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$IhXVDi933kPDZ-qj9Hrb-pWgBy4tB4a3LtT4-4MBiCY"},
{"content":{"body":"anyway, yes, such a PR sounds great; I would have done it in 2258 if I'd noticed","msgtype":"m.text"},"ts":1632786004873,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$_CKsuVCi9PIlYD6d_jw7MJhSMrdXd7_V0RYK-HpmEaI"},
{"content":{"body":"Great - do you prefer an inline alg, a separate AO, or a two-way StringIndexOf?","msgtype":"m.text"},"ts":1632786235035,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$tos1_eaMfcIKNFsQdv4I4T_nYiphnzF8asGan27t8YA"}
]