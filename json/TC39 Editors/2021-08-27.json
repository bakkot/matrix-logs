[
{"content":{"body":"bakkot: ping","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: ping","msgtype":"m.text"},"ts":1630101574576,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$UvORnxzNPlR4uGo9NV6QLwySy8OVtNlWWuMf8Vpl7NY"},
{"content":{"body":"shu: pong","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@shuyuguo:matrix.org\">shu</a>: pong","msgtype":"m.text"},"ts":1630101727984,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$_SlsPFJXNVJWlaeAbLSAvKjn9Y5uF7fjYqzN4ozbIyk"},
{"content":{"body":"https://docs.google.com/presentation/d/14PNcWgkd3Ik61b0Fv9qFISfjUfGz4ZThCkyC-XTTC_8/edit?usp=sharing for the structured clone slides","msgtype":"m.text"},"ts":1630102129658,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$qzRk03PCj7Mx1crr7-5Cses8N7oph6whFyucl-gQ9MQ"},
{"content":{"body":"ptal if you have time, and comment with concerns","msgtype":"m.text"},"ts":1630102139115,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$C-tK6UzYljP6wQ3pR31KlF0eHpQBtu2zDN8oEiiIO94"},
{"content":{"body":"seems good","msgtype":"m.text"},"ts":1630102250135,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$k9qF535pPe0DVjIT0H3qAa6kzQPlrVVCu2hKDRLgXDo"},
{"content":{"body":"I might emphasize that the details of how it works really do not matter, since this is strictly a layering thing for an already existing API","msgtype":"m.text"},"ts":1630102267705,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$JPHHJ9SK13J4fq0mLKX6ONFA19_i8n_Qm3MUgy3HLkA"},
{"content":{"body":"since I guarantee you that e.g. Mark is going to be asking about exactly how it works","msgtype":"m.text"},"ts":1630102281333,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ebxqGjvvAl4-g2AW7d-4QfZa63D2naQUuNnEDBaziC0"},
{"content":{"body":"heh yes","msgtype":"m.text"},"ts":1630102371041,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$--f65jjIvEBdHN7m06l93WCerRx_I26-b372AcFTttg"},
{"content":{"body":"does node have it as well?","msgtype":"m.text"},"ts":1630102469727,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$GvAx3eE6Jv93BUgkcbeTl8SOhx3lK5BVPUOb8ABbsc4"},
{"content":{"body":"structured cloning, that is","msgtype":"m.text"},"ts":1630102473062,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$BkbjSPF7F90FfZbGFIwIQDdFsTuRsJRhv0EzTUXhVII"},
{"content":{"body":"not currently, afaik, but see https://github.com/nodejs/node/issues/39713","msgtype":"m.text"},"ts":1630102600714,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$lWfdb6XP3TVZ8O2gIy66HAYkGDKV9GQiLoB4awzMaEo"},
{"content":{"body":"actually, wait, maybe it does via MessageChannel in the worker_threads module","msgtype":"m.text"},"ts":1630102663876,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$fapFqbendAOBiokQCKA9Z67iDF2rmtKnC-cCeJuoqEs"},
{"content":{"body":"ok yeah: https://nodejs.org/api/worker_threads.html#worker_threads_port_postmessage_value_transferlist\n> `value` is transferred in a way which is compatible with the HTML structured clone algorithm.\n","format":"org.matrix.custom.html","formatted_body":"<p>ok yeah: https://nodejs.org/api/worker_threads.html#worker_threads_port_postmessage_value_transferlist</p>\n<blockquote>\n<p><code>value</code> is transferred in a way which is compatible with the HTML structured clone algorithm.</p>\n</blockquote>\n","msgtype":"m.text"},"ts":1630102710771,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$AvZP-_y_sjrT3oyq2PDIzTMwT_HdNpQ5Yfba70eX9Uk"},
{"content":{"body":"excellent, thanks for the reference","msgtype":"m.text"},"ts":1630102827497,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$96HjKbb1be7LDwXIFz02O93MWlZG899uD59zUH1L0zE"},
{"content":{"body":"mark is going to be so unhappy with this","msgtype":"m.text"},"ts":1630103639598,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$gFQy3arYUDDYVtkdkVpES-jZffZ3uQipMo5MLq_-mEc"},
{"content":{"body":"e.g. if you structured clone a proxy for an array, it throws, thus revealing that you actually had a proxy rather than an array","msgtype":"m.text"},"ts":1630103683482,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$SwWw6jLAxOO5XvdHxdSCq0qrxkr0jBXWlgcng1VArSM"},
{"content":{"body":"the world is already this way, what you gonna do","msgtype":"m.text"},"ts":1630104108627,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$Xy7h9R20-7cJzaRvR9Q8yTRHrA0xOvn5kEcBxM7N1v8"},
{"content":{"body":"pretend it isn't","msgtype":"m.text"},"ts":1630104133820,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Yt1LOv_ISjxbhHFxNIxvEklwJDSqEWmt5iPeelmIWog"},
{"content":{"body":"https://www.youtube.com/watch?v=PwuckTkE7T4","msgtype":"m.text"},"ts":1630104145543,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$RznGv9roLbOAWfFPQFPwDHzN6IIbVw_8s1KCBuTaq-0"},
{"content":{"body":"well in any case, that's the \"we're not asking for normative changes here\"","msgtype":"m.text"},"ts":1630104180535,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$qNnQV5Di_GciffXqtKtGqZhfJPv_ll3rLp0hOSRneOE"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1630104186679,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$XWZ9ivPCGIYzIQRa_BFnxF6ZJOdNwqW-xgK-Q1jZwAk"},
{"content":{"body":"it's just I suspect mark has maybe not previously heard of or at least though much about this algorithm, so this presentation is going to be how he finds out, and it will make him unhappy","msgtype":"m.text"},"ts":1630104237322,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$KQzUdsAF8r7LHUEsVSu7n5jF6kufJ9Cct5rU2k0ML7M"},
{"content":{"body":"yeah, seems very likely","msgtype":"m.text"},"ts":1630104265944,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$I1S2AV4O_0eGioL7d102IOxs2XHY19_qOGWNz-SGsns"}
]