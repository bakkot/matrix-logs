[
{"content":{"body":"is it weird to anyone else that https://tc39.es/ecma262/#sec-property-descriptor-specification-type says that an empty Record is a Property Descriptor?","m.mentions":{},"msgtype":"m.text"},"ts":1736824756812,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$RN3HybjDsA-HsrTv1C3-2N4_qq5ogdaUh7O_Kmdtmhg"},
{"content":{"body":"it is, though","m.mentions":{},"msgtype":"m.text"},"ts":1736825625104,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ulafndVVGK2ltef0x73c2smvw8nwfEjnCHNqQEK71o4"},
{"content":{"body":"that's so `Object.defineProperty(foo, 'bar', {})` works","format":"org.matrix.custom.html","formatted_body":"that's so <code>Object.defineProperty(foo, 'bar', {})</code> works","m.mentions":{},"msgtype":"m.text"},"ts":1736825635823,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$nl80S4QCe9vIMwcq3szf7iVqHiRKl4HtVlGc3XdLAtk"},
{"content":{"body":"i mean i get that an empty object has to work in a number of places. but since `{ enumerable: true }` isn't a property descriptor record either (that'd be `{ [[Enumerable]]: true }`) i'm not sure why an empty record needs to be one","format":"org.matrix.custom.html","formatted_body":"i mean i get that an empty object has to work in a number of places. but since <code>{ enumerable: true }</code> isn't a property descriptor record either (that'd be <code>{ [[Enumerable]]: true }</code>) i'm not sure why an empty record needs to be one","m.mentions":{},"msgtype":"m.text"},"ts":1736839946900,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$cPLwZZ2CLzW_LXNsjWd_1M2WGqdLFFTaVdtV_d1dlos"},
{"content":{"body":"if you look at how `Object.defineProperty` works it basically mechanically converts the object into a spec record by copying over each of the relevant fields https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-topropertydescriptor","format":"org.matrix.custom.html","formatted_body":"if you look at how <code>Object.defineProperty</code> works it basically mechanically converts the object into a spec record by copying over each of the relevant fields https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-topropertydescriptor","m.mentions":{},"msgtype":"m.text"},"ts":1736875495943,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$xwjhQqgmS-Aou6W8jDvLQrbMAzG_-CF7PaKgHh7ON5k"},
{"content":{"body":"and then passing it to definePropertyOrThrow which switches on presence of various fields","m.mentions":{},"msgtype":"m.text"},"ts":1736875568934,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$GVwmppeblzcCuxccXpdn-fbcwVczws6GAigSEPIzLbY"},
{"content":{"body":"it could work some other way but the reason an empty record is a property descriptor record is to allow it to be written this way","m.mentions":{},"msgtype":"m.text"},"ts":1736875967429,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$wuL3iFPWG5YO56mzZz2K5vMv_gudvlHGukrmMbNJN74"},
{"content":{"body":"I think if we were writing it today we'd probably avoid having optional fields in the record, which we usually avoid, but it would require a bit more machinery","m.mentions":{},"msgtype":"m.text"},"ts":1736876063359,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Mj3ToBr4bGjFlxvDYOolyAekXEkZ-mEZLQ38dikmO14"},
{"content":{"body":"I definitely understand why it's written this way","m.mentions":{},"msgtype":"m.text"},"ts":1736876736783,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$C8QM_iubaeLPGLZrfMxOsJt7iDQTIOiZ2URlLEB8l40"},
{"content":{"body":"i'm wondering if it would be cleaner to special-case \"no fields\" rather than having the bottom type of all records be Property Descriptor","m.mentions":{},"msgtype":"m.text"},"ts":1736876760803,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$zbKrHXkvjlCWmBv2L2gDsi8zY0eS9O-8MvlTPvhcgcU"},
{"content":{"body":"ah","m.mentions":{},"msgtype":"m.text"},"ts":1736877681893,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$VJBArqoYwPwHvxbn6iW65O2-AbwZHyQj7SgGLGTAams"},
{"content":{"body":"I prefer not to; I don't think of records as really sharing types","m.mentions":{},"msgtype":"m.text"},"ts":1736877704264,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$xSPUCjlvWjJyqm-QJrdcomS_dFrDpkoT7r3ty6QHiqY"},
{"content":{"body":"it's not like you come across a random record with no context in the spec; they're always being passed around between specific algorithms which make it clear what kind of thing they're working with","m.mentions":{},"msgtype":"m.text"},"ts":1736877730775,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$tyt9v4OYdk3VCWm7-YgoqAiyzIyArfoHmjlv6qpEi4Q"},
{"content":{"body":"lmao is this guy trying to save disk space on GitHub's servers? https://github.com/tc39/ecma262/pull/3478#issuecomment-2589138113","msgtype":"m.text"},"ts":1736879100257,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$S45dyvQ7tG1ZFYwFfR0lF46gh04BI91yExJtc_vg7pk"},
{"content":{"body":"who does this?","msgtype":"m.text"},"ts":1736879102465,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$b0GLDeey_0XvNbWJNR09g_pEIH9pzi442Z0T8ldt36Q"},
{"content":{"body":"Maybe he's saving space locally then pushing to github?","m.mentions":{},"msgtype":"m.text"},"ts":1736879346425,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$mCiJtg6vi41tbbcCuSWJwF2DyWC9LnZRKekPS28ILeQ"},
{"content":{"body":"ljharb: Given `Let _e_ be Record {}. If _e_ is a Property Descriptor, then ...`, are you thinking that the condition would succeed?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@ljharb:matrix.org\">ljharb</a>: Given <code>Let _e_ be Record {}. If _e_ is a Property Descriptor, then ...</code>, are you thinking that the condition would succeed?","m.mentions":{"user_ids":["@ljharb:matrix.org"]},"msgtype":"m.text"},"ts":1736880325342,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$b-E83Ertl1fJBkgg0kVe1D9ozB_u7JNwFenGvVwPYJM"},
{"content":{"body":"> <@michaelficarra:matrix.org> who does this?\n\nI’ve encountered many; some are the rare folks who use the PRs and issues tab, and are also stuck on the idea of “clean”, meaning they want to remove things from the list, and that requires closing PRs. In this case, i think he looks at his own profile and says “ick, too many forks” and tries to “clean” them up. But this is like the third time this guy;s done this with the same 262 PR, so i dunno what he’s thinking","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!nSLHQtIRJQxUJbEuGt%3Amatrix.org/%24b0GLDeey_0XvNbWJNR09g_pEIH9pzi442Z0T8ldt36Q\">In reply to</a> <a href=\"https://matrix.to/#/@michaelficarra:matrix.org\">@michaelficarra:matrix.org</a><br>who does this?</blockquote></mx-reply>I’ve encountered many; some are the rare folks who use the PRs and issues tab, and are also stuck on the idea of “clean”, meaning they want to remove things from the list, and that requires closing PRs. In this case, i think he looks at his own profile and says “ick, too many forks” and tries to “clean” them up. But this is like the third time this guy;s done this with the same 262 PR, so i dunno what he’s thinking","m.relates_to":{"m.in_reply_to":{"event_id":"$b0GLDeey_0XvNbWJNR09g_pEIH9pzi442Z0T8ldt36Q"}},"msgtype":"m.text"},"ts":1736880455394,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$Tjz18NBgSgTZ0TI_5ptqDugU5WfI61bSo1TKDCJT7Vs"},
{"content":{"body":"> <@jmdyck:matrix.org> ljharb: Given `Let _e_ be Record {}. If _e_ is a Property Descriptor, then ...`, are you thinking that the condition would succeed?\n\nit does, right now, to my reading.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!nSLHQtIRJQxUJbEuGt%3Amatrix.org/%24b-E83Ertl1fJBkgg0kVe1D9ozB_u7JNwFenGvVwPYJM\">In reply to</a> <a href=\"https://matrix.to/#/@jmdyck:matrix.org\">@jmdyck:matrix.org</a><br><a href=\"https://matrix.to/#/@ljharb:matrix.org\">ljharb</a>: Given <code>Let _e_ be Record {}. If _e_ is a Property Descriptor, then ...</code>, are you thinking that the condition would succeed?</blockquote></mx-reply>it does, right now, to my reading.","m.relates_to":{"m.in_reply_to":{"event_id":"$b-E83Ertl1fJBkgg0kVe1D9ozB_u7JNwFenGvVwPYJM"}},"msgtype":"m.text"},"ts":1736880469956,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$oCZ4XCTOSE786ZtAWThoFyfm2lmBMe2ReVjYYvLz3hU"},
{"content":{"body":"So you think \"is a Foo Record\" could be true of any record, regardless of how created, as long as it only has fields that a Foo Record can have?","m.mentions":{},"msgtype":"m.text"},"ts":1736880598792,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$Tm4XqvRNBGr9e28TFOCGZ5lKWtwQpXKPaCTyT_eJT5I"}
]