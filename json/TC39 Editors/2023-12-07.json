[
{"content":{"body":"writing up the spec for base64 and I really want to use break/continue","m.mentions":{},"msgtype":"m.text"},"ts":1701972797920,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$lpVEFH8mWXfZadwePjSkSOZZVIEjBZsPR4bHJvSeXLg"},
{"content":{"body":"what if we defined those","m.mentions":{},"msgtype":"m.text"},"ts":1701972802442,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$2ZpLjl32ylVIjKRXoVCHhw8qV0rXcHt8kq23Zy7gmsk"},
{"content":{"body":"the alternative is \"repeat, while done is false\" and then a great deal of nesting","m.mentions":{},"msgtype":"m.text"},"ts":1701972837741,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$h3K8fRIHFyiu3wARQhq2veVZZJUNIoXcxJEbsXL0lv0"},
{"content":{"body":"we have early returns, so you could technically use that","m.mentions":{},"msgtype":"m.text"},"ts":1701973117654,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$Iy1dxL_od3PsdqITTI-AIANktj7RxdqPQ0-He1kRlfs"},
{"content":{"body":"also, that reminds me that I wanted to clarify that early returns do, in fact, skip steps that follow","m.mentions":{},"msgtype":"m.text"},"ts":1701973263933,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$2PuOqVr_u2UhmrGc6Rs3hEsNB0QAMOKK-L5hMrJNjps"},
{"content":{"body":"a separate AO with early returns seems nice","m.mentions":{},"msgtype":"m.text"},"ts":1701975102391,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$jhQTW-ekiwkQYhUkfJc6nabht7ZbyYrpi3uySGieZBc"},
{"content":{"body":"> <@michaelficarra:matrix.org> also, that reminds me that I wanted to clarify that early returns do, in fact, skip steps that follow\n\n… how would anyone assume otherwise?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!nSLHQtIRJQxUJbEuGt:matrix.org/$2PuOqVr_u2UhmrGc6Rs3hEsNB0QAMOKK-L5hMrJNjps?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@michaelficarra:matrix.org\">@michaelficarra:matrix.org</a><br>also, that reminds me that I wanted to clarify that early returns do, in fact, skip steps that follow</blockquote></mx-reply>… how would anyone assume otherwise?","m.mentions":{"user_ids":["@michaelficarra:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$2PuOqVr_u2UhmrGc6Rs3hEsNB0QAMOKK-L5hMrJNjps"}},"msgtype":"m.text"},"ts":1701975112513,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$iMSzkYbMezgBFoTBmPMI3BYPkjuuGSJJebSWebcTZWw"},
{"content":{"body":"in some (older) programming languages, you could just set a return value at any point in the program (or multiple points) and continue execution","m.mentions":{},"msgtype":"m.text"},"ts":1701975319984,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$00GiLfPiXlvzDVK3kXii1457y5fh1cb-Ur60AQlmlNM"},
{"content":{"body":"there's no reason to believe that someone reading the spec steps should assume \"return\" also means \"and stop executing further steps\"","m.mentions":{},"msgtype":"m.text"},"ts":1701975379972,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$msOxfaGz7pHrrM9iIEA1cM8f3-tKouNN7vZh_w9LjVw"},
{"content":{"body":"it could reasonably be understood to mean \"set the return value to this\"","m.mentions":{},"msgtype":"m.text"},"ts":1701975396466,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$7BxFIuyEIeS3odcfmraU9UdCsCzLRt4AZc_Tdv47W9E"},
{"content":{"body":" * in some (older) programming languages, you could just set a return value at any point in the function (or multiple points) and continue execution","m.mentions":{},"m.new_content":{"body":"in some (older) programming languages, you could just set a return value at any point in the function (or multiple points) and continue execution","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$00GiLfPiXlvzDVK3kXii1457y5fh1cb-Ur60AQlmlNM","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1701975411996,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$zB8dIWbzA8QRp-d1VhUzmOqYXNA1ZXVs6kW_JhiZ6hc"},
{"content":{"body":"i think you're confusing setting the return value to a statement saying, control is returned","m.mentions":{},"msgtype":"m.text"},"ts":1701975419127,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$o2BZx0ROIDeEXTjF5DYdcLQMZ_XilmyzDCbr5D1sSII"},
{"content":{"body":"the older PLs separated the two, but i don't know of any PL that has something that says \"return\" but doesn't return control","m.mentions":{},"msgtype":"m.text"},"ts":1701975441772,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$uw6e4MoudAB4WhWW2QE_-L7bJuIvHIxOl40g84BW-SM"},
{"content":{"body":" * i think you're confusing setting the return value with a statement saying, control is returned","m.mentions":{},"m.new_content":{"body":"i think you're confusing setting the return value with a statement saying, control is returned","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$o2BZx0ROIDeEXTjF5DYdcLQMZ_XilmyzDCbr5D1sSII","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1701975475895,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$cBPWkOI-Dcvb6-EwX7TVH-D2WL31oZg-szrQ3HgIKNY"},
{"content":{"body":"restructuring flow to use early returns instead of break/continue can make it worse","m.mentions":{},"msgtype":"m.text"},"ts":1701975494045,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$oWIFQdwQf5qGdXpVhTTfOSJ1m5zIWOAS_alHfnxzyzA"},
{"content":{"body":"in this case there is a fair bit of state which would need to be passed into the continuation AO","m.mentions":{},"msgtype":"m.text"},"ts":1701975518061,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$botSPVGKy7iDsPvYp5AJp3pByZRW4Ig5x216U2meJCI"},
{"content":{"body":"also that doesn't work for continue unless we replace the whole loop with recursion, which would also be worse","m.mentions":{},"msgtype":"m.text"},"ts":1701975565636,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$anotqxM2KmYX7xKgxs8xzZhg25LcImcDe-b_lHELvGA"}
]