[
{"content":{"body":"I gotta run off for the next ~30m","msgtype":"m.text"},"ts":1678924833177,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$iaWJX8UtrrAe1vlL79WZQqogQfW4LIQEdMZtTYkhlD4"},
{"content":{"body":"Okay how about \"Symbols produced by Symbol.for are a special case: from the perspective of the ECMAScript language, they may be manifest at any point using their description, so they are compared for equality as if they did not have identity.\"?","msgtype":"m.text"},"ts":1678924835195,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$p9UYlWZGl_GWX-C2E_YaFvdQLvNgyJ1vTOr4k96vBYI"},
{"content":{"body":"that wfm","msgtype":"m.text"},"ts":1678924844606,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Pc9oQmhM2cjNdLStmVyLSUuVWMNXyl60N2a2ZkHN5ek"},
{"content":{"body":"maybe","msgtype":"m.text"},"ts":1678924853088,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ho2tiMjVnT4f7cxDpZJ01fStZrXHR-2CUGtujWe4L7I"},
{"content":{"body":"i don't like \"as if\"","msgtype":"m.text"},"ts":1678924858140,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$08Z8jPx8_3DyOfLAgAA7SDI91GHFUzem0PIWuNWDxzw"},
{"content":{"body":"will think about it when I get back","msgtype":"m.text"},"ts":1678924858978,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$5zU1aEeJnF7h002FiSYSE7yF9vDxzF9K-tqO6oKBC8w"},
{"content":{"body":"they literally do not have identity","msgtype":"m.text"},"ts":1678924862523,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$d5QnCDy8jedDxOefUQsRUfZWz-3AFhlPyZjmdS1ndeg"},
{"content":{"body":"Symbols produced by Symbol.for are a special case: from the perspective of the ECMAScript language, they may be manifest at any point using their description, so they do not have identity when compared for equality.","msgtype":"m.text"},"ts":1678924896433,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$4WAWWmis7oGQ1hjeRtBFM8Dv-BpSSNAFiaj0rIUvT9w"},
{"content":{"body":"they are values with identity but the strategy used for comparing them does not observe the identity, it follows the other path","msgtype":"m.text"},"ts":1678924920866,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$Dw2VkR9IXFuNhl9aaRCi5HakFWzyBY3dk3buI9OphQo"},
{"content":{"body":"i disagree","msgtype":"m.text"},"ts":1678924939691,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$qGIaid_1TVNHDea7qwOKyL3FSSKcu-3uVh4HI2LMNas"},
{"content":{"body":"we could say something like \"their identity does not participate in the comparison\" or something","msgtype":"m.text"},"ts":1678924944740,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$nWI6REJbZmkBUel4TQCU0OJRFm-kPRDp8SKXrhYWnY0"},
{"content":{"body":"i think if we say that, we should go back to actually defining the stratified identities","msgtype":"m.text"},"ts":1678924959292,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$eFqRbgyHs-Q7h-ytdxv0yOLeoDI1bGuki1Ash3moETc"},
{"content":{"body":"if we're sticking with a single notion of identity as about equality, but there are different equalities that operate at the language level vs the spec level","msgtype":"m.text"},"ts":1678924982855,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$m2-ldlO3JS5zT4mHz1w5V6Sd-a5pbbHtsIcDyAuzsW4"},
{"content":{"body":"there is no \"as if\"","msgtype":"m.text"},"ts":1678924986639,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$rHxDITQK4ZmyBPNk31YrOC53Bb6_kQefvwrQsbCfDbQ"},
{"content":{"body":"we defined values to have identity or not have it wrt a particular comparison operation","msgtype":"m.text"},"ts":1678924997229,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$o8pMwB4uhKjZ7V44C3CT9J9nJm4RJAAYnkTHltQicP8"},
{"content":{"body":"at the language level, they do not have identity","msgtype":"m.text"},"ts":1678925003421,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$3vggNueRUfSRAuBM7sx8Vizh4iijey6AqqOHjYWLkHE"},
{"content":{"body":"I don't know how we can say, in the previous sentence, that all Symbols have identity, then try to say that these *do not*.  They can just have identity and be treated as if they didn't, what's the problem?","format":"org.matrix.custom.html","formatted_body":"I don't know how we can say, in the previous sentence, that all Symbols have identity, then try to say that these <em>do not</em>.  They can just have identity and be treated as if they didn't, what's the problem?","msgtype":"m.text"},"ts":1678925036902,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$6HIfFbzIbLEWwgRQGSz3hfDHWAV5QTrpvNYG8KghFvE"},
{"content":{"body":"okay, then we can say \"(with the following exception)\" in the previous sentence","msgtype":"m.text"},"ts":1678925065293,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$tlPI3uLJQi_80VWH_DRI_Jpdlu0zFM3AqUDd_wUexEo"},
{"content":{"body":"> we defined values to have identity or not have it wrt a particular comparison operation\nI don't interpret it that way","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>we defined values to have identity or not have it wrt a particular comparison operation<br>I don't interpret it that way</p>\n</blockquote>\n","msgtype":"m.text"},"ts":1678925091883,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$cQYiBgUMmy9hfXxCfaMTHqoJ_qaGgmR8CLidfiq0tr4"},
{"content":{"body":"i do?","msgtype":"m.text"},"ts":1678925100257,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$VEFoqdJ99diUu20ua3Wz0pLYYEJoJCGAuhIKizDgBUY"},
{"content":{"body":" * > we defined values to have identity or not have it wrt a particular comparison operation\n\nI don't interpret it that way","format":"org.matrix.custom.html","formatted_body":" * <blockquote>\n<p>we defined values to have identity or not have it wrt a particular comparison operation</p>\n</blockquote>\n<p>I don't interpret it that way</p>\n","m.new_content":{"body":"> we defined values to have identity or not have it wrt a particular comparison operation\n\nI don't interpret it that way","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>we defined values to have identity or not have it wrt a particular comparison operation</p>\n</blockquote>\n<p>I don't interpret it that way</p>\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$cQYiBgUMmy9hfXxCfaMTHqoJ_qaGgmR8CLidfiq0tr4","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1678925106229,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$eJsC39aYSjkP6TuNZmJffhCqkqHtf5F6NZYaYIVXBKQ"},
{"content":{"body":"dunno what to tell you, this is the start of our disagreement","msgtype":"m.text"},"ts":1678925112829,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$oEuGVtvGlaHmXILHJA10BFuj5hAucvyY8PkCzV7yfic"},
{"content":{"body":"and we seem to have lost the agreement that there are in fact 2 identities","msgtype":"m.text"},"ts":1678925132408,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$e6FtubfEm0Ziam8sq2J2v85ct0ab7Dn-Uj3YTXCOPKQ"},
{"content":{"body":"can you point to where it says that?","msgtype":"m.text"},"ts":1678925133996,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$1uKozqmFONku2xBhVTXBPXBKxGsVHByRXKFQ7WJX99g"},
{"content":{"body":"i say: \"When comparing for equality, values fall into one of two categories.\"","msgtype":"m.text"},"ts":1678925180691,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$2hErsqfAwD-ygjMILg6-R9baqNiFeWZf34h2bh6XZ0s"},
{"content":{"body":"formally, i mean: values are categorized as having or not having identity, parameterized by the equality operation","msgtype":"m.text"},"ts":1678925202484,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$XAyiTJeDHlxUTDKJ3dgTQSKHRmIL7VvNCTSzQw1zl_A"},
{"content":{"body":"i.e. \"when comparing for equality\"","msgtype":"m.text"},"ts":1678925207346,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$oX4n-apAInsZXUlZ0eg6AZQGyT18u7Nm1lkAMyLp4IM"},
{"content":{"body":"there are two levels of \"when comparing for equality\". at the spec level, with \"is\" and \"contains\", and at the language level, with SameValue","msgtype":"m.text"},"ts":1678925225259,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$A-56AKUoknMgST1qqUgie82IyYuG5g1Jdofpsbjm3x4"},
{"content":{"body":"it so happens this distinction is not useful at all almost all the time, except the few places we talk about Symbol.for","msgtype":"m.text"},"ts":1678925277020,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$imfSZsZmfPCPIGXR9Ty4ws8wt9lRZFcfw7F_O8HguI0"},
{"content":{"body":"so i agree it's confusing to actually <dfn> two concepts, and instead just add a paragraph that calls out the one place where it differs","msgtype":"m.text"},"ts":1678925293552,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$E2OgCraoT_mWOhRb5vuaNtimlRev4-AFviB3Fe0o_Mc"},
{"content":{"body":"okay, the way I read that is that equality operations, whether they be \"is\" or \"SameValue\", are defined piecewise over two pieces: values with identity and values without identity","msgtype":"m.text"},"ts":1678925319749,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$6AS85EVIa6wgbyXuzVjz0AFH5TRAX8ScW9s7gWuTybs"},
{"content":{"body":"that is not my intention, and that is why i split the paragraphs up the way i did","msgtype":"m.text"},"ts":1678925340230,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$35rYYsnX8hXFzzl3Y_7wE-g9MUUDwVWjn4q2xBhKkKM"},
{"content":{"body":"let's see... 1) do you agree my reading is fine and 2) any suggestions on how to make that reading clearer?","msgtype":"m.text"},"ts":1678925382240,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$SsnP_GeBNV_QYlxDNczJ85xh73yUjmRLN5-zMPgbnA0"},
{"content":{"body":"I think we've arrived back at where we were last week. I desire for any quality called identity to be an intrinsic and permanent property, not one that is bestowed on it from the outside in some way.","msgtype":"m.text"},"ts":1678925533575,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$uzucXtNPuRJ5ml03YErri1AKnnwvu8kNSJVnxZtX__w"},
{"content":{"body":"that's why we settled on the two identities approach being acceptable, even if undesirable because of potential naming confusion","msgtype":"m.text"},"ts":1678925555537,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$jzHtdu83Bzqw3rMrScwQGXYAxPlV2OL6dI4pp_SSKT0"},
{"content":{"body":"you have a permanent and intrinsic property at each level that do not interfere with each other","msgtype":"m.text"},"ts":1678925568824,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$Gm3k3QXqB4OhqodlSr6noACG00FZ-wIQIbmt_Hmnho4"},
{"content":{"body":"moreover, how that property is defined is exactly the same across both levels","msgtype":"m.text"},"ts":1678925599525,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$s8MgLY2FLULyBrL-XpVwWfAOYs8s4OHrzK2PlaXGVkg"},
{"content":{"body":"it's not intrinsic if it depends on the lens through which you're currently looking at it","msgtype":"m.text"},"ts":1678925614306,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$j4SFkwApxs2YT9qIUY_GsjCr8-Ipn6WnQXvXwcC-RVQ"},
{"content":{"body":"i think what you are saying is you desire for \"identity\" to be entirely axiomatic","msgtype":"m.text"},"ts":1678925617622,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$kYAH8oIt8yWHImJzucTCmcIBIDcEWoqODaPPIfWtUAo"},
{"content":{"body":"it is intrinsic","msgtype":"m.text"},"ts":1678925631514,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$ZMykHTISdN8zvbg6vTYCOHMxMsANGWaF3aK6mYjuLKk"},
{"content":{"body":"i'm sorry i don't understand your hangup here","msgtype":"m.text"},"ts":1678925643071,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$WV7Xj4ciqcwOj7_2_iR_P4tHY1fe_QacnXxGLbt4vAk"},
{"content":{"body":"the compromise we reached in the call, i thought, was that we stick with the formal underpinnings of 2 identities, but we just don't call it two different things because the difference is not useful almost all the time","msgtype":"m.text"},"ts":1678925698057,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$deWclCKnX7DXkfrxtcLEUXv3FZny4oPG1RfQmDWo-X0"},
{"content":{"body":"like, the spec necessarily works in 2 layers: the meta spec layer, and the language layer","msgtype":"m.text"},"ts":1678925726176,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$rN6fX6qBtHg6nLpty_QXQYmgWAuTqRRAl4hslKpG17E"},
{"content":{"body":"that doesn't make the language layer less intrinsic","msgtype":"m.text"},"ts":1678925731984,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$ehCn9MpFBFxyuIxvdco6GOEOsE238oEXRfuwzlHY72o"},
{"content":{"body":"Let's say that the way you formalise identity is through a predicate called `HasIdentity`. If I ask whether something has identity, I need to consult the predicate. I can't just observe the thing and tell. I think that's an inappropriate way to define identity. This hang-up is uniquely about identity because it is the basis of reasoning.","format":"org.matrix.custom.html","formatted_body":"Let's say that the way you formalise identity is through a predicate called <code>HasIdentity</code>. If I ask whether something has identity, I need to consult the predicate. I can't just observe the thing and tell. I think that's an inappropriate way to define identity. This hang-up is uniquely about identity because it is the basis of reasoning.","msgtype":"m.text"},"ts":1678925779563,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$8vfPwPVRqIdn3pwvnP6wWt6J-tWDDR6mxaHInHu-voU"},
{"content":{"body":"i say that is a ill-formed question to ask","msgtype":"m.text"},"ts":1678925834065,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$JPe4-fbinBhHO8jyGdJ0BgnYnTrdkHQohO3VdySfmb4"},
{"content":{"body":"there is no singular identity to ask of an ECMAScript language value, there are necessarily two questions","msgtype":"m.text"},"ts":1678925871626,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$tnNkmlgKX6XtMo8OqdoIZPM36NJLO9nMkThAgssM6ww"},
{"content":{"body":"now we're talking about the identity of the concept of identity","msgtype":"m.text"},"ts":1678925880048,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$rNhpvGCwbRJgHeNLqm5GRK5cPmLPy-lLFd0FwpwpsT4"},
{"content":{"body":"does it have an identity in the spec meta-machinery and an identity in the language","msgtype":"m.text"},"ts":1678925883046,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$51u7YfL4WW-X0PQsHgHZrVXOtKp-SYpNJkZxNinr6Hg"},
{"content":{"body":"no we're not","msgtype":"m.text"},"ts":1678925884164,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$jWfJysVXRtiAzHrBhwnY-5dGljsX8ilBYkPm-jsjhqM"},
{"content":{"body":"there literally is one true identity","msgtype":"m.text"},"ts":1678925886991,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$QUUNxRxSLhbW_nOLV0EqZIGuAGA_UOBdNE-7afNACn4"},
{"content":{"body":"concretely, consider a real implementation","msgtype":"m.text"},"ts":1678925889071,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$DOypsSdXEkRPSbzLxOQzQ-rk1K5WBFUoGxo5e6qHOGs"},
{"content":{"body":"i do not ask \"do strings have identity\"","msgtype":"m.text"},"ts":1678925895409,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$CZqreSOTTgjskym5sFUBIlZp7flJrLA7zWXwe0p1xrU"},
{"content":{"body":"i ask \"does the C++ implementation of JS strings have identity? (yes, they are heap objects)\"","msgtype":"m.text"},"ts":1678925909104,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$2FQUpDTD1DLm4njApdzKxCt-Z8bMkFsSMDdr-zwh_vA"},
{"content":{"body":"or i ask \"do JS strings have identity?\" (no they don't)","msgtype":"m.text"},"ts":1678925920019,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$cVgFKvaFktY-lTjug22ozum2nsVUK7yxJ365eGsGCDo"},
{"content":{"body":"i do not ask \"what is the one true identity-ness of strings\"","msgtype":"m.text"},"ts":1678925928398,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$J0BM4YIwWjTm3FU_Gi7quQN2TvMEF0jaFvJ96VyLshU"},
{"content":{"body":"that question doesn't make sense","msgtype":"m.text"},"ts":1678925933167,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$Ihk2qy7qH3VWHzF0cMtP-murh2Rczfqb6OZJwE7tugo"},
{"content":{"body":"yes but we are living in the world of spec text, so identity must mean spec identity","msgtype":"m.text"},"ts":1678925953673,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$4pASPYh8Y_4BnQuhbzTUDGZUY-wIr4St8KHI8EvVQk8"},
{"content":{"body":"okay, then you would in fact prefer that we _do_ define \"language identity\" as a separate thing","format":"org.matrix.custom.html","formatted_body":"okay, then you would in fact prefer that we <em>do</em> define &quot;language identity&quot; as a separate thing","msgtype":"m.text"},"ts":1678925977858,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$yj_ac6HZnPsdKglkiaqDFgu1_Yn1qdXTkcsMOPbmzYI"},
{"content":{"body":"which i feel is important to define for the liveness definition","msgtype":"m.text"},"ts":1678925984488,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$WtKjEhsVzb9P8rLpUmv1QnKauByGiKzkrfoUyMiWRlk"},
{"content":{"body":"and not just use \"from the perspective of\" language","msgtype":"m.text"},"ts":1678925998709,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$WNUElEQbolpG_ZpFEc4FJkr-zp7kSj84VrlpG2-IU5A"},
{"content":{"body":"yes, it is unfortunate that the concepts would be named similar things and also be so closely related, but that seems like the only way to satisfy both of us","msgtype":"m.text"},"ts":1678926043433,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$tdVgkiNIdFiFYSFc-NgVgJ5TKCO7Hl0PuuK09IsU85Q"},
{"content":{"body":"> yes but we are living in the world of spec text\n\nwe aren't, just like in a C++ implementation we don't just care about the identity of the C++ structures","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>yes but we are living in the world of spec text</p>\n</blockquote>\n<p>we aren't, just like in a C++ implementation we don't just care about the identity of the C++ structures</p>\n","msgtype":"m.text"},"ts":1678926043783,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$i-qzJ7ZMPnRTG9GVwEx3GudiTBlQS9r3zoeW2oKR0sA"},
{"content":{"body":"it's a spec text that specifies a language","msgtype":"m.text"},"ts":1678926048944,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$LezwVmO565qzPMOlADDxajQoAYYzFAZb-I3Xc94LcB4"},
{"content":{"body":"a surface language","msgtype":"m.text"},"ts":1678926055552,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$Y_lUhW707leFahuslZRzQRH6NPMZQNrAqvpxf-4ysmw"},
{"content":{"body":"like i don't know how you think about language specifications if you think concepts should pierce the meta-language and surface-language layer","msgtype":"m.text"},"ts":1678926074022,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$RrK57-2EBdTvL5e2fjfCW6L5WlkQ3MoiYvl0QBI2JvU"},
{"content":{"body":"that seems untenable","msgtype":"m.text"},"ts":1678926077052,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$WV-nbRqhyFFeooA7dBilxEuWkjm5B1soFelYkLDF3j4"},
{"content":{"body":"no, I think *all* concepts are meta-language concepts","format":"org.matrix.custom.html","formatted_body":"no, I think <em>all</em> concepts are meta-language concepts","msgtype":"m.text"},"ts":1678926091863,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$lA8-tEJOMutU6IVl5GxMy70qmagLhPUoRwCjJF9fanM"},
{"content":{"body":"and surface concepts aren't directly discussed, they just arise from meta-language","msgtype":"m.text"},"ts":1678926103517,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$j_K5-2nZ111Cd-5yEoTGaxl3x1Pqfhr2htKOOCF4rp4"},
{"content":{"body":"like ECMAScript language values are values within our spec universe","msgtype":"m.text"},"ts":1678926132114,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$xR2GXlSvGmekpuixqk5lN-cUba-X8lm_7GgMyqprNzA"},
{"content":{"body":"they're just also 1-to-1 with values that are observed within our fiction","msgtype":"m.text"},"ts":1678926152389,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$swZyYgzBYEg0U20-Bi73pg7VpAVXVOLXrw414iZ_OY4"},
{"content":{"body":"that is true in a fundamental way, but that does not mean the surface-language layer concepts cannot be named and have correspondingly close names!","msgtype":"m.text"},"ts":1678926153205,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$OhIIRHPRlL2RBp9v9mOwvtA3L7t0q6loQnm0ZO0H8ac"},
{"content":{"body":"of course, you're correct","msgtype":"m.text"},"ts":1678926169606,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$_g1KnU0UMxvmCa7lXQf8-8GKEQ3hfoGupQKrvbxSk78"},
{"content":{"body":"they can have close names, it's just a bit unfortunate, that's all","msgtype":"m.text"},"ts":1678926181094,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$-jbueEQRMQqM5nUYKbH4X1NAU2wtjkiV8kiSgdcAe-c"},
{"content":{"body":"like it's really really hard to not name them when talking about properties like liveness","msgtype":"m.text"},"ts":1678926199878,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$7-spfvVZ1GKerGg_bvhpoiF-_7QCzxz4kSrsIX4mRV4"},
{"content":{"body":"that's why I was okay with your PR, but I just thought that the naming was unfortunate (and don't really have a better alternative)","msgtype":"m.text"},"ts":1678926208521,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$09g6tSPCfTNaRUMmr_TvuV86-ms5jeLyrTkPox0gvaM"},
{"content":{"body":"to the point where we do our readers (well, our implementers) a huge disservice","msgtype":"m.text"},"ts":1678926213810,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$TxiYublQEEVTKchTgO2B1dS1DFuYuhy81a190pilx94"},
{"content":{"body":"because they are thinking about what optimizations and GCs are allowed","msgtype":"m.text"},"ts":1678926222092,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$o4wdjL8gl6TGtheI99ejoYFMeSY7_SMkSyg1mE3Cz-U"},
{"content":{"body":"I'm still not entirely sure why you weren't okay with instead having the pair of (suitable for use in a weak map, true spec identity) instead of introducing language identity","msgtype":"m.text"},"ts":1678926279727,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$SHJm6z1smbgJtDj--SfsmiUy8ozDsu4nfv4DMXizTHE"},
{"content":{"body":" * I'm still not entirely sure why you weren't okay with having the pair of (suitable for use in a weak map, true spec identity) instead of introducing language identity","m.new_content":{"body":"I'm still not entirely sure why you weren't okay with having the pair of (suitable for use in a weak map, true spec identity) instead of introducing language identity","msgtype":"m.text"},"m.relates_to":{"event_id":"$SHJm6z1smbgJtDj--SfsmiUy8ozDsu4nfv4DMXizTHE","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1678926287858,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$62-ZO9K9BpxdKkCWzEHMTvyBFaMLlcdRMgrifCgWXFU"},
{"content":{"body":"because it made me realize the liveness definition is wrong","msgtype":"m.text"},"ts":1678926297149,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$id6yXtOBWh1vCwNCYWRx-0Krrow5YXca_ihYRO7a79k"},
{"content":{"body":"or at least, very misleading to me","msgtype":"m.text"},"ts":1678926304273,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$6qCJR3PITHWtloJb0SNmOMxA0Fngv6bBlI_6eCA3Pe4"},
{"content":{"body":"even if incidentally correct because the domain happens to have been restricted","msgtype":"m.text"},"ts":1678926310758,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$RVae26UDZmZHcgTe0riG9x7oEGFQu72SWE6tglbE5fk"},
{"content":{"body":"but can't the definition refer to that pair?","msgtype":"m.text"},"ts":1678926311821,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$cRgzWAGft1Pp6AnVeWpWAVD3g5CRQws9gBTVMVFm90o"},
{"content":{"body":"i guess it bottoms out that our mental model of like, the fundamental meta-spec level ontology (or something?) of the spec are very different","msgtype":"m.text"},"ts":1678926369275,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$RL1Wia7Kk2AWJPQoVAMnNrnH2uVpHLUlSE7CizG0CQU"},
{"content":{"body":"and we cannot convince each other","msgtype":"m.text"},"ts":1678926380250,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$UnxGkQJYfao5XTbZ1VtynBT81b19OkEnnr9_WAz9ql4"},
{"content":{"body":"(for why i'm not okay with the pair)","msgtype":"m.text"},"ts":1678926389512,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$yySFQI3P2YWIn8m4XiHGA-VJKGrmU3QG2axFQrOEOdg"},
{"content":{"body":"I very strongly vote for keeping shu's PR as-is, no matter how unsatisfying michael finds it","msgtype":"m.text"},"ts":1678926482888,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$0pzqufBvMzosig17UQi0I7baTnFAC3N-GUlhlZP7CBc"},
{"content":{"body":"> no, I think all concepts are meta-language concepts\n\nthis seems to be the crux of it. i most definitely do not think that, nor does the spec as it's been written","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>no, I think all concepts are meta-language concepts</p>\n</blockquote>\n<p>this seems to be the crux of it. i most definitely do not think that, nor does the spec as it's been written</p>\n","msgtype":"m.text"},"ts":1678926486915,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$jpdpIdYQO2I3tFzCOShmmx7lnFMoWEHW24W01IdsTXI"},
{"content":{"body":"I don't think we're going to resolve our different ways of looking at this and don't want to spend more time on it","msgtype":"m.text"},"ts":1678926520509,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$TOrsNBOboVBMaSp82eAKvfGEoAB6_wPpLjsO-1FYq2A"},
{"content":{"body":"fair, wfm of course, i want to get back to rebasing 2777","msgtype":"m.text"},"ts":1678926546762,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$2I7hv0nTd7G4PZn4CLPAc3YSEvM3TUWbiTRjMEvf66E"},
{"content":{"body":"bakkot: did you read the conversation? I think we've  resolved it in the same way we resolved it last time.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: did you read the conversation? I think we've  resolved it in the same way we resolved it last time.","msgtype":"m.text"},"ts":1678926547052,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$QulMe3o68Cj-nY1O7k6NHsB3T4gWclzFODyluestBKI"},
{"content":{"body":"(though I'm fine with adding the \"with the following exception\" bit)","msgtype":"m.text"},"ts":1678926550683,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$8vX8Bc4tJIQj3TonQjOSZ1v1Vzv0UIWudUBjLBX058A"},
{"content":{"body":"Michael Ficarra: but kevin also didn't like the extra <dfn>s","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@michaelficarra:matrix.org\">Michael Ficarra</a>: but kevin also didn't like the extra &lt;dfn&gt;s","msgtype":"m.text"},"ts":1678926568712,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$nkro6VFtQf4ac1mCgb8W-8x606Gw2QP6PMyButGeC-A"},
{"content":{"body":"Michael Ficarra: I did read it and it did not seem resolved?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@michaelficarra:matrix.org\">Michael Ficarra</a>: I did read it and it did not seem resolved?","msgtype":"m.text"},"ts":1678926570874,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$gxaXBXCdK7ZjISGAHt7oaqBPh-jTygbNkCx1-cRQhXM"},
{"content":{"body":"yeah I really do not want to define two notions of identity here","msgtype":"m.text"},"ts":1678926588215,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ih-Wu8erEq4bX4rz2HzxEVsg3n3pjKkSo1GeH_jArm0"},
{"content":{"body":"and i tend to agree, it doesn't really help readability","msgtype":"m.text"},"ts":1678926591620,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$g_Eh42ZZJkrfxjv7fwkjJ3iY0atF3kYPnfof2b00h3g"},
{"content":{"body":"I want exactly the thing in the PR","msgtype":"m.text"},"ts":1678926593317,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$tEpfMA5IOKoQ3EqEbc4nT4N4gy0prYKxNxco_ZM90pU"},
{"content":{"body":"I can't accept something that defines values with conditional identity. The equality operation can be conditional, but identity must be innate and immutable.","msgtype":"m.text"},"ts":1678926669134,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$QBJCqmuYDphxHFeNOk3uT-C4nmffRdG16vD7U9qxaWw"},
{"content":{"body":"I think at some point we are going to have to say too bad and land something","msgtype":"m.text"},"ts":1678926683097,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$QYh_w1bIll2ltIRJDSfWUB8GMRl4EzdnEmnqYSaOjmc"},
{"content":{"body":"michael it is not conditional","msgtype":"m.text"},"ts":1678926683790,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$bOvY7GJDAoSQ0D79-klItRcZ7uvFyQlFXSKFdJ_DKmc"},
{"content":{"body":"yeah i think i'm doing arguing this, let me add the (with the following exception)","msgtype":"m.text"},"ts":1678926715492,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$WFZH1th2mTW0-zZds71d-p3jaQ3wiNYYAM239U8-1kY"},
{"content":{"body":"identity that depends on the lens through which you are looking at it is conditional in my book","msgtype":"m.text"},"ts":1678926716997,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$_hi0WpE0HG5tFRGQ_K9I80qgT7Agg3fZVRLdRM_sZFE"},
{"content":{"body":"then you should correct your thinking :)","msgtype":"m.text"},"ts":1678926731744,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$18lJP5__pFvONXNCxkZG6F2AD9LNljpT2Ee7MySU3ng"},
{"content":{"body":"I am not unique in this! I've read a ton on philosophy of identity recently and this is consistent with basically everything I've read. You need identity to be a foundational concept of what *is*, and you can build everything off of that. You can't define it through some predicate or differently based on context, because then how do you even talk about it being that thing?","format":"org.matrix.custom.html","formatted_body":"I am not unique in this! I've read a ton on philosophy of identity recently and this is consistent with basically everything I've read. You need identity to be a foundational concept of what <em>is</em>, and you can build everything off of that. You can't define it through some predicate or differently based on context, because then how do you even talk about it being that thing?","msgtype":"m.text"},"ts":1678926850307,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$uCM6SbxXE90XY84vaGZgXGOmMWAztxIInyhEF7V0jgs"},
{"content":{"body":"my brother in christ i work with compiler writers, not philosophers","msgtype":"m.text"},"ts":1678926882754,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$dq6a_4mWGh1ChFzZqZHL_fQzEB6W64TbkUvyvWOY308"},
{"content":{"body":"yes, this document is not for philosophers","msgtype":"m.text"},"ts":1678926894407,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$hdiF1vygBiAWNoMA_y2jGvlj0iYHBhYipqWCcdsUZcE"},
{"content":{"body":"also it just... _is_ conditional? we've said that \"does not have identity\" means \"can be manifest purely by reference to its qualities\", and that is true of Symbol.for symbols within the language but not within the specification","format":"org.matrix.custom.html","formatted_body":"also it just... <em>is</em> conditional? we've said that &quot;does not have identity&quot; means &quot;can be manifest purely by reference to its qualities&quot;, and that is true of Symbol.for symbols within the language but not within the specification","msgtype":"m.text"},"ts":1678926904698,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$kcn-iEvO4m7wPugwQftdmtRfzHoRK-xaC-fGTiN3Rv8"},
{"content":{"body":"yes, but they can teach us some things about building formal logical systems","msgtype":"m.text"},"ts":1678926906284,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$IV_NR8M0DKlETTUjW3mCJVigft3PIVDTwbUreipKDXM"},
{"content":{"body":"michael","msgtype":"m.text"},"ts":1678926917932,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$QMdZnBMiQeGI0ob-RrU9REcEWpgAZJcJMvUKEQO6Hsc"},
{"content":{"body":"only if we use language in a way that will be coherent to the people who we are addressing","msgtype":"m.text"},"ts":1678926920791,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$n5mqSpAPu4Lnymb006V3kv8PkyR1duYiCWosi8efeJk"},
{"content":{"body":"i also regret to inform you you work on javascript","msgtype":"m.text"},"ts":1678926922948,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$G6m3ekxdwvqHp8rCAnDF22tujv9zL4s_buDyJncqpuM"},
{"content":{"body":"which is not philosophers","msgtype":"m.text"},"ts":1678926924209,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$1bbLadHx7CGdy3ucYUVwAIGFXbfMVmnXnKf47Zn0dr4"},
{"content":{"body":"not the lambda calculus cube","msgtype":"m.text"},"ts":1678926926788,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$1j_Trwm6Hd--HH-uSNSrcAO332X97-M1PE95zhaRvDc"},
{"content":{"body":"okay i applied all other comments except the last sentence one, so should be gtg. let me continue with rebasing 2777 now","msgtype":"m.text"},"ts":1678927212705,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$vfo5eKXocmkvCyHGDRqQbYLVGwBKHs9mEpsxOH-x1xU"},
{"content":{"body":"when it comes to these really foundational concepts that the rest of the spec depends on, I think it's fair to try to be rigorous and principled","msgtype":"m.text"},"ts":1678927328765,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$ZNDk54GmY-Il8oqmq_9FDX8BZHqahKJzmfMYnGkWM0k"},
{"content":{"body":"i think we are very rigorous here","msgtype":"m.text"},"ts":1678927420395,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$tHs6nEFFKSlY4FyrSh5mX59Wji34V4SNkz49hxQiWOo"},
{"content":{"body":"the actual rigor is there are 2 identities","msgtype":"m.text"},"ts":1678927425477,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$PmplEhIEOAiNF2TqqjkEgci4_0tXG_vuSCnLoVH6gXs"},
{"content":{"body":"we find it editorially confusing to surface that foundation with 2 different dfns","msgtype":"m.text"},"ts":1678927435689,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$FNTMT9dY9bjoR6xa3Jd6jN9F6aNglFI0_dN1t1-fvvk"},
{"content":{"body":"so we use one word, identity, because in all cases the truth tables they produce are the same","msgtype":"m.text"},"ts":1678927447942,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$cjRqVtDIBeIkiMFf8EjvZVeIWAHQSPtRGBoXmUUrJqs"},
{"content":{"body":"where the truth tables differ, we use a sentence","msgtype":"m.text"},"ts":1678927454310,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$JPxDBhnOHjEwvUe-Iyny6reD819qvXdnOzsLqccKj5g"},
{"content":{"body":"then why do we have to use identity in that sentence?","msgtype":"m.text"},"ts":1678927533517,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$mRWrYxBEKXl_hU_sTQvAbZFCssvQ-HSiRw6Uz5RLnZU"},
{"content":{"body":"which sentence?","msgtype":"m.text"},"ts":1678927548352,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$Y_fe4bEHYGo7zw7jiNXefOrVxVew5btnjXa1K9nsmkE"},
{"content":{"body":"is it not the final sentence of the identity section that you were talking about?","msgtype":"m.text"},"ts":1678927575234,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$3R9x_9cE9BXW8kmyhCUNEjt7SaVjt49HKe_xWJAQplM"},
{"content":{"body":"are you asking why an english sentence can be ambiguous without context, but also disambiguated with a following sentence?","msgtype":"m.text"},"ts":1678927579081,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$rzdZoOMFiXrWxHT0pp-PLKhNsRDyAlpQlyVqgkFKUqE"},
{"content":{"body":"If you're talking about the final two sentences of the identity section, there is nothing ambiguous, there is just a contradiction.","msgtype":"m.text"},"ts":1678927641841,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$9vZNtoBsX1s6zs-uCzhIHAf6M5GAFXGJVD2CNk1DHFA"},
{"content":{"body":"okay, i see i am not getting through","msgtype":"m.text"},"ts":1678927660356,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$rJKFcoExAtAUtgmcMP1xqUGrKrMeQkYqcgiw6CZ6md0"},
{"content":{"body":"protest noted","msgtype":"m.text"},"ts":1678927662702,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$jSD5ppTeA8s4jiKI_k5Ryh__D77GDDdAHiz1sroJll4"},
{"content":{"body":"i think you're overruled michael, sorry","msgtype":"m.text"},"ts":1678927666393,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$MNRqzR7Gpg2bEcWzWjPQckSa77rVp6m6DDqQyMjLePY"},
{"content":{"body":"i would like to finish this PR and go home","msgtype":"m.text"},"ts":1678927691346,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$COr-vCcGGwOn7Qd4WC98uhckUvwn6AHO6DTzt2dqlok"},
{"content":{"body":"I'm gonna stamp it","msgtype":"m.text"},"ts":1678927790437,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$XuBQ3t_5ze6Igd6ZYOEfEN7PYOzjWF9PVVUHEWllyig"},
{"content":{"body":"I am very much not okay with this. I feel this is akin to willfully introducing a spec bug.","msgtype":"m.text"},"ts":1678927896510,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$MOinvO9NB2yprJigV5N5edZgZG019DNsxfpcgr9Cna4"},
{"content":{"body":"We've had plenty of disagreements, but we've always been able to resolve them amicably after some work. I don't think we have any fundamental unresolvable differences here. We even had working solutions! I don't know why we would move forward like this.","msgtype":"m.text"},"ts":1678928060827,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$lrDVp1tChB12niyoTZIXtyKBbSbsK7QVUp_P0UeNTT0"},
{"content":{"body":"We do not have a working solution","msgtype":"m.text"},"ts":1678928085442,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$IUW7U19nlVWMquhAlHwLKWCP3zhWVSLbweMaBnrxSoA"},
{"content":{"body":"After multiple hours of time spent on this","msgtype":"m.text"},"ts":1678928100442,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$PHey6tDEtOutH7XKDFwiAwYCLmeC6SF7hTZWNIXHgHg"},
{"content":{"body":"I do not expect we will come to an agreement within another two hours of conversation and I am not willing to spend that time","msgtype":"m.text"},"ts":1678928118770,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$oyA87cut-qus3NAWEd92DXyird-sBH1h4WxfEIIzHQE"},
{"content":{"body":"it's a good test of the escalation path of having an odd-numbered editors in the group","msgtype":"m.text"},"ts":1678928121358,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$JnpzkwufkZ20WguqmMFhsofY0cnOfHNCqJ0wR68bprE"},
{"content":{"body":"we have talked about not requiring unanimity","msgtype":"m.text"},"ts":1678928145464,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$efSh83DcRRESRqyH7OruH0Jv8EHShpoEyHiURk5EeiQ"},
{"content":{"body":"i don't see why it's not amicable either, it's just we failed the converge with a compromise?","msgtype":"m.text"},"ts":1678928248653,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$c0j2xdlaF1AT7AmbQqq0Ep0GBMrsmklUGHchRWlI5hs"},
{"content":{"body":"like i'm not gonna be harboring grudges","msgtype":"m.text"},"ts":1678928254231,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$q3S_HgJEqlWU9NhSeODYM2po4FbKlA5Hf65-nKuqsCw"},
{"content":{"body":"Yes, I think it's good that we can resolve small disagreements where no one is particularly passionate. We've done that many times in the past. But I've stated multiple times that a hard requirement for me was for *some* concept to exist (it would be nice to call it identity) that can be used to distinguish any two values in our spec universe, and that concept had to be innate and immutable.","format":"org.matrix.custom.html","formatted_body":"Yes, I think it's good that we can resolve small disagreements where no one is particularly passionate. We've done that many times in the past. But I've stated multiple times that a hard requirement for me was for <em>some</em> concept to exist (it would be nice to call it identity) that can be used to distinguish any two values in our spec universe, and that concept had to be innate and immutable.","msgtype":"m.text"},"ts":1678928277423,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$udD1DFMwxArc9seJ6JH5I0mh1sp6INQAy8N86wPL7Sk"},
{"content":{"body":"\"identity from the perspective of the specification\" is that thing, no?","msgtype":"m.text"},"ts":1678928317268,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$beTtW7DnAQO_y48AbH4x1ls8yx2sc9Um2sVF2v1yePI"},
{"content":{"body":"The \"two identities\" solution satisfied that","msgtype":"m.text"},"ts":1678928321202,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$h0YHbZWEHGuKdXDGpPYY-09ZW9kjuSE_VdIhv4q8_Lk"},
{"content":{"body":"we still have the two identities solution!","msgtype":"m.text"},"ts":1678928327769,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$hrFmyLE8z09PyAS7ynDI2HV28LVCP8UMNcx1NYXI37s"},
{"content":{"body":"there's just no <dfn>s","msgtype":"m.text"},"ts":1678928331276,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$I5IfUx9F1zNWVLy8aZXhLCw9TzbU-MnWG7aXwC-D17c"},
{"content":{"body":"we have two comparisons","msgtype":"m.text"},"ts":1678928379572,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$FlFqE9FF3mCSYopaM4AmTB_D82WRpd4wbYgYdgRaHPU"},
{"content":{"body":"which is a fine thing","msgtype":"m.text"},"ts":1678928382448,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$2zV0JUesFYL9NpnyxSCIGhz41a1yS67yws6l5Sh2gV0"},
{"content":{"body":"but we also have conditional identity","msgtype":"m.text"},"ts":1678928391339,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$sgQav7utC80KknJyaG3lZTUMoH71N5QfxDex-a7z3qE"},
{"content":{"body":"which is not fine to me","msgtype":"m.text"},"ts":1678928395490,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$XvB2wG_IRhckyIlgIiF9Zo21r8RnNoOyXLEJ84QsBxs"},
{"content":{"body":"arghghhhh","msgtype":"m.text"},"ts":1678928397621,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$rIKE-DxZz6kZqGgMELLdCXfnFIuzfuvoQWs_FXpwP6A"},
{"content":{"body":"we have two identities","msgtype":"m.text"},"ts":1678928401820,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$pcZH_KagkKXSCR5opRs--qJeRjYUZ9-lHcYQMj3MhRc"},
{"content":{"body":"not a conditional identity","msgtype":"m.text"},"ts":1678928405690,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$gHtAItzRAvPsZqc7O_p31TJe8sSq5SYc7bllRQta6q4"},
{"content":{"body":"\"they have identity from the perspective of this specification but do not have identity from the perspective of the ECMAScript language\"","msgtype":"m.text"},"ts":1678928422065,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$jXdeyHS9LH8T6KQnpn1NELR8DWnpp4FgCs3WxaYCJQQ"},
{"content":{"body":"reusing the same english word \"identity\" doesn't mean the underlying mental model has conditional identity","msgtype":"m.text"},"ts":1678928429810,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$M1dQ5mH60jDQR7sstheW4dwl-642sr1YQEeJq0BOwV4"},
{"content":{"body":"i will try one last time","msgtype":"m.text"},"ts":1678928434444,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$Fj7LSKe-qaKbfFpRNfHVoilOED8j0nn5y5_rxpVa-Lk"},
{"content":{"body":"consider the <dfn>s to be \"identity from the perspective of specification\" and \"identity from the perspective of ECMAScript language\" that correspond exactly to <dfn>specification identity</dfn> and <dfn>language identity</dfn>","msgtype":"m.text"},"ts":1678928471490,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$sij59WlVOh3IMnjFTmaP82NOBKOGPIl7ps1-x-9n6Pg"},
{"content":{"body":"almost all the time, it is unambiguous which one \"identity\" talks about, or it literally doesn't matter, so consider the english word \"identity\" be an elision for one of the two <dfn>s","msgtype":"m.text"},"ts":1678928500317,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$WlK_Es8lVmq2q5k7jp4yv1xEUh6sgERd1BXBisGL9So"},
{"content":{"body":"where it is confusing, we spell out the full thing","msgtype":"m.text"},"ts":1678928512870,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$ZEtGO6mNce3YBv5ZJmV2ZAEdToWBLZtvgzmUo9A1cmY"},
{"content":{"body":"and it is confusing in exactly one place","msgtype":"m.text"},"ts":1678928518784,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$LnZ6uFG5BySHXmz5TcW5Ubr6tOkb81cWVve0xDHYsmg"},
{"content":{"body":"this is not an any less rigorous or any less formal","msgtype":"m.text"},"ts":1678928554000,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$zHXX3dHs7cBGWyh6g-ONDdNLJn49QGpwwx0EEOIHa0Y"},
{"content":{"body":"but it is more readable","msgtype":"m.text"},"ts":1678928556690,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$dsbvLIHnGqJcroV9teBV1JYrwhD2N4nETLD9IUnaNiU"},
{"content":{"body":" * this is not an any less rigorous","m.new_content":{"body":"this is not an any less rigorous","msgtype":"m.text"},"m.relates_to":{"event_id":"$zHXX3dHs7cBGWyh6g-ONDdNLJn49QGpwwx0EEOIHa0Y","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1678928574468,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$o3tkruCww4d8WlodtJJ8GfKcysL2eQeKXqQenPU-H9o"},
{"content":{"body":"> and it is confusing in exactly one place\n\na note in the liveness section?","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>and it is confusing in exactly one place</p>\n</blockquote>\n<p>a note in the liveness section?</p>\n","msgtype":"m.text"},"ts":1678928582552,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$1tKUN3rfvRLOMFMs-NUD_D6fGf_x7EXNygE4ONZGUTw"},
{"content":{"body":"in the CanBeHeldWeakly section","msgtype":"m.text"},"ts":1678928604219,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$8q2A0ktk-rRhPS0uVV9mWFwtjucbeI7IQ5AHJyvtmas"},
{"content":{"body":"though liveness could use a note as well, though we discussed already multiple times, it actually doesn't matter there","msgtype":"m.text"},"ts":1678928619705,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$_Ku8PKkyK0vaZaGkiSscNXXE-e_pY3zMGA0EuzRDtRg"},
{"content":{"body":"with my changes, that section doesn't use identity","msgtype":"m.text"},"ts":1678928644412,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$H1aNlfVppAH9pdPUiTUqaP_8L-2kRqRTjQLSYg-6sjM"},
{"content":{"body":"my current rebase takes your changes as is, except it refers to identity in the note","msgtype":"m.text"},"ts":1678928675875,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$sAGWmrPv1edXM1T7QulntJx0Hg0WqB5b-fRVfUjpfEM"},
{"content":{"body":"I am fine with dropping the reference to identity within the note, if that would help?","msgtype":"m.text"},"ts":1678928704954,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$PDEp175LoMceqEWwqJ8mo3FSFgAI56Nmlyy31JNmobE"},
{"content":{"body":" * I am fine with dropping the reference to identity within the note in CanBeHeldWeakly, if that would help?","m.new_content":{"body":"I am fine with dropping the reference to identity within the note in CanBeHeldWeakly, if that would help?","msgtype":"m.text"},"m.relates_to":{"event_id":"$PDEp175LoMceqEWwqJ8mo3FSFgAI56Nmlyy31JNmobE","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1678928715258,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$mNto9zBjZW0PQE6Vmn8HxLxsvATrFmEJnPYKhc4kPd4"},
{"content":{"body":"i'd like it there","msgtype":"m.text"},"ts":1678928741673,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$7iux6uvkGGfTFN4nzOMnvqXWuYqCHVUcndlXsAKaUL8"},
{"content":{"body":"okay then I don't understand what your object was to my suggestion of \"comparing as if they don't have identity\"","msgtype":"m.text"},"ts":1678928789288,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$tl-0NhBQynI8GdPg0p2q3h34DrcOLp9MIWzGP5TzlXY"},
{"content":{"body":"if we don't use the identity itself anywhere, and we just use comparison operations that are parameterised by its existence/non-existence, then that should be fine","msgtype":"m.text"},"ts":1678928839691,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$bZcW_yPFzEsbiscW-sANmwJTzcJ5G_E9sOjnpO5wG3w"},
{"content":{"body":"what do you mean by \"don't use the identity itself anywhere\", including in the note?","msgtype":"m.text"},"ts":1678928866477,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$rZ_k7fNgO55vcM81XN_3ZtvwF8HrY4A8AKiIrXDmtrM"},
{"content":{"body":"let me actually upload the PR and we can go through that","msgtype":"m.text"},"ts":1678928874206,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$vIhWnpiV0bsXofMddCIMaQGIvjjN32JwZWjA7wBVUdc"},
{"content":{"body":"yeah I don't see a reason why the CanBeHeldWeakly note would need to refer to the identity itself","msgtype":"m.text"},"ts":1678928908283,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$6f1dSZnjHEr-W-O4_iqYSTIfh9Q4kyJPHOICodrKUD0"},
{"content":{"body":"already in my PR I made it so that it doesn't","msgtype":"m.text"},"ts":1678928916699,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$PNF58WAD9G-ws3yAiaJ7Qw5Ke73NSCqN87j2gy5Tu6Q"},
{"content":{"body":"yeah it doesn't need to","msgtype":"m.text"},"ts":1678928933392,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$o-0fzzI-0AsxCDeCn98O9HpdgC6FJc2szbhLtE-rwRc"},
{"content":{"body":"the reason is i think it captures the rationale. if we don't say that we might as well remove the whole note","msgtype":"m.text"},"ts":1678928951666,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$3gQZMm2dWTCeXv4H3kf2ZjcqndXuwiikvXAMxDD9zqs"},
{"content":{"body":"I would like to see your alternative note","msgtype":"m.text"},"ts":1678928978896,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$gR2A83cvyAcbEqvL6LFT0-UsxlpSxSxnDOjHYCfaqN4"},
{"content":{"body":"I think my edit to the note captures the entire rationale","msgtype":"m.text"},"ts":1678929002637,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$Y7mO0AySeyCW-MQuquhaXWQA8w5fFAFHlXy4iGyW8fY"},
{"content":{"body":"hmm","msgtype":"m.text"},"ts":1678929137238,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$CsDVDQJe0LXmnkFdsl5GPFhVgFgEEl2hXh9HN4IHgiQ"},
{"content":{"body":"https://github.com/syg/ecma262/commit/dece95561adbd5d1ef994f32a3f95e6da53ef37e","msgtype":"m.text"},"ts":1678929139229,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$TZbe-A0YHLaYAtk2OBb-mawZ1cG3cqvNQr5Q5pO8WPY"},
{"content":{"body":"i can't figure out how to create a clean PR against acutmore's branch","msgtype":"m.text"},"ts":1678929149437,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$Qpe3TzeTfwCh5jVuTOQx0cA3EMxolVIteztXjhYE610"},
{"content":{"body":"but that commit has it in my repo","msgtype":"m.text"},"ts":1678929153764,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$Faq6N6Q4NSa_mSQrtYqnTB2084ny5RxMmbG2u9gLols"},
{"content":{"body":"i can live with dropping referencing \"identity from the perspective of the ECMAScript language\" as long as we leave the manifestability phrase in there, and keep it as the same phrase as the one used in the identity section","msgtype":"m.text"},"ts":1678929427808,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$L_PbQi9H7LUzn4Surl41SedPwX43eUv8afX6KQSMcOc"},
{"content":{"body":"If we drop \"identity from the perspective of the ECMAScript language\", would we also be able to rephrase the last sentence of the identity section to just talk about equality comparisons as I suggested?","msgtype":"m.text"},"ts":1678929526372,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$i0Uo2AeRA88JebG2YWsEuSK7p6NZYREpD0Cb8MemjGw"},
{"content":{"body":"what was your suggestion, the \"as if\"?","msgtype":"m.text"},"ts":1678929556402,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$5jkJ2J14TtqfBpTaIwpnsmQYrRPQK5VdIKjkh8UDXBU"},
{"content":{"body":"yes","msgtype":"m.text"},"ts":1678929562815,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$tIxqhleRAG7-cCn-SX-FsuXnirqVFanP1gkf3AWOEdY"},
{"content":{"body":"i'll explain again why i have issue with \"as if\"","msgtype":"m.text"},"ts":1678929564718,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$qk99zmv_W1NJc5ghJn1qWcNLuLMvKijwBT7y_OgM45w"},
{"content":{"body":"> almost all the time, it is unambiguous which one \"identity\" talks about, or it literally doesn't matter, so consider the english word \"identity\" be an elision for one of the two <dfn>s\n\nfirst, recall that this is the mental model i intend ^","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>almost all the time, it is unambiguous which one &quot;identity&quot; talks about, or it literally doesn't matter, so consider the english word &quot;identity&quot; be an elision for one of the two &lt;dfn&gt;s</p>\n</blockquote>\n<p>first, recall that this is the mental model i intend ^</p>\n","msgtype":"m.text"},"ts":1678929585852,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$sd3M3px5xW68OyfTwn5Cby1kKr4JlDChPH5izKhc2yQ"},
{"content":{"body":"in \"comparing as if they don't have identity\", i find it difficult to interpret, and ambiguous whether it is spec identity or language identity that is \"as if without\"","msgtype":"m.text"},"ts":1678929637890,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$sDFgHcuMzSl2noYks4BdcqQe_5tnTG8wWyRIkr8dTk4"},
{"content":{"body":"I am fine with having the manifestability phrase, and I see why you want it to be the same as the identity section, but I also think it's as clear as talking about *how* that happens (lookup in the GlobalSymbolRegistry)","format":"org.matrix.custom.html","formatted_body":"I am fine with having the manifestability phrase, and I see why you want it to be the same as the identity section, but I also think it's as clear as talking about <em>how</em> that happens (lookup in the GlobalSymbolRegistry)","msgtype":"m.text"},"ts":1678929649595,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$T3OEyMTz2PAywODGg1fHBgiabkhZXZ7LYHTngx2eeE4"},
{"content":{"body":"i disagree on the clarity of how it happens","msgtype":"m.text"},"ts":1678929671944,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$8PSzqE8cOA5Jqo-HatoVouQDzvo6fGnX_0Sc2p1c-D0"},
{"content":{"body":"the how is the implementation detail","msgtype":"m.text"},"ts":1678929675729,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$vxd7VKLmOqty9tHQpbvW0nviVCgFTfKdhar8kGM0hBA"},
{"content":{"body":" * I am fine with having the manifestability phrase, and I see why you want it to be the same as the identity section, but I also think it's not as clear as talking about _how_ that happens (lookup in the GlobalSymbolRegistry)","format":"org.matrix.custom.html","formatted_body":" * I am fine with having the manifestability phrase, and I see why you want it to be the same as the identity section, but I also think it's not as clear as talking about <em>how</em> that happens (lookup in the GlobalSymbolRegistry)","m.new_content":{"body":"I am fine with having the manifestability phrase, and I see why you want it to be the same as the identity section, but I also think it's not as clear as talking about _how_ that happens (lookup in the GlobalSymbolRegistry)","format":"org.matrix.custom.html","formatted_body":"I am fine with having the manifestability phrase, and I see why you want it to be the same as the identity section, but I also think it's not as clear as talking about <em>how</em> that happens (lookup in the GlobalSymbolRegistry)","msgtype":"m.text"},"m.relates_to":{"event_id":"$T3OEyMTz2PAywODGg1fHBgiabkhZXZ7LYHTngx2eeE4","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1678929680925,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$wGKCu7W7tdCO_-NpZj4Uays40OWnc2fGEIMaZUNb9H0"},
{"content":{"body":"anyway that's a tangent","msgtype":"m.text"},"ts":1678929689187,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$_E8PMa4qym-QVenqmEhlVuWxYqwmWsH0B4I9F7JcCxg"},
{"content":{"body":"to go back to the \"as if\" thing, the \"as if\" phrase begs the question that there is a singular identity that pierces the meta-language veil, as you originally prefer","msgtype":"m.text"},"ts":1678929712304,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$-Xtycn55VT-EMh85lTzKIjxqazDKGhsXgNK1GGv2_Nc"},
{"content":{"body":"which is not the mental model that we have","msgtype":"m.text"},"ts":1678929733183,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$s142ZEX9NpIZoy4UkPerTgY03VNu_QwjGkbxD4J6TA8"},
{"content":{"body":"yes, you essentially \"look up\" the comparison operation based on which identity you're looking to operate on","msgtype":"m.text"},"ts":1678929756111,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$5LLiPcbdPUMNC88quJ8U8mLSQbLiH0X06NXI___SCO4"},
{"content":{"body":"that doesn't seem like a great thing to do when it can be ambiguous at times!","msgtype":"m.text"},"ts":1678929791593,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$mEG1bjuu359EGvO8U3JzGqoFUSCpkj-u1nXaLyd5V9g"},
{"content":{"body":"it's the other way: the comparison determines the identity you're using","msgtype":"m.text"},"ts":1678929805327,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$1nGS1-8Cw1i2egoH7nR_qCqrXusziJvMO2RZH2H8yho"},
{"content":{"body":"i don't have a value and just be like \"let me contemplate its identity\"","msgtype":"m.text"},"ts":1678929821169,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$fpxYshdpOfiumLSxXnIbo87BZIKEsTKnqqZ5j6lFXLE"},
{"content":{"body":"it's always driven by what comparison operation you're doing","msgtype":"m.text"},"ts":1678929830253,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$kLtDF6hlxwc_9_u8MpEkYCjV_U1U36idjVfu2KjYF2g"},
{"content":{"body":"anyway i'm not rexplaining the whole thing again, i don't have time","msgtype":"m.text"},"ts":1678929866100,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$6A5I-5MD1YbUh1SmY71wZkwMpAS8Q0Z7w2A20A7QY2c"},
{"content":{"body":"but in the note you wrote, you do discuss whether something has identity or not, which is not just a comparison","msgtype":"m.text"},"ts":1678929884526,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$z-s7WH04Tw-jXElNZjtzF3Xl1oSpEN-kYDtoOA2iMTI"},
{"content":{"body":"what","msgtype":"m.text"},"ts":1678929913934,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$Yd3f3qmhrf2Ka6OFuN99f2B03ptMWGcN2panWdvYEtA"},
{"content":{"body":"\"has/has not identity\" == equivalence classes for comparison operations","msgtype":"m.text"},"ts":1678929950552,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$osFv47Sq9-dfbREd4qteia4WOrTYlvxJ8y721czbW7s"},
{"content":{"body":"are you really confused by the phrase \"has identity\" used without direct juxtaposition with a comparison operation?","msgtype":"m.text"},"ts":1678929979320,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$PyqKAU-cTr31x6b2zxVlaFncKTLFWH7bHMn4JuovY_s"},
{"content":{"body":"that said i am fine with saying \"they have identity from the perspective of \"is\" and \"contains\", but do not have identity from the perspective of SameValue\"?","msgtype":"m.text"},"ts":1678930097377,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$14VBoNbWr5ppo8dnAQYlsegUkg1WNIe1hOeT66Q8hhs"},
{"content":{"body":"is that the confusion?","msgtype":"m.text"},"ts":1678930103666,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$CY5futvFEsXqksXsW_BZ7RS4YSZT1cW2Bx2m3v93stw"},
{"content":{"body":"yeah possibly","msgtype":"m.text"},"ts":1678930136410,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$MrExVRSWld1ytsNN5KrKMLjjkmhV-D-zGiJCvq2DbtA"},
{"content":{"body":"> that doesn't seem like a great thing to do when it can be ambiguous at times!\n\nI don't think it can be ambiguous? in the spec, you are always comparing from the perspective of the spec. in ES code, you are comparing from the perspective of ES. that's what \"from the perspective of\" means. there is never any ambiguity about whether you are reading the spec or ES code","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>that doesn't seem like a great thing to do when it can be ambiguous at times!</p>\n</blockquote>\n<p>I don't think it can be ambiguous? in the spec, you are always comparing from the perspective of the spec. in ES code, you are comparing from the perspective of ES. that's what &quot;from the perspective of&quot; means. there is never any ambiguity about whether you are reading the spec or ES code</p>\n","msgtype":"m.text"},"ts":1678930144227,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$uLvfxzQu7Gr0kivE4xrI4tEw4WMBbKLwH04y7FdFt6s"},
{"content":{"body":"anyway i'm going home","msgtype":"m.text"},"ts":1678930201262,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$FtsV6XzZLEXgI19O4kU_6qw108Z_L5d7mG6lb8LfR_A"},
{"content":{"body":"the rebased 2777 is up at https://github.com/syg/ecma262/tree/symbols-as-weakmap-keys","msgtype":"m.text"},"ts":1678930216080,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$Sq9525YHOiYMdbH6WHAVayeeClSm6duFaKKduBd1Rw0"},
{"content":{"body":"I will un-stamp shu's PR for now but if we don't have something which satisfies everyone by EOD tomorrow I'm re-stamping so we can get 2777 landed","msgtype":"m.text"},"ts":1678930290660,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$GtyL_YbTNldn7xGLW0JxVUWIkMwStIoKkI3ekkbLRpo"},
{"content":{"body":"and so we can stop talking about this","msgtype":"m.text"},"ts":1678930301574,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Uq8iYpI1QVW9gfr3ymguM9-MzYkCWSqVyjmICob7fUE"},
{"content":{"body":"it is just not worth spending this amount of time on this question","msgtype":"m.text"},"ts":1678930317729,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$_5dPLTVoqBDjPi88ioMrggFq6ps6Xy5d7ZSCuUKJZtM"},
{"content":{"body":"Here is another analogy: the spec could, in principle, define strings as Lists of code units, and replace all uses of \"is\" on strings with SameValue, and change the SameValue algorithm for strings to be \"if x is y, return true. otherwise, if their lengths are not equal, return false. otherwise iterate and compare [etc]\". That would be closer to how it works in engines, and would involve one fewer kind-of-thing than we currently have (i.e. it would get rid of \"sequence of code units\"). If that was how the spec were written, strings would have identity from the perspective of the spec, but not from the perspective of ES code. _And that would be totally fine._ Symbol.for symbols are in the same situation.","format":"org.matrix.custom.html","formatted_body":"Here is another analogy: the spec could, in principle, define strings as Lists of code units, and replace all uses of &quot;is&quot; on strings with SameValue, and change the SameValue algorithm for strings to be &quot;if x is y, return true. otherwise, if their lengths are not equal, return false. otherwise iterate and compare [etc]&quot;. That would be closer to how it works in engines, and would involve one fewer kind-of-thing than we currently have (i.e. it would get rid of &quot;sequence of code units&quot;). If that was how the spec were written, strings would have identity from the perspective of the spec, but not from the perspective of ES code. <em>And that would be totally fine.</em> Symbol.for symbols are in the same situation.","msgtype":"m.text"},"ts":1678930669408,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$047Jabo8ox0ng1rKImE3HgJb6tfHOmo2JiiS1Brk4JE"},
{"content":{"body":" * Here is another analogy: the spec could, in principle, define strings as Lists of code units, and replace all existing uses of \"is\" on strings with SameValue, and change the SameValue algorithm for strings to be \"if x is y, return true. otherwise, if their lengths are not equal, return false. otherwise iterate and compare \\[etc\\]\". That would be closer to how it works in engines, and would involve one fewer kind-of-thing than we currently have (i.e. it would get rid of \"sequence of code units\"). If that was how the spec were written, strings would have identity from the perspective of the spec, but not from the perspective of ES code. _And that would be totally fine._ Symbol.for symbols are in the same situation.","format":"org.matrix.custom.html","formatted_body":" * Here is another analogy: the spec could, in principle, define strings as Lists of code units, and replace all existing uses of &quot;is&quot; on strings with SameValue, and change the SameValue algorithm for strings to be &quot;if x is y, return true. otherwise, if their lengths are not equal, return false. otherwise iterate and compare [etc]&quot;. That would be closer to how it works in engines, and would involve one fewer kind-of-thing than we currently have (i.e. it would get rid of &quot;sequence of code units&quot;). If that was how the spec were written, strings would have identity from the perspective of the spec, but not from the perspective of ES code. <em>And that would be totally fine.</em> Symbol.for symbols are in the same situation.","m.new_content":{"body":"Here is another analogy: the spec could, in principle, define strings as Lists of code units, and replace all existing uses of \"is\" on strings with SameValue, and change the SameValue algorithm for strings to be \"if x is y, return true. otherwise, if their lengths are not equal, return false. otherwise iterate and compare \\[etc\\]\". That would be closer to how it works in engines, and would involve one fewer kind-of-thing than we currently have (i.e. it would get rid of \"sequence of code units\"). If that was how the spec were written, strings would have identity from the perspective of the spec, but not from the perspective of ES code. _And that would be totally fine._ Symbol.for symbols are in the same situation.","format":"org.matrix.custom.html","formatted_body":"Here is another analogy: the spec could, in principle, define strings as Lists of code units, and replace all existing uses of &quot;is&quot; on strings with SameValue, and change the SameValue algorithm for strings to be &quot;if x is y, return true. otherwise, if their lengths are not equal, return false. otherwise iterate and compare [etc]&quot;. That would be closer to how it works in engines, and would involve one fewer kind-of-thing than we currently have (i.e. it would get rid of &quot;sequence of code units&quot;). If that was how the spec were written, strings would have identity from the perspective of the spec, but not from the perspective of ES code. <em>And that would be totally fine.</em> Symbol.for symbols are in the same situation.","msgtype":"m.text"},"m.relates_to":{"event_id":"$047Jabo8ox0ng1rKImE3HgJb6tfHOmo2JiiS1Brk4JE","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1678930685337,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$JAN4B4VTykMYjyUefHNScG7LT65-0-locYnGzlDzL3c"},
{"content":{"body":"> \"they have identity from the perspective of \"is\" and \"contains\", but do not have identity from the perspective of SameValue\"\n\nFirst, SameValue does distinguish them, so I'm going to assume you're talking about being allowed as weakmap keys or not. Second, if that assumption is correct, wouldn't it be fine to just say that they are not suitable for use as a weak reference?","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>&quot;they have identity from the perspective of &quot;is&quot; and &quot;contains&quot;, but do not have identity from the perspective of SameValue&quot;</p>\n</blockquote>\n<p>First, SameValue does distinguish them, so I'm going to assume you're talking about being allowed as weakmap keys or not. Second, if that assumption is correct, wouldn't it be fine to just say that they are not suitable for use as a weak reference?</p>\n","msgtype":"m.text"},"ts":1678930768136,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$Fa9N6FSD5RmFP-KUV0Y40mluIpn4169aUvLDYz4fHPw"},
{"content":{"body":"bakkot: how is identity from the perspective of ecmascript code observed?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: how is identity from the perspective of ecmascript code observed?","msgtype":"m.text"},"ts":1678930904194,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$fqVUYYHYlOd8thU3vRTn5tP5dEKFxlf3k8sC-GPFua8"},
{"content":{"body":"(a tangent re strings as Lists of code units: you'd then have a language value that is also a spec value, which would involve some clarification.)","msgtype":"m.text"},"ts":1678931134901,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$VEBjazhZPT2jlFYbUJgaBPOT0hcSOePuIVJv2LrUFDE"},
{"content":{"body":"`Object.is`, mainly","format":"org.matrix.custom.html","formatted_body":"<code>Object.is</code>, mainly","msgtype":"m.text"},"ts":1678931213155,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Q3UjcW77AHTvb_tbYvpLAj-qTO_d03hj8Y5R8ri5d64"},
{"content":{"body":"it is also sufficient, but not necessary, to observe that changes to one reference thing to a thing affect other references to that thing, though this is only observable for mutable values","msgtype":"m.text"},"ts":1678931253610,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$G0vMmJEbP_qrST044BkEeQ-h1zu1rxuMN_D4HLJ4spo"},
{"content":{"body":" * it is also sufficient, but not necessary, to observe that changes to one reference thing to a thing affect other references to that thing, though this is only observable for mutable values (obviously)","m.new_content":{"body":"it is also sufficient, but not necessary, to observe that changes to one reference thing to a thing affect other references to that thing, though this is only observable for mutable values (obviously)","msgtype":"m.text"},"m.relates_to":{"event_id":"$G0vMmJEbP_qrST044BkEeQ-h1zu1rxuMN_D4HLJ4spo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1678931264804,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Us5xDS3cIpkgJo5VfQd5kaHzY_WkOOUlqxdruK0Tkr0"},
{"content":{"body":"then I think we should explore how we can talk about just the comparison operations and not introduce a second identity","msgtype":"m.text"},"ts":1678931422095,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$kyugBPQmy58HOnc72lp_4it2JCvwtRp1NS5XZ-D6pIg"},
{"content":{"body":"I do not think that","msgtype":"m.text"},"ts":1678931476185,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$PUKTHeFlZjVoXtz6Oreqy9DLEazd1aVz8Xdh9GlXAvM"},
{"content":{"body":"I think we should distinguish between identity from the perspective of the spec and identity from the perspective of the language","msgtype":"m.text"},"ts":1678931489804,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$khffOkCZ89Qb_Z3fVzneH_Kb9nheM_G0xuiv7hxbCNo"},
{"content":{"body":"as a reader of the spec, it is useful to know which language values have identity from the perspective of the language, as well as it being necessary to understand which have identity from the perspective of the spec","msgtype":"m.text"},"ts":1678931541269,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$nMui_FWRgeBMEMo8BRu1qQctmNJP1Tanv_uFfc_2rlg"},
{"content":{"body":"fortunately these differ in exactly one case, which is spelled out explicitly, at which point you know all there is to know","msgtype":"m.text"},"ts":1678931557283,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$CItI0Dkj_GT4BO3y9mZiKc2WhJNd5OK0uLH373ot7q4"},
{"content":{"body":"this is the ideal situation","msgtype":"m.text"},"ts":1678931560254,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$QXCpEJRz4Fzvyt33z13vpVmPqOKeaLgNAaDqqDJ9xr4"},
{"content":{"body":"I am feeling more lost now than ever","msgtype":"m.text"},"ts":1678931585214,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$YcL6eI2ig30n-MPd0kUn4hQeK-zTz-SkFZ8nHOZJhtI"},
{"content":{"body":"talking about comparison operations would make this worse, because as a reader of the spec, the thing you care about is not the comparison operations, it's whether these things have identity from the perspective of the language","msgtype":"m.text"},"ts":1678931585759,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$1AA0ZQtuZe72fdSi-AJVDJn2ZUIUftyEhYFnus6TI-o"},
{"content":{"body":"SameValue distinguishes symbols (any symbols) based on their spec identity. How does that not expose the spec identity to the language?","msgtype":"m.text"},"ts":1678931642452,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$lP9VD651QO2RGU4opphRfD_1zYGjpxCYPghZXbhL32Y"},
{"content":{"body":"bakkot: You only care about that for comparison operations or mutable things! these are neither.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: You only care about that for comparison operations or mutable things! these are neither.","msgtype":"m.text"},"ts":1678931680533,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$eMBDw2xDFP37RsNngDWMwMQewXi6XEOCDAQXL0F5oMs"},
{"content":{"body":"I do not understand the question?","msgtype":"m.text"},"ts":1678931734042,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$gPWfD3tBqPzMoHcrMk81qAZH_e5DM4ploUaJfqAhcys"},
{"content":{"body":"I did not say anything about \"exposing the spec identity to the language\" at any point afaict","msgtype":"m.text"},"ts":1678931746249,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$n5_Y7FJad7NE_FwqwPEwmE7ZFQwMurznwDa40R0bLDo"},
{"content":{"body":" * bakkot: You only care about that for comparison operations or mutable things! These are not mutable so it's only comparison operations we must care about.","format":"org.matrix.custom.html","formatted_body":" * <a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: You only care about that for comparison operations or mutable things! These are not mutable so it's only comparison operations we must care about.","m.new_content":{"body":"bakkot: You only care about that for comparison operations or mutable things! These are not mutable so it's only comparison operations we must care about.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: You only care about that for comparison operations or mutable things! These are not mutable so it's only comparison operations we must care about.","msgtype":"m.text"},"m.relates_to":{"event_id":"$eMBDw2xDFP37RsNngDWMwMQewXi6XEOCDAQXL0F5oMs","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1678931752743,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$4SAV_fMIVFk-nJPKyiWqSRY62uxe34-EEAAZsW3KUGU"},
{"content":{"body":"> fortunately these differ in exactly one case","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>fortunately these differ in exactly one case</p>\n</blockquote>\n","msgtype":"m.text"},"ts":1678931782032,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$rA1fSzuwyvouDN6CyZGDmDiSGC8vY8DuY_TfnwWfGPU"},
{"content":{"body":"what case are we talking about?","msgtype":"m.text"},"ts":1678931785652,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$Cf0osTFhHnXhSF-3WtdZ4Gra4_vX1XE3qjMwgdya2ks"},
{"content":{"body":"`Symbol.for` symbols","format":"org.matrix.custom.html","formatted_body":"<code>Symbol.for</code> symbols","msgtype":"m.text"},"ts":1678931793911,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$sKD1xS3RJ8vLtAq0LwCXXoxHwIWJRKMT8V7DNsroZP4"},
{"content":{"body":"what about them","msgtype":"m.text"},"ts":1678931802877,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$YPZ6lgcaeQoJJd05odXueoM4kGr-IdKWbcp6eOENLr8"},
{"content":{"body":"and the difference comes from the definition of identity: \"may be manifest anywhere simply by fully describing their characteristics\"","msgtype":"m.text"},"ts":1678931820324,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$VS1WTk4DCXyvaQ0k6KI0jZY5fx2iH3yi3u9dtAsnwDE"},
{"content":{"body":"_within the language_, `Symbol.for` symbols can be manifest by describing them","format":"org.matrix.custom.html","formatted_body":"<em>within the language</em>, <code>Symbol.for</code> symbols can be manifest by describing them","msgtype":"m.text"},"ts":1678931832880,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Rbdpw7qkuSNXnOI8_vjN2EdfVkRCVWVdfa25HRGebsk"},
{"content":{"body":"_within the spec_, this is not true","format":"org.matrix.custom.html","formatted_body":"<em>within the spec</em>, this is not true","msgtype":"m.text"},"ts":1678931836316,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$HEc6OQdC5e-IU_AKMLxlQ-z8Gk-kFEdvh7d35EOHi1Y"},
{"content":{"body":" so within the language, Symbol.for symbols do not have identity; within the spec, they do","msgtype":"m.text"},"ts":1678931906465,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$XREgt1tby98JekA38HozXqXTpMOGcP8CsfVfJWstLew"},
{"content":{"body":" * so within the language, Symbol.for symbols do not have identity; within the spec, they do","m.new_content":{"body":"so within the language, Symbol.for symbols do not have identity; within the spec, they do","msgtype":"m.text"},"m.relates_to":{"event_id":"$XREgt1tby98JekA38HozXqXTpMOGcP8CsfVfJWstLew","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1678931910372,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$tmaUhuHf6i9c_XFUEB9T6kIJEzcGVhkGN4ETPz4hoyA"},
{"content":{"body":"when we say that about identity, we're not making it a derived characteristic based on that, we're just stating an implication","msgtype":"m.text"},"ts":1678931927170,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$PvwOEWPuwWVlSjbsLjimFo3zoo3moELvCEbFeTQl1FU"},
{"content":{"body":"\"Values without identity are equal to other values without identity if all of their innate characteristics are the same\" is literally where we `dfn` identity","format":"org.matrix.custom.html","formatted_body":"&quot;Values without identity are equal to other values without identity if all of their innate characteristics are the same&quot; is literally where we <code>dfn</code> identity","msgtype":"m.text"},"ts":1678931966969,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$LxH1_91DOPXTLG7o7_9jxc3nHv81ZH6bPvBA8lgBvi4"},
{"content":{"body":"the only thing stopping you from manifesting a value anywhere is your inability to describe the indescribable identity","msgtype":"m.text"},"ts":1678931980551,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$XSTydSY9gBfZUljEFyMvSJhlhtcYYZI_mqmDpLS7FSk"},
{"content":{"body":"yes but that thing is... the whole point?","msgtype":"m.text"},"ts":1678932005157,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$-W2jqcq_COBsUH4hVL-kZPPU7MN7UM8YdeZUo9g5cVw"},
{"content":{"body":"that's where we're defining equality (piecewise)","msgtype":"m.text"},"ts":1678932009337,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$GfvruzaZPivbvsHkLX2EjOQ7619uLqKYzGBWLGtNbv0"},
{"content":{"body":"ok?","msgtype":"m.text"},"ts":1678932028817,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$JchTbvEz1P4mbiyDlbx4t_biRI2VlDLvG38gT1PgcuI"},
{"content":{"body":"that does not contradict anything I said","msgtype":"m.text"},"ts":1678932036364,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Lb8XGCQ8sokZBfX4UwAdMdr1dLNAq5n4BFTnAts4y_g"},
{"content":{"body":"within the language, Symbol.for symbols can be manifest by describing them","msgtype":"m.text"},"ts":1678932043135,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$uHx6pQ4ljlWbutX6B7BkWgKkN9bU-2-Jjm4voEI01Ig"},
{"content":{"body":"within the spec, this is not true","msgtype":"m.text"},"ts":1678932045705,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$8LtkrmW6Wv2zAqfDP9X8MkugeRbWgz84LUeIC1vw1uI"},
{"content":{"body":"so, by implication, it follows that within the language, Symbol.for symbols do not have identity, and within the spec, Symbol.for symbols have identity","msgtype":"m.text"},"ts":1678932073761,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$zFxO9WuUa9g22VbL28pyvZa_7KXrmyLuoCxoA7tANnU"},
{"content":{"body":"within the language, Symbol.for symbols can be retrieved using a subset of their characteristics that makes them unique among all Symbol.for symbols","msgtype":"m.text"},"ts":1678932229230,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$ql0Wzg8Ol3z4EBpgPHF4X7UiqDOKikNKINtqqsG7OKk"},
{"content":{"body":"that is not the same as fully describing them","msgtype":"m.text"},"ts":1678932238055,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$m584vujhZwse8ml2m6TBajeoA-zIReR-_c20Kq3N5Rw"},
{"content":{"body":"as a reader of the spec, unless you are a philosopher, it is most useful to think of that as fully describing them.","msgtype":"m.text"},"ts":1678932359660,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$mMamWzKHJCbAp6NPLihvEa_6IVWY-bAn7oOJ6ag4L-c"},
{"content":{"body":"regardless, that is the property that Shu cares about for liveness and that is what we should say","msgtype":"m.text"},"ts":1678932399871,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$yCaVyiz_0txSlqJMEg9DYMxUIP1nloE5v2jRtErdSIc"},
{"content":{"body":"we should stop trying to relate this to spec identity","msgtype":"m.text"},"ts":1678932411974,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$QJYsZC12XsMDnUfSoeZf-zze0ocbjeuMXxAMDgOIFYU"},
{"content":{"body":"we want a separate concept","msgtype":"m.text"},"ts":1678932426163,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$0y2btWeXtpyk2f_QsP6RCkvggE6dTfHtnPAMs0nKgTI"},
{"content":{"body":"we should continue relating this to spec identity, because that is the precisely correct way to think about it in terms of motivation, semantics, and implications","msgtype":"m.text"},"ts":1678932464224,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$vql-YTI-R7uVjKqGvhvASUYgkqS98HXSECbrCpcWgBc"},
{"content":{"body":"and Symbol.for symbols don't participate in liveness and so you don't need even need to think about the edge case","msgtype":"m.text"},"ts":1678932491693,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$M72D55R-F3EtL1klpQfNAuoGZL_QntWZ2arxRdQF310"},
{"content":{"body":" * we should continue relating liveness to spec identity, because that is the precisely correct way to think about it in terms of motivation, semantics, and implications","m.new_content":{"body":"we should continue relating liveness to spec identity, because that is the precisely correct way to think about it in terms of motivation, semantics, and implications","msgtype":"m.text"},"m.relates_to":{"event_id":"$vql-YTI-R7uVjKqGvhvASUYgkqS98HXSECbrCpcWgBc","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1678932498602,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Yh_13iYLzJCTEuQp8mXo378f8Jsitkeb4Ddkz7z-GcM"},
{"content":{"body":"I am now more convinced than ever that the concept we want is precisely the one that I spell out in https://github.com/acutmore/ecma262/pull/3/files#diff-181371b08d71216599b0acccbaabd03c306da6de142ea6275c2135810999805aR12316","msgtype":"m.text"},"ts":1678932550977,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$ZFZNNQ8XCCENfDkbD-JJKMlEFYmlH_iJQ2BcN7G0q54"},
{"content":{"body":"we want a concept that is defined in 3 parts, 1 part of which defers to (spec) identity; the other 2 parts are Symbol.for symbols and values without identity","msgtype":"m.text"},"ts":1678932616193,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$woGjwQ4KXmeHqS4vAUT6z5Vj58gbKQp6zDgnN_DWukA"},
{"content":{"body":"that note is fine for the \"can be used as a weak reference\" case, certainly","msgtype":"m.text"},"ts":1678932650587,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$BN45jN6WaMpt_Hs3M7Ikwb-UsH2CWhx_UZjSm7ips0E"},
{"content":{"body":"call it whatever you like, but we should at least call it out explicitly","msgtype":"m.text"},"ts":1678932651032,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$a8y1d5KBHgLrWntPFoiOQnF7SMmlVyuaIhMLdxBDJqQ"},
{"content":{"body":"what's the other case?","msgtype":"m.text"},"ts":1678932706725,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$AhQf1T5LWJR2kh_wul8yb1nXryq_bpVxqIoJU-QO_w4"},
{"content":{"body":"maybe I just don't understand the other case then","msgtype":"m.text"},"ts":1678932716572,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$8jOXQmVarD-hIkE60g5onkBoEcyko-eCjdk7ItnaVio"},
{"content":{"body":"there's the definition of identity, and liveness","msgtype":"m.text"},"ts":1678932724319,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ZQJRNgGTqtGJyD8uy78M0T5iQFkfQ0pN7vIIC4ng5yI"},
{"content":{"body":"the definition of liveness is touched in Shu's PR, and is good as it is in that PR; the symbols-as-weakmap-keys PR won't need to touch it","msgtype":"m.text"},"ts":1678932762297,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$6EPTVItUaHRC4JVqhgeJv3Vu0f7vpVS2CjjohD_9_0U"},
{"content":{"body":" * the definition of identity is touched in Shu's PR, and is good as it is in that PR; the symbols-as-weakmap-keys PR won't need to touch it","m.new_content":{"body":"the definition of identity is touched in Shu's PR, and is good as it is in that PR; the symbols-as-weakmap-keys PR won't need to touch it","msgtype":"m.text"},"m.relates_to":{"event_id":"$6EPTVItUaHRC4JVqhgeJv3Vu0f7vpVS2CjjohD_9_0U","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1678932767739,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$swgUG_JdDFj0YUUK29PrjhIXTxtyFV-g65lDqhn07NM"},
{"content":{"body":"and what does that accomplish?","msgtype":"m.text"},"ts":1678932819603,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$FeaI_evGz8OyRviOK8JUqXLUDEenpcE-mBAzyiYGnbc"},
{"content":{"body":"what does... what accomplish?","msgtype":"m.text"},"ts":1678932829137,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$oQEUDqnzs-cDETGHjPqajSMnMtDb_uEGH-gNn4MJZXY"},
{"content":{"body":"> the definition of identity is touched in Shu's PR","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>the definition of identity is touched in Shu's PR</p>\n</blockquote>\n","msgtype":"m.text"},"ts":1678932838152,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$2RZKMCYgrSfkdSMpqNfP8u_utLukCBi5kzq1fSTK4ts"},
{"content":{"body":"what does his PR accomplish? it corrects the definition of identity so that the edge case of Symbol.for symbols is explained","msgtype":"m.text"},"ts":1678932869122,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$yWf2KK-GxeT_N1lKaYA8SoSS_c6DxIVfZdtl2tY3mao"},
{"content":{"body":"the PR description says\n\n> to capture the reason for why Symbol.for symbols cannot be used as weak targets\n\nwhich you just agreed is already solved by my changes to CanBeHeldWeakly, so what else is it accomplishing?","format":"org.matrix.custom.html","formatted_body":"<p>the PR description says</p>\n<blockquote>\n<p>to capture the reason for why Symbol.for symbols cannot be used as weak targets</p>\n</blockquote>\n<p>which you just agreed is already solved by my changes to CanBeHeldWeakly, so what else is it accomplishing?</p>\n","msgtype":"m.text"},"ts":1678932907086,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$tJuOekOApr6e5mKggOk_U6PwXv4KxPwstA5ECI1c3CA"},
{"content":{"body":"> it corrects the definition of identity so that the edge case of Symbol.for symbols is explained","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>it corrects the definition of identity so that the edge case of Symbol.for symbols is explained</p>\n</blockquote>\n","msgtype":"m.text"},"ts":1678932949549,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$vUqLedQhQdAgBlg9ThazFt1OUNwReKtRi8eJBOJMSPE"},
{"content":{"body":"also I am assuming your note gets reworded to take that into account","msgtype":"m.text"},"ts":1678932968271,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$JtRdCI-GVMWwk7G-nZtfgVLsNYiFRGJ-wAwyoa6af4w"},
{"content":{"body":"I don't know what literally anything at all means anymore","msgtype":"m.text"},"ts":1678933022347,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$lXyBqYNxvKnHBFzdKHB59xbKQu_1DMxwJgvGXPQp-V8"},
{"content":{"body":"there is no edge case of Symbol.for symbols for identity","msgtype":"m.text"},"ts":1678933046876,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$9DKgL03H-keyo-lhb1UaMkOX5Md4You6zRf8VosRF5Q"},
{"content":{"body":"they have identity, period","msgtype":"m.text"},"ts":1678933052632,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$3YlxYrNcx2Sy2-z2F4c1T6M7UeAibLzHgTMNvz1xlfw"},
{"content":{"body":"there's *another concept*, that we just discussed 2 minutes ago, that separates them out of that category for the specific purpose of \"being a weak reference\"","format":"org.matrix.custom.html","formatted_body":"there's <em>another concept</em>, that we just discussed 2 minutes ago, that separates them out of that category for the specific purpose of &quot;being a weak reference&quot;","msgtype":"m.text"},"ts":1678933115105,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$ZrZ2pSBV6y4ejDDL-MYzBEvpO7s8HR5SEEohMmHgyqE"},
{"content":{"body":"why does anything else need to change?","msgtype":"m.text"},"ts":1678933135982,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$o_3zcHqbQO491n_3Dpg3NUOpq4Kp8vqQrPNNE69WqCY"},
{"content":{"body":"what is the other concept?","msgtype":"m.text"},"ts":1678933136304,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$-5BncARWKbXvoEAKGbIhdMEBJeZ8duVpybBWUy0MJs0"},
{"content":{"body":"\"suitable for use as a weak reference\"","msgtype":"m.text"},"ts":1678933150769,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$GeowXSxVOs949cWbXajiKxojNjPxe4ACYvC0w7FQGCI"},
{"content":{"body":"that concept _is_ the concept of having identity from the perspective of the language","format":"org.matrix.custom.html","formatted_body":"that concept <em>is</em> the concept of having identity from the perspective of the language","msgtype":"m.text"},"ts":1678933164253,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$B43A0ag4k8dcc617dpudI2mYHFSV4DklvmG8J_lEY2c"},
{"content":{"body":"and the reason that those agree is because the relevant fact is \"can be manifest without prior reference\"","msgtype":"m.text"},"ts":1678933182657,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$kF9GUO4r3J-bown6DqA9bbYAWavopS3U_YH5BAzN-Us"},
{"content":{"body":"like, the reason a thing is \"not suitable for use as a weak reference\" is because it \"can be manifest without prior reference\", i.e. _it does not have identity_","format":"org.matrix.custom.html","formatted_body":"like, the reason a thing is &quot;not suitable for use as a weak reference&quot; is because it &quot;can be manifest without prior reference&quot;, i.e. <em>it does not have identity</em>","msgtype":"m.text"},"ts":1678933242143,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$OBL2rt-YdcJr06KYDuLlCx8PKG0COSjJhePLeS3RlT0"},
{"content":{"body":"for immutable values, it is not observable from the language whether something has identity, only how it compares","msgtype":"m.text"},"ts":1678933259654,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$L8I03vgdk6nIQdgn5uCXnziJZK35KWRVZm9TmWnZYdY"},
{"content":{"body":"this is why you and Shu both keep saying \"well Strings could have identity if we wanted them to\"","msgtype":"m.text"},"ts":1678933313159,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$2S9iA3F9PIigVSVDh41cUMx_J5u1TYS-hhCkheKUd4U"},
{"content":{"body":"sure, but we *say* that they don't","format":"org.matrix.custom.html","formatted_body":"sure, but we <em>say</em> that they don't","msgtype":"m.text"},"ts":1678933318958,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$ZbencHcLKLRyMfK6Y16qf1M3z8UoW7ZL-ZPfjp9255I"},
{"content":{"body":"we also *say* that symbols do","format":"org.matrix.custom.html","formatted_body":"we also <em>say</em> that symbols do","msgtype":"m.text"},"ts":1678933324833,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$IrTlcemC9t1EAy3YpOnVAkVbC5oYinUeHcy7CVDp6Xs"},
{"content":{"body":"Strings could have identity _from the perspective of the spec_, not the language","format":"org.matrix.custom.html","formatted_body":"Strings could have identity <em>from the perspective of the spec</em>, not the language","msgtype":"m.text"},"ts":1678933341908,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$yNb9ctSgVQeI28jdZkKxFsPVib4kSsg6arB-H2WiDm8"},
{"content":{"body":"strings cannot have identity from the perspective of the language","msgtype":"m.text"},"ts":1678933351216,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$OxFQIASltjLikv6KCxhA9KEH4JhaC86ieFHNvm-qfeo"},
{"content":{"body":"because they can be manifest without prior reference","msgtype":"m.text"},"ts":1678933356303,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$GRxjq9Mxtw1gBMWek4UkPJ_RQ4PiQ3wmTsenM3lj_As"},
{"content":{"body":"and it's not like we have real symbols and then virtual symbols once they enter the fictional world of the language, they're the *exact same values*","format":"org.matrix.custom.html","formatted_body":"and it's not like we have real symbols and then virtual symbols once they enter the fictional world of the language, they're the <em>exact same values</em>","msgtype":"m.text"},"ts":1678933361328,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$IQatStd0WN6woYclKBU921KvlYNSufzxBE_jPEFC9vM"},
{"content":{"body":"\"has identity\" is _equivalent to_ \"cannot be manifest without prior reference\"","format":"org.matrix.custom.html","formatted_body":"&quot;has identity&quot; is <em>equivalent to</em> &quot;cannot be manifest without prior reference&quot;","msgtype":"m.text"},"ts":1678933387691,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$lK7BCk31twygY0pU5vvAmsFYPCe4FoN-Qnrg28gGLBo"},
{"content":{"body":"bakkot: they very much could have identity from the perspective of the spec, as long as you don't have a comparison operation that allows you to observe it","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: they very much could have identity from the perspective of the spec, as long as you don't have a comparison operation that allows you to observe it","msgtype":"m.text"},"ts":1678933399217,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$ouao2iByWqTN4J37XYJaUyRq7cBOO2b3YaSuqzvOUGU"},
{"content":{"body":" * bakkot: they very much could have identity from the perspective of the language, as long as you don't have a comparison operation that allows you to observe it","format":"org.matrix.custom.html","formatted_body":" * <a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: they very much could have identity from the perspective of the language, as long as you don't have a comparison operation that allows you to observe it","m.new_content":{"body":"bakkot: they very much could have identity from the perspective of the language, as long as you don't have a comparison operation that allows you to observe it","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: they very much could have identity from the perspective of the language, as long as you don't have a comparison operation that allows you to observe it","msgtype":"m.text"},"m.relates_to":{"event_id":"$ouao2iByWqTN4J37XYJaUyRq7cBOO2b3YaSuqzvOUGU","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1678933409774,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$1cyo0vm3ooYnz4K0e0Zvora_4Htp3HToXdOnsT7mkrM"},
{"content":{"body":"no they could not","msgtype":"m.text"},"ts":1678933415171,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ZwBC2f-vYAv91bO4E8zrCiJmZgfyy_CKEd_FCPRnnjk"},
{"content":{"body":"for immutable values, you can only know that they *do* have identity (via a comparison operation that exposes this) or that they *may or may not* have identity (all other cases)","format":"org.matrix.custom.html","formatted_body":"for immutable values, you can only know that they <em>do</em> have identity (via a comparison operation that exposes this) or that they <em>may or may not</em> have identity (all other cases)","msgtype":"m.text"},"ts":1678933449261,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$vE7VIqwN4yuC492eYKOqvdtYwA-4R3g2F4A7Qim2a78"},
{"content":{"body":"unless you think that there's some kind of guarantee to the end user that SameValue (Object.is) is bottoming out in identity for certain values?","msgtype":"m.text"},"ts":1678933504631,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$NTh7CPXOHv9bhyyo2soTzA5dc5dN0idB9NwNZOKZ7Os"},
{"content":{"body":"but there's not","msgtype":"m.text"},"ts":1678933506661,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$2DWmXSrfz9EoFugn3K2Fi7og-j2uOtbj0oLzwRX-ytM"},
{"content":{"body":"the user has opaque black box comparison functions","msgtype":"m.text"},"ts":1678933517356,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$emyb_02a9yYYUt0fR61drbN_I4BYi7Lz-79WdMh0Sfs"},
{"content":{"body":"we would be doing a disservice to readers of the spec if we said \"they may or may not have identity\"","msgtype":"m.text"},"ts":1678933575944,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$PYW-SC5PueQafRmabsxHk21qNNipS8XuBkRsiAz6I-0"},
{"content":{"body":"3 should not have identity","msgtype":"m.text"},"ts":1678933585040,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$-XKLQxWf6Kwod0cl6KAov-vfuXVyn0lLVT_tTCNh8I0"},
{"content":{"body":"strings should not have identity","msgtype":"m.text"},"ts":1678933589804,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$PzDq0XEcC2t7JioVWEXApQVNj3XUsRBv4n3qZahglg0"},
{"content":{"body":"Symbol.for symbols should not have identity","msgtype":"m.text"},"ts":1678933595751,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$9h9zGGpQEjZJGh9ja3IkxqQlQv3Ukue-pnTDNRz0TNg"},
{"content":{"body":"for exactly the same reasons in every case","msgtype":"m.text"},"ts":1678933600084,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$I34td2wyGQjgeeiZKYYJUmE5Mj_pydTMJJkjQ2bQ0kY"},
{"content":{"body":"but Symbol.for symbols are symbols, whether we like it or not","msgtype":"m.text"},"ts":1678933621557,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$wym6NCKAMvL7REc8Hi0ew94DOQwRTWYpMWux83ahskw"},
{"content":{"body":"... so?","msgtype":"m.text"},"ts":1678933627414,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$7h5nV41gEbK9Cq_uC7eAx0OBtWkyBeuteHwFJoYAv9U"},
{"content":{"body":"so when we create a symbol, it has identity","msgtype":"m.text"},"ts":1678933640600,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$QHfNjhLClRle5UtMtA80uEulF7aJUGKOpX2d5Cs4ozo"},
{"content":{"body":"no it doesn't","msgtype":"m.text"},"ts":1678933650280,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$lk39pCGhEJJteVxmfHlYK8N1KmvAYmrIPGGS8ypN8Y0"},
{"content":{"body":"when we place it in the GlobalSymbolRegistry, it cannot just lost identity","msgtype":"m.text"},"ts":1678933651730,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$lEjT4FgFQ3YJjOsqG8DyznZd1vOeL7n_9rl456WEiPA"},
{"content":{"body":"it does within the spec","msgtype":"m.text"},"ts":1678933654474,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$RxFRNuOg35NfjgMqaTwTB539tzPW6tL8S1cLZ6NYyeM"},
{"content":{"body":"it does not within the language","msgtype":"m.text"},"ts":1678933656940,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$d5A077ALDk-9LBKtZgSsLiRW4U69Zk_rtTE1rYlsobs"},
{"content":{"body":"that's what I'm talking about","msgtype":"m.text"},"ts":1678933660952,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$agQQkoD94HLfPLBP_gJJ1c8G6Romf25nYAz6FLGoLSU"},
{"content":{"body":"a spec value can't go from having an identity to not having an identity","msgtype":"m.text"},"ts":1678933679515,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$t2onMMvopfO-naYRvOYvLrPeqGv_43poUSCO1v48QXc"},
{"content":{"body":"whether a thing has identity depends on your perspective","msgtype":"m.text"},"ts":1678933693745,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$wTxxPQ0-VL4YDsp2qL4WOD-WtlGo5hShaDrh4As8Now"},
{"content":{"body":"and since we don't give the language fictional symbols, they must have identity too","msgtype":"m.text"},"ts":1678933709267,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$UOzuJCNqxtHbdpejOCtk27voyE-Gcus9F2H6DiTKUdw"},
{"content":{"body":"please see my earlier example of strings-as-List","msgtype":"m.text"},"ts":1678933711817,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$qpL1RY93pu8t5y-7ZX5R3kcSL6zor9ZcigE0QhBXyss"},
{"content":{"body":"do you disagree with this claim: in the strings-as-List example, from the perspective of the spec, Strings have identity, but from the perspective of the language, they do not","msgtype":"m.text"},"ts":1678933747794,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$N8TjTuR6yrGkiWSgyVNwuMjzTeJraFi7QY8YmATVD8Q"},
{"content":{"body":"> for immutable values, it is not observable from the language whether something has identity, only how it compares\n> this is why you and Shu both keep saying \"well Strings could have identity if we wanted them to\"\n","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>for immutable values, it is not observable from the language whether something has identity, only how it compares<br>this is why you and Shu both keep saying &quot;well Strings could have identity if we wanted them to&quot;</p>\n</blockquote>\n","msgtype":"m.text"},"ts":1678933778233,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$EJorjL-9s2TW9Y0gYtgMYWYvmZFB3U694WN3TrM6Dts"},
{"content":{"body":"from the perspective of the language, it is unknowable","msgtype":"m.text"},"ts":1678933814748,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$OaVJkyItZFiR7zpcNWTIOnHANigMm1VCvgwQHYwddWk"},
{"content":{"body":"> <@bakkot:matrix.org> I will un-stamp shu's PR for now but if we don't have something which satisfies everyone by EOD tomorrow I'm re-stamping so we can get 2777 landed\n\nthat wfm","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!nSLHQtIRJQxUJbEuGt:matrix.org/$GtyL_YbTNldn7xGLW0JxVUWIkMwStIoKkI3ekkbLRpo?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">@bakkot:matrix.org</a><br>I will un-stamp shu&#39;s PR for now but if we don&#39;t have something which satisfies everyone by EOD tomorrow I&#39;m re-stamping so we can get 2777 landed</blockquote></mx-reply>that wfm","m.relates_to":{"m.in_reply_to":{"event_id":"$GtyL_YbTNldn7xGLW0JxVUWIkMwStIoKkI3ekkbLRpo"}},"msgtype":"m.text"},"ts":1678933831950,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$-FAab5hM0sTHblxnXcgG09slpPo2YMB3zf83P-n1qCQ"},
{"content":{"body":"michael, i implore you, please take a step back and consider the goal","msgtype":"m.text"},"ts":1678933844709,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$spekqQaDzQGP-Z6RTEx_f0AazFc8JidhVPK1xRlRbbk"},
{"content":{"body":"ok. I think it would be doing a disservice to readers of the spec to say that it is unknowable instead of saying that they do not have identity.","msgtype":"m.text"},"ts":1678933851598,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$kLCGBBHRfxJYfhw6Fe5z0ISxrVuiMC3FU6KeKvJPiCk"},
{"content":{"body":" * ok. I think it would be doing a disservice to readers of the spec to say that it is unknowable instead of saying that they do not have identity from the perspective of the language.","m.new_content":{"body":"ok. I think it would be doing a disservice to readers of the spec to say that it is unknowable instead of saying that they do not have identity from the perspective of the language.","msgtype":"m.text"},"m.relates_to":{"event_id":"$kLCGBBHRfxJYfhw6Fe5z0ISxrVuiMC3FU6KeKvJPiCk","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1678933860034,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$JtU4udgDYO-84Zz_A-V1CZ-ogFCS1MadreBaFIZM7xU"},
{"content":{"body":"I agree, and it's fine to say that","msgtype":"m.text"},"ts":1678933896173,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$cnvLEokT2pgplU4y2SOGyjbx_h2cwvgGoom0RNtd1FI"},
{"content":{"body":"in fact, we should","msgtype":"m.text"},"ts":1678933898645,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$M9tw421B-OFu5O7P2V5kYBJiuiHuTJVnEYcC-NcHfmc"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1678933903695,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Od-PRQYsBo2lUGNvcZurj-Kd_tMYAmW6BsD4BVLG1YU"},
{"content":{"body":"strings do not have identity because we say so","msgtype":"m.text"},"ts":1678933909362,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$J87XOZxNRQGwnqWfgEFV7bjdZcK4MqKAp2BbMO78x0E"},
{"content":{"body":"in the spec?","msgtype":"m.text"},"ts":1678933923656,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$6gslhnbdodKXKIme3bCbjmZEBTjtEtw9QCN-p-9yLno"},
{"content":{"body":"but that means we can't call the spec things strings","msgtype":"m.text"},"ts":1678933928743,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$m6Qhz_OkZ724GdpdK7sH7ZXdH2HT1BupXbaUM06day8"},
{"content":{"body":"strings _within the spec_ do not have identity because we say so","format":"org.matrix.custom.html","formatted_body":"strings <em>within the spec</em> do not have identity because we say so","msgtype":"m.text"},"ts":1678933930825,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$7olwmzoX0sX1nHyeEgndLSf4g9dx6b_kaY1kk8xGy1Q"},
{"content":{"body":"if we defined them as Lists, they would have identity within the spec","msgtype":"m.text"},"ts":1678933938430,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$z8lkms4aVaV4Hy6g6rYU5lQY4xewtT2Cxi-92MsoV68"},
{"content":{"body":"precisely","msgtype":"m.text"},"ts":1678933942782,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$QbPZWpi_bhsMDzfUclvybkmmUPvmS-GvYIEZR3fUJ78"},
{"content":{"body":"and doing so is in fact, an editorial change","msgtype":"m.text"},"ts":1678933956318,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$gwfRISBjvJUruZJVsS9dCwYodDkgsSbaBYfV-JR9wxI"},
{"content":{"body":"and, as you say, it is not knowable whether they have identity within the language","msgtype":"m.text"},"ts":1678933959025,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$0QTYf7R8P23l3GCesYtbKt05rBKYxjJISnwBpvPcEeo"},
{"content":{"body":"but if we were in that world, would you seriously be arguing that we should say strings have identity without qualification, because it's not knowable within the language?","msgtype":"m.text"},"ts":1678933968334,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$aG9Kj7rHCkreEcXqbHFbFW8AC4CVClem0alzu4vmIaU"},
{"content":{"body":"my position is, that would do a disservice to readers.","msgtype":"m.text"},"ts":1678933973587,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$3KoqTLMx8v77_uwD68pPY_-9uF1_R9qj7ElhwQGFhOk"},
{"content":{"body":"then we can't just pass these things in to the language","msgtype":"m.text"},"ts":1678933976063,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$k7s3xgd14wMEPfgBMuNou44kKGxQTcUQ7bcUAL0pmpU"},
{"content":{"body":"and readers should be told that, in fact, they do not have identity within the language.","msgtype":"m.text"},"ts":1678933988304,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$rBpJfHgGThIMKGcy13li15a2AykUH_nPEjQGk79NOLw"},
{"content":{"body":"> <@michaelficarra:matrix.org> then we can't just pass these things in to the language\n\nwhy can't we?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!nSLHQtIRJQxUJbEuGt:matrix.org/$k7s3xgd14wMEPfgBMuNou44kKGxQTcUQ7bcUAL0pmpU?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@michaelficarra:matrix.org\">@michaelficarra:matrix.org</a><br>then we can&#39;t just pass these things in to the language</blockquote></mx-reply>why can't we?","m.relates_to":{"m.in_reply_to":{"event_id":"$k7s3xgd14wMEPfgBMuNou44kKGxQTcUQ7bcUAL0pmpU"}},"msgtype":"m.text"},"ts":1678934026519,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$T-aYG9ayc7pE6QllxHNBbkjSsRya-lrucPm25Mx1tAk"},
{"content":{"body":"the language values are not virtual, they are values in our spec universe just like any other","msgtype":"m.text"},"ts":1678934059832,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$-0n9XbpL5kam64igqhSI-AmrUjW6aJH4Qgaq_-samUs"},
{"content":{"body":"values that all either have spec identity or do not","msgtype":"m.text"},"ts":1678934067571,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$gvjfB659Jg5U3ioY3rvUrlgG6r5VDI3okpdXTitf9Vk"},
{"content":{"body":"that's correct","msgtype":"m.text"},"ts":1678934072742,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$0ixxMHMSbHrsyHSmWRj_ipnAp4krl9Ny9yy9ww_R-a8"},
{"content":{"body":"in this world, strings have spec identity.","msgtype":"m.text"},"ts":1678934080087,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$2NZ9hJA3YXyLW1Sun7-KRk7RKPz2ePbKDwkNgpVMmCw"},
{"content":{"body":"in the strings as Lists world, they have spec identity, yes","msgtype":"m.text"},"ts":1678934093712,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$ogorsUEMl1P6RxrbC4JxF3_6Q6Lx94WNBeINYSQCGn4"},
{"content":{"body":"however, if we left it at that, we would do a disservice to readers, who should be told that, in fact, they do not have identity within the language","msgtype":"m.text"},"ts":1678934115223,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$RPfWzil9DajxHgf4jiAHzmzfVMySbg105wy3pbGOWnk"},
{"content":{"body":"bb in an hour, but again, michael, i implore you to take a step back and reconsider the goal of a specification","msgtype":"m.text"},"ts":1678934149924,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$3rOT32extoiLx0ExuG3dxhaG_GDaKU1ioI1JAc1y0W8"},
{"content":{"body":"of a programming language, that is","msgtype":"m.text"},"ts":1678934158217,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$c2liVC0CQQVN0WTIJwKcSnwHBIt2FKtks0OrfKkYaIg"},
{"content":{"body":"is it not to be able to answer questions about how an engine behaves when given a program?","msgtype":"m.text"},"ts":1678934211215,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$ka_6RxXmcuCFYdhVLshfHrsHqb49mtAtjAEdbykvA8k"},
{"content":{"body":"to do that, we need to be able to say things like \"if A is B, do this\", but what \"is\" means is important","msgtype":"m.text"},"ts":1678934273125,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$MTiCiEobnSWQljMHu-qrqWxFPrCSfhq_ZC7FWayProY"},
{"content":{"body":"we have not made the definition of \"is\" confusing","msgtype":"m.text"},"ts":1678934285716,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ZWxHn5Fc-MMAflUZPUB0rDtIymmXym9n0hzFSsmiU54"},
{"content":{"body":"every use of the word \"is\" within the specification is within the specification","msgtype":"m.text"},"ts":1678934293266,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$jCNN-F54QQuJOM-e1an23U4jjyrzmZpgsDEOzDOjE2I"},
{"content":{"body":"we have said which values have identity from the perspective of the specification","msgtype":"m.text"},"ts":1678934302545,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$R-IOZQ4u9w83L2EB_Ey9eKLHkC22w2sB86mi5ZXuwF0"},
{"content":{"body":"there is absolutely zero ambiguity here","msgtype":"m.text"},"ts":1678934306731,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$GsPQMl6n3XYrYuEyc4XhEepjERAUVuQ9COSrJGICYLE"},
{"content":{"body":"symbols","msgtype":"m.text"},"ts":1678934310656,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$ArGkKBb90bHcAwKyEoVHHWR19rn2glgtRnMXbg_BMJ4"},
{"content":{"body":"symbols have identity","msgtype":"m.text"},"ts":1678934329652,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$eNOdHemRQpejaWcXLy7DSxTWpaVkP-EvwSm9lDaX20U"},
{"content":{"body":"from the perspective of the specification, yes, that's true","msgtype":"m.text"},"ts":1678934348775,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$jBM9ZbHzKCEkWrNJwiC062bBQUpl8onY6_7ggm2uTCo"},
{"content":{"body":"those same symbols which appear as reified values in the language","msgtype":"m.text"},"ts":1678934356039,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$AJ-0_6kzoyYBz0Kh5X-jtUUKKENSrighY31De7v2adY"},
{"content":{"body":"that is also true","msgtype":"m.text"},"ts":1678934362175,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$esptq_srH3QT0Joba3M065BpAGQlCzH7NNGX82yo2z4"},
{"content":{"body":"I am waiting for you to say a thing which conflicts with Shu's PR","msgtype":"m.text"},"ts":1678934395442,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Y6pxKIAI57vpX3sQAOkbChZ0yxYGi_Pq4sdQtPtwqmw"},
{"content":{"body":"there are other questions you can ask about the symbols, like \"is this symbol eligible for use as a weak reference\"","msgtype":"m.text"},"ts":1678934396674,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$WLnmlPZTdTdY5P6FUqRcPMlEqy9igQpA9NgFAx7L_ZQ"},
{"content":{"body":"again that is true","msgtype":"m.text"},"ts":1678934409505,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$8zZw_TlIqJlDihEKY2CkYQGqofHT9AEW1nV4-1uUuiM"},
{"content":{"body":"and those answers can even change over time for the same symbol","msgtype":"m.text"},"ts":1678934416197,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$vijRTeiyMuDG_9YcwVvsRooTz0PF7shVcLZLNXzCdbU"},
{"content":{"body":"not for that particular question, no","msgtype":"m.text"},"ts":1678934432715,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$NoTelgztXEUaDb_C-FTkUZmIYZ2dtn3R5fDEsJXoig8"},
{"content":{"body":"don't, given the language as is, sure","msgtype":"m.text"},"ts":1678934464611,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$KJg6gnCiztD42mtf25vPLerP_gwQTQpq4vpcLo4BGvI"},
{"content":{"body":"but theoretically could","msgtype":"m.text"},"ts":1678934468525,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$mhj1KNY94z0Iz9VkhYvOZDKFHvJR79GiP21r3-rPUvA"},
{"content":{"body":"should be allowed by the framework we're building, surely","msgtype":"m.text"},"ts":1678934476422,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$sg_jXBA7kTwH1Yf-cZPxXxYX0Oql8_L2yaWt5ZwckO8"},
{"content":{"body":"uh","msgtype":"m.text"},"ts":1678934484136,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$1wmlLFdS7pG8GRDGji7Z31npgKcxv3jv4ZdUx96Cnrk"},
{"content":{"body":"why","msgtype":"m.text"},"ts":1678934488872,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$LzvLJS2YhURsdU8pWNaW49bglvcKQJSkZrndhuWmyAc"},
{"content":{"body":"like, it's true that if there were an entirely different conceptual model for weak references, things could be otherwise","msgtype":"m.text"},"ts":1678934536999,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ZUlINuXSkH8QVhv6uDkRcbW9mHyMxGoTx2vKBQ_qvSg"},
{"content":{"body":"but the conceptual model we have is, things can be used as weak references if, and only if, they have identity from the perspective of the language; that attribute is stable over time","msgtype":"m.text"},"ts":1678934560008,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Av2jtQdTToS8ka-8ewjmsW2e6Zwba_mvg9uFUysvlMw"},
{"content":{"body":"I mean sure, whatever you like","msgtype":"m.text"},"ts":1678934563904,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$8M70J5PkbgARAncRhGa3O4aBE_uvQrT46-ilYnyeBtE"}
]