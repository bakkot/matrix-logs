[
{"content":{"body":"https://fenix.tecnico.ulisboa.pt/downloadFile/1689244997263330/ECMA_SL_Extended_Abstract.pdf is interesting: \"Hence,\nwe believe that the ECMAScript specification should be generated from a reference implementation of the language.\"","msgtype":"m.text"},"ts":1679011317959,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$6WJwTZz97s0aSsZc38tFqQU7MWcb9aWpi2zSQJ_NHjk"},
{"content":{"body":"Mind you, they're (apparently) writing in 2021 about ES 5.1, which is odd.","msgtype":"m.text"},"ts":1679011555887,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$p3TdaBpoU5T2JXo2t0PBxiElQSHE00tUsXSEBdmUT9Q"},
{"content":{"body":"my undergrad research back in ~2014 was against ES3","msgtype":"m.text"},"ts":1679013007166,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ZN1bJcJ2kTnwY8QVcMaRcGepQ1ETXZCcfYhvd0lvDcE"},
{"content":{"body":"it's just a lot easier to use old versions","msgtype":"m.text"},"ts":1679013011869,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$FLxZ9jrye8sImsr8vAfhuLPew1lXkl3I8oJTqPcirdo"},
{"content":{"body":"new versions are... larger","msgtype":"m.text"},"ts":1679013014536,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$XBlCK6a8eU3mVDbdNMLPUhZrGJaNiLG9cE0pGQb7IQ8"},
{"content":{"body":"as an editor, I would prefer to maintain spec text and derive reference implementations for the purposes of automatically checking the spec, not the other way around","msgtype":"m.text"},"ts":1679013266655,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$i1r-ttgbjT2TOZpVNh1MMaGPRajW859JS8cqQur3V_0"},
{"content":{"body":"Given that people will read the text, it does seem that maintaining the text and deriving an implementation is safer than the reverse. With the reverse, you'd presumably have to generate the text as part of CI, and then diff that against the previous text, so more stuff to check.","msgtype":"m.text"},"ts":1679018065214,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$5W4eoRW1fJCrzFKZmYZbVbbF2hIRMoqOEim2r6ClHbA"},
{"content":{"body":"And if you can derive a reference impl from the text, then you get benefits 2-4 anyway. Benefit 1 (\"Writing code is easier than writing HTML pseudo-code following the conventions of the standard.\") is a weird thing to say because ES 5.1 was written in MS Word. In the current regime, I'm not sure which would be easier. Writing code might be more satisfying, because you could (at least sometimes) get into a quick feedback loop.","msgtype":"m.text"},"ts":1679019275718,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$_PCM_5J6TRO7o6MWFSsPHYAAhZ60uHomgGj_xGqzWbI"},
{"content":{"body":"well also, like, our spec isn't 100% executable","msgtype":"m.text"},"ts":1679068061316,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$C_rITN54r_mvpcRNNP2SdrA8yy_8pHcpF4nl9H2ITbQ"},
{"content":{"body":"re: liveness and memory model","msgtype":"m.text"},"ts":1679068067227,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$0SkK7LKNEVjjPEsgUwLQzgJ4VW56D84mLuDDGtA-rto"},
{"content":{"body":"git question time, how do i cherry-pick the commit from a PR into my local branch?","msgtype":"m.text"},"ts":1679078090991,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$81Ck2CPxh-Igcs5PZLuWeVM3O9pieUkbHelK_PFXaYo"},
{"content":{"body":"`git cherry-pick X` where X is any commit-ish","format":"org.matrix.custom.html","formatted_body":"<code>git cherry-pick X</code> where X is any commit-ish","msgtype":"m.text"},"ts":1679078257741,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$_uxGaSqgcyzlarVxJImez4B4mfMrf7OZWplwNei7Us4"},
{"content":{"body":"the short or long sha, eg","msgtype":"m.text"},"ts":1679078264546,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$U0VvA1tVzwuqcvHzcXjTQTpAhUMQjSIap3cA9-Ahtwg"},
{"content":{"body":"no i mean","msgtype":"m.text"},"ts":1679078275199,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$Wt9fR7JnApLrFrb8AxgiiBsS0VQd5TxbYq98HjpSTpI"},
{"content":{"body":"how do i find that sha","msgtype":"m.text"},"ts":1679078282211,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$8_liekyoEfgMrTuIdkXZs7i4p9ZpcI6kdvCjyWKGX48"},
{"content":{"body":"like what repo and branch i need to fetch to get that sha","msgtype":"m.text"},"ts":1679078305010,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$GdvvMdosfBFKk_UaXD_H5uTTirhJkdyAtyY5l8Quz-Q"},
{"content":{"body":"oh - you can get it from the PR webpage most easily","msgtype":"m.text"},"ts":1679078450653,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$XbWtYDOmJh0E3909Iu00sd_Rn03aODoQ3hjhiUn9xk8"},
{"content":{"body":"ah okay","msgtype":"m.text"},"ts":1679078468272,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$B9w9-Es1Ovt9sMN59SzRI0afTVp0WXGQXMf-23FEBzg"},
{"content":{"body":"to get it on the CLI you have to fetch the PR ref specifically, which i'd need a minute to craft the command for","msgtype":"m.text"},"ts":1679078472875,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$Xb7r-ocYCG-f4jmYYU3UVNSUP8dos4OIucDRBeA65Dc"},
{"content":{"body":"ah no need, i'll try to find it on web page","msgtype":"m.text"},"ts":1679078488817,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$P0s4xRkKyggY2as5Mx-_oZ2zFq_ukkEBji2VFtME2gI"},
{"content":{"body":"cool","msgtype":"m.text"},"ts":1679078491436,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$HPnBGWXOq8334gkhExig4mFr087j4obBrxmyx5QYG_I"},
{"content":{"body":"thanks","msgtype":"m.text"},"ts":1679078822054,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$fKOCNC8IMiMBjIVmEJQMnzXouBOJTDd9tSpMm2G6NPQ"},
{"content":{"body":"bakkot Michael Ficarra i've cherry-picked michael's commit and added my wording tweaks on top to https://github.com/tc39/ecma262/pull/2777","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a> <a href=\"https://matrix.to/#/@michaelficarra:matrix.org\">Michael Ficarra</a> i've cherry-picked michael's commit and added my wording tweaks on top to https://github.com/tc39/ecma262/pull/2777","msgtype":"m.text"},"ts":1679078844153,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$BbNWpL9YYmN9hFiRCJHZz9pfKMmGYXXFyhqi1DnzHds"},
{"content":{"body":"PTAL","msgtype":"m.text"},"ts":1679078846824,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$Mca-IJEW46h4dsHdkYyRm_cBBNW3DAKLI8BONgp-VSM"},
{"content":{"body":"it should be the agreed-upon state","msgtype":"m.text"},"ts":1679078858230,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$UZSOFDjtyv8QHgGOMapO_qSDinNQqP97OuEwmJIAjjM"},
{"content":{"body":"> <@jmdyck:matrix.org> And if you can derive a reference impl from the text, then you get benefits 2-4 anyway. Benefit 1 (\"Writing code is easier than writing HTML pseudo-code following the conventions of the standard.\") is a weird thing to say because ES 5.1 was written in MS Word. In the current regime, I'm not sure which would be easier. Writing code might be more satisfying, because you could (at least sometimes) get into a quick feedback loop.\n\ni think a consequence of writing non-executable specifications _first_, while appearing inefficient and annoying on paper, is good in practice for JS, actually, because of the highly interoperable nature of JS","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!nSLHQtIRJQxUJbEuGt:matrix.org/$_PCM_5J6TRO7o6MWFSsPHYAAhZ60uHomgGj_xGqzWbI?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@jmdyck:matrix.org\">@jmdyck:matrix.org</a><br>And if you can derive a reference impl from the text, then you get benefits 2-4 anyway. Benefit 1 (&quot;Writing code is easier than writing HTML pseudo-code following the conventions of the standard.&quot;) is a weird thing to say because ES 5.1 was written in MS Word. In the current regime, I&#39;m not sure which would be easier. Writing code might be more satisfying, because you could (at least sometimes) get into a quick feedback loop.</blockquote></mx-reply>i think a consequence of writing non-executable specifications <em>first</em>, while appearing inefficient and annoying on paper, is good in practice for JS, actually, because of the highly interoperable nature of JS","m.relates_to":{"m.in_reply_to":{"event_id":"$_PCM_5J6TRO7o6MWFSsPHYAAhZ60uHomgGj_xGqzWbI"}},"msgtype":"m.text"},"ts":1679082387055,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$7RRFxz7NY2SM_bqXu7Gn1P5S89kUopZF_tVnMUFfEY0"},
{"content":{"body":"i can guarantee you what will happen with a reference interpreter as the source of truth is that, implementations will more than likely converge on whatever the reference implementation does for new proposals, down to bug compat","msgtype":"m.text"},"ts":1679082455932,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$uMHIZA8TbBMfXovQDukZcK37pd0c9qqWMkmMz0aK6ks"},
{"content":{"body":"because our spec drafts aren't executable, there's more doubt cast on the correctness of it by implementers when something doesn't smell right","msgtype":"m.text"},"ts":1679082485370,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$YbWret2AF8pU3v9lnRZifoMchjTBZie4cwCChLSXqsc"},
{"content":{"body":"vs what i contend will happen in a reference-implementation-first world, which is \"well this sure seems like a weird design but the reference implementation already does this so it must be intentional, i'll just copy that\"","msgtype":"m.text"},"ts":1679082522576,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$pg54tffThl6NT-Y01c63kQGsGPjhI_04xxrjcUuVIDo"},
{"content":{"body":"and because we have multiple interoperable implementations, there're more chances for doubt to be cast, which i feel like raises the quality bar","msgtype":"m.text"},"ts":1679082567500,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$3R771eFHvv01JZStctgAhSA51-hW5TL76psX8dTgyXo"},
{"content":{"body":"at the expense of small set of people being annoyed, of course, but that seems fine","msgtype":"m.text"},"ts":1679082577551,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$eTQCJ2DPu2WHsXOuWq6C_mJS5VllM6mBO7KVGyAimbc"},
{"content":{"body":"i think that's how ruby's tended to work","msgtype":"m.text"},"ts":1679082599954,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$PBtbesceEx1WGVklhsgd-oAlg7sqLMdE2PIA9u69IpQ"}
]