[
{"content":{"body":"looks like about 3 weeks ago, github automatically turned on \"environment protection\" which only allows protected branches to deploy, and gh-pages isn't a protected branch. i loosened the setting and reran all the failed deploy jobs, and things should now be up to date, and moving forward.\n\nnice catch! lmk if you see any other issues.","msgtype":"m.text"},"ts":1690172602603,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$ZXhy3K_os5aGqqdaov3Qn0QLte_qb-LJnqUxER5gIC8"},
{"content":{"body":"is there a reason gh-pages isn't protected?","msgtype":"m.text"},"ts":1690176524284,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$4Q_-oTCraseiUrKP9j5akfx4pEjTU7T5i6vrtCrRCUU"},
{"content":{"body":"would it make sense to just protect it instead?","msgtype":"m.text"},"ts":1690176532988,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$UcV58AX37yUyO5kaCnGQCtf5dUcu52HZAYP2QAP23o4"},
{"content":{"body":"we can do that too - we don't want deploys from just any protected branch, so either way the settings should only allow deploying from gh-pages","msgtype":"m.text"},"ts":1690177488296,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$IEOEPBFieZ4QwX4gLL3f4I_3f-mQ-GBSb5k_YHevfxA"},
{"content":{"body":"but, protecting the branch would likely block the automation that pushes to it.","msgtype":"m.text"},"ts":1690177510623,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$3ErF7b5Y5sgKgraMpM3K45rqe3kPSz9XT7qWQwF2DRM"},
{"content":{"body":"if it's literally just \"protected branch\" with no specific requirements, you can just do something really lightweight, like just checking \"Do not allow bypassing the above settings\" and not checking anything else","msgtype":"m.text"},"ts":1690212517425,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$Cl6_5zivbqwNvvfZzz8EvN3uo9g_fgtbIhckXy9tzG8"},
{"content":{"body":"or like, 'allow force pushes' from one individual","msgtype":"m.text"},"ts":1690212571868,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$okM-gvk-V8BVfKS4ouOgkk0atVpDabZW0b_6I0R6xwY"},
{"content":{"body":"psa, the IPR thing happened again; i'm working on fixing the bug in the script now so it'll catch it before merge","msgtype":"m.text"},"ts":1690231728817,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$bIyMRJg-z-YvNbHyActDX_cxJnm8bRW0eJfUewmEgUc"},
{"content":{"body":"lol the contributor is not willing to sign the thing","msgtype":"m.text"},"ts":1690231907326,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$FdhnjUqCK69uimBHSbW4Rax5QQf0KZyXbzmtQDl9MsQ"},
{"content":{"body":"it's a totally trivial contribution; I would personally be inclined to say it doesn't need the IPR form","msgtype":"m.text"},"ts":1690231926465,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$0nK_1lqV_e8yxAXPKJHy1kvfYXb8SGriw4uLeBeNOPg"},
{"content":{"body":"but IIRC littledan was of the opinion that everyone needs to sign it","format":"org.matrix.custom.html","formatted_body":"but IIRC <a href=\"https://matrix.to/#/@littledan:matrix.org\">littledan</a> was of the opinion that everyone needs to sign it","msgtype":"m.text"},"ts":1690231935220,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$03k2gXc8bMUF5_qFXi7YTv8EqkzCenFk-JT0f309oaE"},
{"content":{"body":"I guess we back it out and land exactly the same commit but attributed to me? with maybe attribution given in the commit message? ","msgtype":"m.text"},"ts":1690232005556,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$3N-gtRZPPiYhZ_xk3GrJS2B77N59Rvhgv9snn8quofw"},
{"content":{"body":"wait","msgtype":"m.text"},"ts":1690232474558,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$FbE7y8-HQjZ4Ma9c3dvwIeObDREq2zONJ4XNC1azb2c"},
{"content":{"body":"the contributor is not willing to sign it?","msgtype":"m.text"},"ts":1690232478262,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$njk-i9Tm2XydQzu5LZZxxi_xi7HFs2TxpOl5QzXNoVk"},
{"content":{"body":"correct","msgtype":"m.text"},"ts":1690232530780,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$YCWb07-H_vPeSrJCfZKt__jHdsGn6X_UewqKIzECv1k"},
{"content":{"body":"and the commit is already merged","msgtype":"m.text"},"ts":1690232536457,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$gl-hhQaUELookN2XZWCdWjjCwgh-0D-guMnInBs5UAE"},
{"content":{"body":"there's 3 PRs total, in fact","msgtype":"m.text"},"ts":1690233063900,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$7lVG2UfFUL4SCEKuHW9su835JHJwScWQ-GQS_jfljjE"},
{"content":{"body":"so yeah we'd need to back all those out, and then we could reland them under someone else's name since they're indeed trivial","msgtype":"m.text"},"ts":1690233078657,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$wgrVwZQNL5tSlSQLytUSGRHO8XS4wG-4LLIi6V9eUEg"},
{"content":{"body":"i put up https://github.com/tc39/ecma262/pull/3128 which i think will catch the issue of a commit using an email address not associated with a github account, which was the problem with these three","msgtype":"m.text"},"ts":1690233111600,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$6mz15HZjGOGU5lutP1JtZrE1Tykj4GaWvM8-V_NMBK8"},
{"content":{"body":"Michael Ficarra: do we really need to wait until wednesday to land that PR? is it something we could talk out here?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@michaelficarra:matrix.org\">Michael Ficarra</a>: do we really need to wait until wednesday to land that PR? is it something we could talk out here?","msgtype":"m.text"},"ts":1690233157975,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$dYwRkswSM-l21_vnNjG8DHvLsCTN3Q0OK_Jk7iKoq-k"},
{"content":{"body":"I don't like that we're using a variety of different allowlisting strategies","msgtype":"m.text"},"ts":1690233380518,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$mcK7HJft3oc_2i-ReHCopvQlBIWHuQ-CIJ41oE6fjoY"},
{"content":{"body":"and was already uncomfortable that they were imprecise before","msgtype":"m.text"},"ts":1690233391184,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$CEltaqr5lXG8TLFaAb278zPLtSIj0qN2ZuLEg_tSQ8Y"},
{"content":{"body":"the goal is to reduce them all to zero","msgtype":"m.text"},"ts":1690233413668,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$068gwrTYhP1uKnBHiZZkhfDNtRdBpcMUevTYNGm_CN0"},
{"content":{"body":"we're not going to reduce them all to zero, there are legacy contributions","msgtype":"m.text"},"ts":1690233429746,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$A2TUbetsrsq4iTFZc1EL9LB9lYkbbahoV62j3bydReg"},
{"content":{"body":"in the case of the commit one tho, those can't ever be fixed unless the email address on the commit is added (or re-added) to the user's github account.","msgtype":"m.text"},"ts":1690233436199,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$YlBdMzUwTASazjnHnwdcuySg5E_DZVXp7aMMm5pZ76I"},
{"content":{"body":"the form-signing one we absolutely can. but indeed the legacy commit list likely couldn't. for example, bterlson has commits in there with his microsoft email address","msgtype":"m.text"},"ts":1690233460265,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$em1M2ewhMIq6vwu7U4PMHEcVh1RG32uefFC20hEFJ7k"},
{"content":{"body":"is there any reason to do anything other than hard-code some SHAs?","msgtype":"m.text"},"ts":1690233464579,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$qvd3voeiZN8PJd2Qadt9NaawVpIeGnPpWaYqCaU2IWw"},
{"content":{"body":"it would be a large list of shas. but sure, we could do that","msgtype":"m.text"},"ts":1690233476081,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$TqmbcQnGpym-DnB0_t15pYcNj3LByLPKsVTqMbvrceA"},
{"content":{"body":"but i'm not sure why that needs to hold up this PR, which fixes a current issue, since we can iterate on it","msgtype":"m.text"},"ts":1690233486893,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$EBYAJ3esj1wUaAs4Re9Gn8iKmKqCKZxiVMMLdjX98GU"},
{"content":{"body":"because I'm tired of it breaking like this","msgtype":"m.text"},"ts":1690233504695,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$BVAsxlvsDzAetZ5tiL1Pv2faelsKQNO9XEU9T7TJerA"},
{"content":{"body":"this is embarrassing","msgtype":"m.text"},"ts":1690233507865,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$SOzaxer6t4tO4KCAgUGff4SwNZR-q27pnM6aLz-Kopk"},
{"content":{"body":"this PR fixes that breakage","msgtype":"m.text"},"ts":1690233513653,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$eX6wc1T2bQAKa855MTCENL_tKpDYZXvMybq_VAfrNbM"},
{"content":{"body":"I cannot be sure of that until I understand the solution better","msgtype":"m.text"},"ts":1690233528891,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$52a81YJw-vh9dI-S_CVYex7m-BMqt-oL6TSdEsDiSBU"},
{"content":{"body":"(modulo the 3 PRs discussed above, which it can account for as well)","msgtype":"m.text"},"ts":1690233530873,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$BTWyIb7ut27GKijwzuuCsOYhHg0ZMpqk2uRBJj65idk"},
{"content":{"body":"ok, how can i help you understand that? basically, a commit can have any email address on it, and github only links that to an account if the email address is currently on the account","msgtype":"m.text"},"ts":1690233563354,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$kYDqzTDpGtmbWPyRDtJAfBQLq5vO7lugjhSl3x17CvY"},
{"content":{"body":"and the \"legacy commit list\", including the commits that broke it this time, are all commits that can't be linked to an account","msgtype":"m.text"},"ts":1690233588259,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$LbFGhXLyZDGO9gRVQ5hoO6BTR8Fz737GeL8T1z_KZx8"},
{"content":{"body":"`contributing.md` should probably mention in big letters that the IPR form is required, also","format":"org.matrix.custom.html","formatted_body":"<code>contributing.md</code> should probably mention in big letters that the IPR form is required, also","msgtype":"m.text"},"ts":1690233615342,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$P1-7y2i141VDKPXyIe4vfrn0j_tYFSbjEWWhkyqg4jY"},
{"content":{"body":"it doesn't currently afaict","msgtype":"m.text"},"ts":1690233619041,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$yTjkFh6IvWG9xp-WMxtynMbC4eKnGYd5D5zuR9bFG80"},
{"content":{"body":"but either way what is the harm of adding this now? it won't make things worse, and more importantly it won't make it any harder to come up with an alternative solution later","msgtype":"m.text"},"ts":1690233636432,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$YJl6qGo0j1zh_0jUHe42Neu8tnbWVT9pGi9BNr_QZVc"},
{"content":{"body":"as it stands now, PRs that will break main don't show up as broken until after merging; with this PR, those PRs will not be blocked from landing","msgtype":"m.text"},"ts":1690233672429,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$qkoCmx29fF3E5kz-55CGumZzhEB07ZK9trdsXpuULXc"},
{"content":{"body":" * as it stands now, PRs that will break main don't show up as broken until after merging; with this PR, those PRs will now be blocked from landing","m.new_content":{"body":"as it stands now, PRs that will break main don't show up as broken until after merging; with this PR, those PRs will now be blocked from landing","msgtype":"m.text"},"m.relates_to":{"event_id":"$qkoCmx29fF3E5kz-55CGumZzhEB07ZK9trdsXpuULXc","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1690233674974,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$I1PtzlG5LdqN2aymJacaSAwXSuHWNVAawjYOQICbByc"},
{"content":{"body":"i'm personally more concerned with putting out the current fire than with embarrassment.","msgtype":"m.text"},"ts":1690233716176,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$6urnwoZX6kk7CyHpnHk4QSKcJZ_Fl9e3BqsN5jArQOo"},
{"content":{"body":"i'll add the revert commits for those three PRs to my IPR fix, though, since they clearly aren't going to sign it","msgtype":"m.text"},"ts":1690233886270,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$cgFCvqoT60oBfnI29FKzlOORVlb_YsjBaj_mfm0EFgw"},
{"content":{"body":"we could also just set a starting date?","msgtype":"m.text"},"ts":1690233946372,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$nyLYiJFkAHL-0oa0ZS6Miy3mx8vXYUfynbIqu0pI4zA"},
{"content":{"body":"and it can just be bumped to the last \"manual audit\" in case of failure","msgtype":"m.text"},"ts":1690233982380,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$O6BjIh_enhgfBM3FPXTxaipN0GTGoiQsYIfhAqPNLCg"},
{"content":{"body":"sure, that would be fine too. landing this PR doesn't make it harder to make that change tho.","msgtype":"m.text"},"ts":1690234005496,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$VXtyZxFsAm5WbEPixn0M2Cvg9urauP9xU0f6G5iCUPg"},
{"content":{"body":"my fix PR now reverts those 3 PRs, as well as fixes the current issue (altho it might not show up as fixed til it lands), and prevents it from reoccurring, so i'd prefer to land that now and we can change the strategy to whatever you want later","msgtype":"m.text"},"ts":1690234372753,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$Pj5UxFpN5YcLI_JZsByL7ZqrILeqErqTVRWSkx47rTk"},
{"content":{"body":" * my fix PR now reverts those 3 PRs, as well as fixes the current issue (altho it won't show up as fixed til it lands, because it uses pull_request_target), and prevents it from reoccurring, so i'd prefer to land that now and we can change the strategy to whatever you want later","m.new_content":{"body":"my fix PR now reverts those 3 PRs, as well as fixes the current issue (altho it won't show up as fixed til it lands, because it uses pull_request_target), and prevents it from reoccurring, so i'd prefer to land that now and we can change the strategy to whatever you want later","msgtype":"m.text"},"m.relates_to":{"event_id":"$Pj5UxFpN5YcLI_JZsByL7ZqrILeqErqTVRWSkx47rTk","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1690234520747,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$t4Z-5jGkte94X4uAZRxRea-eURxO1r4430aNasAjmfg"}
]