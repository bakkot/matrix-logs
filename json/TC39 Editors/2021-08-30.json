[
{"content":{"body":"i had no idea there was a way to expose an array proxy, that makes me very happy :-p","msgtype":"m.text"},"ts":1630357769281,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$n5neNkor_dHnz61DsNX3Q__lT61JN4-Q-Qs8jn_g9To"},
{"content":{"body":"it reveals proxies in general, not just arrays","msgtype":"m.text"},"ts":1630358985374,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$1_EvpHXP6glAwOolm7k45p3iFV2MqQBh-1NsaiTSLo4"},
{"content":{"body":"proxies for anything non-callable and non-exotic (except array), anyway","msgtype":"m.text"},"ts":1630359014451,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$XAqDpiDGl55jLNcZ2ilLTcOqvCTGcq3yRDtQZZJr4iw"},
{"content":{"body":"I guess not just \"non-exotic\", but specifically \"no internal slots, and the prototype is object.prototype\", plus a few other types","msgtype":"m.text"},"ts":1630359098068,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$dqZ11d9v_sCA31GqnXcqdfbWIOFtO89jfu0oew5rzLw"},
{"content":{"body":"hm","msgtype":"m.text"},"ts":1630367153878,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$actcicnEposP5Ade00DzK_telN2NpLRp7cC7ZKe3SgM"},
{"content":{"body":"maybe i'm not clear on how structured clone works","msgtype":"m.text"},"ts":1630367165200,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$znGgRxUxYSLN9Q4PJ_BrO6OgwExAH6JOMj9jkEtgmow"},
{"content":{"body":"atm, i can tell you if any `x` is a proxy for a builtin as long as you claim it's a specific one, modulo function, array, and error et al","format":"org.matrix.custom.html","formatted_body":"atm, i can tell you if any <code>x</code> is a proxy for a builtin as long as you claim it's a specific one, modulo function, array, and error et al","msgtype":"m.text"},"ts":1630367207141,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$ANk1uJgOSYmLe2465wHz_ED4aivNxESUTu5JzS6Q828"},
{"content":{"body":"to determine that a proxy for anything else is a proxy is trickier and rests on implementation details of the handlers and/or the original function/methods","msgtype":"m.text"},"ts":1630367257805,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$1agaq9bxh6bhcAgITujVZsBT59jrsM0ml60SbAbfgew"},
{"content":{"body":"yeah except also `structuredClone(new Proxy({}, {}))` throws","format":"org.matrix.custom.html","formatted_body":"yeah except also <code>structuredClone(new Proxy({}, {}))</code> throws","msgtype":"m.text"},"ts":1630367574753,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$jv0Vgklr_n3xxdicJ9kzBTVmpT8ASzgbCzCtFTCiHkg"},
{"content":{"body":"unlike `structuredClone({})`","format":"org.matrix.custom.html","formatted_body":"unlike <code>structuredClone({})</code>","msgtype":"m.text"},"ts":1630367586749,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$A_IYm0zk1bHmH7y5x9NzegOp2HPi2zPB5BVOz_Ju9eA"},
{"content":{"body":"it was... not written by people who care about preserving proxy transparency, is my impression","msgtype":"m.text"},"ts":1630367627357,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$FKXNPptmMFgZe2cyW4oM08fXarZ0FyBUJeod4H5qZXQ"},
{"content":{"body":"well, i daresay the cardinality of the set of people who care about preserving proxy transparency is very small","msgtype":"m.text"},"ts":1630367889090,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$8Fk9E6GlJwReqkRwcAukFwOXacN0IvYz75VbZakUWdM"},
{"content":{"body":"dunno, we sure got a lot of annoyed comments on private fields","msgtype":"m.text"},"ts":1630367924494,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$xWR_lqVR7qheAU8dHH6KXc8v6MP9DvYpqwa7Eid8ICU"},
{"content":{"body":"and that wasn't even making them any less transparent than they already are","msgtype":"m.text"},"ts":1630367936488,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$UkSSc7h6Iz4cNXog0u8rBzYPgAAy-deRlzqKqv4xGZY"},
{"content":{"body":"i do not think they were about proxy transparency","msgtype":"m.text"},"ts":1630367936730,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$CwdiBwnJh4dEgewckVkBNlYfsXI2bLQFCeca2WPksDA"},
{"content":{"body":"i still think they all came down to hating #, and there was a lot of post-hoc rationalization for why they were bad even from first principles ","msgtype":"m.text"},"ts":1630367968373,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$8h9V6VMNS2KTfzgYL-m4FBt7_KIF2veLuZ-qc-PofK0"},
{"content":{"body":"rather than \"transparency\", then, let us say that it was about the ability to wrap a proxy around a thing and have it still work like the original thing","msgtype":"m.text"},"ts":1630367968618,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$7eXHOZ9jmNnh4c0YuTF2Kt27vtW7u8p6lMs4ydFK_QQ"},
{"content":{"body":"genuinely, no, there was a completely separate concern about proxies","msgtype":"m.text"},"ts":1630367997679,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Yt6PatemEA-o5G-iD1n0VnofKqQp-ZjlTi39mDGt2ys"}
]