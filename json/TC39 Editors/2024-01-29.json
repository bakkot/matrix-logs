[
{"content":{"body":"ljharb: the second half of the check, you mean? you can check for IsSharedArrayBuffer and !IsFixedLengthArrayBuffer, that currently implies the object must have a  [[ArrayBufferByteLengthData]] internal slot","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@ljharb:matrix.org\">ljharb</a>: the second half of the check, you mean? you can check for IsSharedArrayBuffer and !IsFixedLengthArrayBuffer, that currently implies the object must have a  [[ArrayBufferByteLengthData]] internal slot","m.mentions":{"user_ids":["@ljharb:matrix.org"]},"msgtype":"m.text"},"ts":1706500649124,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$ndxMLtfKUNIMglh7ckx_6nUF4k1P9FBVVVSyrt48DP0"},
{"content":{"body":"but i don't see why you wouldn't check for the slot directly instead of obfuscating it via an implication from another slot","m.mentions":{},"msgtype":"m.text"},"ts":1706500671014,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$OQm5JCoRDCw8ClaEG7P5XMEtIAyVin65wiRlJtp5fkg"},
{"content":{"body":"to me it conveys the meaning better; i had to search for the slot to figure out why it was checking that","msgtype":"m.text"},"ts":1706500720026,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$xeJKFk7WdKXBugkhkNTe8bReycqe5pfxCT1vFXwsZ_c"},
{"content":{"body":"but gotcha","msgtype":"m.text"},"ts":1706500733086,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$7s4OkikOqU-3p8m61D1OCHqmJzgv2h2bdghwrtma8No"},
{"content":{"body":"yeah i can see going both ways on that preference","m.mentions":{},"msgtype":"m.text"},"ts":1706558576865,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$Trki8kZbpXFemHKMW0eQKaEc_8DdKTUai_EotvCHOo8"},
{"content":{"body":"we got rid of actual brands (i.e. internal slots that serve no other purpose than as indicators of what type something is), but we don't always check for a slot that we're going to be using","m.mentions":{},"msgtype":"m.text"},"ts":1706558614606,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$qPgT9UMSifxy-hyoarnxnl1qmRmyZGzTEsaVRMmEtFI"},
{"content":{"body":"sometimes we use brand-like AOs that pick a slot as the brand-like slot","m.mentions":{},"msgtype":"m.text"},"ts":1706558632486,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$4kFhNjmzg6-dv5Q1nBp_cRgNfDNH8_8LRfexSecpBcM"},
{"content":{"body":"the global object could be a proxy, couldn't it?","m.mentions":{},"msgtype":"m.text"},"ts":1706559967167,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$iVNOlAQwqBVhlIY1Nmp3Kg0dJhtI-O2Iy7PicsZs7I0"},
{"content":{"body":"also, transfer will add IsResizableBuffer which perhaps could be used in more places","m.mentions":{},"msgtype":"m.text"},"ts":1706570487533,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$LDbUN8TsUw8D6N57IEJ3kFGfvKbcwDsJv-3IHCvO8U0"},
{"content":{"body":"why is it adding IsResizableBuffer?","m.mentions":{},"msgtype":"m.text"},"ts":1706570617648,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$E6Bqofg1_lAORi2juCCu-T1vNml5p1Rkgt2dS_9FOVo"},
{"content":{"body":"IsResizableBuffer was changed to the negation (IsFixedLengthArrayBuffer) for better readability in a lot of algorithms","m.mentions":{},"msgtype":"m.text"},"ts":1706570639902,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$Qecy9fDRo-cpELQeY0cC0arRZyEcOP0GgekZVF_0_DE"}
]