[
{"content":{"body":"How do you think about this:\n\nA new proposal that allows to partially download the module graph. This enables link-time tree shake for ESModule.\n\n```js\n// some-package/index.js\nexport { a } from './a.js'\nexport { b } from './b.js'\n\n// main.js\npartial import { a } from 'some-package'\n```\n\nOnly `some-package/a.js` will be downloaded. To make this possible, some requirements are applied.\n\n- If the file contains `export * from './x.js'`, to make it correctly resolved, `./x.js` will still be downloaded, which means, if you want your module can be imported partially, you'd better to write all export names instead of use `export * from` which might be annoying for library authors.\n- A partially imported file might be failed to import in the future because download may fail. `import('some-package')` fails if `./b.js` is not found.\n\nThis proposal has the same design problem that @yulia's defer import faces (e.g. mixed usage of normal import and `defer`/`partial` import).","format":"org.matrix.custom.html","formatted_body":"<p>How do you think about this:</p>\n<p>A new proposal that allows to partially download the module graph. This enables link-time tree shake for ESModule.</p>\n<pre><code class=\"language-js\">// some-package/index.js\nexport { a } from './a.js'\nexport { b } from './b.js'\n\n// main.js\npartial import { a } from 'some-package'\n</code></pre>\n<p>Only <code>some-package/a.js</code> will be downloaded. To make this possible, some requirements are applied.</p>\n<ul>\n<li>If the file contains <code>export * from './x.js'</code>, to make it correctly resolved, <code>./x.js</code> will still be downloaded, which means, if you want your module can be imported partially, you'd better to write all export names instead of use <code>export * from</code> which might be annoying for library authors.</li>\n<li>A partially imported file might be failed to import in the future because download may fail. <code>import('some-package')</code> fails if <code>./b.js</code> is not found.</li>\n</ul>\n<p>This proposal has the same design problem that @yulia's defer import faces (e.g. mixed usage of normal import and <code>defer</code>/<code>partial</code> import).</p>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"How do you think about this:\n\nA new proposal that allows to partially download the module graph. This enables link-time tree shake for ESModule.\n\n```js\n// some-package/index.js\nexport { a } from './a.js'\nexport { b } from './b.js'\n\n// main.js\npartial import { a } from 'some-package'\n```\n\nOnly `some-package/a.js` will be downloaded. To make this possible, some requirements are applied.\n\n- If the file contains `export * from './x.js'`, to make it correctly resolved, `./x.js` will still be downloaded, which means, if you want your module can be imported partially, you'd better to write all export names instead of use `export * from` which might be annoying for library authors.\n- A partially imported file might be failed to import in the future because download may fail. `import('some-package')` fails if `./b.js` is not found.\n\nThis proposal has the same design problem that @yulia's defer import faces (e.g. mixed usage of normal import and `defer`/`partial` import).","mimetype":"text/plain"},{"body":"<p>How do you think about this:</p>\n<p>A new proposal that allows to partially download the module graph. This enables link-time tree shake for ESModule.</p>\n<pre><code class=\"language-js\">// some-package/index.js\nexport { a } from './a.js'\nexport { b } from './b.js'\n\n// main.js\npartial import { a } from 'some-package'\n</code></pre>\n<p>Only <code>some-package/a.js</code> will be downloaded. To make this possible, some requirements are applied.</p>\n<ul>\n<li>If the file contains <code>export * from './x.js'</code>, to make it correctly resolved, <code>./x.js</code> will still be downloaded, which means, if you want your module can be imported partially, you'd better to write all export names instead of use <code>export * from</code> which might be annoying for library authors.</li>\n<li>A partially imported file might be failed to import in the future because download may fail. <code>import('some-package')</code> fails if <code>./b.js</code> is not found.</li>\n</ul>\n<p>This proposal has the same design problem that @yulia's defer import faces (e.g. mixed usage of normal import and <code>defer</code>/<code>partial</code> import).</p>\n","mimetype":"text/html"}]},"ts":1673865296648,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$Y3EcUbLoTTaJkanMMdP93ugOqcKUD8yAQXou-j82TH4"},
{"content":{"body":"that seems like a lot of complexity to add, compared to `import a from 'some-package/a.js'`","format":"org.matrix.custom.html","formatted_body":"that seems like a lot of complexity to add, compared to <code>import a from 'some-package/a.js'</code>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"that seems like a lot of complexity to add, compared to `import a from 'some-package/a.js'`","mimetype":"text/plain"},{"body":"that seems like a lot of complexity to add, compared to <code>import a from 'some-package/a.js'</code>","mimetype":"text/html"}]},"ts":1673903905158,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$Y1WWunS2_ts74VzX1HvQhBaGlWvjzg5jrbbhdXeT960"},
{"content":{"body":"iow, it seems like the need to do a partial import is solely *caused* by having created a file that re-exports (as opposed to forcing/encouraging deep importing)","format":"org.matrix.custom.html","formatted_body":"iow, it seems like the need to do a partial import is solely <em>caused</em> by having created a file that re-exports (as opposed to forcing/encouraging deep importing)","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"iow, it seems like the need to do a partial import is solely *caused* by having created a file that re-exports (as opposed to forcing/encouraging deep importing)","mimetype":"text/plain"},{"body":"iow, it seems like the need to do a partial import is solely <em>caused</em> by having created a file that re-exports (as opposed to forcing/encouraging deep importing)","mimetype":"text/html"}]},"ts":1673903937683,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$FL0JTPKt0MvV3MsZ1P1mfrQMoL6wGbdOArdq1shv6HI"}
]