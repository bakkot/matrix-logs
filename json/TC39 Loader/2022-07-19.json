[
{"content":{"body":"That in turn is important because one of the things you can do with a module source is relocate it, e.g., from the file system to a bundle, or a zip file.","msgtype":"m.text","org.matrix.msc1767.text":"That in turn is important because one of the things you can do with a module source is relocate it, e.g., from the file system to a bundle, or a zip file."},"ts":1658188865941,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$2x3DJvlKan1uwZxpAgnowgLBTlZFuFB1zKpr0Jx5oHo"},
{"content":{"body":"Oh I see","msgtype":"m.text"},"ts":1658188877480,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$N0c5ygeJNYbQQW1bEdHe30C09_VnxKMkT17SEtGQLsw"},
{"content":{"body":"In which case the `import.meta.url` is not applicable.","format":"org.matrix.custom.html","formatted_body":"In which case the <code>import.meta.url</code> is not applicable.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"In which case the `import.meta.url` is not applicable.","mimetype":"text/plain"},{"body":"In which case the <code>import.meta.url</code> is not applicable.","mimetype":"text/html"}]},"ts":1658188882478,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$fnmq18RnikxiDgUijkQG_4cvwqvJjJ7BvQPQ3_iN-CQ"},
{"content":{"body":"And this is supposed to be the resolved specifier?","msgtype":"m.text"},"ts":1658188896306,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$h5oPz6VoHgmD2qbup6heSids2iYmDxi87l-oSXP7OHE"},
{"content":{"body":"Not a relative one","msgtype":"m.text"},"ts":1658188901119,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$x_7b3jK42LU33sKgd77s-StUVWjA8GggwG5ysrWulSY"},
{"content":{"body":"Yeah, referrers need to be fully resolved. What that means can vary as well.","msgtype":"m.text","org.matrix.msc1767.text":"Yeah, referrers need to be fully resolved. What that means can vary as well."},"ts":1658188917070,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$skC60N1ViiDhZ4zoiA7cm0iogwZZz_gLRZ9UxBAvITY"},
{"content":{"body":"e.g., if you have an `importHook` per scope, `./src/main.js` is a very reasonable fully-resolved specifier, where `./` just distinguishes a module in scope from one that’s from another scope.","format":"org.matrix.custom.html","formatted_body":"e.g., if you have an <code>importHook</code> per scope, <code>./src/main.js</code> is a very reasonable fully-resolved specifier, where <code>./</code> just distinguishes a module in scope from one that’s from another scope.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"e.g., if you have an `importHook` per scope, `./src/main.js` is a very reasonable fully-resolved specifier, where `./` just distinguishes a module in scope from one that’s from another scope.","mimetype":"text/plain"},{"body":"e.g., if you have an <code>importHook</code> per scope, <code>./src/main.js</code> is a very reasonable fully-resolved specifier, where <code>./</code> just distinguishes a module in scope from one that’s from another scope.","mimetype":"text/html"}]},"ts":1658188962776,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$UIBgBi-S6o0A2sgRqHc0vj7ze9sKFKnzLKxKlcaQ8YU"},
{"content":{"body":"OK, then I agree that this is orthogonal. Then, WebAssembly.Module needs a referrer as well as host data","msgtype":"m.text"},"ts":1658188983942,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$gaLTSaQiPP20WzjW05I6c6LsXH29lzCFZ49mV2M-ehY"},
{"content":{"body":"Since, when used in import, it needs to resolve relative references ","format":"org.matrix.custom.html","formatted_body":"Since, when used in import, it needs to resolve relative references","msgtype":"m.text"},"ts":1658189020442,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$B5aSogZbd2Nxw_S_2vpQIHMj7NHNPjsIr2AISYxZTl0"},
{"content":{"body":"My position remains that `Module` needs a referrer and import reflection can produce a `Module` that contains a `WebAssembly.Module` as its source.","format":"org.matrix.custom.html","formatted_body":"My position remains that <code>Module</code> needs a referrer and import reflection can produce a <code>Module</code> that contains a <code>WebAssembly.Module</code> as its source.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"My position remains that `Module` needs a referrer and import reflection can produce a `Module` that contains a `WebAssembly.Module` as its source.","mimetype":"text/plain"},{"body":"My position remains that <code>Module</code> needs a referrer and import reflection can produce a <code>Module</code> that contains a <code>WebAssembly.Module</code> as its source.","mimetype":"text/html"}]},"ts":1658189021867,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$5TZpA7Lx8AIvv6eh75AxffEeyzo9py0mwSH0jnrv9yM"},
{"content":{"body":"That would mean that it can’t be multiply instantiated, going against one of the core goals","msgtype":"m.text"},"ts":1658189049842,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$wL--BUbOlsiDjCnvKnJMRJSnBzlsPwZquROCtR8D_oU"},
{"content":{"body":"It can be multiply instantiated.","msgtype":"m.text","org.matrix.msc1767.text":"It can be multiply instantiated."},"ts":1658189067247,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$eLmsrb4JV4NC8Jmt8YTJ5-WgKnvPuEMzIwO8qAd_2Ms"},
{"content":{"body":"That goal is higher priority than my import() one","msgtype":"m.text"},"ts":1658189067808,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$mlMMM-5Rk_M6-3iKANoj11XqC0RbJHqesOwKbK1EEQk"},
{"content":{"body":"How can a Module be multiply instantiated?","msgtype":"m.text"},"ts":1658189080182,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$rnbXtCNTk_lbIEQpYW5DU5Nklr2_2WTBopztc_xAMJ8"},
{"content":{"body":"`await import(new Module(module.source, module.referrer, etc.))`","format":"org.matrix.custom.html","formatted_body":"<code>await import(new Module(module.source, module.referrer, etc.))</code>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"`await import(new Module(module.source, module.referrer, etc.))`","mimetype":"text/plain"},{"body":"<code>await import(new Module(module.source, module.referrer, etc.))</code>","mimetype":"text/html"}]},"ts":1658189102764,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$UXTPl0TsqvP67WYsitXWGPdgb_WHIyZA-xDytSAQNmM"},
{"content":{"body":"OK, by cloning it","msgtype":"m.text"},"ts":1658189112800,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$JKDasQeQ7VRKuWGmehcVEADuOx37e7Pftq4Lev86Ueo"},
{"content":{"body":"Effectively, yes.","msgtype":"m.text","org.matrix.msc1767.text":"Effectively, yes."},"ts":1658189117619,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$5NVKyxaNRwS1Ijk1IaQZClx9i_1fUTraLQPjINeSlu4"},
{"content":{"body":"By projecting away some of the stuff ","format":"org.matrix.custom.html","formatted_body":"By projecting away some of the stuff","msgtype":"m.text"},"ts":1658189127444,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$P6aHG6SddgAmUl6uVSpORKiIvBPHjc92QHMqdOmtMUg"},
{"content":{"body":"Well, these are two coherent points in the design space to consider","msgtype":"m.text"},"ts":1658189152726,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$okVluNkwrqo5La72eoCPVkFj6xrCL9Ym_0J5jDxAXNA"},
{"content":{"body":"Aye.","msgtype":"m.text","org.matrix.msc1767.text":"Aye."},"ts":1658189163339,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$43FThQinW0IRofCILXjtji0JfXOsFbLHU80xFAWntQI"},
{"content":{"body":"I’m just strongly against adding the referrer to the source. There are other coherent ways to meet that criterion too.","msgtype":"m.text","org.matrix.msc1767.text":"I’m just strongly against adding the referrer to the source. There are other coherent ways to meet that criterion too."},"ts":1658189201069,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$lKOkhW0sQB6v9iC0gK0R0QcS6sFSN6J4eMvoq0J3Ffc"},
{"content":{"body":"Can you say more about why?","msgtype":"m.text"},"ts":1658189221047,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$qtVL4SAkY0ov1KFxN-kUYxGbjCbqvAj82EQ_2dveiRg"},
{"content":{"body":"Including an intermediate layer between source and instance. I’m weary of that though. Not a naming problem I want to get into.","msgtype":"m.text","org.matrix.msc1767.text":"Including an intermediate layer between source and instance. I’m weary of that though. Not a naming problem I want to get into."},"ts":1658189228303,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$kp3KzxUqj4_-nkek6Hl0a8g_BS2H3Ub9rUU3c6BptA0"},
{"content":{"body":"Yeah, sources are highly reusable.","msgtype":"m.text","org.matrix.msc1767.text":"Yeah, sources are highly reusable."},"ts":1658189254319,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$raT1tLRklaE3haApsfJyoCTIyMXMh26O6zZvdCTplyQ"},
{"content":{"body":"They can be backed by an immutable record that can be safely shared throughout an agent cluster without synchronization.","msgtype":"m.text","org.matrix.msc1767.text":"They can be backed by an immutable record that can be safely shared throughout an agent cluster without synchronization."},"ts":1658189292862,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$t-wxZ9zQKtp1YPaydfgnFh7Jgj0rek60ZdJBGd6Bzio"},
{"content":{"body":"And they represent no authority.","msgtype":"m.text","org.matrix.msc1767.text":"And they represent no authority."},"ts":1658189315581,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$q0VLpHdR37WWDGZDFOR1ogLc_pqxo5q_wQOuCeniIhM"},
{"content":{"body":"Taking referrer onto that does not add authority, but it does make it less clear exactly how cache and share friendly they are.","msgtype":"m.text","org.matrix.msc1767.text":"Taking referrer onto that does not add authority, but it does make it less clear exactly how cache and share friendly they are."},"ts":1658189362943,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$tWBkSiRYgISaY0G_H0DyMTiL-WKDtn-8wTUKXbTkbJ8"},
{"content":{"body":"I feel good with no referrer (current PR design). Is there a summary of why we want to add it back again?","msgtype":"m.text","org.matrix.msc1767.text":"I feel good with no referrer (current PR design). Is there a summary of why we want to add it back again?"},"ts":1658229495625,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$L7_FvIzNlYh_ZQNTctf0KT5R5nvG7wP3NKnt_HjwotY"},
{"content":{"body":"is this a feature or a bug?","msgtype":"m.text","org.matrix.msc1767.text":"is this a feature or a bug?"},"ts":1658229716675,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$uMsXk6wa2RIdDuHMUJnT2hORd8ntTh4ghoPrLZcKzY4"},
{"content":{"body":"A feature! The exact code does not matter, but the amounts does. It's to show that compartments a small implementation on top of all the building blocks (or at least, that's what I remember from when I saw that slide!)","msgtype":"m.text"},"ts":1658229830244,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$rH8zKXQ7YozA-Ii0LvE6ckHTYPwPucU7J7KWZ454sVU"},
{"content":{"body":"> <@jackworks:matrix.org> is this a feature or a bug?\n\nIntentional. I don’t want people to read the whole slide, but I do want to give people an idea about how much code it takes to implement compartment in user code. Whether this is  okay or too much is actually quite subjective. For an inline implementation of import map that gets written into a large portion of the web, might be too much. But, on the other hand, might not be.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$uMsXk6wa2RIdDuHMUJnT2hORd8ntTh4ghoPrLZcKzY4?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@jackworks:matrix.org\">@jackworks:matrix.org</a><br>is this a feature or a bug?</blockquote></mx-reply>Intentional. I don’t want people to read the whole slide, but I do want to give people an idea about how much code it takes to implement compartment in user code. Whether this is  okay or too much is actually quite subjective. For an inline implementation of import map that gets written into a large portion of the web, might be too much. But, on the other hand, might not be.","m.relates_to":{"m.in_reply_to":{"event_id":"$uMsXk6wa2RIdDuHMUJnT2hORd8ntTh4ghoPrLZcKzY4"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@jackworks:matrix.org> is this a feature or a bug?\n\nIntentional. I don’t want people to read the whole slide, but I do want to give people an idea about how much code it takes to implement compartment in user code. Whether this is  okay or too much is actually quite subjective. For an inline implementation of import map that gets written into a large portion of the web, might be too much. But, on the other hand, might not be.","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$uMsXk6wa2RIdDuHMUJnT2hORd8ntTh4ghoPrLZcKzY4?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@jackworks:matrix.org\">@jackworks:matrix.org</a><br>is this a feature or a bug?</blockquote></mx-reply>Intentional. I don’t want people to read the whole slide, but I do want to give people an idea about how much code it takes to implement compartment in user code. Whether this is  okay or too much is actually quite subjective. For an inline implementation of import map that gets written into a large portion of the web, might be too much. But, on the other hand, might not be.","mimetype":"text/html"}]},"ts":1658234714705,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$TY751_bK15PVsQydncY_R8-esRnSTuZxO8kPllhOk6g"},
{"content":{"body":"> <@jackworks:matrix.org> I feel good with no referrer (current PR design). Is there a summary of why we want to add it back again?\n\nYes, importMeta is mutable and referrer should not be. This is a soft requirement. If we also make importMeta === import.meta, that requirement becomes harder: a module should not be able to alter its own referrer between dynamic imports. I’m leaving these all as open questions for us to settle amongst us and am not going to broach the topic at plenary.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$L7_FvIzNlYh_ZQNTctf0KT5R5nvG7wP3NKnt_HjwotY?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@jackworks:matrix.org\">@jackworks:matrix.org</a><br>I feel good with no referrer (current PR design). Is there a summary of why we want to add it back again?</blockquote></mx-reply>Yes, importMeta is mutable and referrer should not be. This is a soft requirement. If we also make importMeta === import.meta, that requirement becomes harder: a module should not be able to alter its own referrer between dynamic imports. I’m leaving these all as open questions for us to settle amongst us and am not going to broach the topic at plenary.","m.relates_to":{"m.in_reply_to":{"event_id":"$L7_FvIzNlYh_ZQNTctf0KT5R5nvG7wP3NKnt_HjwotY"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@jackworks:matrix.org> I feel good with no referrer (current PR design). Is there a summary of why we want to add it back again?\n\nYes, importMeta is mutable and referrer should not be. This is a soft requirement. If we also make importMeta === import.meta, that requirement becomes harder: a module should not be able to alter its own referrer between dynamic imports. I’m leaving these all as open questions for us to settle amongst us and am not going to broach the topic at plenary.","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$L7_FvIzNlYh_ZQNTctf0KT5R5nvG7wP3NKnt_HjwotY?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@jackworks:matrix.org\">@jackworks:matrix.org</a><br>I feel good with no referrer (current PR design). Is there a summary of why we want to add it back again?</blockquote></mx-reply>Yes, importMeta is mutable and referrer should not be. This is a soft requirement. If we also make importMeta === import.meta, that requirement becomes harder: a module should not be able to alter its own referrer between dynamic imports. I’m leaving these all as open questions for us to settle amongst us and am not going to broach the topic at plenary.","mimetype":"text/html"}]},"ts":1658234851083,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$LF7ETnBUf7kzF80_C9xdKrKGv6D69dtduFDqeQiwUgI"},
{"content":{"body":"Could the referrer be in a provate field of importMeta not visible from inside the module?","msgtype":"m.text"},"ts":1658234936918,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$aEC4IqwIx40nlLm3q4-kZImWP-YfsjInev7vTHX0bPs"},
{"content":{"body":"* Could the referrer be in a private field of importMeta not visible from inside the module?","m.new_content":{"body":"Could the referrer be in a private field of importMeta not visible from inside the module?","msgtype":"m.text"},"m.relates_to":{"event_id":"$aEC4IqwIx40nlLm3q4-kZImWP-YfsjInev7vTHX0bPs","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1658237185682,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$2qgM9P2PblgTiuw-Lj2Rn6meXXUYNqVwJe7aXp4QiFw"},
{"content":{"body":"It could be. The other way of looking at this, though, is, \"what among the properties of import.meta are useful to an importHook\", and the answer is, \"only the referrer\".","msgtype":"m.text","org.matrix.msc1767.text":"It could be. The other way of looking at this, though, is, \"what among the properties of import.meta are useful to an importHook\", and the answer is, \"only the referrer\"."},"ts":1658237790043,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$ZfUdbaF8IUSLiXMZCBPpzOehyM3UD7y5mexlX2spSog"},
{"content":{"body":"And another way to look at it is, \"what does one need to construct an import.meta for a particular module\", and the answer is, \"only the referrer\".","msgtype":"m.text","org.matrix.msc1767.text":"And another way to look at it is, \"what does one need to construct an import.meta for a particular module\", and the answer is, \"only the referrer\"."},"ts":1658237823564,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$33Ht0g2z4I-t3qcuJJrAYrwuTjPPfXG_RENogUfCvOU"},
{"content":{"body":"> <@kriskowal:matrix.org> It could be. The other way of looking at this, though, is, \"what among the properties of import.meta are useful to an importHook\", and the answer is, \"only the referrer\".\n\nWell, you have an example with import.meta.resolve","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$ZfUdbaF8IUSLiXMZCBPpzOehyM3UD7y5mexlX2spSog?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@kriskowal:matrix.org\">@kriskowal:matrix.org</a><br />It could be. The other way of looking at this, though, is, &quot;what among the properties of import.meta are useful to an importHook&quot;, and the answer is, &quot;only the referrer&quot;.</blockquote></mx-reply>Well, you have an example with import.meta.resolve","m.relates_to":{"m.in_reply_to":{"event_id":"$ZfUdbaF8IUSLiXMZCBPpzOehyM3UD7y5mexlX2spSog"}},"msgtype":"m.text"},"ts":1658237846623,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$vPVmwsxGsLel6fBeEaRHwnbOYR-g23YhAhYLJI8lL3w"},
{"content":{"body":"I can answer to myself 😂\nWith Guy's proposal of passing a baseURL parameter, you don't need to get .resolve from the module's import.meta","msgtype":"m.text"},"ts":1658237922001,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$B6WtGvzEjXgvrKnL9efbEKuRydg3sEOpMUcCOTPMz2s"},
{"content":{"body":"And another overlapping design question remains open: can we thread `importMeta` such that `import.meta === importMeta` and cause less confusion?","format":"org.matrix.custom.html","formatted_body":"And another overlapping design question remains open: can we thread <code>importMeta</code> such that <code>import.meta === importMeta</code> and cause less confusion?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"And another overlapping design question remains open: can we thread `importMeta` such that `import.meta === importMeta` and cause less confusion?","mimetype":"text/plain"},{"body":"And another overlapping design question remains open: can we thread <code>importMeta</code> such that <code>import.meta === importMeta</code> and cause less confusion?","mimetype":"text/html"}]},"ts":1658237927773,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$6YijEEd3YYSqYqBzR8PZjXYETrDp5UXZjll-r8sXKqs"},
{"content":{"body":"Where is Guy proposing the passage of a baseURL?","msgtype":"m.text","org.matrix.msc1767.text":"Where is Guy proposing the passage of a baseURL?"},"ts":1658237954240,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$e3jeHZ6F0WQXKVOAsHXOwCH8YESoehqOucZCfW50iMY"},
{"content":{"body":"> <@kriskowal:matrix.org> And another overlapping design question remains open: can we thread `importMeta` such that `import.meta === importMeta` and cause less confusion?\n\nI agree that it's confusing ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$6YijEEd3YYSqYqBzR8PZjXYETrDp5UXZjll-r8sXKqs?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@kriskowal:matrix.org\">@kriskowal:matrix.org</a><br />And another overlapping design question remains open: can we thread <code>importMeta</code> such that <code>import.meta === importMeta</code> and cause less confusion?</blockquote></mx-reply>I agree that it's confusing","m.relates_to":{"m.in_reply_to":{"event_id":"$6YijEEd3YYSqYqBzR8PZjXYETrDp5UXZjll-r8sXKqs"}},"msgtype":"m.text"},"ts":1658237956641,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$YVhaIPaDrSarN9MTT9UWmHHwh4wWBQ4McGLa9J25RtA"},
{"content":{"body":"Is this different than `import.meta.url`?","format":"org.matrix.custom.html","formatted_body":"Is this different than <code>import.meta.url</code>?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Is this different than `import.meta.url`?","mimetype":"text/plain"},{"body":"Is this different than <code>import.meta.url</code>?","mimetype":"text/html"}]},"ts":1658237963607,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$j2V-QJfc9A5ZFNwbLQ7wUAjHujgQbz1vYxodWKR4tTw"},
{"content":{"body":"> <@kriskowal:matrix.org> Where is Guy proposing the passage of a baseURL?\n\nAdding a baseURL parameter to import.meta.resolve, so that it can be reused across modules: https://github.com/whatwg/html/issues/8077","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$e3jeHZ6F0WQXKVOAsHXOwCH8YESoehqOucZCfW50iMY?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@kriskowal:matrix.org\">@kriskowal:matrix.org</a><br />Where is Guy proposing the passage of a baseURL?</blockquote></mx-reply>Adding a baseURL parameter to import.meta.resolve, so that it can be reused across modules: https://github.com/whatwg/html/issues/8077","m.relates_to":{"m.in_reply_to":{"event_id":"$e3jeHZ6F0WQXKVOAsHXOwCH8YESoehqOucZCfW50iMY"}},"msgtype":"m.text"},"ts":1658238051929,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$Zn_VLDPKzEdgPPTiNmykdo8d0k3tLfkspy3M8zhaw7M"},
{"content":{"body":"Oh, indeed. I think that’s orthogonal too. The baseURL is presumably optional and defaults to import.meta.url, such that resolve still closes over import.meta.url?","msgtype":"m.text","org.matrix.msc1767.text":"Oh, indeed. I think that’s orthogonal too. The baseURL is presumably optional and defaults to import.meta.url, such that resolve still closes over import.meta.url?"},"ts":1658238132709,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$j2Uyw4WSbGyJCNvK5gtyUhvQDhyXDQgIombmgl2ttkw"},
{"content":{"body":"Basically revealing the underlying uncurried form of resolve.","msgtype":"m.text","org.matrix.msc1767.text":"Basically revealing the underlying uncurried form of resolve."},"ts":1658238159745,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$zlSwc0cp2D0_G1gVzmKyi8s0cm7Jc1WZcaES0mwpAQg"},
{"content":{"body":"There are some tangles there. I know that we can’t do that in Endo, since there isn’t a URL and each package has an isolated namespace.","msgtype":"m.text","org.matrix.msc1767.text":"There are some tangles there. I know that we can’t do that in Endo, since there isn’t a URL and each package has an isolated namespace."},"ts":1658238199765,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$bvs8adfWz6919MNzr1DJH6V0hztoT90p-JbL2pmS7YY"},
{"content":{"body":"> <@kriskowal:matrix.org> It could be. The other way of looking at this, though, is, \"what among the properties of import.meta are useful to an importHook\", and the answer is, \"only the referrer\".\n\nimport.meta.hot","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$ZfUdbaF8IUSLiXMZCBPpzOehyM3UD7y5mexlX2spSog?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@kriskowal:matrix.org\">@kriskowal:matrix.org</a><br />It could be. The other way of looking at this, though, is, &quot;what among the properties of import.meta are useful to an importHook&quot;, and the answer is, &quot;only the referrer&quot;.</blockquote></mx-reply>import.meta.hot","m.relates_to":{"m.in_reply_to":{"event_id":"$ZfUdbaF8IUSLiXMZCBPpzOehyM3UD7y5mexlX2spSog"}},"msgtype":"m.text"},"ts":1658238626566,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$KtuaI908XK63sq65_U0u_XimQ9HnY4kmvOnzGT-oSnQ"},
{"content":{"body":"We’re skipping the loader meeting this week, right?","msgtype":"m.text"},"ts":1658238760893,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$FHQPqhzjU5OHu_lnU1O0Cccclgdmup90agqGH9RNd3Q"},
{"content":{"body":"(Because plenary)","msgtype":"m.text"},"ts":1658238771470,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$3y5_3c6oTWx-xfJ5TYOMcLEPfJ7rRhsixFuTpsaN9tQ"},
{"content":{"body":"yes","msgtype":"m.text","org.matrix.msc1767.text":"yes"},"ts":1658238805887,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$c82OH65iD5zVvl0kO00ueejU_LnhIUxtQiWmmESLAtg"},
{"content":{"body":"Kris Kowal: i didn't realize you would be going last today. I will probably fade before then","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@kriskowal:matrix.org\">Kris Kowal</a>: i didn't realize you would be going last today. I will probably fade before then","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Kris Kowal: i didn't realize you would be going last today. I will probably fade before then","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@kriskowal:matrix.org\">Kris Kowal</a>: i didn't realize you would be going last today. I will probably fade before then","mimetype":"text/html"}]},"ts":1658262350802,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$vmjbh_Qw3d5wLyUBgLFz9w5fGiQ21aBjw8NYWElBNUo"},
{"content":{"body":"are you expecting any major decisions made on your proposal today? or is this primarily an update?","msgtype":"m.text","org.matrix.msc1767.text":"are you expecting any major decisions made on your proposal today? or is this primarily an update?"},"ts":1658262374567,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$evHtfKAXRkXj5gwX-lMr5Ouu2PdPScNyImVnOfAggv8"},
{"content":{"body":"this is an update and we're not calling for decisions yulia ","format":"org.matrix.custom.html","formatted_body":"this is an update and we're not calling for decisions <a href=\"https://matrix.to/#/@yulia:mozilla.org\">yulia</a>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"this is an update and we're not calling for decisions yulia ","mimetype":"text/plain"},{"body":"this is an update and we're not calling for decisions <a href=\"https://matrix.to/#/@yulia:mozilla.org\">yulia</a>","mimetype":"text/html"}]},"ts":1658262406176,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$dnJJBR0YNKo0SacSUnyg70B0KCMbD0jgpqnBLvrvoC0"},
{"content":{"body":" * this is an update and we're not calling for decisions yulia ","format":"org.matrix.custom.html","formatted_body":" * this is an update and we're not calling for decisions <a href=\"https://matrix.to/#/@yulia:mozilla.org\">yulia</a>","m.new_content":{"body":"this is an update and we're not calling for decisions yulia ","format":"org.matrix.custom.html","formatted_body":"this is an update and we're not calling for decisions <a href=\"https://matrix.to/#/@yulia:mozilla.org\">yulia</a>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"this is an update and we're not calling for decisions yulia ","mimetype":"text/plain"},{"body":"this is an update and we're not calling for decisions <a href=\"https://matrix.to/#/@yulia:mozilla.org\">yulia</a>","mimetype":"text/html"}]},"m.relates_to":{"event_id":"$dnJJBR0YNKo0SacSUnyg70B0KCMbD0jgpqnBLvrvoC0","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":" * this is an update and we're not calling for decisions yulia ","mimetype":"text/plain"},{"body":" * this is an update and we're not calling for decisions <a href=\"https://matrix.to/#/@yulia:mozilla.org\">yulia</a>","mimetype":"text/html"}]},"ts":1658262413156,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$0UbTocusoh28KGKiBrlZH4VTRMljTIedeCSLVOfYqik"},
{"content":{"body":"we are looking for whether the motivating cases are well-supported for each layer","msgtype":"m.text","org.matrix.msc1767.text":"we are looking for whether the motivating cases are well-supported for each layer"},"ts":1658262432821,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$UxrZVJCULphEKJdiCS04tf0m5KcT6wvPbtP6DvwL62w"},
{"content":{"body":"ok, I will review the notes after","msgtype":"m.text","org.matrix.msc1767.text":"ok, I will review the notes after"},"ts":1658262444315,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$VSDoq1txS0Gn9lO7EUnJot_dmUFVNZg9Hi9QjPGil3g"},
{"content":{"body":"interesting discussion to have though","msgtype":"m.text","org.matrix.msc1767.text":"interesting discussion to have though"},"ts":1658262455778,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$kG0C-RdHmBE14CQsQ_Zw8T-AZsWxOxG_0AjZWSy5kSY"},
{"content":{"body":"you'll be missed and thanks","msgtype":"m.text","org.matrix.msc1767.text":"you'll be missed and thanks"},"ts":1658262460406,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$wyrfsji5gF8kfnSrFpwDll_kQDRKXUFFAHfsNlPS-eo"},
{"content":{"body":"one comment on the repo so far -- i think the one thing i am missing is a motivation","msgtype":"m.text","org.matrix.msc1767.text":"one comment on the repo so far -- i think the one thing i am missing is a motivation"},"ts":1658262518350,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$5Eyq4nMh417BL002SU5hw5QOoe5Ee3wk0X_UY8Pso1U"},
{"content":{"body":"maybe we can rearrange the presentation to come in a future day?","msgtype":"m.text","org.matrix.msc1767.text":"maybe we can rearrange the presentation to come in a future day?"},"ts":1658262532347,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$lwfyaq57uavKtvz9kc8p_KzIBUBaxDwIJVNo_Zd2mVE"},
{"content":{"body":"it'd be nice to have you present","msgtype":"m.text","org.matrix.msc1767.text":"it'd be nice to have you present"},"ts":1658262538310,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$WIYJkZMDFZTMo7l23rkBFGHQWu3DMPQpvxVT3iINlxc"},
{"content":{"body":"(unless you prefer to be absent)","msgtype":"m.text","org.matrix.msc1767.text":"(unless you prefer to be absent)"},"ts":1658262555507,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$xPwEDjrWJ7VjT3KMHf896letF7iMmfXRmZm4a0QlE_A"},
{"content":{"body":"I think it's locked to today because constraints for Shu & Nicolò","msgtype":"m.text","org.matrix.msc1767.text":"I think it's locked to today because constraints for Shu & Nicolò"},"ts":1658262566362,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$9UVwPzMY7vqyY6MGZ9CmzGbFLJsrGlFtWIEE3HPVUYQ"},
{"content":{"body":"I see","msgtype":"m.text","org.matrix.msc1767.text":"I see"},"ts":1658262573738,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$kM_JsxYhpH5lsAuJe2Q12ry_3GgkhWheVT-fPnH_ocY"},
{"content":{"body":"I think it may be useful to have one line. for example: https://github.com/tc39/proposal-compartments/blob/master/0-module-and-module-source.md -- the motivation here might be: \"currently we have a conflation of two concepts in module records. This makes it difficult to work with these separately. By separating them, we unlock the following use cases\"","msgtype":"m.text","org.matrix.msc1767.text":"I think it may be useful to have one line. for example: https://github.com/tc39/proposal-compartments/blob/master/0-module-and-module-source.md -- the motivation here might be: \"currently we have a conflation of two concepts in module records. This makes it difficult to work with these separately. By separating them, we unlock the following use cases\""},"ts":1658262600293,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$bCmSHMcV9FNp5ltYs0tc8pA1h0pnD7CB1RydNC1N86o"},
{"content":{"body":" * I think it's locked to today because constraints for Shu & Nicolò","m.new_content":{"body":"I think it's locked to today because constraints for Shu & Nicolò","msgtype":"m.text","org.matrix.msc1767.text":"I think it's locked to today because constraints for Shu & Nicolò"},"m.relates_to":{"event_id":"$9UVwPzMY7vqyY6MGZ9CmzGbFLJsrGlFtWIEE3HPVUYQ","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * I think it's locked to today because constraints for Shu & Nicolò"},"ts":1658262604251,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$GDW-UcbSHS4YrofULS70PEa9-hBl-MJIbyIYp74V8BA"}
]