[
{"content":{"body":"hi all","msgtype":"m.text","org.matrix.msc1767.text":"hi all"},"ts":1655827344834,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$BxvVWPNRnMHqmI_AfDz0Qeym7DTyJ1KhNdt8xZvd4Oc"},
{"content":{"body":"I’m in the lobby https://meet.google.com/row-whjm-rpn","msgtype":"m.text","org.matrix.msc1767.text":"I’m in the lobby https://meet.google.com/row-whjm-rpn"},"ts":1655827346969,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$3INsYXcBz5QqFBRjbwFYP4vZkGrDoTbd0vAjA1ETB20"},
{"content":{"body":"+1","msgtype":"m.text","org.matrix.msc1767.text":"+1"},"ts":1655827359701,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$Y51N2Hc0hFk5vGI60MP6ETHRskz1MT4QYecitruA7nQ"},
{"content":{"body":"Not sure whether this is the venue, shu ","format":"org.matrix.custom.html","formatted_body":"Not sure whether this is the venue, <a href=\"https://matrix.to/#/@shuyuguo:matrix.org\">shu</a>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Not sure whether this is the venue, shu ","mimetype":"text/plain"},{"body":"Not sure whether this is the venue, <a href=\"https://matrix.to/#/@shuyuguo:matrix.org\">shu</a>","mimetype":"text/html"}]},"ts":1655827362646,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$mj21NIWw5te1TBzXuwtnBme3KrNtoJ-3zcOCIHCm1ZE"},
{"content":{"body":"me too, waiting to get in","msgtype":"m.text","org.matrix.msc1767.text":"me too, waiting to get in"},"ts":1655827369657,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$0ICMZBLhZqRMcxeyp6CcVPcM-jL5UtuEW-U6lvzCgaU"},
{"content":{"body":"I'm in there too","msgtype":"m.text","org.matrix.msc1767.text":"I'm in there too"},"ts":1655827373974,"senderName":"naugtur","senderId":"@naugtur:matrix.org","id":"$6bySIqoSgJ5gLd7nL3ZMuxuQXsrquVLxfRYjIaa6L20"},
{"content":{"body":"Kris, excellent slides","msgtype":"m.text","org.matrix.msc1767.text":"Kris, excellent slides"},"ts":1655827381739,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$s73nZi_2mRENlXq2js_mnswCc734uKJNX9OpXjZrFuY"},
{"content":{"body":"I'm still waiting to be let in","msgtype":"m.text","org.matrix.msc1767.text":"I'm still waiting to be let in"},"ts":1655827403791,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$4FpypZAazCO3j5LCyswQNESes5wB5moSxdYNG4378j0"},
{"content":{"body":"Great, fi was shooting for “bad”","msgtype":"m.text","org.matrix.msc1767.text":"Great, fi was shooting for “bad”"},"ts":1655827407684,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$oeGVkyH9Bg42fsf236A4vG3bTck1rp4fhIj3IrXfbQI"},
{"content":{"body":"sorry, previous meeting ran over, omw","msgtype":"m.text","org.matrix.msc1767.text":"sorry, previous meeting ran over, omw"},"ts":1655827415507,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$8FkR2INg5q_sFfdNFqi-Hzq1S2a377h7YI0X8opmPo8"},
{"content":{"body":"If you are in the waiting room, maybe try rejoin?","msgtype":"m.text","org.matrix.msc1767.text":"If you are in the waiting room, maybe try rejoin?"},"ts":1655827782250,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$U60X0E28rPxjeO3biVR7G-SVPBqggBpQXytA3QcVg68"},
{"content":{"body":"yulia: still around?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@yulia:mozilla.org\">yulia</a>: still around?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"yulia: still around?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@yulia:mozilla.org\">yulia</a>: still around?","mimetype":"text/html"}]},"ts":1655832352616,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$nGtGKpVL-vzqcZgNns6Ns0RVDtIj5XM-rs9ZWFVIUcU"},
{"content":{"body":"can you join the meet again rq? i can't add a co-host via the calendar configuration dialogs for some reason, i wonder if i need to do it within the call itself","msgtype":"m.text","org.matrix.msc1767.text":"can you join the meet again rq? i can't add a co-host via the calendar configuration dialogs for some reason, i wonder if i need to do it within the call itself"},"ts":1655832381141,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$5mfYi3QZE-pTgBcNZXtbaobn4_88fcDbKluEmMZEcvs"},
{"content":{"body":"yes","msgtype":"m.text","org.matrix.msc1767.text":"yes"},"ts":1655832389823,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$Kka4ZPCCm4imoQYDNycTEKXE9utq5E5zrM5XmE91zWE"},
{"content":{"body":"okay, i'm off the call now, see if you can rejoin without me being there","msgtype":"m.text","org.matrix.msc1767.text":"okay, i'm off the call now, see if you can rejoin without me being there"},"ts":1655832444283,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$KbgC_u_hPrn7hlTpl2dYiysM3ehpalKJrZ5yUcd42A8"},
{"content":{"body":"it forces me to request again","msgtype":"m.text","org.matrix.msc1767.text":"it forces me to request again"},"ts":1655832450758,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$ajKsFuexYMD7uEeXpPvTSp6_xhXJ1xS84KDsVVp333A"},
{"content":{"body":"so i can't enter without you","msgtype":"m.text","org.matrix.msc1767.text":"so i can't enter without you"},"ts":1655832453857,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$ADg0ji0lnaNtjwa-WxcsEJwpq7nCsK8jkW6-dbf_6jE"},
{"content":{"body":"hmm","msgtype":"m.text","org.matrix.msc1767.text":"hmm"},"ts":1655832454365,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$u4-h4PUTFnlVIVpMvOXkk0HNzb9Y2VkPQTWHrUXZc40"},
{"content":{"body":"If I remember correctly, people invited to the calendar event can join without permission. It's not ideal, but we can start by inviting all the people that were present today","msgtype":"m.text","org.matrix.msc1767.text":"If I remember correctly, people invited to the calendar event can join without permission. It's not ideal, but we can start by inviting all the people that were present today"},"ts":1655832529131,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$0cmY_0qhHSok-BqADmVCfxjBDbn9z5L7DRiQyzVP-Ms"},
{"content":{"body":"leo reported being able to join without waiting in the lobby","msgtype":"m.text","org.matrix.msc1767.text":"leo reported being able to join without waiting in the lobby"},"ts":1655832563790,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$CHwBQTGbN5XrX-T9u3Wb3ls67_UPCWYYQfxX-rg_i1o"},
{"content":{"body":"Leo was one of the people invited on calendar","msgtype":"m.text","org.matrix.msc1767.text":"Leo was one of the people invited on calendar"},"ts":1655832597751,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$iPfnnk7L_Vg6kcjy5AInErumSroB8RqE2jdo_y_ZKp4"},
{"content":{"body":"uhhhh","msgtype":"m.text","org.matrix.msc1767.text":"uhhhh"},"ts":1655832608436,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$quy-J4esf1tr915NCu1En8-e3u2j058vc8anVI5HaYY"},
{"content":{"body":"it still doesnt work","msgtype":"m.text","org.matrix.msc1767.text":"it still doesnt work"},"ts":1655832610888,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$9TBp4J_Of9xllqkQUEIeCZQu2qFzpzsV1NrgeGd6CyY"},
{"content":{"body":"oops, forgot to save","msgtype":"m.text","org.matrix.msc1767.text":"oops, forgot to save"},"ts":1655832611613,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$o9s89ee7dapC7Ke_HlunB-E_WB2eFE3jh_6r2MYGRQc"},
{"content":{"body":"sorry try again","msgtype":"m.text","org.matrix.msc1767.text":"sorry try again"},"ts":1655832615004,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$CmYFG4QXef8IVsBSy3nFUsVBuckIQh0APt-DiZ7R0ZE"},
{"content":{"body":"ahaha","msgtype":"m.text","org.matrix.msc1767.text":"ahaha"},"ts":1655832616162,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$KklEOH7tdK-uf_eWDcLIPaL2OCh_YFviRffT8sH78DQ"},
{"content":{"body":"\\o/ it works","format":"org.matrix.custom.html","formatted_body":"\\o/ it works","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"\\o/ it works","mimetype":"text/plain"},{"body":"\\o/ it works","mimetype":"text/html"}]},"ts":1655832630929,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$i_ja2764yINyLvY23XiEYpwWNgkbOponGA9gs6bxW2s"},
{"content":{"body":"okay great, it should also let you admit other people next time","msgtype":"m.text","org.matrix.msc1767.text":"okay great, it should also let you admit other people next time"},"ts":1655832652929,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$8-FXyjV3QQnVRwKBN6RXf4f_CcK1WyC_M-aC-jV_W0A"},
{"content":{"body":"thanks for testing","msgtype":"m.text","org.matrix.msc1767.text":"thanks for testing"},"ts":1655832654874,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$3I0Osm4e3-Gi7r9EdicQe2E_iMrmh8EqFpNCncYA1wM"},
{"content":{"body":"for next time: Yulia, Kris, Dan, and Jack Works are co-hosts and can admit other folks","msgtype":"m.text","org.matrix.msc1767.text":"for next time: Yulia, Kris, Dan, and Jack Works are co-hosts and can admit other folks"},"ts":1655832764795,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$sxLa5Oe6skR0htliVFBXPkg5w-37gJ6nESLmW8PaiHA"},
{"content":{"body":"also, just realized, next meeting falls on US 4th of July holiday","msgtype":"m.text","org.matrix.msc1767.text":"also, just realized, next meeting falls on US 4th of July holiday"},"ts":1655832823745,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$BwMXIoQhUTqdcG1hGrIfEvVPu_Ej45FlhySBGK8Bbp8"},
{"content":{"body":"any conflicts for same time on Wed, Jul 6?","msgtype":"m.text","org.matrix.msc1767.text":"any conflicts for same time on Wed, Jul 6?"},"ts":1655832836488,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$AwiVd_rsk-iBwqtkMMBDsvduxAI9YcHayLKfynCuUz0"},
{"content":{"body":"There is the SES meeting that starts one hour after te modules one, it might be a problem if we do 1:30h","msgtype":"m.text","org.matrix.msc1767.text":"There is the SES meeting that starts one hour after te modules one, it might be a problem if we do 1:30h"},"ts":1655832896651,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$qBf5YFjAwfCC7d4zW3xlet3fZZatbCLdA9WDjc7npx8"},
{"content":{"body":"i see that, yes, though given all the SES folks are here and this is also top-of-mind for them, perhaps it'd be fine","msgtype":"m.text","org.matrix.msc1767.text":"i see that, yes, though given all the SES folks are here and this is also top-of-mind for them, perhaps it'd be fine"},"ts":1655832935672,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$uWT2SkeZxviXuQ2TRYleQsBwi7IgnGYJyYfTL3iTAC8"},
{"content":{"body":"You mean 5th of July right?","msgtype":"m.text","org.matrix.msc1767.text":"You mean 5th of July right?"},"ts":1655832969686,"senderName":"guybedford","senderId":"@guybedford:matrix.org","id":"$_yxT11UCCrQ94XIA7QD-a2OVAisaTce8mcT52otpyDs"},
{"content":{"body":"i mean 6th of July","msgtype":"m.text","org.matrix.msc1767.text":"i mean 6th of July"},"ts":1655832998923,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$Qsy-bsq9r5ZICq4H4BXdRL7637V_MCtps9l-EuWJRvQ"},
{"content":{"body":"4th and 5th are both holidays","msgtype":"m.text","org.matrix.msc1767.text":"4th and 5th are both holidays"},"ts":1655833002621,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$mQhlDFZ5-HJkMcNJXnRuAE-8q-UeFNwU2kjS0tSYI-g"},
{"content":{"body":"at least it is at Google","msgtype":"m.text","org.matrix.msc1767.text":"at least it is at Google"},"ts":1655833021438,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$Q24e3GTvzceApZuG15ExUGQoYeuHmecmhaaI8rHYIgE"},
{"content":{"body":"ah gotcha, consolidating may well be an option for that one then","msgtype":"m.text","org.matrix.msc1767.text":"ah gotcha, consolidating may well be an option for that one then"},"ts":1655833026041,"senderName":"guybedford","senderId":"@guybedford:matrix.org","id":"$BuWBtTATxUMpY4tui6-sB6ACjfcK4lAFs1s3cZKEmqI"},
{"content":{"body":"if it's just me i can just skip the next call, Yulia is running it anyhow","msgtype":"m.text","org.matrix.msc1767.text":"if it's just me i can just skip the next call, Yulia is running it anyhow"},"ts":1655833028947,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$Bg3uQ3N5coJokw3QzbsMWSSVpxsof2PZ4LPY4DJVVcA"},
{"content":{"body":"sure","msgtype":"m.text","org.matrix.msc1767.text":"sure"},"ts":1655833044063,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$Iaaz4jtQ4e4ZJPtN6cYn6c--AecPTeA3fgsYCTgmzLs"},
{"content":{"body":"Your call - not sure how many people won't be able to make the 5th? I can do either day.","msgtype":"m.text","org.matrix.msc1767.text":"Your call - not sure how many people won't be able to make the 5th? I can do either day."},"ts":1655833231463,"senderName":"guybedford","senderId":"@guybedford:matrix.org","id":"$nLbw9uxJQszMumXSqSxJdb2oeBR_4LRkbpRwXOtHerU"},
{"content":{"body":"i'd like to not create any pressure for US-based folks so i'd prefer moving it to the 6th","msgtype":"m.text","org.matrix.msc1767.text":"i'd like to not create any pressure for US-based folks so i'd prefer moving it to the 6th"},"ts":1655833530073,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$0ZhIAYhNKv0bS7gNR-N_eN8TK30dhUCX31lz2GJjrRg"},
{"content":{"body":"> <@nicolo-ribaudo:matrix.org> There is the SES meeting that starts one hour after te modules one, it might be a problem if we do 1:30h\n\nWe’ll deconvene the SES meeting if a Compartments meeting overlaps.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$qBf5YFjAwfCC7d4zW3xlet3fZZatbCLdA9WDjc7npx8?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@nicolo-ribaudo:matrix.org\">@nicolo-ribaudo:matrix.org</a><br>There is the SES meeting that starts one hour after te modules one, it might be a problem if we do 1:30h</blockquote></mx-reply>We’ll deconvene the SES meeting if a Compartments meeting overlaps.","m.relates_to":{"m.in_reply_to":{"event_id":"$qBf5YFjAwfCC7d4zW3xlet3fZZatbCLdA9WDjc7npx8"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@nicolo-ribaudo:matrix.org> There is the SES meeting that starts one hour after te modules one, it might be a problem if we do 1:30h\n\nWe’ll deconvene the SES meeting if a Compartments meeting overlaps.","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$qBf5YFjAwfCC7d4zW3xlet3fZZatbCLdA9WDjc7npx8?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@nicolo-ribaudo:matrix.org\">@nicolo-ribaudo:matrix.org</a><br>There is the SES meeting that starts one hour after te modules one, it might be a problem if we do 1:30h</blockquote></mx-reply>We’ll deconvene the SES meeting if a Compartments meeting overlaps.","mimetype":"text/html"}]},"ts":1655833756339,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$PMe1woikC1VpZv0Jzw31v1r4_UDdktXk8vvtLQlMC3U"},
{"content":{"body":"That is actually our preference.","msgtype":"m.text","org.matrix.msc1767.text":"That is actually our preference."},"ts":1655833762078,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$OBzu2UcW7CuTo7YsxFx-IceyHUcheigOMSboerlP7gk"},
{"content":{"body":"Speaking of which, we’d previously built a SES meeting agenda tomorrow for guybedford to join us and hash out what a VirtualStaticModuleRecord for WASM would concretely look like. The artifact would be an example PR for the Compartment proposal. I’m inclined to keep that on the docket and use the PR to sync with this interest group, if there are no objections.","format":"org.matrix.custom.html","formatted_body":"Speaking of which, we’d previously built a SES meeting agenda tomorrow for <a href=\"https://matrix.to/#/@guybedford:matrix.org\">guybedford</a> to join us and hash out what a VirtualStaticModuleRecord for WASM would concretely look like. The artifact would be an example PR for the Compartment proposal. I’m inclined to keep that on the docket and use the PR to sync with this interest group, if there are no objections.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Speaking of which, we’d previously built a SES meeting agenda tomorrow for guybedford to join us and hash out what a VirtualStaticModuleRecord for WASM would concretely look like. The artifact would be an example PR for the Compartment proposal. I’m inclined to keep that on the docket and use the PR to sync with this interest group, if there are no objections.","mimetype":"text/plain"},{"body":"Speaking of which, we’d previously built a SES meeting agenda tomorrow for <a href=\"https://matrix.to/#/@guybedford:matrix.org\">guybedford</a> to join us and hash out what a VirtualStaticModuleRecord for WASM would concretely look like. The artifact would be an example PR for the Compartment proposal. I’m inclined to keep that on the docket and use the PR to sync with this interest group, if there are no objections.","mimetype":"text/html"}]},"ts":1655833909690,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$3cPGRJzqpRj6FQAas4ijOeTii0RwoDrkF_PX7LMdb8g"},
{"content":{"body":"Daniel Ehrenberg: Regarding carrying import.meta and the referrer specifier for a module to another compartment and the importance or non-importance of the identity of a module block https://docs.google.com/document/d/1CD5lIBZLl24XBWbQhokqBdt4Zl7wPAcFJKJrgePr9HU/edit#bookmark=id.o21po234q3z","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@littledan:mozilla.org\">Daniel Ehrenberg</a>: Regarding carrying import.meta and the referrer specifier for a module to another compartment and the importance or non-importance of the identity of a module block https://docs.google.com/document/d/1CD5lIBZLl24XBWbQhokqBdt4Zl7wPAcFJKJrgePr9HU/edit#bookmark=id.o21po234q3z","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Daniel Ehrenberg: Regarding carrying import.meta and the referrer specifier for a module to another compartment and the importance or non-importance of the identity of a module block https://docs.google.com/document/d/1CD5lIBZLl24XBWbQhokqBdt4Zl7wPAcFJKJrgePr9HU/edit#bookmark=id.o21po234q3z","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@littledan:mozilla.org\">Daniel Ehrenberg</a>: Regarding carrying import.meta and the referrer specifier for a module to another compartment and the importance or non-importance of the identity of a module block https://docs.google.com/document/d/1CD5lIBZLl24XBWbQhokqBdt4Zl7wPAcFJKJrgePr9HU/edit#bookmark=id.o21po234q3z","mimetype":"text/html"}]},"ts":1655837926903,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$51dpVx47MbgMoDn7OTkzdj0Pncc1t5ZIsO-uMCVn62I"},
{"content":{"body":"If a module block is reified as a “module descriptor” ~ {record, specifier, importMeta}, the identity of the object still doesn’t matter. The specifier matters because that is the key in the module memo.","m.relates_to":{"event_id":"$51dpVx47MbgMoDn7OTkzdj0Pncc1t5ZIsO-uMCVn62I","is_falling_back":true,"m.in_reply_to":{"event_id":"$51dpVx47MbgMoDn7OTkzdj0Pncc1t5ZIsO-uMCVn62I"},"rel_type":"m.thread"},"msgtype":"m.text","org.matrix.msc1767.text":"If a module block is reified as a “module descriptor” ~ {record, specifier, importMeta}, the identity of the object still doesn’t matter. The specifier matters because that is the key in the module memo."},"ts":1655837996140,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$UJnX_s_n5C0vN0Qp8DuHmvmz10_OrsN52bW61jez0FE"},
{"content":{"body":"That is to say, a map of module descriptors could be transported to another worker without losing any of the relationships between modules.","m.relates_to":{"event_id":"$51dpVx47MbgMoDn7OTkzdj0Pncc1t5ZIsO-uMCVn62I","is_falling_back":true,"m.in_reply_to":{"event_id":"$51dpVx47MbgMoDn7OTkzdj0Pncc1t5ZIsO-uMCVn62I"},"rel_type":"m.thread"},"msgtype":"m.text","org.matrix.msc1767.text":"That is to say, a map of module descriptors could be transported to another worker without losing any of the relationships between modules."},"ts":1655838038403,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$JSRSOPFFIsUNdUnhXbFo2LAx-m2eanJit2HrnOJr6Lk"},
{"content":{"body":"about layering, I want to push back on the idea that was raised in the meeting today about all proposals depending on compartments or some reduction of it. I'd prefer that we focus on figuring out what the big picture API is, and then it will be more clear which pieces we can ship; I think there are lots of orderings that would work, and we shouldn't focus too excessively on working out one factoring or another. For example, I think it'd be OK to ship module reflection or module blocks before we have an imperative API to provide the way that modules link to each other.","msgtype":"m.text","org.matrix.msc1767.text":"about layering, I want to push back on the idea that was raised in the meeting today about all proposals depending on compartments or some reduction of it. I'd prefer that we focus on figuring out what the big picture API is, and then it will be more clear which pieces we can ship; I think there are lots of orderings that would work, and we shouldn't focus too excessively on working out one factoring or another. For example, I think it'd be OK to ship module reflection or module blocks before we have an imperative API to provide the way that modules link to each other."},"ts":1655845448734,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$FTqUPIm208fClUq5DG38hQXMc-ydIInwTLwLwPFL7k8"},
{"content":{"body":"+1","msgtype":"m.text","org.matrix.msc1767.text":"+1"},"ts":1655845775454,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$OzMqlgu7voySU7WzYph69RRpL3JuLyukNerbNYL6y20"},
{"content":{"body":"that is the conclusion i personally would be happier with and we should give it a full discussion next call","msgtype":"m.text","org.matrix.msc1767.text":"that is the conclusion i personally would be happier with and we should give it a full discussion next call"},"ts":1655845796479,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$v5IqVfA7rIM1_HiXUYrcq1ZpYm8FNgtKrbG3YZODX5c"},
{"content":{"body":"i wanted to explicitly surface the question which i felt was implicit in Kris's presentation","msgtype":"m.text","org.matrix.msc1767.text":"i wanted to explicitly surface the question which i felt was implicit in Kris's presentation"},"ts":1655845807744,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$uux_5LPtCfcJuDYMJ9gszvyD-QthquCw1ah0uUqhRIM"},
{"content":{"body":"I really liked Kris's presentation. It brought together a bunch of ideas really well. I think it's important that we maintain a unified model for how modules work, and the compartments proposal stands out as it exposes so much","msgtype":"m.text","org.matrix.msc1767.text":"I really liked Kris's presentation. It brought together a bunch of ideas really well. I think it's important that we maintain a unified model for how modules work, and the compartments proposal stands out as it exposes so much"},"ts":1655845968861,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$sCQGxOfGUY70OGApcl-vlYTG9ZSw13upY1s5gqoKzTQ"},
{"content":{"body":"also agree","msgtype":"m.text","org.matrix.msc1767.text":"also agree"},"ts":1655846044852,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$_NtuiGrqzTHlbVgr-2VXzOfa0wsyNc8USC5E2F05j54"},
{"content":{"body":"To be clear, I also consider the question of ordering and layering an open question and I don’t have a preference toward shipping compartments first. I just do not, from where I’m sitting right now, see a way to do that in a way that doesn’t hobble the proposal that lands first.","msgtype":"m.text","org.matrix.msc1767.text":"To be clear, I also consider the question of ordering and layering an open question and I don’t have a preference toward shipping compartments first. I just do not, from where I’m sitting right now, see a way to do that in a way that doesn’t hobble the proposal that lands first."},"ts":1655848552308,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$QcBYMjl2mtq1L_JiM3TLQtpre9-xqG_6MBIm_g2D8-E"},
{"content":{"body":"For example, suppose we land module blocks first? There needs to exist some mechanism for instantiating the block. For deferred execution, same issue. Import reflection could be exposed, but none of the motivating use cases work without a loader.","msgtype":"m.text","org.matrix.msc1767.text":"For example, suppose we land module blocks first? There needs to exist some mechanism for instantiating the block. For deferred execution, same issue. Import reflection could be exposed, but none of the motivating use cases work without a loader."},"ts":1655848663983,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$q69iZU7xd_UOnQGqsG1unDBx6xbCO294puMvOnCmAjc"},
{"content":{"body":"ShadowRealm may give us a degree of freedom in that regard.","msgtype":"m.text","org.matrix.msc1767.text":"ShadowRealm may give us a degree of freedom in that regard."},"ts":1655848733009,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$5ubOFxBA-MMrKV3rzpEFeHvq-mYCW0UsZKHAUNm9OSM"},
{"content":{"body":"To the extent that ShadowRealm encapsulates a loader. But even then, the result differs in name only from the part we later factor out of realm. So, big +1 to littledan’s point about getting a holistic view before figuring out layering.","format":"org.matrix.custom.html","formatted_body":"To the extent that ShadowRealm encapsulates a loader. But even then, the result differs in name only from the part we later factor out of realm. So, big +1 to <a href=\"https://matrix.to/#/@littledan:matrix.org\">littledan</a>’s point about getting a holistic view before figuring out layering.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"To the extent that ShadowRealm encapsulates a loader. But even then, the result differs in name only from the part we later factor out of realm. So, big +1 to littledan’s point about getting a holistic view before figuring out layering.","mimetype":"text/plain"},{"body":"To the extent that ShadowRealm encapsulates a loader. But even then, the result differs in name only from the part we later factor out of realm. So, big +1 to <a href=\"https://matrix.to/#/@littledan:matrix.org\">littledan</a>’s point about getting a holistic view before figuring out layering.","mimetype":"text/html"}]},"ts":1655848830103,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$Ire9PuOG08M-CpYJf8_6PfH0_V1xcPMbS3YyZoiPlIU"},
{"content":{"body":" * To be clear, I also consider the question of ordering and layering open and I don’t have a preference toward shipping compartments first. I just do not, from where I’m sitting right now, see a way to do that in a way that doesn’t hobble the proposal that lands first.","m.new_content":{"body":"To be clear, I also consider the question of ordering and layering open and I don’t have a preference toward shipping compartments first. I just do not, from where I’m sitting right now, see a way to do that in a way that doesn’t hobble the proposal that lands first.","msgtype":"m.text","org.matrix.msc1767.text":"To be clear, I also consider the question of ordering and layering open and I don’t have a preference toward shipping compartments first. I just do not, from where I’m sitting right now, see a way to do that in a way that doesn’t hobble the proposal that lands first."},"m.relates_to":{"event_id":"$QcBYMjl2mtq1L_JiM3TLQtpre9-xqG_6MBIm_g2D8-E","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * To be clear, I also consider the question of ordering and layering open and I don’t have a preference toward shipping compartments first. I just do not, from where I’m sitting right now, see a way to do that in a way that doesn’t hobble the proposal that lands first."},"ts":1655848861250,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$ngDKeBs7MbdxbjFKP3hzano5H5iEqwnZnO3tsS2wcyU"},
{"content":{"body":" * For example, suppose we land module blocks first. There needs to exist some mechanism for instantiating the block. For deferred execution, same issue. Import reflection could be exposed, but none of the motivating use cases work without a loader.","m.new_content":{"body":"For example, suppose we land module blocks first. There needs to exist some mechanism for instantiating the block. For deferred execution, same issue. Import reflection could be exposed, but none of the motivating use cases work without a loader.","msgtype":"m.text","org.matrix.msc1767.text":"For example, suppose we land module blocks first. There needs to exist some mechanism for instantiating the block. For deferred execution, same issue. Import reflection could be exposed, but none of the motivating use cases work without a loader."},"m.relates_to":{"event_id":"$q69iZU7xd_UOnQGqsG1unDBx6xbCO294puMvOnCmAjc","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * For example, suppose we land module blocks first. There needs to exist some mechanism for instantiating the block. For deferred execution, same issue. Import reflection could be exposed, but none of the motivating use cases work without a loader."},"ts":1655848886186,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$LHmBosCyMQbpzGJoNMeKlUSR1Xiaa5jMJ_div1M4MOs"},
{"content":{"body":"Also, ShadowRealm and workers of every kind should probably be born with host-defined loader hooks, since serializing a loadHook fraught in the former and dubious in the latter. But in combination with a compartment, having a realm bootstrap off of the host-defined loader and constructing a Compartment with a user-defined loader opens up options.","msgtype":"m.text","org.matrix.msc1767.text":"Also, ShadowRealm and workers of every kind should probably be born with host-defined loader hooks, since serializing a loadHook fraught in the former and dubious in the latter. But in combination with a compartment, having a realm bootstrap off of the host-defined loader and constructing a Compartment with a user-defined loader opens up options."},"ts":1655849087186,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$jYuxgV7eHWDo3fUB0nfQ1H_PLj8jUhsaOSVB56iAX24"},
{"content":{"body":"the main mechanism for instantiating module blocks is import()","msgtype":"m.text","org.matrix.msc1767.text":"the main mechanism for instantiating module blocks is import()"},"ts":1655849829158,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$bQgBWHVTY9OodsmmbwnFv0yzq2TQoEFjIsFjJFlxWOU"},
{"content":{"body":"the proposal stands on its own without further control, IMO","msgtype":"m.text","org.matrix.msc1767.text":"the proposal stands on its own without further control, IMO"},"ts":1655849855809,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$-PMHsOVWodpI0WyXDB2Ycb5IBINOCohneYe3ee0IQJM"},
{"content":{"body":"I agree that ShadowRealm should probably take a LoaderOptions bag as an argument","msgtype":"m.text","org.matrix.msc1767.text":"I agree that ShadowRealm should probably take a LoaderOptions bag as an argument"},"ts":1655849883198,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$KiSQr7pWjf5D7VOC4FA2dZFd0Mm-7l3b-JuezjSpNNA"},
{"content":{"body":"but, also there, ShadowRealm is useful without that","msgtype":"m.text","org.matrix.msc1767.text":"but, also there, ShadowRealm is useful without that"},"ts":1655849900533,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$5zeVfscpYpA_eM2uAr7X-zk8BJNhwHraE3XhNhym_0w"},
{"content":{"body":"So, assuming that, then Compartments would have import and loadHook competing to register module descriptors.","msgtype":"m.text","org.matrix.msc1767.text":"So, assuming that, then Compartments would have import and loadHook competing to register module descriptors."},"ts":1655849902714,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$vwbEQ3xfzGafGeYiHo9DWxEF_nqiL5PzRQRjcMdZLFk"},
{"content":{"body":"huh?","msgtype":"m.text","org.matrix.msc1767.text":"huh?"},"ts":1655849931990,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$02_SsKc3CSqUkxycPG9yqK_bQ0PlaDqq1OCzaWVcmIg"},
{"content":{"body":"I meant the already-existing dynamic import()","msgtype":"m.text","org.matrix.msc1767.text":"I meant the already-existing dynamic import()"},"ts":1655849941431,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$eY3qYIGGn57aOSvw4gEML09reiUjiqAtq13N7eh_lWU"},
{"content":{"body":"as well as passing the module block to structured clone","msgtype":"m.text","org.matrix.msc1767.text":"as well as passing the module block to structured clone"},"ts":1655849952650,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$-eVDvtEiJLCXyQy4IajEHIw2eu9qTJkgeYbttVfVVzU"},
{"content":{"body":"Understood. I propose that a desirable invariant is for dynamic import and compartment import be nearly the same.","msgtype":"m.text","org.matrix.msc1767.text":"Understood. I propose that a desirable invariant is for dynamic import and compartment import be nearly the same."},"ts":1655849983258,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$BQQaNGBxQq9oeieLlYPbRTFBjzEHqC_gHBeZscGcWek"},
{"content":{"body":"I agree that we shouldn't have competing hooks. Surma and I proposed module block without hooks.","msgtype":"m.text","org.matrix.msc1767.text":"I agree that we shouldn't have competing hooks. Surma and I proposed module block without hooks."},"ts":1655849988109,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$zHJ9gXj196SQ-PSgPzKREzOu3Rc8ijWseAEtI7cEqOc"},
{"content":{"body":"yes, definitely they should be the same","msgtype":"m.text","org.matrix.msc1767.text":"yes, definitely they should be the same"},"ts":1655849993189,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$ZvOsnCK-GoW4FTiMRbK6T1PXPZurP-M2bSeYZQn6-RM"},
{"content":{"body":"so, sure, you can pass a module block to compartment import once there are compartments","msgtype":"m.text","org.matrix.msc1767.text":"so, sure, you can pass a module block to compartment import once there are compartments"},"ts":1655850014099,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$QjICIJw670IxKB5VizNi3rM6caUzXz4bhfPSyDA-Hvk"},
{"content":{"body":"Consider: `import(module { import 'x.js'; })`","format":"org.matrix.custom.html","formatted_body":"Consider: <code>import(module { import 'x.js'; })</code>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Consider: `import(module { import 'x.js'; })`","mimetype":"text/plain"},{"body":"Consider: <code>import(module { import 'x.js'; })</code>","mimetype":"text/html"}]},"ts":1655850015333,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$BSYe8EXZhPlw5F9Dvl8zw0jxnV7IxPb3jfuLvWYHcf0"},
{"content":{"body":"Followed by (approximately) `import({ specifier: 'x.js', ...module { } })`","format":"org.matrix.custom.html","formatted_body":"Followed by (approximately) <code>import({ specifier: 'x.js', ...module { } })</code>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Followed by (approximately) `import({ specifier: 'x.js', ...module { } })`","mimetype":"text/plain"},{"body":"Followed by (approximately) <code>import({ specifier: 'x.js', ...module { } })</code>","mimetype":"text/html"}]},"ts":1655850080420,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$AV-nChZRA3IL6FYNVMZuRNnTGQGnmAcEjcmqcZHOXXQ"},
{"content":{"body":"And let’s assume that module blocks correspond to module descriptors.","msgtype":"m.text","org.matrix.msc1767.text":"And let’s assume that module blocks correspond to module descriptors."},"ts":1655850095271,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$KGm7T6sQPgKGFFuoDHMHKHhbKF1dIQDid8xc_36s84o"},
{"content":{"body":"The behavior of this example is order dependent (even without the introduction of compartment).","msgtype":"m.text","org.matrix.msc1767.text":"The behavior of this example is order dependent (even without the introduction of compartment)."},"ts":1655850123310,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$GJf28dgr8D41fZDT0dItAmRMgsHRuRsNh4IzSROA8MA"},
{"content":{"body":"Because there already is a host loader in play.","msgtype":"m.text","org.matrix.msc1767.text":"Because there already is a host loader in play."},"ts":1655850132584,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$TNyZVighHGHYHhWdSanklo-tKPS40cyK3yuBKIbRJ4g"},
{"content":{"body":"In the former case, you push a module into the module map, but in order for its dependencies to be satisfied, the loader must pull them in.","msgtype":"m.text","org.matrix.msc1767.text":"In the former case, you push a module into the module map, but in order for its dependencies to be satisfied, the loader must pull them in."},"ts":1655850174719,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$gZ0Ubjwsjig6IAefy7iUVRGA--_SDU5ZDPtxR3U2Bck"},
{"content":{"body":"So you’d have to take care to push your dependencies into the loader from leaf to root. Which is fine, but fragile.","msgtype":"m.text","org.matrix.msc1767.text":"So you’d have to take care to push your dependencies into the loader from leaf to root. Which is fine, but fragile."},"ts":1655850223977,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$YA0n4-xjbyGezL1_d_SuGRf0X99Goxd1usKMDwZVT-8"},
{"content":{"body":"I contend that it’s fragile enough that it is inadvisable.","msgtype":"m.text","org.matrix.msc1767.text":"I contend that it’s fragile enough that it is inadvisable."},"ts":1655850235994,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$6FzBpAfQ8QeG4zqxmIpzlXWd01Ph8qRjBlG8yVD0QZA"},
{"content":{"body":"When compartments get reified, then there’s a missed opportunity for the compartment to represent a capability to induce a module to be loaded, not to determine what is loaded.","msgtype":"m.text","org.matrix.msc1767.text":"When compartments get reified, then there’s a missed opportunity for the compartment to represent a capability to induce a module to be loaded, not to determine what is loaded."},"ts":1655850355027,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$dN_WA5o-zTZHNR2RTJgXLBZzll9G7oppVdIGqSmTSOM"},
{"content":{"body":"That is to say, a loadHook provides a coherent top-down view of how to construct a coherent module graph. Providing a way to inject modules into that graph from *within* the compartment allows a module to interfere with the linkage of its peers.","format":"org.matrix.custom.html","formatted_body":"That is to say, a loadHook provides a coherent top-down view of how to construct a coherent module graph. Providing a way to inject modules into that graph from <em>within</em> the compartment allows a module to interfere with the linkage of its peers.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"That is to say, a loadHook provides a coherent top-down view of how to construct a coherent module graph. Providing a way to inject modules into that graph from *within* the compartment allows a module to interfere with the linkage of its peers.","mimetype":"text/plain"},{"body":"That is to say, a loadHook provides a coherent top-down view of how to construct a coherent module graph. Providing a way to inject modules into that graph from <em>within</em> the compartment allows a module to interfere with the linkage of its peers.","mimetype":"text/html"}]},"ts":1655850415939,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$Qra0jVMxufC2FaW1Ef4KiAbhcecyra4kFLkaPDzKu9c"},
{"content":{"body":"And that hazard exists regardless of whether or when we reify the Compartment/Loader object.","msgtype":"m.text","org.matrix.msc1767.text":"And that hazard exists regardless of whether or when we reify the Compartment/Loader object."},"ts":1655850445371,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$IBFyrMJ9shgQHlqebv4dSSTYhhfk3kwV0nuaPPXiqCw"},
{"content":{"body":"Inevitable bike shed from which there is no escape: “specifier” is heavy. Maybe this should be “to”, the dual of “from”.","m.relates_to":{"event_id":"$AV-nChZRA3IL6FYNVMZuRNnTGQGnmAcEjcmqcZHOXXQ","is_falling_back":true,"m.in_reply_to":{"event_id":"$AV-nChZRA3IL6FYNVMZuRNnTGQGnmAcEjcmqcZHOXXQ"},"rel_type":"m.thread"},"msgtype":"m.text","org.matrix.msc1767.text":"Inevitable bike shed from which there is no escape: “specifier” is heavy. Maybe this should be “to”, the dual of “from”."},"ts":1655850691664,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$cfkyr0ivbLBOMcXVhKwIveK4Q24SFAo8Agz6Y6StWck"},
{"content":{"body":"yeah, I'd say that when there's a host loader, you shouldn't be able to just push a specifier into the module map","msgtype":"m.text","org.matrix.msc1767.text":"yeah, I'd say that when there's a host loader, you shouldn't be able to just push a specifier into the module map"},"ts":1655851319216,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$HBWSouYqWDUzraQXo9Ce6V23F_mY4GFi323aC4Xq4rs"},
{"content":{"body":"so I don't understand the second line of your example","msgtype":"m.text","org.matrix.msc1767.text":"so I don't understand the second line of your example"},"ts":1655851340259,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$JooeqVdpaIB0VtweTZW-Dvoz8CB55F9tbZylGdHg-zs"},
{"content":{"body":"(I don't really understand how it works even if you have a custom loader)","msgtype":"m.text","org.matrix.msc1767.text":"(I don't really understand how it works even if you have a custom loader)"},"ts":1655851369829,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$UVvU1Ra-P0mIibNVY1JWlq4fVCMttH3z12DfwsFz0Qs"},
{"content":{"body":"I haven't done as detailed a look at the current state of the compartments proposal as I should","msgtype":"m.text","org.matrix.msc1767.text":"I haven't done as detailed a look at the current state of the compartments proposal as I should"},"ts":1655851417620,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$5PXTf2IlSAcpco1-zPCXjufpSRBn_qxrG6lz74aHlIE"},
{"content":{"body":"isn't there the same order dependency as if you did `import('x.js')`?","format":"org.matrix.custom.html","formatted_body":"isn't there the same order dependency as if you did <code>import('x.js')</code>?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"isn't there the same order dependency as if you did `import('x.js')`?","mimetype":"text/plain"},{"body":"isn't there the same order dependency as if you did <code>import('x.js')</code>?","mimetype":"text/html"}]},"ts":1655851442933,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$kLw-mFfrSnrea0lBRg7w2gKqvqn_NZGEgIR3dnjsw2I"}
]