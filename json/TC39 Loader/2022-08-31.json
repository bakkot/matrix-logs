[
{"content":{"body":"Can anyone point me to where the HTML spec says that `import()` yields to the event loop? Is it implied in the \"Wait until the algorithm asynchronously completes\" (for example, step 6 of [HostImportModuleDynamically](https://html.spec.whatwg.org/#hostimportmoduledynamically(referencingscriptormodule,-modulerequest,-promisecapability))) and \"asynchronously complete this algorithm with\" (for example, step 2 of [fetch an import() module script graph](https://html.spec.whatwg.org/#fetch-an-import()-module-script-graph)) phrasing?","format":"org.matrix.custom.html","formatted_body":"Can anyone point me to where the HTML spec says that <code>import()</code> yields to the event loop? Is it implied in the &quot;Wait until the algorithm asynchronously completes&quot; (for example, step 6 of <a href=\"https://html.spec.whatwg.org/#hostimportmoduledynamically(referencingscriptormodule,-modulerequest,-promisecapability)\">HostImportModuleDynamically</a>) and &quot;asynchronously complete this algorithm with&quot; (for example, step 2 of <a href=\"https://html.spec.whatwg.org/#fetch-an-import()-module-script-graph\">fetch an import() module script graph</a>) phrasing?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Can anyone point me to where the HTML spec says that `import()` yields to the event loop? Is it implied in the \"Wait until the algorithm asynchronously completes\" (for example, step 6 of [HostImportModuleDynamically](https://html.spec.whatwg.org/#hostimportmoduledynamically(referencingscriptormodule,-modulerequest,-promisecapability))) and \"asynchronously complete this algorithm with\" (for example, step 2 of [fetch an import() module script graph](https://html.spec.whatwg.org/#fetch-an-import()-module-script-graph)) phrasing?","mimetype":"text/plain"},{"body":"Can anyone point me to where the HTML spec says that <code>import()</code> yields to the event loop? Is it implied in the &quot;Wait until the algorithm asynchronously completes&quot; (for example, step 6 of <a href=\"https://html.spec.whatwg.org/#hostimportmoduledynamically(referencingscriptormodule,-modulerequest,-promisecapability)\">HostImportModuleDynamically</a>) and &quot;asynchronously complete this algorithm with&quot; (for example, step 2 of <a href=\"https://html.spec.whatwg.org/#fetch-an-import()-module-script-graph\">fetch an import() module script graph</a>) phrasing?","mimetype":"text/html"}]},"ts":1661978969520,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$q9jRSt3K53vZ2YX7wX_qk3t1DF7Uaagrf3cvMnLAhQY"},
{"content":{"body":"It’s not quite that, it’s in this algorithm, where even on a module map hit, it queues a task to complete the algorithm, just to avoid zalgo I guess https://html.spec.whatwg.org/#fetch-a-single-module-script","msgtype":"m.text"},"ts":1661989746270,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$kwoHBGLDnl78OGJOAE7j7YP-2KctEIZvBMg03SjEy38"}
]