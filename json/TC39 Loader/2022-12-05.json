[
{"content":{"body":"lol I'm going to be extremely dead at our meeting tomorrow, after a whole-day Ecma GA meeting","msgtype":"m.text","org.matrix.msc1767.text":"lol I'm going to be extremely dead at our meeting tomorrow, after a whole-day Ecma GA meeting"},"ts":1670276459415,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$UMeogqTEbUe_cPVVDQhG0P--gci_SwQI8-jJQPZY9A4"},
{"content":{"body":"Anyway I'd like us to discuss this somewhat urgent issue of the relationship between import assertions and HTML--the web platform might not actually support module types in the \"assertion\" style we were imagining. https://github.com/tc39/proposal-import-assertions/issues/125","msgtype":"m.text","org.matrix.msc1767.text":"Anyway I'd like us to discuss this somewhat urgent issue of the relationship between import assertions and HTML--the web platform might not actually support module types in the \"assertion\" style we were imagining. https://github.com/tc39/proposal-import-assertions/issues/125"},"ts":1670276524984,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$VNX3YclksCicaszQ-uPlJ48-bRsOtbiUsY81PwNPSDY"},
{"content":{"body":"I've invited Anne van Kesteren as our special guest (now of WebKit, formerly Mozilla)","msgtype":"m.text","org.matrix.msc1767.text":"I've invited Anne van Kesteren as our special guest (now of WebKit, formerly Mozilla)"},"ts":1670276549933,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$cxwhx8Bl_Cpab7swH6MUltD-otT9Xb_tGi5Rzu7BJcI"},
{"content":{"body":"This is time-sensitive both because the proposal is already at Stage 3 and because it's under consideration for \"Interop 2023\", which would accelerate its implementation in other browsers","msgtype":"m.text","org.matrix.msc1767.text":"This is time-sensitive both because the proposal is already at Stage 3 and because it's under consideration for \"Interop 2023\", which would accelerate its implementation in other browsers"},"ts":1670276587297,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$VU7uXw8suXJnHb8mzRlEsvZJMsaybCh0U1Ww7mCayYQ"},
{"content":{"body":"Always good to cross paths with Anne. Thank you for reminding me that this is an odd-numbered week.","msgtype":"m.text","org.matrix.msc1767.text":"Always good to cross paths with Anne. Thank you for reminding me that this is an odd-numbered week."},"ts":1670276621025,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$rjZ-uky3PuRJj8qmgapj9mqQZujLNkXZjw-DGGGMdIw"},
{"content":{"body":"Fundamentally, the problem is: The Web actually wants to make requests to the server in different ways depending on which kind of resource is anticipated. That changes the interpretation of the module and is not consistent with the \"assertion\" invariant.","msgtype":"m.text","org.matrix.msc1767.text":"Fundamentally, the problem is: The Web actually wants to make requests to the server in different ways depending on which kind of resource is anticipated. That changes the interpretation of the module and is not consistent with the \"assertion\" invariant."},"ts":1670276636521,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$IQnE1LKzz54zz0X9qySIHDRTMSNr8UVnloVQCSN_uz4"},
{"content":{"body":"I'd add: the fact that HTML folks have been discussing this idea for a year and didn't notice the mismatch is kinda a mark against the \"assertion\" mental model. (The initial discussion was about CSP checks on the response, but the HTML people should've been thinking about the effects on the request too, which isn't as obvious to us humble TC39 folks)","msgtype":"m.text","org.matrix.msc1767.text":"I'd add: the fact that HTML folks have been discussing this idea for a year and didn't notice the mismatch is kinda a mark against the \"assertion\" mental model. (The initial discussion was about CSP checks on the response, but the HTML people should've been thinking about the effects on the request too, which isn't as obvious to us humble TC39 folks)"},"ts":1670276710093,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$gnAbo5MhOvoKTTX0zgfUarlHL2cKbk9fyVBPDdcNUpc"},
{"content":{"body":"In my estimate, that will force our hand into incorporating the type in the module instance’s memo. At least we can be explicit about that in 262 now that we’ve borged the logic for loading.","msgtype":"m.text","org.matrix.msc1767.text":"In my estimate, that will force our hand into incorporating the type in the module instance’s memo. At least we can be explicit about that in 262 now that we’ve borged the logic for loading."},"ts":1670276752024,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$7w1rN9yRBibQ6txHAqyIBDV4clUrgVUXhVZuiL7etaU"},
{"content":{"body":"well, it'd be as simple as deleting a line","msgtype":"m.text","org.matrix.msc1767.text":"well, it'd be as simple as deleting a line"},"ts":1670276771578,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$HSh_oE4zsfauKl4Xo4TasXsWT9Rnmkh1GjcFM6Znfyk"},
{"content":{"body":"And if we entertain this, I’m in favor of renaming `assert` to `with` as soon as possible.","format":"org.matrix.custom.html","formatted_body":"And if we entertain this, I’m in favor of renaming <code>assert</code> to <code>with</code> as soon as possible.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"And if we entertain this, I’m in favor of renaming `assert` to `with` as soon as possible.","mimetype":"text/plain"},{"body":"And if we entertain this, I’m in favor of renaming <code>assert</code> to <code>with</code> as soon as possible.","mimetype":"text/html"}]},"ts":1670276778190,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$KDjjz9EoyRTQ4SVvGt1RWyMghnwby-NfZU_wUPpHTZg"},
{"content":{"body":"but, we'd have to think about the implications...","msgtype":"m.text","org.matrix.msc1767.text":"but, we'd have to think about the implications..."},"ts":1670276787970,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$nFuaKQOZ0dmRpPCsBejyje54-9txLVln2sfnRhvFudw"},
{"content":{"body":"yes, certainly the keyword `assert` doesn't make any sense at all if we made that simple change you're thinking of","format":"org.matrix.custom.html","formatted_body":"yes, certainly the keyword <code>assert</code> doesn't make any sense at all if we made that simple change you're thinking of","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"yes, certainly the keyword `assert` doesn't make any sense at all if we made that simple change you're thinking of","mimetype":"text/plain"},{"body":"yes, certainly the keyword <code>assert</code> doesn't make any sense at all if we made that simple change you're thinking of","mimetype":"text/html"}],"m.relates_to":{"m.in_reply_to":{"event_id":"$KDjjz9EoyRTQ4SVvGt1RWyMghnwby-NfZU_wUPpHTZg"}}},"ts":1670276825280,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$isL6ljsSeRl5gD1-NCuxr9A9yUIOqP8skVBP1nByO-4"},
{"content":{"body":"we'll need to think about whether this is the change we want to make","msgtype":"m.text","org.matrix.msc1767.text":"we'll need to think about whether this is the change we want to make"},"ts":1670276839590,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$0-_3RRtbuanhRElu58h0Tl8El64S_34HhMv5sHVIfXc"},
{"content":{"body":"It’d imply that `importHook` needs to accept the `type` as an optional argument. We would want to be very clear that this is the only additional term of the module memo keyspace we’re considering.","format":"org.matrix.custom.html","formatted_body":"It’d imply that <code>importHook</code> needs to accept the <code>type</code> as an optional argument. We would want to be very clear that this is the only additional term of the module memo keyspace we’re considering.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"It’d imply that `importHook` needs to accept the `type` as an optional argument. We would want to be very clear that this is the only additional term of the module memo keyspace we’re considering.","mimetype":"text/plain"},{"body":"It’d imply that <code>importHook</code> needs to accept the <code>type</code> as an optional argument. We would want to be very clear that this is the only additional term of the module memo keyspace we’re considering.","mimetype":"text/html"}]},"ts":1670276845986,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$_XdCSBrAau2Mh7bvbXsxvyNyFWM9PAzh3p06YIXUvSc"},
{"content":{"body":"> <@kriskowal:matrix.org> And if we entertain this, I’m in favor of renaming `assert` to `with` as soon as possible.\n\n * yes, certainly the keyword `assert` doesn't make any sense at all if we made that simple change you're thinking of","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$KDjjz9EoyRTQ4SVvGt1RWyMghnwby-NfZU_wUPpHTZg?via=matrix.org&amp;via=igalia.com&amp;via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@kriskowal:matrix.org\">@kriskowal:matrix.org</a><br>And if we entertain this, I’m in favor of renaming <code>assert</code> to <code>with</code> as soon as possible.</blockquote></mx-reply> * yes, certainly the keyword <code>assert</code> doesn't make any sense at all if we made that simple change you're thinking of","m.new_content":{"body":"yes, certainly the keyword `assert` doesn't make any sense at all if we made that simple change you're thinking of","format":"org.matrix.custom.html","formatted_body":"yes, certainly the keyword <code>assert</code> doesn't make any sense at all if we made that simple change you're thinking of","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"yes, certainly the keyword `assert` doesn't make any sense at all if we made that simple change you're thinking of","mimetype":"text/plain"},{"body":"yes, certainly the keyword <code>assert</code> doesn't make any sense at all if we made that simple change you're thinking of","mimetype":"text/html"}]},"m.relates_to":{"event_id":"$isL6ljsSeRl5gD1-NCuxr9A9yUIOqP8skVBP1nByO-4","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@kriskowal:matrix.org> And if we entertain this, I’m in favor of renaming `assert` to `with` as soon as possible.\n\n * yes, certainly the keyword `assert` doesn't make any sense at all if we made that simple change you're thinking of","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!RkpmGMjJtqLKXzByOT:matrix.org/$KDjjz9EoyRTQ4SVvGt1RWyMghnwby-NfZU_wUPpHTZg?via=matrix.org&amp;via=igalia.com&amp;via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@kriskowal:matrix.org\">@kriskowal:matrix.org</a><br>And if we entertain this, I’m in favor of renaming <code>assert</code> to <code>with</code> as soon as possible.</blockquote></mx-reply> * yes, certainly the keyword <code>assert</code> doesn't make any sense at all if we made that simple change you're thinking of","mimetype":"text/html"}]},"ts":1670276854271,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$468ObF37IHuO0NYVfxsDLaXtlU_zfVK5I0WeLjPfR-4"},
{"content":{"body":" * It’d imply that `importHook` needs to accept the `type` as an optional argument. We would want to be very clear that this is the only additional term of the module memo keyspace we’re considering.","format":"org.matrix.custom.html","formatted_body":" * It’d imply that <code>importHook</code> needs to accept the <code>type</code> as an optional argument. We would want to be very clear that this is the only additional term of the module memo keyspace we’re considering.","m.new_content":{"body":"It’d imply that `importHook` needs to accept the `type` as an optional argument. We would want to be very clear that this is the only additional term of the module memo keyspace we’re considering.","format":"org.matrix.custom.html","formatted_body":"It’d imply that <code>importHook</code> needs to accept the <code>type</code> as an optional argument. We would want to be very clear that this is the only additional term of the module memo keyspace we’re considering.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"It’d imply that `importHook` needs to accept the `type` as an optional argument. We would want to be very clear that this is the only additional term of the module memo keyspace we’re considering.","mimetype":"text/plain"},{"body":"It’d imply that <code>importHook</code> needs to accept the <code>type</code> as an optional argument. We would want to be very clear that this is the only additional term of the module memo keyspace we’re considering.","mimetype":"text/html"}]},"m.relates_to":{"event_id":"$_XdCSBrAau2Mh7bvbXsxvyNyFWM9PAzh3p06YIXUvSc","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":" * It’d imply that `importHook` needs to accept the `type` as an optional argument. We would want to be very clear that this is the only additional term of the module memo keyspace we’re considering.","mimetype":"text/plain"},{"body":" * It’d imply that <code>importHook</code> needs to accept the <code>type</code> as an optional argument. We would want to be very clear that this is the only additional term of the module memo keyspace we’re considering.","mimetype":"text/html"}]},"ts":1670276867707,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$BoWBnXCcvvQQ2JyiiJX2Ku8exoq0opYo8uDcVOrV4qs"},
{"content":{"body":"As a safety, we’d probably also want the `Module` to have a `type` so the importing `Module` can make sure it gets what it asked for.","format":"org.matrix.custom.html","formatted_body":"As a safety, we’d probably also want the <code>Module</code> to have a <code>type</code> so the importing <code>Module</code> can make sure it gets what it asked for.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"As a safety, we’d probably also want the `Module` to have a `type` so the importing `Module` can make sure it gets what it asked for.","mimetype":"text/plain"},{"body":"As a safety, we’d probably also want the <code>Module</code> to have a <code>type</code> so the importing <code>Module</code> can make sure it gets what it asked for.","mimetype":"text/html"}]},"ts":1670276902298,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$1RLWceRvc0rbeVdyjvpwh2DV6gF6q5UNkJeh8b3r3nc"},
{"content":{"body":" * As a safety, we’d probably also want the `Module` to have a `type` so the importing `Module` can make sure it gets what it asked for.","format":"org.matrix.custom.html","formatted_body":" * As a safety, we’d probably also want the <code>Module</code> to have a <code>type</code> so the importing <code>Module</code> can make sure it gets what it asked for.","m.new_content":{"body":"As a safety, we’d probably also want the `Module` to have a `type` so the importing `Module` can make sure it gets what it asked for.","format":"org.matrix.custom.html","formatted_body":"As a safety, we’d probably also want the <code>Module</code> to have a <code>type</code> so the importing <code>Module</code> can make sure it gets what it asked for.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"As a safety, we’d probably also want the `Module` to have a `type` so the importing `Module` can make sure it gets what it asked for.","mimetype":"text/plain"},{"body":"As a safety, we’d probably also want the <code>Module</code> to have a <code>type</code> so the importing <code>Module</code> can make sure it gets what it asked for.","mimetype":"text/html"}]},"m.relates_to":{"event_id":"$1RLWceRvc0rbeVdyjvpwh2DV6gF6q5UNkJeh8b3r3nc","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":" * As a safety, we’d probably also want the `Module` to have a `type` so the importing `Module` can make sure it gets what it asked for.","mimetype":"text/plain"},{"body":" * As a safety, we’d probably also want the <code>Module</code> to have a <code>type</code> so the importing <code>Module</code> can make sure it gets what it asked for.","mimetype":"text/html"}]},"ts":1670276914753,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$qnZxezQHOqYW0UPbNJMnPGlflTVHV7dZGK6LyOrnVHU"},
{"content":{"body":"Otherwise we have a maybe-ignore-the-requested-type footgun.","msgtype":"m.text","org.matrix.msc1767.text":"Otherwise we have a maybe-ignore-the-requested-type footgun."},"ts":1670276938486,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$D7MgCoH_guWr7-tQFHlqtomtx800tm7ZDXU6RaMgi6k"},
{"content":{"body":"It’s a considerable complication, but if it’s table stakes, we can do it.","msgtype":"m.text","org.matrix.msc1767.text":"It’s a considerable complication, but if it’s table stakes, we can do it."},"ts":1670276981119,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$JevDwWejNBZ4Uc5RnRY8kz_O9P1U_wo8wcOyUktOBSQ"},
{"content":{"body":"The two things which would be strongly dispreferrable to me are:\n- If HTML gets to have special rights around how to use the type (or other arguments) that  other environments/hooks don't see, assuming HTML uses them in a significant-enough way\n- If HTML does a willful violation (or violates a _should_ recommendation) around how assertions are used--we're designing this largely for HTML, so everything really should match up","format":"org.matrix.custom.html","formatted_body":"<p>The two things which would be strongly dispreferrable to me are:</p>\n<ul>\n<li>If HTML gets to have special rights around how to use the type (or other arguments) that  other environments/hooks don't see, assuming HTML uses them in a significant-enough way</li>\n<li>If HTML does a willful violation (or violates a <em>should</em> recommendation) around how assertions are used--we're designing this largely for HTML, so everything really should match up</li>\n</ul>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"The two things which would be strongly dispreferrable to me are:\n- If HTML gets to have special rights around how to use the type (or other arguments) that  other environments/hooks don't see, assuming HTML uses them in a significant-enough way\n- If HTML does a willful violation (or violates a _should_ recommendation) around how assertions are used--we're designing this largely for HTML, so everything really should match up","mimetype":"text/plain"},{"body":"<p>The two things which would be strongly dispreferrable to me are:</p>\n<ul>\n<li>If HTML gets to have special rights around how to use the type (or other arguments) that  other environments/hooks don't see, assuming HTML uses them in a significant-enough way</li>\n<li>If HTML does a willful violation (or violates a <em>should</em> recommendation) around how assertions are used--we're designing this largely for HTML, so everything really should match up</li>\n</ul>\n","mimetype":"text/html"}]},"ts":1670276994210,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$JCHEvEb4CuILJ3D2CkrmNG-Vp_SjVyNwkeH4kX19XmU"}
]