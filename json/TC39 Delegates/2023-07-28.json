[
{"content":{"body":"proposal to add observables: https://twitter.com/domfarolino/status/1684921351004430336","msgtype":"m.text"},"ts":1690581080150,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$x4wu7MnJBZugyUfW5roPcZbDu8IoG6g_0ZIwPZZxafw"},
{"content":{"body":"specifically to add them to HTML, instead of JS","msgtype":"m.text"},"ts":1690581089958,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$pQC7534xtBowzMhliFocB802lxgqKw96KR8IQfNDt_U"},
{"content":{"body":"for... reasons","msgtype":"m.text"},"ts":1690581093062,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ach1n-dr8OwkxBcRQRW1cYcMyx6zmwxnu6-4aknV-i4"},
{"content":{"body":"reasons that are unclear; i've recommended it be brought back to tc39 on the repo","msgtype":"m.text"},"ts":1690581123360,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$cARK52xxUUQXduZLAUNjRMNIhJ3DhlprAlnX9OvMMvc"},
{"content":{"body":"well, I mean","msgtype":"m.text"},"ts":1690581153226,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ZQzEpT_Zmx-9dFKQT-RfFfSabQaBgeP-r9P6tVSLzmg"},
{"content":{"body":"the reason is almost certainly that he thinks it is not going to get through tc39 in any reasonable timeframe, and wants it in the platform, so he is routing around tc39","msgtype":"m.text"},"ts":1690581183015,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$rSGFq6g3j9UuF3N15viv4FfnK6r27hYjmrEF52ssY7M"},
{"content":{"body":"is there anything in the js spec that would use observables","msgtype":"m.text"},"ts":1690582185748,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$bcBIvvlyeqUOoxBjuaj8E_uUSrjh-y8_jYjReAD2Je8"},
{"content":{"body":"we really need a more robust standard library","msgtype":"m.text"},"ts":1690582200783,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$54aI1luW5L_-kLPawscwbkbXbDTX6UN73j_tUfVqCAE"},
{"content":{"body":"i guess Atomics.waitAsync is the only thing that is ilke an \"event\"","msgtype":"m.text"},"ts":1690582221267,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$ryHN2DDqqX2YydVILg27AAnN8C9PoRY68KLmFaJ98KQ"},
{"content":{"body":"we really really need a more robust standard library yes","msgtype":"m.text"},"ts":1690583686393,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$jmg8BDmDP-zY9ymWJiKRynW3EZyODPkgADG9wyJUvYQ"},
{"content":{"body":"Yeah, the \"just do it in DOM\" is almost certainly an \"avoid the tc39 logjam which is extremely likely to result\" thing. Plus as @snek said, DOM has a use-case immediately (event listeners), while JS itself doesn't.","msgtype":"m.text"},"ts":1690585441261,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$RdbQsUprUo5wcVIWRsPs9QPY229Kt92lfDOQEgJHbVw"},
{"content":{"body":"My 2¢ is that ES already implies the shape of an Observable in the form of sync generator functions (dual to their use as iterators) and that we may as well make it official.\n```\nObservable {\n  next(value: T) => void;\n  return(value: T) => void;\n  throw(error: unknown) => void;\n}\n```","format":"org.matrix.custom.html","formatted_body":"<p>My 2¢ is that ES already implies the shape of an Observable in the form of sync generator functions (dual to their use as iterators) and that we may as well make it official.</p>\n<pre><code>Observable {\n  next(value: T) =&gt; void;\n  return(value: T) =&gt; void;\n  throw(error: unknown) =&gt; void;\n}\n</code></pre>\n","msgtype":"m.text"},"ts":1690585726666,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$TFNsgLSOx4PRp-56JzfMyMMebF8YAesWYP0BEDJAqb0"},
{"content":{"body":"Once @bakkot’s iterator helpers settle, there’ll be plenty of precedents on which to triangulate.","msgtype":"m.text"},"ts":1690585832252,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$m9NmoP9RYNzMJ0XhLTtKo3xptWldd1glO9oENGB99dU"},
{"content":{"body":"(Michael Ficarra's and Yulia's iterator helpers, strictly speaking; I just helped out)","format":"org.matrix.custom.html","formatted_body":"(<a href=\"https://matrix.to/#/@michaelficarra:matrix.org\">Michael Ficarra</a>'s and Yulia's iterator helpers, strictly speaking; I just helped out)","msgtype":"m.text"},"ts":1690586313392,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$1aZDq5_GqDFIWcMc9i6BUJItFxqv4yDzNa78ltLg4e0"},
{"content":{"body":"also iterator helpers have settled and are shipping in Chrome","msgtype":"m.text"},"ts":1690586327394,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Sf5qBmPAFg8thKGbyQEIQAMRZxPBh3cMTKzX6ftXKU8"},
{"content":{"body":"though we'll want to add some more stuff","msgtype":"m.text"},"ts":1690586332905,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ISDQf9jbB2Y7HrJBnlXHWkifGg3RowcTL44PjvHylrs"},
{"content":{"body":"Bradley suggests there may be a performance advantage of implementing this at a higher level.\n\nhttps://twitter.com/bradleymeck/status/1685008883385839616","format":"org.matrix.custom.html","formatted_body":"<p>Bradley suggests there may be a performance advantage of implementing this at a higher level.</p>\n<p>https://twitter.com/bradleymeck/status/1685008883385839616</p>","msgtype":"m.text"},"ts":1690586338327,"senderName":"Rob Palmer","senderId":"@robpalme:matrix.org","id":"$k5N87BBu3GWCBJA25Y2m2e-udQEVZiy8WVTEOkj1Y6E"},
{"content":{"body":"or at least I will","msgtype":"m.text"},"ts":1690586340363,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ASNA_B1KCwi4nNqJTtYrIfP7CkLNBQnYljfUIjXBY54"},
{"content":{"body":"(the observable proposal linked above does indeed draw on iterator helpers for its combinators)","msgtype":"m.text"},"ts":1690586352289,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$mx-uZgl2YuItOFLxc-ZkIWmLYzWSKVp14fnhQD1Ebek"},
{"content":{"body":" * also iterator helpers have settled and are shipping in Chrome (unstable - stable on Sep 12)","m.new_content":{"body":"also iterator helpers have settled and are shipping in Chrome (unstable - stable on Sep 12)","msgtype":"m.text"},"m.relates_to":{"event_id":"$Sf5qBmPAFg8thKGbyQEIQAMRZxPBh3cMTKzX6ftXKU8","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1690586431816,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$B816BN4D03JYYsx6vbIefm3UukiTAcwBevBaml-4HXw"},
{"content":{"body":"> <@kriskowal:matrix.org> My 2¢ is that ES already implies the shape of an Observable in the form of sync generator functions (dual to their use as iterators) and that we may as well make it official.\n> ```\n> Observable {\n>   next(value: T) => void;\n>   return(value: T) => void;\n>   throw(error: unknown) => void;\n> }\n> ```\n\nisn't the point of observables that they're push instead of pull? so no next/return/throw methods","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!WgJwmjBNZEXhJnXHXw:matrix.org/$TFNsgLSOx4PRp-56JzfMyMMebF8YAesWYP0BEDJAqb0?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@kriskowal:matrix.org\">@kriskowal:matrix.org</a><br><p>My 2¢ is that ES already implies the shape of an Observable in the form of sync generator functions (dual to their use as iterators) and that we may as well make it official.</p>\n<pre><code>Observable {\n  next(value: T) =&gt; void;\n  return(value: T) =&gt; void;\n  throw(error: unknown) =&gt; void;\n}\n</code></pre>\n</blockquote></mx-reply>isn't the point of observables that they're push instead of pull? so no next/return/throw methods","m.relates_to":{"m.in_reply_to":{"event_id":"$TFNsgLSOx4PRp-56JzfMyMMebF8YAesWYP0BEDJAqb0"}},"msgtype":"m.text"},"ts":1690587289614,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$m4kju1eJ14yLKLmr0O3X40Glx-iXGHWvTtio1iGjIm0"},
{"content":{"body":"Those are in fact push methods if you look closely.","msgtype":"m.text"},"ts":1690587322702,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$zVHDzgBOU01Hqr-FOp2G3X16aBKrN1I0MPUqXiFWQs4"},
{"content":{"body":"oh i see","msgtype":"m.text"},"ts":1690587347821,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$yZKSzIwHJa5fWgbZJ-t4PtX8Q-BmQAf5tfDIAwBluo8"},
{"content":{"body":"lol","msgtype":"m.text"},"ts":1690587348360,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$LScaSPOTE2sTahuBhRG9jBvw1dsn8-fjgmmyUqQ4XGI"},
{"content":{"body":"I wrote a thing about this about nine years ago. https://github.com/kriskowal/gtor","msgtype":"m.text"},"ts":1690587431714,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$dBFZAaZ8gZA62M90GEPXBIIPvXZxXUN3AQXLR5wHd6I"},
{"content":{"body":"oh you wrote that","msgtype":"m.text"},"ts":1690587450363,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$XLgndtFlbVaQTupxGXhFlh6TGmlFGULu62bV5f5XuJU"},
{"content":{"body":"small world as always","msgtype":"m.text"},"ts":1690587455171,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$BjAoSBuQlaejW83bdp6grjPBWdbOcIvtDPxn0T-9t8A"},
{"content":{"body":"I do intend to dust it off some day since async iterators actually exist now.","msgtype":"m.text"},"ts":1690587607003,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$hbANyMKT7CilPjQm9Yf2ErkZU0N1whMt1NXwabYqohY"}
]