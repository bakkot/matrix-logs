[
{"content":{"body":"Promise pipelining is definitely something I'd like to explore further if there's interest. Right now we're accomplishing it using Proxy objects in which every property on the object is mapped as a promise. It's fairly elegant but does have it's own challenges. ","m.relates_to":{"event_id":"$0h2B0quUVHRxEPv5NG0FsMEt28gPtAD5dyGN1u1brYA","is_falling_back":true,"m.in_reply_to":{"event_id":"$0h2B0quUVHRxEPv5NG0FsMEt28gPtAD5dyGN1u1brYA"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1758597290736,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$uYu60kEOkuDk7-4Tkf4ctnbJO7fr5q6dJqg7CZPszaE"},
{"content":{"body":"I definitely would like to have an extended conversation on this, having built a system where we extensively do RPC and pipelining.\n\nNotably, we prefer keeping explicit async operations (avoid `.` notation for eventual sends).\n\nWe have also effectively given up on using native promises for eventual results for now as it's not currently feasible to track promise adoption. I do however have some ideas around a proposal for an API that could be used by RPC libraries to detect when a promise it created adopts the state of another promise it has access to. Unsurprisingly this requires that the engine performs native promise adoption, and changes how reactions are handled (similar to some of the faster promise adoption proposal approaches)","format":"org.matrix.custom.html","formatted_body":"<p>I definitely would like to have an extended conversation on this, having built a system where we extensively do RPC and pipelining.</p>\n<p>Notably, we prefer keeping explicit async operations (avoid <code>.</code> notation for eventual sends).</p>\n<p>We have also effectively given up on using native promises for eventual results for now as it's not currently feasible to track promise adoption. I do however have some ideas around a proposal for an API that could be used by RPC libraries to detect when a promise it created adopts the state of another promise it has access to. Unsurprisingly this requires that the engine performs native promise adoption, and changes how reactions are handled (similar to some of the faster promise adoption proposal approaches)</p>\n","m.mentions":{},"m.relates_to":{"event_id":"$0h2B0quUVHRxEPv5NG0FsMEt28gPtAD5dyGN1u1brYA","is_falling_back":true,"m.in_reply_to":{"event_id":"$uYu60kEOkuDk7-4Tkf4ctnbJO7fr5q6dJqg7CZPszaE"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1758599173970,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$FG5U3jfhQQ__uTBqWhCgsjCFrrOAlVZfnMWC3b_bU8A"},
{"content":{"body":"Is there any preliminary idea of the schedule for next year's plenaries? Mostly looking whether there will be any January meeting","msgtype":"m.text"},"ts":1758605736579,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$qHGfAGDqaLqhp2kjKlW17srIZzRtXFNpVd_SK6ro4Xo"},
{"content":{"body":"there's usually a meeting in every odd month","m.mentions":{},"msgtype":"m.text"},"ts":1758606679527,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$wbvuGR3U9A5qZmDnqplROiZ5Vtct78PCiW_AYKARhUA"},
{"content":{"body":"I'll try to get you an answer by the end of this week, Mathieu. ","m.mentions":{},"msgtype":"m.text"},"ts":1758621509794,"senderName":"Rob Palmer","senderId":"@robpalme:matrix.org","id":"$-ffPPgaj3ssGmzziD3Hr-fln2TV1vpeARfwItjxgYJQ"},
{"content":{"body":"I don't know much about this topic so maybe it's a weird question, but is this observable in any way from JS code? Or is it just about providing guidance to implementations about some semantics that are already defined?","m.mentions":{},"msgtype":"m.text"},"ts":1758640306911,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$T3THL_Qkx-UD9e0BpMx1zIAQCeUu3ajf2c-fPn0Mt-0"},
{"content":{"body":"I appreciate the clarity of this presentation for those of us who do not have the knowledge of other calendar systems","m.mentions":{},"msgtype":"m.text"},"ts":1758640414400,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$OQuFSwqNPDTnAQ1OOcAqe3HEbD0Oik6JFg9D9-3M6-g"},
{"content":{"body":"Don't forget your summary/conclusion and also if you dictate it, make sure to check it for clarity afterward like you would any other transcription ","m.mentions":{},"msgtype":"m.text"},"ts":1758640814871,"senderName":"Aki","senderId":"@akirose:matrix.org","id":"$-xV-MfISMx8RfT8UdALVoAZCCPFv3zuMvQw7GG99kqE"},
{"content":{"body":"it is observable at least in serialization of Temporal.MonthDay instances: https://tc39.es/proposal-temporal/#sec-temporal-temporalmonthdaytostring\n\nfor example, visit https://tc39.es/proposal-temporal/docs/ and see the varying reference years for Hebrew calendar month–days:\n```\n[\"M05\", \"M05L\"].map(monthCode => Temporal.PlainMonthDay.from({\n  calendar: \"hebrew\", \n  monthCode, \n  day: 1,\n}).toString())\n// => ['1972-01-17[u-ca=hebrew]', '1970-02-07[u-ca=hebrew]']\n```","format":"org.matrix.custom.html","formatted_body":"<p>it is observable at least in serialization of Temporal.MonthDay instances: https://tc39.es/proposal-temporal/#sec-temporal-temporalmonthdaytostring</p>\n<p>for example, visit https://tc39.es/proposal-temporal/docs/ and see the varying reference years for Hebrew calendar month–days:</p>\n<pre><code>[\"M05\", \"M05L\"].map(monthCode =&gt; Temporal.PlainMonthDay.from({\n  calendar: \"hebrew\", \n  monthCode, \n  day: 1,\n}).toString())\n// =&gt; ['1972-01-17[u-ca=hebrew]', '1970-02-07[u-ca=hebrew]']\n</code></pre>\n","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$T3THL_Qkx-UD9e0BpMx1zIAQCeUu3ajf2c-fPn0Mt-0"}},"msgtype":"m.text"},"ts":1758642073976,"senderName":"Richard Gibson","senderId":"@gibson042:matrix.org","id":"$oIyGm_C4hK308M6jipqsu4bWwz2KINKtR1MxH04gVgU"},
{"content":{"body":"ty :)","m.mentions":{},"msgtype":"m.text"},"ts":1758642107366,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$e_pKtPKdx7sDESN-UKYXksq-x3DWgQncDPDohyjHOFg"},
{"content":{"body":"Nobody Promise.anyKeyed/Promise.racedKeyed right? Since Promise.any(Object.values(..)) is not bad to write","m.mentions":{},"msgtype":"m.text"},"ts":1758642645708,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$_PkH_dw2OLDFn8stJGlrfgSFXQKSlb7Zm7YcRXGu9Bw"},
{"content":{"body":"* Nobody Promise.anyKeyed/Promise.raceKeyed right? Since Promise.any(Object.values(..)) is not bad to write","m.mentions":{},"m.new_content":{"body":"Nobody Promise.anyKeyed/Promise.raceKeyed right? Since Promise.any(Object.values(..)) is not bad to write","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$_PkH_dw2OLDFn8stJGlrfgSFXQKSlb7Zm7YcRXGu9Bw","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1758642652844,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$ORl9FQGrT65CyDOkuvNqynBhv4sjbzkzPUF2vavhh94"},
{"content":{"body":"* Nobody wants Promise.anyKeyed/Promise.raceKeyed right? Since Promise.any(Object.values(..)) is not bad to write","m.mentions":{},"m.new_content":{"body":"Nobody wants Promise.anyKeyed/Promise.raceKeyed right? Since Promise.any(Object.values(..)) is not bad to write","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$_PkH_dw2OLDFn8stJGlrfgSFXQKSlb7Zm7YcRXGu9Bw","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1758642662578,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$h38q9RvQr9GiHPuNWA5oz8s-vcFqEPVfr5-3RW8bBQY"},
{"content":{"body":"if it's not producing multiple results then there'd be no value in a keyed variant, yes","m.mentions":{},"msgtype":"m.text"},"ts":1758642686653,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$s7UkE34SaikLdIXEOBEi8yW0IjJYwo4tHQ7MvE7vBwY"},
{"content":{"body":"yes, the reference year is serialized in toString","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$T3THL_Qkx-UD9e0BpMx1zIAQCeUu3ajf2c-fPn0Mt-0"}},"msgtype":"m.text"},"ts":1758642702457,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$ckxmq_3Sy6GNmRsNGz4XTLKe4aceveuVyLjcpNNLLhs"},
{"content":{"body":"A Promise.raceKeyed method that returns an object with one property that has the resolved value, and all the other are still set to pending promises! :P","m.mentions":{"user_ids":["@ljharb:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$s7UkE34SaikLdIXEOBEi8yW0IjJYwo4tHQ7MvE7vBwY"}},"msgtype":"m.text"},"ts":1758642729735,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$_bO9OYpILhUqIbANez2k2cqLUbG7dwqtOVB3SVpt0xQ"},
{"content":{"body":"are these pending promises handled? or unhandled?","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$_bO9OYpILhUqIbANez2k2cqLUbG7dwqtOVB3SVpt0xQ"}},"msgtype":"m.text"},"ts":1758642773610,"senderName":"Chengzhong Wu","senderId":"@legendecas:matrix.org","id":"$-6K7FT4vgYeDvowcPwcL9lse3dgo0cX8hSgjUDI9Yzw"},
{"content":{"body":"I have unironically wanted this very often","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$_bO9OYpILhUqIbANez2k2cqLUbG7dwqtOVB3SVpt0xQ"}},"msgtype":"m.text"},"ts":1758642791426,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Vndk4PbegQaehaPEUMd1N9q33UsAZJ7nNWg9A51LEn0"},
{"content":{"body":"though the shape I want is something like, `select(arrayOfPromises)` which returns the first to settle and removes it from the array","format":"org.matrix.custom.html","formatted_body":"though the shape I want is something like, <code>select(arrayOfPromises)</code> which returns the first to settle and removes it from the array","m.mentions":{},"msgtype":"m.text"},"ts":1758642816994,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$04ozk8X0Y2PD_g7nDLrHAmwnyGAYo9GDDMv_GZKl2j8"}
]