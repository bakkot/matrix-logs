[
{"content":{"body":"Sorry all for being late to reply to Temporal-related posts above. Was so relieved to be done with my 15 mins of fame this morning that I forgot to check the delegates channel afterwards. ðŸ˜„ I'll add a few notes and replies now.\n\n ","msgtype":"m.text"},"ts":1635379360400,"senderName":"justingrant","senderId":"@justingrant:matrix.org","id":"$2a9TWGhXpz3FZxVSNgph4trV5mWWPAg8uXlDXEOWkEY"},
{"content":{"body":"> <@pchimento:igalia.com> bterlson: is the remaining point for Temporal already on the list of overflow topics for tomorrow or should I request that somewhere in particular?\n\nI didn't see a response to this so I went ahead and added Temporal to the overflow section in the HackMD page. If this was wrong, please feel free to revert and let us know about the correct process. Thanks!","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!WgJwmjBNZEXhJnXHXw:matrix.org/$GEgMcKlJjVgEEzwYDSsZUp4aFnNsftyW_l8y_SyZCGI?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@pchimento:igalia.com\">@pchimento:igalia.com</a><br><a href=\"https://matrix.to/#/@bterlson:matrix.org\">bterlson</a>: is the remaining point for Temporal already on the list of overflow topics for tomorrow or should I request that somewhere in particular?</blockquote></mx-reply>I didn't see a response to this so I went ahead and added Temporal to the overflow section in the HackMD page. If this was wrong, please feel free to revert and let us know about the correct process. Thanks!","m.relates_to":{"m.in_reply_to":{"event_id":"$GEgMcKlJjVgEEzwYDSsZUp4aFnNsftyW_l8y_SyZCGI"}},"msgtype":"m.text"},"ts":1635379572316,"senderName":"justingrant","senderId":"@justingrant:matrix.org","id":"$oAePZPSKPOPvVQGv43i9NdoLa-3cqDPbm0wmk5tf6pQ"},
{"content":{"body":"> <@ljharb:matrix.org> and nobody disputes that temporal's problem space is a hellish nightmare\n\nFinally, we've found an invariant we can all agree with! ðŸ˜„","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!WgJwmjBNZEXhJnXHXw:matrix.org/$NnV3Mm3XeNL_XEeruiwGBIJSvec8iEvTw_Et3P_w9Aw?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@ljharb:matrix.org\">@ljharb:matrix.org</a><br>and nobody disputes that temporal&#39;s problem space is a hellish nightmare</blockquote></mx-reply>Finally, we've found an invariant we can all agree with! ðŸ˜„","m.relates_to":{"m.in_reply_to":{"event_id":"$NnV3Mm3XeNL_XEeruiwGBIJSvec8iEvTw_Et3P_w9Aw"}},"msgtype":"m.text"},"ts":1635379884153,"senderName":"justingrant","senderId":"@justingrant:matrix.org","id":"$zkDopF9BKUv-wy8oPFlzxByETwSzYilIQWhU-3C-mOc"},
{"content":{"body":"> <@ljharb:matrix.org> it can be very hard to figure out what one did wrong with APIs like this, at any experience level. good error messages help but aren't always sufficient.\n\nSpeaking of error messages, one suggestion I'd have for the committee: a standardized way for the spec to provide hints to implementers about error messages, and guidelines for proposal authors for when to provide those hints in the spec. Proposal authors (especially if the proposal's polyfill gets a lot of use) have a lot of tribal knowledge about the requirements for error messages, but AFAIK there's not really an \"official\" way to convey that knowledge to implementers. Nor is there a requirement that proposal authors think through the \"how are users likely to misuse this API and what should the error message say to help them?\" problem.  I don't think that implementers should be required to use any particular error message, but IMO having more clarity and consistency in error messages across implementations seems like a good idea, both to help users and to avoid inevitable churn from bug reports asking to improve error messages after the implementation ships. Also, implementers may not have insight into the kinds of bugs that users will run into, so they may not be in the best position to write the most helpful error message text without getting those bug reports.\n\nI'm not proposing any specific solution, but did want to highlight the problem and see if there was any existing prior art on the committee around this issue. ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!WgJwmjBNZEXhJnXHXw:matrix.org/$P8n9S8D_FWz5x0USQbr5LM5KSbwojvFFxKs2cMSJuOM?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@ljharb:matrix.org\">@ljharb:matrix.org</a><br>it can be very hard to figure out what one did wrong with APIs like this, at any experience level. good error messages help but aren&#39;t always sufficient.</blockquote></mx-reply><p>Speaking of error messages, one suggestion I'd have for the committee: a standardized way for the spec to provide hints to implementers about error messages, and guidelines for proposal authors for when to provide those hints in the spec. Proposal authors (especially if the proposal's polyfill gets a lot of use) have a lot of tribal knowledge about the requirements for error messages, but AFAIK there's not really an &quot;official&quot; way to convey that knowledge to implementers. Nor is there a requirement that proposal authors think through the &quot;how are users likely to misuse this API and what should the error message say to help them?&quot; problem.  I don't think that implementers should be required to use any particular error message, but IMO having more clarity and consistency in error messages across implementations seems like a good idea, both to help users and to avoid inevitable churn from bug reports asking to improve error messages after the implementation ships. Also, implementers may not have insight into the kinds of bugs that users will run into, so they may not be in the best position to write the most helpful error message text without getting those bug reports.</p>\n<p>I'm not proposing any specific solution, but did want to highlight the problem and see if there was any existing prior art on the committee around this issue.</p>\n","m.relates_to":{"m.in_reply_to":{"event_id":"$P8n9S8D_FWz5x0USQbr5LM5KSbwojvFFxKs2cMSJuOM"}},"msgtype":"m.text"},"ts":1635380414162,"senderName":"justingrant","senderId":"@justingrant:matrix.org","id":"$t5hr-6iloaV4CESQSakCnG857_Sbdgvt9bZgUl2-3r8"},
{"content":{"body":"> <@waldemarh:matrix.org> I'm not saying that the options bag should be optional. But if you pass an options bag without a smallestUnit, then round should be the identity.\n\nWe'll plan to spend our overflow time tomorrow focusing on this question. Reading the replies above, I believe that there are three possible solutions:\n\n1. `.round({})` is allowed (and does nothing), but `.round()` throws.\n2. Both are accepted and do nothing.\n3. Both throw.\n\nThe current Temporal Stage 3 proposal uses (3). There were two reasons the champions selected (3): first, because it's a no-op and likely a programmer bug, and second for defense against typos in the property name like `.round({smalestUnit: 'second'})` which would be treated the same as `.round({})`.  (Sadly there's no typo defense for optional property names without breaking extensibility, but our opinion was that preventing at least some bugs was better than preventing no bugs.)\n\nOne request I'll relay from ptomato: this proposal is already in Stage 3, so we'd ask for there to be a really persuasive case to change the existing plan of record. The default should be that we stick with what's already been approved, because we really want to get this API shipped soon!","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!WgJwmjBNZEXhJnXHXw:matrix.org/$tWwDvs38e33EnV93jzBNcjungw3mZM7OfN5E6Dj8Bsk?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@waldemarh:matrix.org\">@waldemarh:matrix.org</a><br>I&#39;m not saying that the options bag should be optional. But if you pass an options bag without a smallestUnit, then round should be the identity.</blockquote></mx-reply><p>We'll plan to spend our overflow time tomorrow focusing on this question. Reading the replies above, I believe that there are three possible solutions:</p>\n<ol>\n<li><code>.round({})</code> is allowed (and does nothing), but <code>.round()</code> throws.</li>\n<li>Both are accepted and do nothing.</li>\n<li>Both throw.</li>\n</ol>\n<p>The current Temporal Stage 3 proposal uses (3). There were two reasons the champions selected (3): first, because it's a no-op and likely a programmer bug, and second for defense against typos in the property name like <code>.round({smalestUnit: 'second'})</code> which would be treated the same as <code>.round({})</code>.  (Sadly there's no typo defense for optional property names without breaking extensibility, but our opinion was that preventing at least some bugs was better than preventing no bugs.)</p>\n<p>One request I'll relay from <a href=\"https://matrix.to/#/@pchimento:igalia.com\">ptomato</a>: this proposal is already in Stage 3, so we'd ask for there to be a really persuasive case to change the existing plan of record. The default should be that we stick with what's already been approved, because we really want to get this API shipped soon!</p>\n","m.relates_to":{"m.in_reply_to":{"event_id":"$tWwDvs38e33EnV93jzBNcjungw3mZM7OfN5E6Dj8Bsk"}},"msgtype":"m.text"},"ts":1635381370484,"senderName":"justingrant","senderId":"@justingrant:matrix.org","id":"$ibI7_EYlpjIO3_56d_LLPVVlFruGLYhN_ENTCDs7gec"}
]