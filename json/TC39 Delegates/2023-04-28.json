[
{"content":{"body":"a dev in my chat group just hit this foot gun","msgtype":"m.text"},"ts":1682690501280,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$HSNJlh4UFEQhvZ1nx1eTzF6wdG_0ByfzxLPqRiQ_3Pw"},
{"content":{"body":"https://github.com/microsoft/TypeScript/pull/54056","msgtype":"m.text"},"ts":1682690502632,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$72ymmwdfKb-FT-sARxf4XKkWE5-E06X07GieIdHgasI"},
{"content":{"body":"the only correct way to inherit a class like this is to:\n```js\nclass T extends Parent {\n    constructor() {\n        super()\n        const old = this.foo\n        this.foo = () => old.call(this)\n    }\n}\n```","format":"org.matrix.custom.html","formatted_body":"<p>the only correct way to inherit a class like this is to:</p>\n<pre><code class=\"language-js\">class T extends Parent {\n    constructor() {\n        super()\n        const old = this.foo\n        this.foo = () =&gt; old.call(this)\n    }\n}\n</code></pre>\n","msgtype":"m.text"},"ts":1682690546710,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$OY8lWKoVPNln92lpsXy04gvatom_1dSx57tEWIDE-Ao"},
{"content":{"body":"looks like we have too much footgun with class fields","msgtype":"m.text"},"ts":1682690572601,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$wpVHlwfq7aqUASSEKda1-RKRU8hgTP2JhJem0YSPl2U"},
{"content":{"body":"that doesn't really look like a footgun to me","msgtype":"m.text"},"ts":1682696279677,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$bnWRh15F42NV9v0fjITuJUK0bHJ1qG-A6wjznnYPCPk"},
{"content":{"body":"or at least not a footgun with class fields","msgtype":"m.text"},"ts":1682696290132,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ph7ry1bPaRShdaXCxntLB2oIziVK7sWCykHAf2qAkFk"},
{"content":{"body":"indeed, that looks fine to me","msgtype":"m.text"},"ts":1682710105725,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$V8Bw1zcgzRMIhoi8tDJ_YHgnmBcQ4sNdC-VDwg_vl1I"},
{"content":{"body":"i'd probably do something like\n```\nclass T extends Parent {\n  #oldFoo = this.foo;\n  foo = () => this.#oldFoo.call(this);\n}\n```\ntho","format":"org.matrix.custom.html","formatted_body":"<p>i'd probably do something like</p>\n<pre><code>class T extends Parent {\n  #oldFoo = this.foo;\n  foo = () =&gt; this.#oldFoo.call(this);\n}\n</code></pre>\n<p>tho</p>\n","msgtype":"m.text"},"ts":1682710184569,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$DYtykPhCWN8UE75E9w77rDLo4OduBWGcYepFDouIJK4"},
{"content":{"body":" * i'd probably do something like\n\n```\nclass T extends Parent {\n  #oldFoo = this.foo;\n  foo = () => this.#oldFoo.call(this);\n}\n```\n\ntho, to avoid a constructor","format":"org.matrix.custom.html","formatted_body":" * <p>i'd probably do something like</p>\n<pre><code>class T extends Parent {\n  #oldFoo = this.foo;\n  foo = () =&gt; this.#oldFoo.call(this);\n}\n</code></pre>\n<p>tho, to avoid a constructor</p>\n","m.new_content":{"body":"i'd probably do something like\n\n```\nclass T extends Parent {\n  #oldFoo = this.foo;\n  foo = () => this.#oldFoo.call(this);\n}\n```\n\ntho, to avoid a constructor","format":"org.matrix.custom.html","formatted_body":"<p>i'd probably do something like</p>\n<pre><code>class T extends Parent {\n  #oldFoo = this.foo;\n  foo = () =&gt; this.#oldFoo.call(this);\n}\n</code></pre>\n<p>tho, to avoid a constructor</p>\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$DYtykPhCWN8UE75E9w77rDLo4OduBWGcYepFDouIJK4","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1682710195896,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$ll-DtSkC0Mz84r2JqL2_wdBBT9_X870VvXSygSbspSM"}
]