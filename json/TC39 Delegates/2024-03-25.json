[
{"content":{"body":"Hello all, it is four days until the proposal advancement deadline for the April plenary meeting.\n\n[The current agenda](https://github.com/tc39/agendas/blob/main/2024/04.md) is very light and could be completed in half a day.  Meaning we have three and a half days of capacity.","format":"org.matrix.custom.html","formatted_body":"<p>Hello all, it is four days until the proposal advancement deadline for the April plenary meeting.</p>\n<p><a href=\"https://github.com/tc39/agendas/blob/main/2024/04.md\">The current agenda</a> is very light and could be completed in half a day.  Meaning we have three and a half days of capacity.</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1711359872090,"senderName":"Rob Palmer","senderId":"@robpalme:matrix.org","id":"$hSVOInFGB6KKqbY0UHn4O92VOJzOt9wu10x_bZpAtrw"},
{"content":{"body":"I have something for the agenda but I need to know how to make the PR first, so I'd love editor feedback or whatever on\nhttps://github.com/tc39/ecma262/issues/3295#issuecomment-2011714685","m.mentions":{},"msgtype":"m.text"},"ts":1711363259215,"senderName":"rkirsling","senderId":"@rkirsling:matrix.org","id":"$bwRzAPLXI6VxHQ_w384LU0OnNIAihPPt7mLlAISE1Os"},
{"content":{"body":"When there is a browser-specific bug that depends on how the engine implemented a given feature, does it make sense to open a test262 PR or is it's better to just have it as a test in the browser's code base? (concretely, https://bugzilla.mozilla.org/show_bug.cgi?id=1887677)","m.mentions":{},"msgtype":"m.text"},"ts":1711381022770,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$5WIk5yj9FZwIRwX9AmHQYnOQNNzKcyqYTKDyaJ6d_qA"},
{"content":{"body":"personally I am in favor of more test262 tests","m.mentions":{},"msgtype":"m.text"},"ts":1711381137733,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$zcnHxhz5JzmpgLxvdzKHDjGJd6EcotSfHK3s0_0UKYw"},
{"content":{"body":"as long as it's not _so_ specific to one engine's internals that it is unimaginable anyone else would hit it, which this does not appear to be","format":"org.matrix.custom.html","formatted_body":"as long as it's not <em>so</em> specific to one engine's internals that it is unimaginable anyone else would hit it, which this does not appear to be","m.mentions":{},"msgtype":"m.text"},"ts":1711381206554,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$sSsjuYzD4dgQ62BqYpVQIuBsFTwUOKwszuBei0Oauco"},
{"content":{"body":"Oh lol, Babel versions up to a couple months ago would also compile that code wrong","msgtype":"m.text"},"ts":1711381423431,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$c5H1irOB4f7DX2gjFjDgPzMPOQtVUwKfudKm0fGZKls"},
{"content":{"body":"(for different reasons though)","msgtype":"m.text"},"ts":1711381435653,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$-7AQajQinWb0nFa2fXlXGEqtRGgHqQktM2aTQvwMGWU"},
{"content":{"body":"I'll submit a test","msgtype":"m.text"},"ts":1711381440298,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$NtieDLfPfpK7FrCMz6nTKTt9mrJSE8vie6dtyI7xVOo"},
{"content":{"body":"thoughts on, could we add a \"index to start searching at\" argument to `String.p.match` and `RegExp.p.test` and friends without breaking the web? (so that you don't have to do the awful \"mutate the lastIndex property of a `/g` or `/y` regexp object\" thing)","format":"org.matrix.custom.html","formatted_body":"thoughts on, could we add a \"index to start searching at\" argument to <code>String.p.match</code> and <code>RegExp.p.test</code> and friends without breaking the web? (so that you don't have to do the awful \"mutate the lastIndex property of a <code>/g</code> or <code>/y</code> regexp object\" thing)","m.mentions":{},"msgtype":"m.text"},"ts":1711388612949,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$0iK3jTt1J6L_U-rH5RD0n_10xFdiEk-7oUFvqf2ZNgk"},
{"content":{"body":"that would be awesome, but i'm not sure if we could get away with it. probably fine on matchAll and replaceAll, but the older ones are the ones i'm concerned with","m.mentions":{},"msgtype":"m.text"},"ts":1711388845520,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$87h2eijGgkghC09VSMg3nWB70MuT0-r0C9hliPCMyPA"},
{"content":{"body":"usual concern with adding extra parameters is use with `.map` but since these are methods they can't easily be passed to `.map`, and I can't think why else someone would be passing stuff here","format":"org.matrix.custom.html","formatted_body":"usual concern with adding extra parameters is use with <code>.map</code> but since these are methods they can't easily be passed to <code>.map</code>, and I can't think why else someone would be passing stuff here","m.mentions":{},"msgtype":"m.text"},"ts":1711388970908,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$lVVNEWDDKXHbvKNpGNW8iRGNqiG0PobOeQ4o5_fordw"},
{"content":{"body":"I guess if we wanted to be really safe we could have it be an options bag and ignore the argument if is not an object with a `fromIndex` property","format":"org.matrix.custom.html","formatted_body":"I guess if we wanted to be really safe we could have it be an options bag and ignore the argument if is not an object with a <code>fromIndex</code> property","m.mentions":{},"msgtype":"m.text"},"ts":1711389003838,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Fwd8ZHNaD0mYv83ea5_mVF_ioikHzd2W-gRFzGvY4Os"},
{"content":{"body":"It would be *really* worthwhile to figure out how to do that, I use those args in Python moderately often and would def feel their lack in JS if I was doing more serious coding in it.","format":"org.matrix.custom.html","formatted_body":"It would be <em>really</em> worthwhile to figure out how to do that, I use those args in Python moderately often and would def feel their lack in JS if I was doing more serious coding in it.","m.mentions":{},"msgtype":"m.text"},"ts":1711391729267,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$NSEZa6tT80sMQ314Rd3yBXPZMlWSzJCUWWrWMQRv3AY"},
{"content":{"body":"Would it work for non-global/sticky regexs?","msgtype":"m.text"},"ts":1711391776840,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$hNsF0s3ycOZe7v8coe_x4ijzDOBDxMUooX9PEHmFoIg"},
{"content":{"body":"That would be the goal yes","m.mentions":{},"msgtype":"m.text"},"ts":1711392627026,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$3sr2_JDoEkJ0nlc7kCdlBQ9wEks2fv4qlepsdm22kSo"},
{"content":{"body":"and for global/sticky I would want it to take precedence over the lastIndex property","m.mentions":{},"msgtype":"m.text"},"ts":1711392653435,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$c4Y5-Zrc79yqD5h97RoTrE2gLXSQxjB1xUu4GzK2fFs"},
{"content":{"body":"especially for global - e.g. for `\"xxxxx\".match(/x/g, index)` I would want it to return an array of only those matches subsequent to `index`","format":"org.matrix.custom.html","formatted_body":"especially for global - e.g. for <code>\"xxxxx\".match(/x/g, index)</code> I would want it to return an array of only those matches subsequent to <code>index</code>","m.mentions":{},"msgtype":"m.text"},"ts":1711392748266,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$KoM0j6c-Q-fkyEiLY-uWDoGWqJ3sdPySydFr01fMc7E"},
{"content":{"body":"the specification is easy because the machinery already handles starting from a given index, we just need to expose it in a better way","m.mentions":{},"msgtype":"m.text"},"ts":1711392827756,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$76ymZasHEMvlMc3RFf-cOWayTY33a6_PGwezTSn0UOk"},
{"content":{"body":"maybe for global/sticky we could say that it throws if the lastIndex property is non-zero, similarly to how matchAll throws if given a non-`g` regexps","format":"org.matrix.custom.html","formatted_body":"maybe for global/sticky we could say that it throws if the lastIndex property is non-zero, similarly to how matchAll throws if given a non-<code>g</code> regexps","m.mentions":{},"msgtype":"m.text"},"ts":1711392879626,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$pCcZa1vGWt2Hf_lM1oQWJ__mnO3xxnAFbFSwgMug5OM"},
{"content":{"body":"though that's probably overkill","m.mentions":{},"msgtype":"m.text"},"ts":1711392955145,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$fWpb4X_uZrYYews1dd3jd8ce_m0SvRuNVDaepdTuh58"},
{"content":{"body":"I think that’s overkill, just preference the param over the prop.","msgtype":"m.text"},"ts":1711396227096,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$sVVCBtX2tlo1ZkEGyyzfjIJ8Lc3wDfH9ubcOmWf_T94"},
{"content":{"body":"But definitey +1, that’d be great to have","msgtype":"m.text"},"ts":1711396236086,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$mBwUCKGgLe_ZwLsiLMdlj4A6y1FYQBU7t3Do16cPluw"},
{"content":{"body":"Fixes an obvious bug when forgetting to reset the `lastIndex`","format":"org.matrix.custom.html","formatted_body":"Fixes an obvious bug when forgetting to reset the <code data-md=\"`\">lastIndex</code>","msgtype":"m.text"},"ts":1711396270996,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$DHqFj_zi3Asu5E6J0pcjMGRwiOi77tJc1NfxPR7zZB8"},
{"content":{"body":"* Fixes an obvious bug I’ve hit when forgetting to reset the `lastIndex` before starting a global search","format":"org.matrix.custom.html","formatted_body":"Fixes an obvious bug I’ve hit when forgetting to reset the <code data-md=\"`\">lastIndex</code> before starting a global search","m.new_content":{"body":"Fixes an obvious bug I’ve hit when forgetting to reset the `lastIndex` before starting a global search","format":"org.matrix.custom.html","formatted_body":"Fixes an obvious bug I’ve hit when forgetting to reset the <code data-md=\"`\">lastIndex</code> before starting a global search","msgtype":"m.text"},"m.relates_to":{"event_id":"$DHqFj_zi3Asu5E6J0pcjMGRwiOi77tJc1NfxPR7zZB8","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1711396283923,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$K0YzZ_OSX7Djw7ocuot8Hl6gHRmmcwDAs9IQpKh2hxg"},
{"content":{"body":"> <@bakkot:matrix.org> as long as it's not _so_ specific to one engine's internals that it is unimaginable anyone else would hit it, which this does not appear to be\n\nI think we should encourage test262 tests even when it's regression tests for bugs, since these sometimes *do* hit multiple implementations in a similar way. (I've had arguments with maintainers in the past about whether these are allowed to go upstream. The new cheat code is to put them in staging if someone feels like arguing with you.)","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!WgJwmjBNZEXhJnXHXw:matrix.org/$sSsjuYzD4dgQ62BqYpVQIuBsFTwUOKwszuBei0Oauco?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">@bakkot:matrix.org</a><br>as long as it's not <em>so</em> specific to one engine's internals that it is unimaginable anyone else would hit it, which this does not appear to be</blockquote></mx-reply>I think we should encourage test262 tests even when it's regression tests for bugs, since these sometimes <em>do</em> hit multiple implementations in a similar way. (I've had arguments with maintainers in the past about whether these are allowed to go upstream. The new cheat code is to put them in staging if someone feels like arguing with you.)","m.mentions":{"user_ids":["@bakkot:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$sSsjuYzD4dgQ62BqYpVQIuBsFTwUOKwszuBei0Oauco"}},"msgtype":"m.text"},"ts":1711398328296,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$iLF71OkyY1KKbSzGM7AWVAv91QkFqiE-PrT0dMeiEAw"},
{"content":{"body":"littledan: we are encouraging that for v8 development with 2-way sync now in place (though more primitive than WPT's). it's still a judgment call on whether something is v8-specific or not, though","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@littledan:matrix.org\">littledan</a>: we are encouraging that for v8 development with 2-way sync now in place (though more primitive than WPT's). it's still a judgment call on whether something is v8-specific or not, though","m.mentions":{"user_ids":["@littledan:matrix.org"]},"msgtype":"m.text"},"ts":1711399082683,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$-AIrAZIflj_6dBP52iOWEGHfIDA3Fb-No06zhUd6ENQ"},
{"content":{"body":"the rule of thumb is probably \"if it doesn't use internal testing functions, and doesn't require a specific set of shell flags to repro\"","m.mentions":{},"msgtype":"m.text"},"ts":1711399411151,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$hMdOWgOygaSo4uYSd99-CLcRCEi9kKhDUz4OWhZEcdU"},
{"content":{"body":"but there is concern from infra folks about how long it takes the suite to run. i don't think there's anything we can do about that afaict","m.mentions":{},"msgtype":"m.text"},"ts":1711399520547,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$RZyBH4cmk3INKLQK-MmsexlMvfm5NE5cUTFOjG4f5WA"},
{"content":{"body":"(tbc they already think it takes too long to run and keep having to add shards to some configurations, like debug builds)","m.mentions":{},"msgtype":"m.text"},"ts":1711399544532,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$xkUzBHxldGDgKx9cViH0Bh0EHHfEQFICf2xYF3EdqD0"},
{"content":{"body":"> i don't think there's anything we can do about that afaict\n\nmake your engine faster, obviously","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>i don't think there's anything we can do about that afaict</p>\n</blockquote>\n<p>make your engine faster, obviously</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1711399573003,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$r1ILyXjcRM-RC0qngo9rcJN26eh6Vzyx2QnTrTmTiCU"},
{"content":{"body":"cmon i'm just a small little feature developer","m.mentions":{},"msgtype":"m.text"},"ts":1711399660910,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$Gxwfye_aJnXg4Bb8-NmMb0HjLPh_YE_gPI7dYq33GE8"},
{"content":{"body":"> <@shuyuguo:matrix.org> but there is concern from infra folks about how long it takes the suite to run. i don't think there's anything we can do about that afaict\n\nI wonder if some of the templated tests might be slightly excessive, in terms of number of tests and amount of real coverage that they give. But it's always tricky to consider removing tests/putting them into a lower tier.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!WgJwmjBNZEXhJnXHXw:matrix.org/$RZyBH4cmk3INKLQK-MmsexlMvfm5NE5cUTFOjG4f5WA?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@shuyuguo:matrix.org\">@shuyuguo:matrix.org</a><br>but there is concern from infra folks about how long it takes the suite to run. i don&#39;t think there&#39;s anything we can do about that afaict</blockquote></mx-reply>I wonder if some of the templated tests might be slightly excessive, in terms of number of tests and amount of real coverage that they give. But it's always tricky to consider removing tests/putting them into a lower tier.","m.mentions":{"user_ids":["@shuyuguo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$RZyBH4cmk3INKLQK-MmsexlMvfm5NE5cUTFOjG4f5WA"}},"msgtype":"m.text"},"ts":1711399717427,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$alKfMsPKlDV6pxQL5zhIUBI76piWN9dZwvI4UUgbHZA"},
{"content":{"body":"> <@littledan:matrix.org> I wonder if some of the templated tests might be slightly excessive, in terms of number of tests and amount of real coverage that they give. But it's always tricky to consider removing tests/putting them into a lower tier.\n\ni wonder the same thing, but at the same time i'm skeptical anyone will do the work for removing tests","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!WgJwmjBNZEXhJnXHXw:matrix.org/$alKfMsPKlDV6pxQL5zhIUBI76piWN9dZwvI4UUgbHZA?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@littledan:matrix.org\">@littledan:matrix.org</a><br>I wonder if some of the templated tests might be slightly excessive, in terms of number of tests and amount of real coverage that they give. But it's always tricky to consider removing tests/putting them into a lower tier.</blockquote></mx-reply>i wonder the same thing, but at the same time i'm skeptical anyone will do the work for removing tests","m.mentions":{"user_ids":["@littledan:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$alKfMsPKlDV6pxQL5zhIUBI76piWN9dZwvI4UUgbHZA"}},"msgtype":"m.text"},"ts":1711399810447,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$qWiWXO_FKrPkOAD6YtEPsaB5K2fesNJYyphXJTkoBRA"},
{"content":{"body":"like, unless infra literally tells me \"we are out of compute money\" i am just going to not and say \"ah sorry yes it is a large suite\"","m.mentions":{},"msgtype":"m.text"},"ts":1711399854378,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$Al5bsXK3nlxILGTGjZZZzaoFDW5RKrAARgMrIEV0qdM"},
{"content":{"body":" * like, unless infra literally tells me \"we are out of compute money\" i am just going to nod and say \"ah sorry yes it is a large suite\"","m.mentions":{},"m.new_content":{"body":"like, unless infra literally tells me \"we are out of compute money\" i am just going to nod and say \"ah sorry yes it is a large suite\"","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$Al5bsXK3nlxILGTGjZZZzaoFDW5RKrAARgMrIEV0qdM","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1711399862732,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$FfRXMzIpQfkUuH8cAjyMINMv-IMAHIhXbwStkCtEk1g"}
]