[
{"content":{"body":"so i realized while implementing is/toWellFormed that, while web engines today with 1-byte and 2-byte strings can make `isWellFormed` constant time trivially for 1-byte strings, optimizing for 2-byte strings is actually fairly involved","format":"org.matrix.custom.html","formatted_body":"so i realized while implementing is/toWellFormed that, while web engines today with 1-byte and 2-byte strings can make <code>isWellFormed</code> constant time trivially for 1-byte strings, optimizing for 2-byte strings is actually fairly involved","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"so i realized while implementing is/toWellFormed that, while web engines today with 1-byte and 2-byte strings can make `isWellFormed` constant time trivially for 1-byte strings, optimizing for 2-byte strings is actually fairly involved","mimetype":"text/plain"},{"body":"so i realized while implementing is/toWellFormed that, while web engines today with 1-byte and 2-byte strings can make <code>isWellFormed</code> constant time trivially for 1-byte strings, optimizing for 2-byte strings is actually fairly involved","mimetype":"text/html"}]},"ts":1671744080150,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$3RlNgrsjMmoybbv32vO0wCE49arCpvucr26FvQRp3Uw"},
{"content":{"body":"does anyone have any intuitions on the performance expectations and usage patterns?","msgtype":"m.text","org.matrix.msc1767.text":"does anyone have any intuitions on the performance expectations and usage patterns?"},"ts":1671744114325,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$RDcu7Yth-vFSYN9JiRIG4tbri8jgaYNjyXZGAeb_eWA"},
{"content":{"body":"for 2-byte strings, that is","msgtype":"m.text","org.matrix.msc1767.text":"for 2-byte strings, that is"},"ts":1671744126993,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$pRGO_7oxnNRMJNbYonbz8L-9Fg5jU0RQcNSlUyT4x3M"},
{"content":{"body":"@shu I'm not sure there are any major expectations for an initial implementation, but there certainly were hopes that this is something that could have optimization potential in time so that it could be used as a guard / check without too much perf overhead. How involved is it looking?","msgtype":"m.text","org.matrix.msc1767.text":"@shu I'm not sure there are any major expectations for an initial implementation, but there certainly were hopes that this is something that could have optimization potential in time so that it could be used as a guard / check without too much perf overhead. How involved is it looking?"},"ts":1671744630041,"senderName":"guybedford","senderId":"@guybedford:matrix.org","id":"$08qQSSRicSHGnuLQsdjS6dcOmEfo93jhkLlNtjnBGnI"},
{"content":{"body":"couldn't it be optimized opportunistically? ­maybe caching the result, and setting it at first if a string was created from UTF-8, for example","msgtype":"m.text","org.matrix.msc1767.text":"couldn't it be optimized opportunistically? ­maybe caching the result, and setting it at first if a string was created from UTF-8, for example"},"ts":1671744826804,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$6CBKxdB-ztjXGJClegxvJzWrHDyIxS9bQ-YMfOmkjdY"},
{"content":{"body":" * couldn't it be optimized opportunistically? ­maybe caching the result, and setting it at first if a string was created from UTF-8, for example","m.new_content":{"body":"couldn't it be optimized opportunistically? ­maybe caching the result, and setting it at first if a string was created from UTF-8, for example","msgtype":"m.text","org.matrix.msc1767.text":"couldn't it be optimized opportunistically? ­maybe caching the result, and setting it at first if a string was created from UTF-8, for example"},"m.relates_to":{"event_id":"$6CBKxdB-ztjXGJClegxvJzWrHDyIxS9bQ-YMfOmkjdY","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * couldn't it be optimized opportunistically? ­maybe caching the result, and setting it at first if a string was created from UTF-8, for example"},"ts":1671744833477,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$7BadSgFVc9CX4u5By-pcsIGyxpzu9CJZwvtARKNb7b0"},
{"content":{"body":"I'd sort of expect that its usage would ramp up over time (if it becomes widely used at all), so the optimizations that shu and Andreu are thinking of could wait","msgtype":"m.text","org.matrix.msc1767.text":"I'd sort of expect that its usage would ramp up over time (if it becomes widely used at all), so the optimizations that shu and Andreu are thinking of could wait"},"ts":1671744894875,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$kJJJgm2XKgYMOa-2lowefNEoxdEf-Kjg-geaN0ktzGI"}
]