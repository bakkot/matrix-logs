[
{"content":{"body":"my takeaway from this poll is not \"we need a bunch more syntax for accessors\"","m.mentions":{},"msgtype":"m.text"},"ts":1769008617366,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$KQfJiPoUitIrUb9lLkjCXsI6vYPAjtQ-xpXJugJvn5Q"},
{"content":{"body":"Oh damn I missed the beginning of plenary, thank you for writing a message here","m.mentions":{},"msgtype":"m.text"},"ts":1769008702839,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$PLfJJXxSj49XFmenJUFsSts_uAuqOpTvDA0zjbSH3Uw"},
{"content":{"body":"Is there a link to the slides?","m.mentions":{},"msgtype":"m.text"},"ts":1769008829232,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$eAtwLbszsiaEkCxf7yiIuWvMWXzr_PE-Q7Ep9eWOoiM"},
{"content":{"body":"reminder to note-takers that if the captioner is inserting newlines, they don't have to worry about those. I'll take care of them at conversion time.","m.mentions":{},"msgtype":"m.text"},"ts":1769008841677,"senderName":"Aki","senderId":"@akirose:matrix.org","id":"$7twphqX-zYHJ-rghwKbFdZlK8Xl7ESD9hSehcZ2Efoo"},
{"content":{"body":"proposal repo, it's html","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$eAtwLbszsiaEkCxf7yiIuWvMWXzr_PE-Q7Ep9eWOoiM"}},"msgtype":"m.text"},"ts":1769008926196,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$A_GHIzRtFOa0j4IXBesc2_yt1ScdRTufzIdnEEGabVI"},
{"content":{"body":"https://github.com/LeaVerou/proposal-composable-accessors","m.mentions":{},"msgtype":"m.text"},"ts":1769008932635,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$k0v_GkOfY8oKyGTOntL9K8Fd18YzdhH3udBgXzSHRng"},
{"content":{"body":"`slides` dir","format":"org.matrix.custom.html","formatted_body":"<code>slides</code> dir","m.mentions":{},"msgtype":"m.text"},"ts":1769008954826,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$RGBrVjwQsS7Sr42dSBTYZNnyh7QT6BrLb4qU2sXB6TU"},
{"content":{"body":"Thank you","m.mentions":{},"msgtype":"m.text"},"ts":1769008965466,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$vtAJObjdPut_T5eenh8gFBfIKvKVkWElHKSZr5HdwCM"},
{"content":{"body":"I am confused about what this \"internal property\" is that is not the existing `accessor` property","format":"org.matrix.custom.html","formatted_body":"I am confused about what this \"internal property\" is that is not the existing <code>accessor</code> property","m.mentions":{},"msgtype":"m.text"},"ts":1769009123818,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$okCu5W5I62dQlRfWlgMu787oUeT1u6dM82pCQtas-ys"},
{"content":{"body":"Maybe this proposal is pointing to a need to split off accessor from the decorators proposal so that it's not blocked on them?","m.mentions":{},"msgtype":"m.text"},"ts":1769009242979,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$n_P_pr_4iM0ImtxGNDgHzRstZIAhU22veTy7lw_LwgI"},
{"content":{"body":"`accessor` is sort of split off. It was originally introduced in Grouped and Auto-Accessors and brought over to decorators to meet implementor requirements","format":"org.matrix.custom.html","formatted_body":"<code>accessor</code> is sort of split off. It was originally introduced in Grouped and Auto-Accessors and brought over to decorators to meet implementor requirements","m.mentions":{},"msgtype":"m.text"},"ts":1769009292374,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$zH6rlQZJiMobt-_un8gmYxSW9vmlSt0dKizRtakANtU"},
{"content":{"body":"I think I would prefer for these things to be reified as accessors and not directly visible in descriptors, to avoid making descriptors being more complicated ","format":"org.matrix.custom.html","formatted_body":"I think I would prefer for these things to be reified as accessors and not directly visible in descriptors, to avoid making descriptors being more complicated","m.mentions":{},"msgtype":"m.text"},"ts":1769009461501,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$9X29LelTy0dK0gehatk3bGjmGTtOzMiQix5LsD-1EiY"},
{"content":{"body":"* I think I would prefer for these things to be reified as accessors and not directly visible in descriptors, to avoid making descriptors being more complex","format":"org.matrix.custom.html","formatted_body":"* ","m.mentions":{},"m.new_content":{"body":"I think I would prefer for these things to be reified as accessors and not directly visible in descriptors, to avoid making descriptors being more complex","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$9X29LelTy0dK0gehatk3bGjmGTtOzMiQix5LsD-1EiY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769009470167,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$gaWG5gvJh5HJcGCeQIdx4GvuKHymRFFIXD24F4FuZ5w"},
{"content":{"body":"What's the time box? I noticed we are almost at the hour, and my reply is low priority so I can drop it if needed","m.mentions":{},"msgtype":"m.text"},"ts":1769010888632,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$LigYeDiW9OuArdtkw2ZOoyTO16FpYBUOLhf35xH9x8A"},
{"content":{"body":"1 hour","m.mentions":{},"msgtype":"m.text"},"ts":1769010898577,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$XvrdqNFXR0rDgL_wE3BnousMDIT4s07BcK90_g2Ih0Q"},
{"content":{"body":"nicolo-ribaudo: Which syntax were you talking about the one on the slide now with the decorator?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@nicolo-ribaudo:matrix.org\">nicolo-ribaudo</a>: Which syntax were you talking about the one on the slide now with the decorator?","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"msgtype":"m.text"},"ts":1769011173001,"senderName":"keith_miller","senderId":"@keith_miller:matrix.org","id":"$_Y7ZEzYr7p2zx9UKIaQH9WI0sRMwgQDQT-aC4nhFLPA"},
{"content":{"body":"The one with the validate keyword","m.mentions":{},"msgtype":"m.text"},"ts":1769011199691,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$B439_JW9nCkbJKZBcMaiUMADD3CxBVf8friMn3a0at8"},
{"content":{"body":"Or the `class Foo { accessor x = 2; }` syntax?","format":"org.matrix.custom.html","formatted_body":"Or the <code>class Foo { accessor x = 2; }</code> syntax?","m.mentions":{},"msgtype":"m.text"},"ts":1769011204604,"senderName":"keith_miller","senderId":"@keith_miller:matrix.org","id":"$0WUditufmy1wWblOfESpKuk5revTb8_lbgIFx3xekAM"},
{"content":{"body":"I meant that `class Foo { validate x(val) { ... } }` looks a lot like `class Foo { set x(val) { ... } }`, so I'd expect similar performance","format":"org.matrix.custom.html","formatted_body":"I meant that <code>class Foo { validate x(val) { ... } }</code> looks a lot like <code>class Foo { set x(val) { ... } }</code>, so I'd expect similar performance","m.mentions":{},"msgtype":"m.text"},"ts":1769011254501,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$XPz5IzYDoHqOQU0E9B8rHrhRtXtUiTLO26GGUvNgkoE"},
{"content":{"body":"I'd also expect similar perf with the decorator example, since I'm literally seeing a function attached to the property","m.mentions":{},"msgtype":"m.text"},"ts":1769011276684,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$vfnxaUaoP722Gdx91Mj_HC-uJN9Qp8YLgL65IQXRH00"},
{"content":{"body":"I would have less of that expectaton for a plain `accessor x = 2`, but I guess most times you'd want to decorate that anyway","format":"org.matrix.custom.html","formatted_body":"I would have less of that expectaton for a plain <code>accessor x = 2</code>, but I guess most times you'd want to decorate that anyway","m.mentions":{},"msgtype":"m.text"},"ts":1769011295226,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$w6oNh7z678VuC92CwcnGWKPfTZtzb5Vlui_EyPS0Ze8"},
{"content":{"body":"I wonder if `accessor x = 2` is more optimizable though, since there is no user code running there even if it's a get/set pair","format":"org.matrix.custom.html","formatted_body":"I wonder if <code>accessor x = 2</code> is more optimizable though, since there is no user code running there even if it's a get/set pair","m.mentions":{},"msgtype":"m.text"},"ts":1769011326910,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$CM8fkk5JQYkuxQdjW4qAC8brv4RnJjrxRoT7XTEJsmI"},
{"content":{"body":"The motivation for this, as I understand it anyway, is to use it everywhere","m.mentions":{},"msgtype":"m.text"},"ts":1769011346091,"senderName":"keith_miller","senderId":"@keith_miller:matrix.org","id":"$YGGSICrZborMUmXY2AwtLVdGayqiIIEHgSMMEs38G6Q"},
{"content":{"body":"* The motivation for this, as I understand it anyway, is to use it everywhere for reflection/metaprogramming","m.mentions":{},"m.new_content":{"body":"The motivation for this, as I understand it anyway, is to use it everywhere for reflection/metaprogramming","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$YGGSICrZborMUmXY2AwtLVdGayqiIIEHgSMMEs38G6Q","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769011368023,"senderName":"keith_miller","senderId":"@keith_miller:matrix.org","id":"$1EPP5RZMSiFYnA8Ns2CAHMYpPTscXYSkkeJw7IivWRo"},
{"content":{"body":"Which is the reason I mentioned hiding the cost of the call. Not sure about others","m.mentions":{},"msgtype":"m.text"},"ts":1769011435464,"senderName":"keith_miller","senderId":"@keith_miller:matrix.org","id":"$Q4aMbesSITvc1B1CppTQEv92bj_MCmeOsIzcvoAb1Zs"},
{"content":{"body":"Ok I think I was mostly focusing on the second use case, I'm not sure I agree with the first one","m.mentions":{},"msgtype":"m.text"},"ts":1769011449575,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$EhVKUEAhiZ1F0_AW3DBKD459TlEyaIM4FeMsHjPDoqw"},
{"content":{"body":"only for the use cases where the instance shape is needed from outside","msgtype":"m.text"},"ts":1769011453584,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$7COfju41gcyOlHuQM6dz-teCIoiNYJ60BU-0KCbnzwU"},
{"content":{"body":"For this could we have a bult-in `@public` decorator, with the decorators metadata proposal?","format":"org.matrix.custom.html","formatted_body":"For this could we have a bult-in <code>@public</code> decorator, with the decorators metadata proposal?","m.mentions":{"user_ids":["@ljharb:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$7COfju41gcyOlHuQM6dz-teCIoiNYJ60BU-0KCbnzwU"}},"msgtype":"m.text"},"ts":1769011484527,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$rVEovGqLT6_H5ESpZAh-XH6DfTz9LcVWZgiH2mcU4bg"},
{"content":{"body":"That marks it as \"public\" in the metadata","m.mentions":{},"msgtype":"m.text"},"ts":1769011490800,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$czeTRZFbyd4QniDW8eU91BWDpn8nFmoST6jlARwElvk"},
{"content":{"body":" true - and a class decorator could do it all in one","format":"org.matrix.custom.html","formatted_body":"true - and a class decorator could do it all in one","msgtype":"m.text"},"ts":1769011562097,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$W6Ygkd7YSHpxmZuPPEkU_px-051ed7R8tMNafm5maGk"},
{"content":{"body":"Are people realistically going to add the mental overhead of figuring that out though? My assumption would be that codebases that don't particularly care about performance would just apply it everywhere","m.mentions":{"user_ids":["@ljharb:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$7COfju41gcyOlHuQM6dz-teCIoiNYJ60BU-0KCbnzwU"}},"msgtype":"m.text"},"ts":1769011564881,"senderName":"keith_miller","senderId":"@keith_miller:matrix.org","id":"$Ef_nR9qZsMyVJixbX_GL04yfI7vOwPl-0bYDPzJ7_lA"},
{"content":{"body":"sure but if they donâ€™t care about performance then it doesnâ€™t matter there, right?","msgtype":"m.text"},"ts":1769011620599,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$GiFaZ2_KboWvPiTfzNSX1xD6W-Wpk95_4LXLTbNSDVY"},
{"content":{"body":"_we_ care about performance even if they don't","format":"org.matrix.custom.html","formatted_body":"<em>we</em> care about performance even if they don't","m.mentions":{},"msgtype":"m.text"},"ts":1769011669468,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$XttJpYPs3YYNa9fQWJqj6pERqH1RmDufhpfJGmomeIE"},
{"content":{"body":"\"people are not thinking about what things make their code slow\" and \"people want their code to be fast\" unfortunately have a large intersection","m.mentions":{},"msgtype":"m.text"},"ts":1769011682400,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$xwi3Yls-pQXVE49kiFsePrZy5TUgthIsD3kMlJ4STeo"},
{"content":{"body":"we should design the language such that even people who don't care about performance end up on the happy (= reasonably performant) path","m.mentions":{},"msgtype":"m.text"},"ts":1769011700693,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$I2Hnyew5M1JoY1MAauTPiiDC2BvmxIq7rRzNR3eMPyc"},
{"content":{"body":"fair","msgtype":"m.text"},"ts":1769011748765,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$fqc6iWXirH3ivkh_x8j67gQCIu_mYYB9zsVz54tOeuY"},
{"content":{"body":"New features aren't necessarily free, especially when we implement whole new capabilities to the language.","m.mentions":{},"msgtype":"m.text"},"ts":1769012421576,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$nCT26x-QtpUZMnRKOUhzwMIgjai3BLPdJPef18CUhFI"},
{"content":{"body":"I'm looking at my accessors usage, and they are (numbers are not measured):\n- 75% \"property forwarding\"\n- 15% lazy initial computation\n- 10% validation\n- 5% other","format":"org.matrix.custom.html","formatted_body":"<p>I'm looking at my accessors usage, and they are (numbers are not measured):</p>\n<ul>\n<li>75% \"property forwarding\"</li>\n<li>15% lazy initial computation</li>\n<li>10% validation</li>\n<li>5% other</li>\n</ul>\n","m.mentions":{},"msgtype":"m.text"},"ts":1769012822675,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$hLAMCubZuKye6yrkYdjVgA0jgeaHnnYGz4c1nU4Yoag"},
{"content":{"body":"The % symbol obviously means \" / 105\"","m.mentions":{},"msgtype":"m.text"},"ts":1769012847951,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$fXSij-bT0PS6YKStoQmAjby7zuC1KouaYRbrhOlnGws"},
{"content":{"body":"For point 1 in the problem statement, would we ever consider adding something like `Function.getInstanceFieldNames(ctor)`?","format":"org.matrix.custom.html","formatted_body":"For point 1 in the problem statement, would we ever consider adding something like <code>Function.getInstanceFieldNames(ctor)</code>?","m.mentions":{},"msgtype":"m.text"},"ts":1769012860950,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$gLuCfBHHAhDkiQ6WsObJPBkeSsTFFCLPNH1a6zmB4aY"},
{"content":{"body":"Some feedback that was shared at last plenary is that class fields should behave similarly to properties defined in the constructor","m.mentions":{"user_ids":["@rbuckton:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$gLuCfBHHAhDkiQ6WsObJPBkeSsTFFCLPNH1a6zmB4aY"}},"msgtype":"m.text"},"ts":1769012894899,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$69tnYP3GnF4OUITKbAb6BB0CVxXJjUVmT2pxSlkRpAM"},
{"content":{"body":"You could add a proxy trap for it like `apply`/`construct`","format":"org.matrix.custom.html","formatted_body":"You could add a proxy trap for it like <code>apply</code>/<code>construct</code>","m.mentions":{},"msgtype":"m.text"},"ts":1769012908122,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$chL1n9mMd22UjLdTiKt10NvK7FWOB0Dfsyt3zwRBzsY"},
{"content":{"body":"I don't necessarily agree with that position, though I do agree you shouldn't be able to just grab them via `getOwnPropertyDescriptors`.","format":"org.matrix.custom.html","formatted_body":"I don't necessarily agree with that position, though I do agree you shouldn't be able to just grab them via <code>getOwnPropertyDescriptors</code>.","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$69tnYP3GnF4OUITKbAb6BB0CVxXJjUVmT2pxSlkRpAM"}},"msgtype":"m.text"},"ts":1769012957816,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$zg2jL0zprMGNNfDCyBYW1ZIHX1powYsfEqLtNRD9muc"},
{"content":{"body":"A `getInstanceFieldNames` would be simpler than a `@Public` decorator that uses `Symbol.metadata` to do the same thing","format":"org.matrix.custom.html","formatted_body":"A <code>getInstanceFieldNames</code> would be simpler than a <code>@Public</code> decorator that uses <code>Symbol.metadata</code> to do the same thing","m.mentions":{},"msgtype":"m.text"},"ts":1769013001231,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$6afANBQ1KBdbIujMNv5ejWhvb2xXWcGEuzslqoPEPdU"},
{"content":{"body":"Test message; please ignore","m.mentions":{},"msgtype":"m.text"},"ts":1769013279583,"senderName":"waldemar","senderId":"@waldemarh:matrix.org","id":"$F8a0RVKsk9BMy5wNkP0kl_zxssEY5QvjTeV2jYrLNn8"},
{"content":{"body":"(Matrix seems to have glitched and kicked me out for a while)","m.mentions":{},"msgtype":"m.text"},"ts":1769013405985,"senderName":"waldemar","senderId":"@waldemarh:matrix.org","id":"$kdAjBsseh-ftinEeORq0WMc-gXPWPnt_xM1lzL-v0hg"},
{"content":{"body":"If Decorators were at stage 4, the composable accessors piece would easily be a public API proposal a.la iterator helpers or similar, which would likely be easier to discuss and advance","m.mentions":{},"msgtype":"m.text"},"ts":1769013892447,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$wvfYR4aiGActcuI5mz3HZNvoJQpet1fk-j1eWerpfPQ"},
{"content":{"body":"* If Decorators were at stage 4, the composable accessors piece would easily be a public API proposal a la iterator helpers or similar, which would likely be easier to discuss and advance","m.mentions":{},"m.new_content":{"body":"If Decorators were at stage 4, the composable accessors piece would easily be a public API proposal a la iterator helpers or similar, which would likely be easier to discuss and advance","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$wvfYR4aiGActcuI5mz3HZNvoJQpet1fk-j1eWerpfPQ","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769013904595,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$uzYMx1XiA1G6ihP6PkUojbNsbB_lc2N1d38Pz3FpcAY"},
{"content":{"body":"That said, most of the composition pieces presented or in the explainer could be implemented in userland decorators first before standardizing","m.mentions":{},"msgtype":"m.text"},"ts":1769014125381,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$KwR31H7MYaLynXmDx1DG57iRDH3sSjKSeenO51PPnI8"},
{"content":{"body":"The built-in decorators that can't be implemented in userland that I'm mostly interested in are not these composable decorators, unfortunately.","m.mentions":{},"msgtype":"m.text"},"ts":1769014190974,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$JjwusZ8-8O8so1j3Znd0b28vpn0E6jmGBgJt0bLEgIQ"},
{"content":{"body":"* The built-in decorators that can't be implemented in userland that I'm mostly interested in are not these composable decorators, however.","m.mentions":{},"m.new_content":{"body":"The built-in decorators that can't be implemented in userland that I'm mostly interested in are not these composable decorators, however.","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$JjwusZ8-8O8so1j3Znd0b28vpn0E6jmGBgJt0bLEgIQ","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769014199700,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$mvhrYXMmNQhvSlxtuITQBaTL1p-BYU6BJgdXK4lhRMc"},
{"content":{"body":"Let's continue with this please, to keep context","m.mentions":{},"msgtype":"m.text"},"ts":1769014649408,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$bv1LNZ2xPbgS-qViibh6zJwWRIEqWoHDaDb3JG4H04U"},
{"content":{"body":"overall the transcription was pretty good but there was a writer switchover at 11:00 while @rbuckton:matrix.org was speaking and that paragraph got completely mangled","format":"org.matrix.custom.html","formatted_body":"overall the transcription was pretty good but there was a writer switchover at 11:00 while <a href=\"https://matrix.to/#/@rbuckton:matrix.org\">@rbuckton</a> was speaking and that paragraph got completely mangled","m.mentions":{"user_ids":["@rbuckton:matrix.org"]},"msgtype":"m.text"},"ts":1769014937053,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$ozb3fddnL4jBf7Hwcd7ssYocxSaxQkr1bV9xcvs34fo"},
{"content":{"body":"you'll know it when you see it","m.mentions":{},"msgtype":"m.text"},"ts":1769014950008,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$SDpsF91zoNRjr3KD64uwmKM8KQIFgGbEKv1aPmDNAHY"},
{"content":{"body":"@rbuckton:matrix.org do your best to fix it up","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@rbuckton:matrix.org\">@rbuckton</a> do your best to fix it up","m.mentions":{"user_ids":["@rbuckton:matrix.org"]},"msgtype":"m.text"},"ts":1769014970281,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$PT72fnTJoPiCoj6wrO_DBG8m0eKezuFsMk07ttzwovk"},
{"content":{"body":"Yeah I have similar usage, and I think lazy init is especially hard to expresss even with current decorator proposal. ","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$hLAMCubZuKye6yrkYdjVgA0jgeaHnnYGz4c1nU4Yoag"}},"msgtype":"m.text"},"ts":1769015133903,"senderName":"hax (HE Shi-Jun)","senderId":"@haxjs:matrix.org","id":"$-gAbvNfeWFYbZeZKSOzj9HUa9A1RM8USvSMkzbe43bI"},
{"content":{"body":"But if u consider validate/sideeffect use cases, it actually don't require to be use accessor but only some observer ability. Force it to become accessor have performance result (To be clear, I don't care much about perf issue, but I always hear some delegates attack some proposals use this reason).","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$9X29LelTy0dK0gehatk3bGjmGTtOzMiQix5LsD-1EiY"}},"msgtype":"m.text"},"ts":1769015816688,"senderName":"hax (HE Shi-Jun)","senderId":"@haxjs:matrix.org","id":"$0PMhwxqg4-705mNar2PF-bn4nSkBYQLTH-1KVH7yYK4"},
{"content":{"body":"I think lea already suggest similar proposal in last meeting and be refused? Or maybe I misunderstand it?","m.mentions":{"user_ids":["@rbuckton:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$gLuCfBHHAhDkiQ6WsObJPBkeSsTFFCLPNH1a6zmB4aY"}},"msgtype":"m.text"},"ts":1769015929024,"senderName":"hax (HE Shi-Jun)","senderId":"@haxjs:matrix.org","id":"$RLzUaZFeMqMaIL8XFbbV_U7y-rh1E4tB3TyWmw2N5WE"},
{"content":{"body":"Oooh yes, lazy init is another big one. ","m.mentions":{"user_ids":["@haxjs:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$-gAbvNfeWFYbZeZKSOzj9HUa9A1RM8USvSMkzbe43bI"}},"msgtype":"m.text"},"ts":1769016042177,"senderName":"Lea Verou","senderId":"@leaverou:matrix.org","id":"$ncPIyQJVPNQAsZkTqEXKimqQXzXNQLZ1c272wmV7BJs"},
{"content":{"body":"\nWhile most things can be done with decorators, I suspect alias accessors likely would need _some_ syntax if we want to support private members. And property chains would be a lot elegant as an actual language construct (like in `delete`) as opposed to e.g. an array of property names.","format":"org.matrix.custom.html","formatted_body":"While most things can be done with decorators, I suspect alias accessors likely would need <em>some</em> syntax if we want to support private members. And property chains would be a lot elegant as an actual language construct (like in <code>delete</code>) as opposed to e.g. an array of property names.","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$hLAMCubZuKye6yrkYdjVgA0jgeaHnnYGz4c1nU4Yoag"}},"msgtype":"m.text"},"ts":1769016107389,"senderName":"Lea Verou","senderId":"@leaverou:matrix.org","id":"$_qKVR1dJUVwaEVRNcmKmRgxdrRDVhCOu02XGJ8mYaZw"},
{"content":{"body":"To be honest, my question is, whether decorator could really go to stage 4, considering the position of browser vendors? (If there was any news on that, pls tell me...)","m.mentions":{"user_ids":["@rbuckton:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$wvfYR4aiGActcuI5mz3HZNvoJQpet1fk-j1eWerpfPQ"}},"msgtype":"m.text"},"ts":1769016108529,"senderName":"hax (HE Shi-Jun)","senderId":"@haxjs:matrix.org","id":"$R5PI_7lQjsQ-8o9_QRaOjCVml4J7E232eCpQX3GTKlU"},
{"content":{"body":"Another advantage of the decorators direction is that it's a lower-cost way to prototype and test the waters. E.g. if this ends up being used tremendously much, we could introduce a syntax-level solution *down the line*. For this alone, I'm actually now myself in favor of the decorators direction","format":"org.matrix.custom.html","formatted_body":"Another advantage of the decorators direction is that it's a lower-cost way to prototype and test the waters. E.g. if this ends up being used tremendously much, we could introduce a syntax-level solution <em>down the line</em>. For this alone, I'm actually now myself in favor of the decorators direction","m.mentions":{},"msgtype":"m.text"},"ts":1769016180018,"senderName":"Lea Verou","senderId":"@leaverou:matrix.org","id":"$72umpjCm6YRLF86CAYKqGHAeF7C4X2hZIomoYWrPvpc"},
{"content":{"body":"* While most things can be done with decorators, I suspect alias accessors likely would need _some_ syntax if we want to support private members. And property chains would be a lot more elegant as an actual language construct (like in `delete`) as opposed to e.g. an array of property names.","format":"org.matrix.custom.html","formatted_body":"* While most things can be done with decorators, I suspect alias accessors likely would need <em>some</em> syntax if we want to support private members. And property chains would be a lot more elegant as an actual language construct (like in <code>delete</code>) as opposed to e.g. an array of property names.","m.mentions":{},"m.new_content":{"body":"While most things can be done with decorators, I suspect alias accessors likely would need _some_ syntax if we want to support private members. And property chains would be a lot more elegant as an actual language construct (like in `delete`) as opposed to e.g. an array of property names.","format":"org.matrix.custom.html","formatted_body":"While most things can be done with decorators, I suspect alias accessors likely would need <em>some</em> syntax if we want to support private members. And property chains would be a lot more elegant as an actual language construct (like in <code>delete</code>) as opposed to e.g. an array of property names.","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$_qKVR1dJUVwaEVRNcmKmRgxdrRDVhCOu02XGJ8mYaZw","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769016211201,"senderName":"Lea Verou","senderId":"@leaverou:matrix.org","id":"$AvhOo8IsbJfCrvY6X52B4x2O3NPiBRsTgWhuxGIvGJA"},
{"content":{"body":"`@lazy accessor x = lazy.of(() => init)` // example provided by Jack Works \nFull of syntax noise ðŸ™ƒ","format":"org.matrix.custom.html","formatted_body":"<code>@lazy accessor x = lazy.of(() =&gt; init)</code> // example provided by <a href=\"https://matrix.to/#/@jackworks:matrix.org\">Jack Works</a><br>Full of syntax noise ðŸ™ƒ","m.mentions":{"user_ids":["@leaverou:matrix.org","@jackworks:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$ncPIyQJVPNQAsZkTqEXKimqQXzXNQLZ1c272wmV7BJs"}},"msgtype":"m.text"},"ts":1769016220720,"senderName":"hax (HE Shi-Jun)","senderId":"@haxjs:matrix.org","id":"$Q2KkgLSEAp4GKfMEggVPOg-GM4xfgnW0_e5myKMhUZY"},
{"content":{"body":"Which paragraph?","m.mentions":{"user_ids":["@michaelficarra:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$PT72fnTJoPiCoj6wrO_DBG8m0eKezuFsMk07ttzwovk"}},"msgtype":"m.text"},"ts":1769016300630,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$DINrKyMM4gQXPjhaUKpnznv9Xfo_HsrtND9lQlWmTxo"},
{"content":{"body":"hax (HE Shi-Jun): it doesn't need to, it could be `let { lazy } = SomeObject` and then just `@lazy(init) accessor x` . I'm less worried about O(1) DX issues, it's the O(N) (per property) DX issues that are the main problem ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@haxjs:matrix.org\">hax (HE Shi-Jun)</a>: it doesn't need to, it could be <code>let { lazy } = SomeObject</code> and then just <code>@lazy(init) accessor x</code> . I'm less worried about O(1) DX issues, it's the O(N) (per property) DX issues that are the main problem","m.mentions":{"user_ids":["@haxjs:matrix.org"]},"msgtype":"m.text"},"ts":1769016306935,"senderName":"Lea Verou","senderId":"@leaverou:matrix.org","id":"$QxrwoBGfsyoOoY7OEeQEJxjHISMLPVoN9tMGucSRKS0"},
{"content":{"body":"I'm afraid @lazy(init) does not work if u want to access something on the instance in initializer?","m.mentions":{},"msgtype":"m.text"},"ts":1769016508271,"senderName":"hax (HE Shi-Jun)","senderId":"@haxjs:matrix.org","id":"$ATEaCN_ceU0Iea4qZZP7c4MsgTQ4EMmJxMKqdN30s-s"},
{"content":{"body":"`@lazy accessor x = () => init`?","format":"org.matrix.custom.html","formatted_body":"<code>@lazy accessor x = () =&gt; init</code>?","m.mentions":{},"msgtype":"m.text"},"ts":1769016684922,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$q30KXQhIAi8Z1iegI60Sho95EO3GifEZeu7MPAlpQd0"},
{"content":{"body":"I think u can't make it type safe in ts. Though it maybe the fault of TS ðŸ˜†","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$q30KXQhIAi8Z1iegI60Sho95EO3GifEZeu7MPAlpQd0"}},"msgtype":"m.text"},"ts":1769016972976,"senderName":"hax (HE Shi-Jun)","senderId":"@haxjs:matrix.org","id":"$lr2U9tI-m_wfLFgmLJWCoLLaJ3aUF24bVPSMbGN_UwI"},
{"content":{"body":"Anyway, I really feel lazy init is too common and should have better DX. If u check other morden langauge, in Kotlin u write `var x by lazy { ... }`, in swift u write `lazy var x = { ... }()`, in cala u write `lazy val x = { ... }`. It's shame that we can't provide js programmers a ","format":"org.matrix.custom.html","formatted_body":"Anyway, I really feel lazy init is too common and should have better DX. If u check other morden langauge, in Kotlin u write <code>var x by lazy { ... }</code>, in swift u write <code>lazy var x = { ... }()</code>, in cala u write <code>lazy val x = { ... }</code>. It's shame that we can't provide js programmers a","m.mentions":{},"msgtype":"m.text"},"ts":1769017087655,"senderName":"hax (HE Shi-Jun)","senderId":"@haxjs:matrix.org","id":"$E2IyHzRe6zshndL-8yHbNwCmp9_vNkWLDyeP8V058yk"},
{"content":{"body":"> <@rbuckton:matrix.org> A `getInstanceFieldNames` would be simpler than a `@Public` decorator that uses `Symbol.metadata` to do the same thing\n\nit is critically important that it be opt in and not available by default.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!WgJwmjBNZEXhJnXHXw%3Amatrix.org/%246afANBQ1KBdbIujMNv5ejWhvb2xXWcGEuzslqoPEPdU\">In reply to</a> <a href=\"https://matrix.to/#/@rbuckton:matrix.org\">@rbuckton:matrix.org</a><br>A <code>getInstanceFieldNames</code> would be simpler than a <code>@Public</code> decorator that uses <code>Symbol.metadata</code> to do the same thing</blockquote></mx-reply>it is critically important that it be opt in and not available by default.","m.relates_to":{"m.in_reply_to":{"event_id":"$6afANBQ1KBdbIujMNv5ejWhvb2xXWcGEuzslqoPEPdU"}},"msgtype":"m.text"},"ts":1769017100230,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$9jl2Vpig4rkpo7Ed4ID-EtfspLBA4nP6oHiN2jfCFU8"},
{"content":{"body":"* Anyway, I really feel lazy init is too common and should have better DX. If u check other morden langauge, in Kotlin u write `var x by lazy { ... }`, in swift u write `lazy var x = { ... }()`, in Scala u write `lazy val x = { ... }`. It's shame that we can't provide js programmers a good solution","format":"org.matrix.custom.html","formatted_body":"* Anyway, I really feel lazy init is too common and should have better DX. If u check other morden langauge, in Kotlin u write <code>var x by lazy { ... }</code>, in swift u write <code>lazy var x = { ... }()</code>, in Scala u write <code>lazy val x = { ... }</code>. It's shame that we can't provide js programmers a good solution","m.mentions":{},"m.new_content":{"body":"Anyway, I really feel lazy init is too common and should have better DX. If u check other morden langauge, in Kotlin u write `var x by lazy { ... }`, in swift u write `lazy var x = { ... }()`, in Scala u write `lazy val x = { ... }`. It's shame that we can't provide js programmers a good solution","format":"org.matrix.custom.html","formatted_body":"Anyway, I really feel lazy init is too common and should have better DX. If u check other morden langauge, in Kotlin u write <code>var x by lazy { ... }</code>, in swift u write <code>lazy var x = { ... }()</code>, in Scala u write <code>lazy val x = { ... }</code>. It's shame that we can't provide js programmers a good solution","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$E2IyHzRe6zshndL-8yHbNwCmp9_vNkWLDyeP8V058yk","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769017105869,"senderName":"hax (HE Shi-Jun)","senderId":"@haxjs:matrix.org","id":"$23WvSrdVWTVHamiKntbLwLj5iZVX7lR0L8dhV5rRoso"},
{"content":{"body":"hax (HE Shi-Jun): A way I often implement lazy accessors myself is to set a symbol property in the getter and just return that if set. I believe that can totally be done with decorators, right?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@haxjs:matrix.org\">hax (HE Shi-Jun)</a>: A way I often implement lazy accessors myself is to set a symbol property in the getter and just return that if set. I believe that can totally be done with decorators, right?","m.mentions":{"user_ids":["@haxjs:matrix.org"]},"msgtype":"m.text"},"ts":1769017157015,"senderName":"Lea Verou","senderId":"@leaverou:matrix.org","id":"$1hb4O3wxsyrfE_9x97MZ4tXdN0F5u7MbsmK2k41HTH8"},
{"content":{"body":"That's my point about well-known builtin decorators - TypeScript could learn the type calculus behind them.","m.mentions":{},"msgtype":"m.text"},"ts":1769017178922,"senderName":"Steve Hicks","senderId":"@stephenhicks:matrix.org","id":"$tselUQAQvvqHQeqNYA8QJY6ldZUk8Q1ur3Skw4BKJPI"},
{"content":{"body":"Obviously 10 js developers can have 10 different way to do it. If u ask GPT it may teach u write `class C { get val() { Object.defineProperty(this, 'val', { value: expensive(), writable: false }); return this.val; } }`","format":"org.matrix.custom.html","formatted_body":"Obviously 10 js developers can have 10 different way to do it. If u ask GPT it may teach u write <code>class C { get val() { Object.defineProperty(this, 'val', { value: expensive(), writable: false }); return this.val; } }</code>","m.mentions":{"user_ids":["@leaverou:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$1hb4O3wxsyrfE_9x97MZ4tXdN0F5u7MbsmK2k41HTH8"}},"msgtype":"m.text"},"ts":1769017466249,"senderName":"hax (HE Shi-Jun)","senderId":"@haxjs:matrix.org","id":"$W7ESfTm01_KVaM2JzwctmkTsq6lRAZ-iIXSolzMybPw"},
{"content":{"body":"Yes, but if it's a built-in decorator that's not an issue","m.mentions":{},"msgtype":"m.text"},"ts":1769017526994,"senderName":"Lea Verou","senderId":"@leaverou:matrix.org","id":"$bkdN-tIzCGLkZBh-FKPVo3kfPIrGXJh2-VmdCUL43b4"},
{"content":{"body":"I'm very curious how engine vendors see such re-defining prop descriptor which LLM like to encourage but they refused in decorator proposal.","m.mentions":{},"m.relates_to":{"m.in_reply_to":{"event_id":"$W7ESfTm01_KVaM2JzwctmkTsq6lRAZ-iIXSolzMybPw"}},"msgtype":"m.text"},"ts":1769017592683,"senderName":"hax (HE Shi-Jun)","senderId":"@haxjs:matrix.org","id":"$b4SOM2gd_NR9_VzI3a-vZeNsINNxvImDlZthXrM5n0g"},
{"content":{"body":"Is there any specific reason that it should be opt in? And what opt-in mechnism will u like to see?","m.mentions":{"user_ids":["@ljharb:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$9jl2Vpig4rkpo7Ed4ID-EtfspLBA4nP6oHiN2jfCFU8"}},"msgtype":"m.text"},"ts":1769017975054,"senderName":"hax (HE Shi-Jun)","senderId":"@haxjs:matrix.org","id":"$1WgYoy1drh3yLYXsCTdrrXdYje-5boTKsk3Y7gFJxeE"},
{"content":{"body":"> <@haxjs:matrix.org> `@lazy accessor x = lazy.of(() => init)` // example provided by Jack Works \n> Full of syntax noise ðŸ™ƒ\n\n(my version is to let TypeScript happy, otherwise it can be @lazy accessor x = () => init","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!WgJwmjBNZEXhJnXHXw:matrix.org/$Q2KkgLSEAp4GKfMEggVPOg-GM4xfgnW0_e5myKMhUZY\">In reply to</a> <a href=\"https://matrix.to/#/@haxjs:matrix.org\">@haxjs:matrix.org</a><br><code>@lazy accessor x = lazy.of(() =&gt; init)</code> // example provided by <a href=\"https://matrix.to/#/@jackworks:matrix.org\">Jack Works</a><br>Full of syntax noise ðŸ™ƒ</blockquote></mx-reply>(my version is to let TypeScript happy, otherwise it can be @lazy accessor x = () =&gt; init","m.mentions":{"user_ids":["@haxjs:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$Q2KkgLSEAp4GKfMEggVPOg-GM4xfgnW0_e5myKMhUZY"}},"msgtype":"m.text"},"ts":1769018440377,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$2BJSldyZVEpzgZA7p8Ephb33R4egMfkbn4EKPWs8CXc"},
{"content":{"body":"It's certainly feasible for TS to implement. It's on the backlog and I planned to work on it at some point.","m.mentions":{"user_ids":["@haxjs:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$lr2U9tI-m_wfLFgmLJWCoLLaJ3aUF24bVPSMbGN_UwI"}},"msgtype":"m.text"},"ts":1769018460349,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$lSiSo0zfUbnmlS7wmtufVXVMlIjVXBcDejeE6piZJZY"},
{"content":{"body":"* It's certainly feasible for TS to implement. It's on the backlog and I had planned to work on it at some point.","m.mentions":{},"m.new_content":{"body":"It's certainly feasible for TS to implement. It's on the backlog and I had planned to work on it at some point.","m.mentions":{"user_ids":["@haxjs:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$lSiSo0zfUbnmlS7wmtufVXVMlIjVXBcDejeE6piZJZY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769018491028,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$sFd_n_VHS1qBlB7fB0Lp28_FpydpJfsCcL4rl9wN69A"},
{"content":{"body":"Put those that didn't help yet during this meeting on random.org and pick two!","m.mentions":{},"msgtype":"m.text"},"ts":1769018551279,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$PzGhiTlJ4yuRHK60Aiz3LsBnKgdtYQRGdY2oMS2-hg8"},
{"content":{"body":"* Put those that didn't help yet during this meeting on random.org/lists and pick two!","m.mentions":{},"m.new_content":{"body":"Put those that didn't help yet during this meeting on random.org/lists and pick two!","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$PzGhiTlJ4yuRHK60Aiz3LsBnKgdtYQRGdY2oMS2-hg8","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769018593663,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$nSQanbFK_Vay8LUcxVn74lzK1MJVP-_Ah-k4ZsutCwg"},
{"content":{"body":"yoooo it's Julie captioning","m.mentions":{},"msgtype":"m.text"},"ts":1769018594316,"senderName":"Aki","senderId":"@akirose:matrix.org","id":"$SfOjEmAQwtFnRY0g4sDJg4n9EUvb9RyII_g6QoT37_o"},
{"content":{"body":"she's really good","m.mentions":{},"msgtype":"m.text"},"ts":1769018596789,"senderName":"Aki","senderId":"@akirose:matrix.org","id":"$9epHwu51Ci8m2K09Rk2EXuxU4LVwrN_dNok5m1CteNg"},
{"content":{"body":"we should do this every time â€“ maybe excluding first-timers","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$PzGhiTlJ4yuRHK60Aiz3LsBnKgdtYQRGdY2oMS2-hg8"}},"msgtype":"m.text"},"ts":1769018740321,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$21u6KnKrGnT6w-MCSfLjf9w6vGtR8RkQtph-tYHXP9A"},
{"content":{"body":"because anything that's introspectable is part of the public API and a breaking change if altered. i don't care what the mechanism is, it just has to be solely up to the class author.","m.mentions":{"user_ids":["@haxjs:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$1WgYoy1drh3yLYXsCTdrrXdYje-5boTKsk3Y7gFJxeE"}},"msgtype":"m.text"},"ts":1769018760632,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$YRXTSjRrDBlxil1H-2eB6KKIo6WM9JlhcDdpX27xyPk"},
{"content":{"body":"* because anything that's introspectable is part of the public API and a breaking change if altered. i don't care what the mechanism is, it just has to be solely up to the class author.\n\nseparately, public class fields are sugar for statements in the constructor, and statements inside function bodies are *never* introspectable in the language, nor should they be.","format":"org.matrix.custom.html","formatted_body":"* <p>because anything that's introspectable is part of the public API and a breaking change if altered. i don't care what the mechanism is, it just has to be solely up to the class author.</p>\n<p>separately, public class fields are sugar for statements in the constructor, and statements inside function bodies are <em>never</em> introspectable in the language, nor should they be.</p>\n","m.mentions":{},"m.new_content":{"body":"because anything that's introspectable is part of the public API and a breaking change if altered. i don't care what the mechanism is, it just has to be solely up to the class author.\n\nseparately, public class fields are sugar for statements in the constructor, and statements inside function bodies are *never* introspectable in the language, nor should they be.","format":"org.matrix.custom.html","formatted_body":"<p>because anything that's introspectable is part of the public API and a breaking change if altered. i don't care what the mechanism is, it just has to be solely up to the class author.</p>\n<p>separately, public class fields are sugar for statements in the constructor, and statements inside function bodies are <em>never</em> introspectable in the language, nor should they be.</p>\n","m.mentions":{"user_ids":["@haxjs:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$YRXTSjRrDBlxil1H-2eB6KKIo6WM9JlhcDdpX27xyPk","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769018803520,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$j1V3JzuTp4GkzfXeGpYMqS9-Rz974zO53gLwr_fBh4g"},
{"content":{"body":"the only reason the chairs haven't done that in the past (at https://takingnotes.rocks) is that there are some people who can't for personal reasons and it's not fair to put them on the spot","m.mentions":{"user_ids":["@abotella:igalia.com"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$21u6KnKrGnT6w-MCSfLjf9w6vGtR8RkQtph-tYHXP9A"}},"msgtype":"m.text"},"ts":1769018818439,"senderName":"Aki","senderId":"@akirose:matrix.org","id":"$D9ZN7zPutgPT3CHGptrjLRbVwo6koxB32Dye5NQMccg"},
{"content":{"body":"Isn't that why we have private fields? public fields are introspectable on an instance, just not from a constructor. IMO, you shouldn't need to construct an instance for that introspection.","m.mentions":{"user_ids":["@ljharb:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$YRXTSjRrDBlxil1H-2eB6KKIo6WM9JlhcDdpX27xyPk"}},"msgtype":"m.text"},"ts":1769018848181,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$zlebCuOAWXvud6fuDfmVG9QQmBTgexJj7QOGDn2KRr0"},
{"content":{"body":"I mean the chairs could do the extraction privately, and those people can privately ask them in advance to be excluded","m.mentions":{"user_ids":["@akirose:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$D9ZN7zPutgPT3CHGptrjLRbVwo6koxB32Dye5NQMccg"}},"msgtype":"m.text"},"ts":1769018870041,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$gmagfOdPaC-7Ezm18msE_T4qwEvUQH2AD4B-6PH4v3c"},
{"content":{"body":"nope, they're not. public _properties_ on the resulting instance are, certainly. but the existence of a field does not guarantee it will end up as a property, nor will the list of fields be exhaustive.","format":"org.matrix.custom.html","formatted_body":"nope, they're not. public <em>properties</em> on the resulting instance are, certainly. but the existence of a field does not guarantee it will end up as a property, nor will the list of fields be exhaustive.","m.mentions":{"user_ids":["@rbuckton:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$zlebCuOAWXvud6fuDfmVG9QQmBTgexJj7QOGDn2KRr0"}},"msgtype":"m.text"},"ts":1769018892087,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$PIhxgA9mKKmp1CbOjFiS4aTfMNgYNqgEWKsHgVewCR0"},
{"content":{"body":"* nope, they're not. public _properties_ on the resulting instance are, certainly. but the existence of a field does not guarantee it will end up as a property, nor will the list of fields be exhaustive (meaning there could eventually be properties not in that list).","format":"org.matrix.custom.html","formatted_body":"* nope, they're not. public <em>properties</em> on the resulting instance are, certainly. but the existence of a field does not guarantee it will end up as a property, nor will the list of fields be exhaustive (meaning there could eventually be properties not in that list).","m.mentions":{},"m.new_content":{"body":"nope, they're not. public _properties_ on the resulting instance are, certainly. but the existence of a field does not guarantee it will end up as a property, nor will the list of fields be exhaustive (meaning there could eventually be properties not in that list).","format":"org.matrix.custom.html","formatted_body":"nope, they're not. public <em>properties</em> on the resulting instance are, certainly. but the existence of a field does not guarantee it will end up as a property, nor will the list of fields be exhaustive (meaning there could eventually be properties not in that list).","m.mentions":{"user_ids":["@rbuckton:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$PIhxgA9mKKmp1CbOjFiS4aTfMNgYNqgEWKsHgVewCR0","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769018903732,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$p2-K54X-cfQIFtGjuO6TuHzFsdSZqp63BtmqA9sBekc"},
{"content":{"body":"* nope, they're not. public _properties_ on the resulting instance are, certainly. but the existence of a field does not guarantee it will end up as a property, nor will the list of fields be exhaustive (meaning there could eventually be properties not in that list). (remember any subclass can arbitrarily delete a property that a field created, for example)","format":"org.matrix.custom.html","formatted_body":"* nope, they're not. public <em>properties</em> on the resulting instance are, certainly. but the existence of a field does not guarantee it will end up as a property, nor will the list of fields be exhaustive (meaning there could eventually be properties not in that list). (remember any subclass can arbitrarily delete a property that a field created, for example)","m.mentions":{},"m.new_content":{"body":"nope, they're not. public _properties_ on the resulting instance are, certainly. but the existence of a field does not guarantee it will end up as a property, nor will the list of fields be exhaustive (meaning there could eventually be properties not in that list). (remember any subclass can arbitrarily delete a property that a field created, for example)","format":"org.matrix.custom.html","formatted_body":"nope, they're not. public <em>properties</em> on the resulting instance are, certainly. but the existence of a field does not guarantee it will end up as a property, nor will the list of fields be exhaustive (meaning there could eventually be properties not in that list). (remember any subclass can arbitrarily delete a property that a field created, for example)","m.mentions":{"user_ids":["@rbuckton:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$PIhxgA9mKKmp1CbOjFiS4aTfMNgYNqgEWKsHgVewCR0","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769019026432,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$5uDnZa8b9DW5gaEoQksKkQdVtCbkqpesc2Dr93yeJu0"},
{"content":{"body":"A field declaration will definitely guarantee its presence as a data property. They are always installed on an instance (barring use of `delete`, which is rarely a good idea).","format":"org.matrix.custom.html","formatted_body":"A field declaration will definitely guarantee its presence as a data property. They are always installed on an instance (barring use of <code>delete</code>, which is rarely a good idea).","m.mentions":{},"msgtype":"m.text"},"ts":1769019046763,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$b5sEU-_fyLAOdNPeba4fhr4mwc63g8-RkOTLu5S3W7Y"},
{"content":{"body":"ok but the existence of that caveat means that it's not a guarantee.","m.mentions":{},"msgtype":"m.text"},"ts":1769019066913,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$cN442oUZ-JsYYsPzAa0oWzZesTm3MhmeDCRRu3Gh15s"},
{"content":{"body":"But u already can use Object.getOwnPropertyNames() or other api or syntax to get the own properties... I don't see any difference here (except u can only get them via object not class).","m.mentions":{"user_ids":["@ljharb:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$YRXTSjRrDBlxil1H-2eB6KKIo6WM9JlhcDdpX27xyPk"}},"msgtype":"m.text"},"ts":1769019067207,"senderName":"hax (HE Shi-Jun)","senderId":"@haxjs:matrix.org","id":"$Beg9APY3ZEgMUaYNfz6zmi1PMInny6fqzDyDlscXNGU"},
{"content":{"body":"*of the instance*. you can't do that from a constructor alone.","format":"org.matrix.custom.html","formatted_body":"<em>of the instance</em>. you can't do that from a constructor alone.","m.mentions":{"user_ids":["@haxjs:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$Beg9APY3ZEgMUaYNfz6zmi1PMInny6fqzDyDlscXNGU"}},"msgtype":"m.text"},"ts":1769019077909,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$nWXeiEfAO-ABizG-zrboVDwmk6rlct9DQ_yPiBjbUu0"},
{"content":{"body":"nor should you be able to, without the permission of the class author.","m.mentions":{},"msgtype":"m.text"},"ts":1769019097677,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$OyC7_rsR-dBiZLvlicMSzIWhmscP0CKMI_5xakBNK3M"},
{"content":{"body":"You can `delete` methods and accessors as well","format":"org.matrix.custom.html","formatted_body":"You can <code>delete</code> methods and accessors as well","m.mentions":{},"msgtype":"m.text"},"ts":1769019109869,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$IdrQyiSmXHs-qpM3zSZfEpPRhjkVNuFuX2I9s4pcyvg"},
{"content":{"body":"indeed you can","m.mentions":{},"msgtype":"m.text"},"ts":1769019115265,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$hLpeguGySWu2iwn8gVZEyNDuYH_qx0_kiE-82lP6t9s"},
{"content":{"body":"but that you can introspect on the class.","m.mentions":{},"msgtype":"m.text"},"ts":1769019124035,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$-qEV5p0zBKaXgN8Q1hiHKE7Hh-WxIyAuIEtg5_rIloc"},
{"content":{"body":"overall, implicit reflection/introspection is a horrifically bad language \"feature\" and we should go out of our way to not introduce any additional cases of it.","m.mentions":{},"msgtype":"m.text"},"ts":1769019143254,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$vE3Vv6DB5Tb-v86CdhtXRLkDP5UA1UcsSlsITrG-xNo"},
{"content":{"body":"explicit/opt-in reflection is great though! i fully support an author's freedom to expose what they want. but it must be a choice.","m.mentions":{},"msgtype":"m.text"},"ts":1769019166550,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$aHR0SJtqeeTq90kBKXz0j1OsM1of9PnqkGmOCETTTPY"},
{"content":{"body":"I strongly disagree with that sentiment.","m.mentions":{"user_ids":["@ljharb:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$vE3Vv6DB5Tb-v86CdhtXRLkDP5UA1UcsSlsITrG-xNo"}},"msgtype":"m.text"},"ts":1769019181554,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$Wpeu8L5qsG0h1Y06eA0Ra71FZDgO1B5CRAoXGcFv6Zo"},
{"content":{"body":"* explicit/opt-in reflection is great though! i fully support an author's freedom to expose what they want. but it must be a choice. (ideally it's an easy one, just explicit)","m.mentions":{},"m.new_content":{"body":"explicit/opt-in reflection is great though! i fully support an author's freedom to expose what they want. but it must be a choice. (ideally it's an easy one, just explicit)","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$aHR0SJtqeeTq90kBKXz0j1OsM1of9PnqkGmOCETTTPY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769019183019,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$MkFv2JyiaEL7zOfSNqPcYYL2BaPkvfuAVbV1Y9-QTxY"},
{"content":{"body":"that is unsurprising :-)","m.mentions":{},"msgtype":"m.text"},"ts":1769019191060,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$CWJArhNBExrxIYyWxWSQje7K1w2UB5P4c90VY-6gwqs"},
{"content":{"body":"but suffice to say there's no consensus to add any new implicit/default introspection mechanisms, though.","m.mentions":{},"msgtype":"m.text"},"ts":1769019237496,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$M4po3XgtBVRnzzp58ZdKL-9-ersZLhQAFfQiNZ8zLyc"},
{"content":{"body":"IMO, it's a terrible idea to use `delete` on any member of a class.","format":"org.matrix.custom.html","formatted_body":"IMO, it's a terrible idea to use <code>delete</code> on any member of a class.","m.mentions":{},"msgtype":"m.text"},"ts":1769019258669,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$oOYLsAfehalrzICm0J9IsiF4OXmqNv3y6WDcu5mdCG0"},
{"content":{"body":"oh i agree","m.mentions":{},"msgtype":"m.text"},"ts":1769019262823,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$snzLshQ4pqyLhuj4RrL5Wy00Ht1-ZkZXHSpfeqd7mD8"},
{"content":{"body":"lots of things in any language are a terrible idea. but they still exist.","m.mentions":{},"msgtype":"m.text"},"ts":1769019282761,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$tb7pUr1t3LbvS783dBkJ-9m6JT7sj5YwwQn9jc7-hSc"},
{"content":{"body":"And you certainly won't be able to `delete` fields from `struct` instances.","format":"org.matrix.custom.html","formatted_body":"And you certainly won't be able to <code>delete</code> fields from <code>struct</code> instances.","m.mentions":{},"msgtype":"m.text"},"ts":1769019294364,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$NNinkwoiEBBjjRsIFLWTG0WvmrfcbVyRhJQVVoZc2R4"},
{"content":{"body":"which is great","m.mentions":{},"msgtype":"m.text"},"ts":1769019304833,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$3g04qgdBxhn1p8H8Dd7DWn-SJJTKzZdlw_bl1smsPiY"},
{"content":{"body":"ljharb: \" public class fields are sugar for statements in the constructor, and ...\" --- No they are not sugar. No one write \"Object.defineOwnProperty(this, \"name\", ...) in constructor. ðŸ˜‚","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@ljharb:matrix.org\">ljharb</a>: \" public class fields are sugar for statements in the constructor, and ...\" --- No they are not sugar. No one write \"Object.defineOwnProperty(this, \"name\", ...) in constructor. ðŸ˜‚","m.mentions":{"user_ids":["@ljharb:matrix.org"]},"msgtype":"m.text"},"ts":1769019315991,"senderName":"hax (HE Shi-Jun)","senderId":"@haxjs:matrix.org","id":"$HRG6FgNpMr0VO_UTZFZQvJ2H-08Y9TNhm-dfwtAnrO8"},
{"content":{"body":"that nobody writes it is *why* it's sugar","format":"org.matrix.custom.html","formatted_body":"that nobody writes it is <em>why</em> it's sugar","m.mentions":{},"msgtype":"m.text"},"ts":1769019326941,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$whF0dtKLWe-f9obnqwyEy1XBpdC2gOVSN1raUULLS_c"},
{"content":{"body":"and prior to the [[Define]] decision it was sugar for the thing *everyone* writes, which is `this.foo = 'bar'`","format":"org.matrix.custom.html","formatted_body":"and prior to the [[Define]] decision it was sugar for the thing <em>everyone</em> writes, which is <code>this.foo = 'bar'</code>","m.mentions":{},"msgtype":"m.text"},"ts":1769019339399,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$BbLV4v_E6enFP7HX6eP1nImwm-9X36hc8pyYt_jTQjE"},
{"content":{"body":"Ok. I mean, no one want to [[Define]] before this feature, so it's really weird to me to see it as sugar. I always see sugar should not introduce uncommon semantic.","m.mentions":{},"msgtype":"m.text"},"ts":1769019447074,"senderName":"hax (HE Shi-Jun)","senderId":"@haxjs:matrix.org","id":"$77Vj9Zs4PKawsqKENtmXKL8ZwlIS_3rIOjU7nahsY4k"},
{"content":{"body":"Oh well I can't speak sorry.\n\nIt's for Trusted Types, it is being implemented ","format":"org.matrix.custom.html","formatted_body":"<p>Oh well I can't speak sorry.</p>\n<p>It's for Trusted Types, it is being implemented</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1769019504456,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$lWOXSVx0-p85pUW9p7JhDSdpEPRESM_4dsGBcy-spyw"},
{"content":{"body":"It's not ready for stage 4 yet though, according to my colleague working on it ","format":"org.matrix.custom.html","formatted_body":"It's not ready for stage 4 yet though, according to my colleague working on it","m.mentions":{},"msgtype":"m.text"},"ts":1769019556106,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$blBFLtwcfy_o-_wtor-S6vq_J_uS5FqgKhjo2yiRu5A"},
{"content":{"body":"ljharb: On the other side, why it should be opt-in but not opt-out?? For example, in TS you use `private x` which seems match the case you want (by default it's public api, but private means it's not public)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@ljharb:matrix.org\">ljharb</a>: On the other side, why it should be opt-in but not opt-out?? For example, in TS you use <code>private x</code> which seems match the case you want (by default it's public api, but private means it's not public)","m.mentions":{"user_ids":["@ljharb:matrix.org"]},"msgtype":"m.text"},"ts":1769019676738,"senderName":"hax (HE Shi-Jun)","senderId":"@haxjs:matrix.org","id":"$gZ15uunbHgpjLlxqmVg_afZsFFAVgHI9MCViajk-LV8"},
{"content":{"body":"Can uhh, I convince one of the chairs to add the 3.md agenda so I can add Atomics.pause to stage 4 before I forget... :)","m.mentions":{},"msgtype":"m.text"},"ts":1769019963443,"senderName":"keith_miller","senderId":"@keith_miller:matrix.org","id":"$SDa0qJt7ZR9uC2pt8WBz1j2Kw8uiAue0QUV7v2nyfYM"},
{"content":{"body":"ljharb: To be clear, I think opt-in is ok, I even like everything is not public by default, but JS class already make methods public, it's really weird that only fields need to opt-in for public.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@ljharb:matrix.org\">ljharb</a>: To be clear, I think opt-in is ok, I even like everything is not public by default, but JS class already make methods public, it's really weird that only fields need to opt-in for public.","m.mentions":{"user_ids":["@ljharb:matrix.org"]},"msgtype":"m.text"},"ts":1769020010102,"senderName":"hax (HE Shi-Jun)","senderId":"@haxjs:matrix.org","id":"$BQxDG4843_CcJhknHBO57xhQm4Q-H9LbmXiLA0UnCuY"},
{"content":{"body":"TS's `private` is bad for a ton of reasons so i don't think it should be used as an argument","format":"org.matrix.custom.html","formatted_body":"TS's <code>private</code> is bad for a ton of reasons so i don't think it should be used as an argument","m.mentions":{"user_ids":["@haxjs:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$gZ15uunbHgpjLlxqmVg_afZsFFAVgHI9MCViajk-LV8"}},"msgtype":"m.text"},"ts":1769020178205,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$3HDMA-jeXKnCNwADjz8e57E61BD5pSCPH0rtMWSgRrU"},
{"content":{"body":"because a \"field\" isn't a first-class thing. a field is just instructions to set up a property - which is indeed public by default.","m.mentions":{"user_ids":["@haxjs:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$BQxDG4843_CcJhknHBO57xhQm4Q-H9LbmXiLA0UnCuY"}},"msgtype":"m.text"},"ts":1769020202629,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$ZfQWAI472rJz5_PwIrSkgx_UY13OJsujStw2qmN1Woo"},
{"content":{"body":"* because a \"field\" isn't a first-class thing. a field is just instructions to set up a property - which is indeed public by default. iow, it's sugar.","m.mentions":{},"m.new_content":{"body":"because a \"field\" isn't a first-class thing. a field is just instructions to set up a property - which is indeed public by default. iow, it's sugar.","m.mentions":{"user_ids":["@haxjs:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$ZfQWAI472rJz5_PwIrSkgx_UY13OJsujStw2qmN1Woo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769020207988,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$vPRHpz92l27Wv1VjZgaXW8dB-NS-iFN0Q2iLp3ASCqs"},
{"content":{"body":"yes, i will do that now","m.mentions":{"user_ids":["@keith_miller:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$SDa0qJt7ZR9uC2pt8WBz1j2Kw8uiAue0QUV7v2nyfYM"}},"msgtype":"m.text"},"ts":1769020254100,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$3g02ZXcxLRoH9ifpq8pzsD1RhqJmJiqkL_TGVhxzvnk"},
{"content":{"body":"I might be interested in co-championing ljharb: but will need a comprehensive intro","format":"org.matrix.custom.html","formatted_body":"I might be interested in co-championing <a href=\"https://matrix.to/#/@ljharb:matrix.org\">@ljharb:matrix.org</a>: but will need a comprehensive intro","msgtype":"m.text"},"ts":1769020485459,"senderName":"Zb Tenerowicz (ZTZ/naugtur)","senderId":"@naugtur:matrix.org","id":"$p7WiIQVddE-_Z57uJ2RZ7UKoftzuyNXgByeYdwNXshc"},
{"content":{"body":"I am not sure what \"first-class\" means. In my opinion, the whole point of fields proposal is to make it declarative and get the \"first-class\" support in the language.","m.mentions":{"user_ids":["@ljharb:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$ZfQWAI472rJz5_PwIrSkgx_UY13OJsujStw2qmN1Woo"}},"msgtype":"m.text"},"ts":1769020776464,"senderName":"hax (HE Shi-Jun)","senderId":"@haxjs:matrix.org","id":"$63s_W-US-mszwkAsQ4NroUtMboGfdYUUN74W_-YRK_I"},
{"content":{"body":"@erights Mark Miller (Agoric) MM: I have a counter for last match, left context and right context. It is surprisingly not that small: https://chromestatus.com/metrics/feature/timeline/popularity/5641#V8RegExpStaticPropertiesWithLastMatch","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@erights:matrix.org\">@erights Mark Miller (Agoric) MM</a>: I have a counter for last match, left context and right context. It is surprisingly not that small: https://chromestatus.com/metrics/feature/timeline/popularity/5641#V8RegExpStaticPropertiesWithLastMatch","m.mentions":{"user_ids":["@erights:matrix.org"]},"msgtype":"m.text"},"ts":1769021005108,"senderName":"Olivier FlÃ¼ckiger","senderId":"@olivf.o1o.ch:immer.chat","id":"$BGIQkImw0EE_wllZcbQgsFQNSrzLj-39Mw13Hfj-8NE"},
{"content":{"body":"We would also have counters for the rest (and most probably more common) of the static properties, but it seems there is a feature id collision so that counter is broken...","m.mentions":{},"msgtype":"m.text"},"ts":1769021057257,"senderName":"Olivier FlÃ¼ckiger","senderId":"@olivf.o1o.ch:immer.chat","id":"$46PPu9ttoIhRSjM0cBvkin52NBqczjWPLHcGKOT8EjA"},
{"content":{"body":"it means \"a thing you can pass around\". variables are not first-class; objects are, for example.","m.mentions":{"user_ids":["@haxjs:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$63s_W-US-mszwkAsQ4NroUtMboGfdYUUN74W_-YRK_I"}},"msgtype":"m.text"},"ts":1769021120779,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$kIdldkL9cBvFSqEKTw1ctMiQonc_1XTrSf7R-sfiRpM"},
{"content":{"body":"things that aren't first-class aren't reified \"things\"","m.mentions":{},"msgtype":"m.text"},"ts":1769021138880,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$IcQNTxqxORq-17Bk66F6hFRzlAW59UJHvAL9ilxkOgc"},
{"content":{"body":"k, now done","m.mentions":{"user_ids":["@keith_miller:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$SDa0qJt7ZR9uC2pt8WBz1j2Kw8uiAue0QUV7v2nyfYM"}},"msgtype":"m.text"},"ts":1769021159465,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$UVpUy4WBPrU3LAhurpYidc_BZAYncAiLXSTzj5TLBeQ"},
{"content":{"body":"* We would also have counters for the rest (and most probably more common) of the static regexp properties, but it seems there is a feature id collision so that counter is broken...","m.mentions":{},"m.new_content":{"body":"We would also have counters for the rest (and most probably more common) of the static regexp properties, but it seems there is a feature id collision so that counter is broken...","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$46PPu9ttoIhRSjM0cBvkin52NBqczjWPLHcGKOT8EjA","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769021228413,"senderName":"Olivier FlÃ¼ckiger","senderId":"@olivf.o1o.ch:immer.chat","id":"$0X_C9qptBB3xoG7qWx6hQ2fFZXgwKE33C3nQo2fvzVk"},
{"content":{"body":"So why some class members (methods and accessors) are first-class, others (fields) are not? very inconsistent.","m.mentions":{"user_ids":["@ljharb:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$kIdldkL9cBvFSqEKTw1ctMiQonc_1XTrSf7R-sfiRpM"}},"msgtype":"m.text"},"ts":1769021292272,"senderName":"hax (HE Shi-Jun)","senderId":"@haxjs:matrix.org","id":"$VG27pru1uTzOu5i_4qXyg8it3J8M3443B9lNySqr_rg"},
{"content":{"body":"Interesting, I can see usage of `.lastMatch`/leftContext/rightContext on the xiaomi website but not in the other two of the top 3","format":"org.matrix.custom.html","formatted_body":"Interesting, I can see usage of <code>.lastMatch</code>/leftContext/rightContext on the xiaomi website but not in the other two of the top 3","m.mentions":{"user_ids":["@olivf.o1o.ch:immer.chat"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$BGIQkImw0EE_wllZcbQgsFQNSrzLj-39Mw13Hfj-8NE"}},"msgtype":"m.text"},"ts":1769021329990,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$npwUARHqITN51x-LW18p9Z_lAc04nHHnJS0lnXz_RXA"},
{"content":{"body":"that's not a consistency that i'd expect anyone to expect, but sure, it's inconsistent. the \"why\" doesn't change that it's the way it is.","m.mentions":{"user_ids":["@haxjs:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$VG27pru1uTzOu5i_4qXyg8it3J8M3443B9lNySqr_rg"}},"msgtype":"m.text"},"ts":1769021374960,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$aWZ18G2OzHtOdDEwSJck3KPDHZSDHQ0ph8rbq3kEvIo"},
{"content":{"body":"* that's not a consistency that i'd expect anyone to expect, but sure, it's inconsistent. the \"why\" doesn't change that it's the way it is.\n\nclasses are declarative - they're instructions. that some pieces of them turn into first-class things and some don't is just based on the semantic of the instructions.","m.mentions":{},"m.new_content":{"body":"that's not a consistency that i'd expect anyone to expect, but sure, it's inconsistent. the \"why\" doesn't change that it's the way it is.\n\nclasses are declarative - they're instructions. that some pieces of them turn into first-class things and some don't is just based on the semantic of the instructions.","m.mentions":{"user_ids":["@haxjs:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$aWZ18G2OzHtOdDEwSJck3KPDHZSDHQ0ph8rbq3kEvIo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769021405356,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$tN2SeaZNBe7RQH78B5hLBKpyofK67qrky-Lk3jrNM9Y"},
{"content":{"body":"* that's not a consistency that i'd expect anyone to expect, but sure, it's inconsistent. the \"why\" doesn't change that it's the way it is.\n\nclasses are declarative - they're instructions. that some pieces of them turn into first-class things and some don't is just based on the semantic of the instructions. static blocks aren't first-class either, and neither are private fields.","m.mentions":{},"m.new_content":{"body":"that's not a consistency that i'd expect anyone to expect, but sure, it's inconsistent. the \"why\" doesn't change that it's the way it is.\n\nclasses are declarative - they're instructions. that some pieces of them turn into first-class things and some don't is just based on the semantic of the instructions. static blocks aren't first-class either, and neither are private fields.","m.mentions":{"user_ids":["@haxjs:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$aWZ18G2OzHtOdDEwSJck3KPDHZSDHQ0ph8rbq3kEvIo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769021470078,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$212nJmgw4ilYe-xLLfudUZlmRcU5WrjcGUivPJb-yiA"},
{"content":{"body":"And the fourth one is coming from a twitter sdk (https://github.com/twitter/twitter-text)","m.mentions":{},"m.relates_to":{"m.in_reply_to":{"event_id":"$npwUARHqITN51x-LW18p9Z_lAc04nHHnJS0lnXz_RXA"}},"msgtype":"m.text"},"ts":1769021505316,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$5d67ntTcl2SuirCBzqxk9l66z4deyZEsM2lULc3X4gA"},
{"content":{"body":"* And the fourth one is coming from a twitter sdk (https://github.com/twitter/twitter-text): https://github.com/twitter/twitter-text/blob/30e2430d90cff3b46393ea54caf511441983c260/js/src/extractUrlsWithIndices.js#L70","m.mentions":{},"m.new_content":{"body":"And the fourth one is coming from a twitter sdk (https://github.com/twitter/twitter-text): https://github.com/twitter/twitter-text/blob/30e2430d90cff3b46393ea54caf511441983c260/js/src/extractUrlsWithIndices.js#L70","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$5d67ntTcl2SuirCBzqxk9l66z4deyZEsM2lULc3X4gA","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769021572845,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$tZx0vB2YFFnLMIVnJRT9imdJFWHf8dnYfj8kHkoJN5U"},
{"content":{"body":"Which is unmaintained but has 50k downloads/week","m.mentions":{},"msgtype":"m.text"},"ts":1769021677596,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$mfcUmXvOrw5svrH8u2aG4haNIl0MFoiNzBfDVfpouvk"},
{"content":{"body":"I'm back, sorry for the interruption","m.mentions":{},"msgtype":"m.text"},"ts":1769021902396,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$f2F0I64JNAap8gT1Pgm27tdMkBf_mS3-GMY4x5MLMYI"},
{"content":{"body":"I found that the combined counter is probably correctly working: https://webstatus.dev/features/regexp-static-properties?q=RegExp . 7% :((","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$5d67ntTcl2SuirCBzqxk9l66z4deyZEsM2lULc3X4gA"}},"msgtype":"m.text"},"ts":1769022027427,"senderName":"Olivier FlÃ¼ckiger","senderId":"@olivf.o1o.ch:immer.chat","id":"$YIsmf3aHtgfoAUvx-NipBGtIw4ba7yzbLz-fcnQ8m9U"},
{"content":{"body":"Unfortunately not only that library has no recent activity, but every single person that worked on it seems to not be working at that company anymore","m.mentions":{},"msgtype":"m.text"},"ts":1769022065507,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$ptqAnULbAmol1LJnkmymmBYkzHDKe7YV30I2k9sHITQ"},
{"content":{"body":"Built-in decorators (+ function decorators) would allow something like C#'s `StackTraceHiddenAttribute` https://learn.microsoft.com/en-us/dotnet/api/system.diagnostics.stacktracehiddenattribute?view=net-10.0","format":"org.matrix.custom.html","formatted_body":"Built-in decorators (+ function decorators) would allow something like C#'s <code>StackTraceHiddenAttribute</code> https://learn.microsoft.com/en-us/dotnet/api/system.diagnostics.stacktracehiddenattribute?view=net-10.0","m.mentions":{},"msgtype":"m.text"},"ts":1769022160594,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$_6LsqkoiFvQQkjqP8h9DHgAMejZixt4XyijUaEfGE3k"},
{"content":{"body":"Yeah, but I think the fact that the other static properties are used even more is worse. Unless we split the proposal to only remove the little used ones.","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$ptqAnULbAmol1LJnkmymmBYkzHDKe7YV30I2k9sHITQ"}},"msgtype":"m.text"},"ts":1769022312661,"senderName":"Olivier FlÃ¼ckiger","senderId":"@olivf.o1o.ch:immer.chat","id":"$okOd2Oig0JHoMz_i5itL1HG20MWg6m1_GgkOm6kEGGQ"},
{"content":{"body":"I have to drop, tty all next time","msgtype":"m.text"},"ts":1769022349226,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$mO2n1svTYLc7LluLshC0L6HtCklVR_zbDnvRIcGgLDM"},
{"content":{"body":"Looking at that file, we can work on a proposal to remove `RegExp.$6`! ðŸ˜›","format":"org.matrix.custom.html","formatted_body":"Looking at that file, we can work on a proposal to remove <code>RegExp.$6</code>! ðŸ˜›","m.mentions":{"user_ids":["@olivf.o1o.ch:immer.chat"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$okOd2Oig0JHoMz_i5itL1HG20MWg6m1_GgkOm6kEGGQ"}},"msgtype":"m.text"},"ts":1769022391460,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$NKZzT8Zk9Mny8E0UbJwCP-utHbbEplhm1hQBRsSBlco"},
{"content":{"body":"Have no idea why xiaomi website use such legacy feature, I will try to find and ask the guys in xiaomi ðŸ¤¨","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$npwUARHqITN51x-LW18p9Z_lAc04nHHnJS0lnXz_RXA"}},"msgtype":"m.text"},"ts":1769022581787,"senderName":"hax (HE Shi-Jun)","senderId":"@haxjs:matrix.org","id":"$SAWaaX_jtM_ldvj-J7QdpPC4ugTMmvv_PIEUfUhLi3g"},
{"content":{"body":"thank you for hosting this session Peter!","m.mentions":{},"msgtype":"m.text"},"ts":1769022599254,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$LjbP8C4fipcqVftBY_pA6hIxswMz97xi-IltM16mOGI"},
{"content":{"body":"I'm a Matrix n00b, is there a place where these different spaces are listed?","m.mentions":{},"msgtype":"m.text"},"ts":1769022644713,"senderName":"Steve Hicks","senderId":"@stephenhicks:matrix.org","id":"$4JuBZ35oGYmcDqynVwOLoJ5S8sy43Mehx4ZQyIW_rSM"},
{"content":{"body":"if only there were...some kind of guide... like a matrix guide.. with information on matrix","m.mentions":{},"msgtype":"m.text"},"ts":1769022683728,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$H-0CLEGkrefuJRUDkpoX2jPCwrnNNDp8Ngtv2A9LMGY"},
{"content":{"body":"https://github.com/tc39/how-we-work/blob/main/matrix-guide.md","m.mentions":{"user_ids":["@stephenhicks:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$4JuBZ35oGYmcDqynVwOLoJ5S8sy43Mehx4ZQyIW_rSM"}},"msgtype":"m.text"},"ts":1769022698849,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$1tkWzK6MwidxMstL8S6Iu-Ohh_yJvUcyj2jMIinxxWM"},
{"content":{"body":"https://matrix.to/#/#tc39-space:matrix.org","m.mentions":{},"msgtype":"m.text"},"ts":1769022719946,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$jRThWIvxWvzbIjDof3x-oKgJWgKLtXCbxew1Wk3RhrU"},
{"content":{"body":"â˜ï¸ TC39 space","m.mentions":{},"msgtype":"m.text"},"ts":1769022735113,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$rbrhKsfoIsOV5n7i80VmB7a6dulgMfmMJN4ob2g7ngY"},
{"content":{"body":"what was this in response to? isTemplateObject?","m.mentions":{},"m.relates_to":{"event_id":"$p7WiIQVddE-_Z57uJ2RZ7UKoftzuyNXgByeYdwNXshc","is_falling_back":true,"m.in_reply_to":{"event_id":"$p7WiIQVddE-_Z57uJ2RZ7UKoftzuyNXgByeYdwNXshc"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1769023374435,"senderName":"peetk","senderId":"@peetk:matrix.org","id":"$vO5PN8LlXxvmAj3rNc_-wQwEfXYTesKz-COhbskJ_2U"},
{"content":{"body":"my pleasure!","m.mentions":{},"m.relates_to":{"event_id":"$LjbP8C4fipcqVftBY_pA6hIxswMz97xi-IltM16mOGI","is_falling_back":true,"m.in_reply_to":{"event_id":"$LjbP8C4fipcqVftBY_pA6hIxswMz97xi-IltM16mOGI"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1769023588237,"senderName":"peetk","senderId":"@peetk:matrix.org","id":"$fe4xAVSWE31SCFsMfWjeUBJLI69H0SiCS4vSdsovfD4"},
{"content":{"body":"For simple field wrapping to support public read/private write, I'd argue for this feature in grouped accessors:\n```js\nclass C {\n  accessor x { get; #set; } // paired public getter/private setter\n  m() {\n    this.x; // ok\n    this.#x = 1; // ok\n  }\n}\nconst c = new C();\nc.x; // ok\n// can't use c.#x\n```\nFor more complex cases, `alias` is maybe interesting?","format":"org.matrix.custom.html","formatted_body":"<p>For simple field wrapping to support public read/private write, I'd argue for this feature in grouped accessors:</p>\n<pre><code class=\"language-js\">class C {\n  accessor x { get; #set; } // paired public getter/private setter\n  m() {\n    this.x; // ok\n    this.#x = 1; // ok\n  }\n}\nconst c = new C();\nc.x; // ok\n// can't use c.#x\n</code></pre>\n<p>For more complex cases, <code>alias</code> is maybe interesting?</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1769023615932,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$WerwFwa0TgfzNqjfQYFkW4haK5e38zLZzpyVOvUOCNo"},
{"content":{"body":"* For simple field wrapping to support public read/private write, I'd argue for this feature proposed in grouped accessors:\n\n```js\nclass C {\n  accessor x { get; #set; } // paired public getter/private setter\n  m() {\n    this.x; // ok\n    this.#x = 1; // ok\n  }\n}\nconst c = new C();\nc.x; // ok\n// can't use c.#x\n```\n\nFor more complex cases, `alias` is maybe interesting?","format":"org.matrix.custom.html","formatted_body":"* <p>For simple field wrapping to support public read/private write, I'd argue for this feature proposed in grouped accessors:</p>\n<pre><code class=\"language-js\">class C {\n  accessor x { get; #set; } // paired public getter/private setter\n  m() {\n    this.x; // ok\n    this.#x = 1; // ok\n  }\n}\nconst c = new C();\nc.x; // ok\n// can't use c.#x\n</code></pre>\n<p>For more complex cases, <code>alias</code> is maybe interesting?</p>\n","m.mentions":{},"m.new_content":{"body":"For simple field wrapping to support public read/private write, I'd argue for this feature proposed in grouped accessors:\n\n```js\nclass C {\n  accessor x { get; #set; } // paired public getter/private setter\n  m() {\n    this.x; // ok\n    this.#x = 1; // ok\n  }\n}\nconst c = new C();\nc.x; // ok\n// can't use c.#x\n```\n\nFor more complex cases, `alias` is maybe interesting?","format":"org.matrix.custom.html","formatted_body":"<p>For simple field wrapping to support public read/private write, I'd argue for this feature proposed in grouped accessors:</p>\n<pre><code class=\"language-js\">class C {\n  accessor x { get; #set; } // paired public getter/private setter\n  m() {\n    this.x; // ok\n    this.#x = 1; // ok\n  }\n}\nconst c = new C();\nc.x; // ok\n// can't use c.#x\n</code></pre>\n<p>For more complex cases, <code>alias</code> is maybe interesting?</p>\n","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$WerwFwa0TgfzNqjfQYFkW4haK5e38zLZzpyVOvUOCNo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769023644891,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$ML4hGPLKWXzEkahnmWrNETfLV09pZwP-uoIDsl9HDpc"},
{"content":{"body":"* For simple field wrapping to support public read/private write, I'd argue for this feature proposed in grouped accessors:\n\n```js\nclass C {\n  accessor x { get; #set; } // paired public getter/private setter\n  m() {\n    this.x; // ok\n    this.#x = 1; // ok\n  }\n}\nconst c = new C();\nc.x; // ok\n// can't use c.#x\n```\n\nFor more complex cases (like subproperty access), `alias` is maybe interesting?","format":"org.matrix.custom.html","formatted_body":"* <p>For simple field wrapping to support public read/private write, I'd argue for this feature proposed in grouped accessors:</p>\n<pre><code class=\"language-js\">class C {\n  accessor x { get; #set; } // paired public getter/private setter\n  m() {\n    this.x; // ok\n    this.#x = 1; // ok\n  }\n}\nconst c = new C();\nc.x; // ok\n// can't use c.#x\n</code></pre>\n<p>For more complex cases (like subproperty access), <code>alias</code> is maybe interesting?</p>\n","m.mentions":{},"m.new_content":{"body":"For simple field wrapping to support public read/private write, I'd argue for this feature proposed in grouped accessors:\n\n```js\nclass C {\n  accessor x { get; #set; } // paired public getter/private setter\n  m() {\n    this.x; // ok\n    this.#x = 1; // ok\n  }\n}\nconst c = new C();\nc.x; // ok\n// can't use c.#x\n```\n\nFor more complex cases (like subproperty access), `alias` is maybe interesting?","format":"org.matrix.custom.html","formatted_body":"<p>For simple field wrapping to support public read/private write, I'd argue for this feature proposed in grouped accessors:</p>\n<pre><code class=\"language-js\">class C {\n  accessor x { get; #set; } // paired public getter/private setter\n  m() {\n    this.x; // ok\n    this.#x = 1; // ok\n  }\n}\nconst c = new C();\nc.x; // ok\n// can't use c.#x\n</code></pre>\n<p>For more complex cases (like subproperty access), <code>alias</code> is maybe interesting?</p>\n","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$WerwFwa0TgfzNqjfQYFkW4haK5e38zLZzpyVOvUOCNo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769023669096,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$epHodIZ7KQr4hM1-XaDENYwAE1rgGDv2l0A84w8welU"},
{"content":{"body":"I *have* been tempted to propose something like C#'s \"expression bodied methods\", which use `=>`, i.e.:\n```csharp\n// C#\nclass C\n{\n  int _x = 0;\n  public x => _x; // public getter with shorthand expression body\n  public y {\n    get => _x;\n    set => _x = value;\n  }\n}\n```\nWhich could could cut down on boilerplate for the `alias` case:\n```js\nclass C {\n  #x;\n  get x => this.#x.value;\n  accessor y {\n    get => this.#x.value;\n    set => this.#x.value = value;\n  }\n}\n\n// vs.\n\nclass C {\n  #x;\n  get x() { return this.#x.value; \n  accessor y {\n    get () { return this.#x.value; }\n    set (value) { this.#x.value = value; }\n  }\n}\n```","format":"org.matrix.custom.html","formatted_body":"<p>I <em>have</em> been tempted to propose something like C#'s \"expression bodied methods\", which use <code>=&gt;</code>, i.e.:</p>\n<pre><code class=\"language-csharp\">// C#\nclass C\n{\n  int _x = 0;\n  public x =&gt; _x; // public getter with shorthand expression body\n  public y {\n    get =&gt; _x;\n    set =&gt; _x = value;\n  }\n}\n</code></pre>\n<p>Which could could cut down on boilerplate for the <code>alias</code> case:</p>\n<pre><code class=\"language-js\">class C {\n  #x;\n  get x =&gt; this.#x.value;\n  accessor y {\n    get =&gt; this.#x.value;\n    set =&gt; this.#x.value = value;\n  }\n}\n\n// vs.\n\nclass C {\n  #x;\n  get x() { return this.#x.value; \n  accessor y {\n    get () { return this.#x.value; }\n    set (value) { this.#x.value = value; }\n  }\n}\n</code></pre>\n","m.mentions":{},"msgtype":"m.text"},"ts":1769024100953,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$x7HbKZqmWCE7bHZFHbPyPvcsZJLkv4vqe_Bmf2ixt98"},
{"content":{"body":"nicolo-ribaudo: How many lines of code did your numbers come from BTW?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@nicolo-ribaudo:matrix.org\">nicolo-ribaudo</a>: How many lines of code did your numbers come from BTW?","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$hLAMCubZuKye6yrkYdjVgA0jgeaHnnYGz4c1nU4Yoag"}},"msgtype":"m.text"},"ts":1769024114738,"senderName":"keith_miller","senderId":"@keith_miller:matrix.org","id":"$XaE0LkRTZ4G8U_Q7ZRLdBqvgVpS2QPJUzOV1BYeTjVo"},
{"content":{"body":"* I _have_ been tempted to propose something like C#'s \"expression bodied methods\", which use `=>`, i.e.:\n\n```csharp\n// C#\nclass C\n{\n  int _x = 0;\n  public int x => _x; // public getter with shorthand expression body\n  public int y {\n    get => _x;\n    set => _x = value;\n  }\n}\n```\n\nWhich could could cut down on boilerplate for the `alias` case:\n\n```js\nclass C {\n  #x;\n  get x => this.#x.value;\n  accessor y {\n    get => this.#x.value;\n    set => this.#x.value = value;\n  }\n}\n\n// vs.\n\nclass C {\n  #x;\n  get x() { return this.#x.value; \n  accessor y {\n    get () { return this.#x.value; }\n    set (value) { this.#x.value = value; }\n  }\n}\n```","format":"org.matrix.custom.html","formatted_body":"* <p>I <em>have</em> been tempted to propose something like C#'s \"expression bodied methods\", which use <code>=&gt;</code>, i.e.:</p>\n<pre><code class=\"language-csharp\">// C#\nclass C\n{\n  int _x = 0;\n  public int x =&gt; _x; // public getter with shorthand expression body\n  public int y {\n    get =&gt; _x;\n    set =&gt; _x = value;\n  }\n}\n</code></pre>\n<p>Which could could cut down on boilerplate for the <code>alias</code> case:</p>\n<pre><code class=\"language-js\">class C {\n  #x;\n  get x =&gt; this.#x.value;\n  accessor y {\n    get =&gt; this.#x.value;\n    set =&gt; this.#x.value = value;\n  }\n}\n\n// vs.\n\nclass C {\n  #x;\n  get x() { return this.#x.value; \n  accessor y {\n    get () { return this.#x.value; }\n    set (value) { this.#x.value = value; }\n  }\n}\n</code></pre>\n","m.mentions":{},"m.new_content":{"body":"I _have_ been tempted to propose something like C#'s \"expression bodied methods\", which use `=>`, i.e.:\n\n```csharp\n// C#\nclass C\n{\n  int _x = 0;\n  public int x => _x; // public getter with shorthand expression body\n  public int y {\n    get => _x;\n    set => _x = value;\n  }\n}\n```\n\nWhich could could cut down on boilerplate for the `alias` case:\n\n```js\nclass C {\n  #x;\n  get x => this.#x.value;\n  accessor y {\n    get => this.#x.value;\n    set => this.#x.value = value;\n  }\n}\n\n// vs.\n\nclass C {\n  #x;\n  get x() { return this.#x.value; \n  accessor y {\n    get () { return this.#x.value; }\n    set (value) { this.#x.value = value; }\n  }\n}\n```","format":"org.matrix.custom.html","formatted_body":"<p>I <em>have</em> been tempted to propose something like C#'s \"expression bodied methods\", which use <code>=&gt;</code>, i.e.:</p>\n<pre><code class=\"language-csharp\">// C#\nclass C\n{\n  int _x = 0;\n  public int x =&gt; _x; // public getter with shorthand expression body\n  public int y {\n    get =&gt; _x;\n    set =&gt; _x = value;\n  }\n}\n</code></pre>\n<p>Which could could cut down on boilerplate for the <code>alias</code> case:</p>\n<pre><code class=\"language-js\">class C {\n  #x;\n  get x =&gt; this.#x.value;\n  accessor y {\n    get =&gt; this.#x.value;\n    set =&gt; this.#x.value = value;\n  }\n}\n\n// vs.\n\nclass C {\n  #x;\n  get x() { return this.#x.value; \n  accessor y {\n    get () { return this.#x.value; }\n    set (value) { this.#x.value = value; }\n  }\n}\n</code></pre>\n","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$x7HbKZqmWCE7bHZFHbPyPvcsZJLkv4vqe_Bmf2ixt98","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769024124510,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$qKDb0Xt8JqOracGjEOoT0vqJFmcULmzHTuxZJEb3dVU"},
{"content":{"body":"Yes","m.relates_to":{"event_id":"$p7WiIQVddE-_Z57uJ2RZ7UKoftzuyNXgByeYdwNXshc","is_falling_back":true,"m.in_reply_to":{"event_id":"$vO5PN8LlXxvmAj3rNc_-wQwEfXYTesKz-COhbskJ_2U"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1769024300796,"senderName":"Zb Tenerowicz (ZTZ/naugtur)","senderId":"@naugtur:matrix.org","id":"$tG7-bd6E5wXtOf3oqzUIb8f8M84i2LlxJBekG9oVf8o"},
{"content":{"body":"Around 200k in a few repos, but I didn't _measure_ as I said above. I scrolled to search results and eyeballed it.","format":"org.matrix.custom.html","formatted_body":"Around 200k in a few repos, but I didn't <em>measure</em> as I said above. I scrolled to search results and eyeballed it.","m.mentions":{},"msgtype":"m.text"},"ts":1769024311046,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$V0ysOLV-OtxQuBOxOoKYwDKVOWI06hM37PbbTg2d_3Y"},
{"content":{"body":"All property forwarding was about getters btw, setters are much rarer","m.mentions":{},"msgtype":"m.text"},"ts":1769024335444,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$VD7k4Bm1Mbz3FZZPHj4rl_Lf9-oxvltAwyvH9_MUvZA"},
{"content":{"body":"One codebase uses typescript, the others do not. Validation is higher in the one that does not use TS","m.mentions":{},"msgtype":"m.text"},"ts":1769024367081,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$9JScRRUSraPKnZJgC_h8BDpThtixj9jWBXqIt-UjaTI"},
{"content":{"body":"* One codebase uses typescript, the others do not. Validation is higher in the ones that do not use TS","m.mentions":{},"m.new_content":{"body":"One codebase uses typescript, the others do not. Validation is higher in the ones that do not use TS","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$9JScRRUSraPKnZJgC_h8BDpThtixj9jWBXqIt-UjaTI","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769024375307,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$z1RvZbPDxbbHFwowfJ1f8TMWH36mxtkUUyZjAzpnoH0"},
{"content":{"body":"* Around 200k in a few repos, but I didn't _measure_ as I said above. I scrolled through search results and eyeballed it.","format":"org.matrix.custom.html","formatted_body":"* Around 200k in a few repos, but I didn't <em>measure</em> as I said above. I scrolled through search results and eyeballed it.","m.mentions":{},"m.new_content":{"body":"Around 200k in a few repos, but I didn't _measure_ as I said above. I scrolled through search results and eyeballed it.","format":"org.matrix.custom.html","formatted_body":"Around 200k in a few repos, but I didn't <em>measure</em> as I said above. I scrolled through search results and eyeballed it.","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$V0ysOLV-OtxQuBOxOoKYwDKVOWI06hM37PbbTg2d_3Y","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769024407671,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$ELFNq3z1tK1QbxMMr1GuYg9fPuSha_gKT-LPsPo-du0"},
{"content":{"body":"I have some appreciation for the feature and have been looking at ASTs of tagged templates recently","m.relates_to":{"event_id":"$p7WiIQVddE-_Z57uJ2RZ7UKoftzuyNXgByeYdwNXshc","is_falling_back":true,"m.in_reply_to":{"event_id":"$tG7-bd6E5wXtOf3oqzUIb8f8M84i2LlxJBekG9oVf8o"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1769024460469,"senderName":"Zb Tenerowicz (ZTZ/naugtur)","senderId":"@naugtur:matrix.org","id":"$SILKefaXYinXlBcvmqKg_e9h5NaKrCt_8-GqJlK7gAw"},
{"content":{"body":"This seems like a good use case for expression-bodied getters, IMO.","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$VD7k4Bm1Mbz3FZZPHj4rl_Lf9-oxvltAwyvH9_MUvZA"}},"msgtype":"m.text"},"ts":1769024684649,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$Q8j_JfBd4VZEDq-V1VWzF8G75qoP4x6YfIE_169jnQg"},
{"content":{"body":"* I _have_ been tempted to propose something like C#'s \"expression bodied methods\", which use `=>`, i.e.:\n\n```csharp\n// C#\nclass C\n{\n  int _x = 0;\n  public int x => _x; // public getter with shorthand expression body\n  public int y {\n    get => _x;\n    set => _x = value;\n  }\n}\n```\n\nWhich could could cut down on boilerplate for the `alias` case:\n\n```js\nclass C {\n  #x = { value: 0 }; // for something more complex\n  get x => this.#x.value;\n  accessor y {\n    get => this.#x.value;\n    set => this.#x.value = value;\n  }\n}\n\n// vs.\n\nclass C {\n  #x;\n  get x() { return this.#x.value; \n  accessor y {\n    get () { return this.#x.value; }\n    set (value) { this.#x.value = value; }\n  }\n}\n```","format":"org.matrix.custom.html","formatted_body":"* <p>I <em>have</em> been tempted to propose something like C#'s \"expression bodied methods\", which use <code>=&gt;</code>, i.e.:</p>\n<pre><code class=\"language-csharp\">// C#\nclass C\n{\n  int _x = 0;\n  public int x =&gt; _x; // public getter with shorthand expression body\n  public int y {\n    get =&gt; _x;\n    set =&gt; _x = value;\n  }\n}\n</code></pre>\n<p>Which could could cut down on boilerplate for the <code>alias</code> case:</p>\n<pre><code class=\"language-js\">class C {\n  #x = { value: 0 }; // for something more complex\n  get x =&gt; this.#x.value;\n  accessor y {\n    get =&gt; this.#x.value;\n    set =&gt; this.#x.value = value;\n  }\n}\n\n// vs.\n\nclass C {\n  #x;\n  get x() { return this.#x.value; \n  accessor y {\n    get () { return this.#x.value; }\n    set (value) { this.#x.value = value; }\n  }\n}\n</code></pre>\n","m.mentions":{},"m.new_content":{"body":"I _have_ been tempted to propose something like C#'s \"expression bodied methods\", which use `=>`, i.e.:\n\n```csharp\n// C#\nclass C\n{\n  int _x = 0;\n  public int x => _x; // public getter with shorthand expression body\n  public int y {\n    get => _x;\n    set => _x = value;\n  }\n}\n```\n\nWhich could could cut down on boilerplate for the `alias` case:\n\n```js\nclass C {\n  #x = { value: 0 }; // for something more complex\n  get x => this.#x.value;\n  accessor y {\n    get => this.#x.value;\n    set => this.#x.value = value;\n  }\n}\n\n// vs.\n\nclass C {\n  #x;\n  get x() { return this.#x.value; \n  accessor y {\n    get () { return this.#x.value; }\n    set (value) { this.#x.value = value; }\n  }\n}\n```","format":"org.matrix.custom.html","formatted_body":"<p>I <em>have</em> been tempted to propose something like C#'s \"expression bodied methods\", which use <code>=&gt;</code>, i.e.:</p>\n<pre><code class=\"language-csharp\">// C#\nclass C\n{\n  int _x = 0;\n  public int x =&gt; _x; // public getter with shorthand expression body\n  public int y {\n    get =&gt; _x;\n    set =&gt; _x = value;\n  }\n}\n</code></pre>\n<p>Which could could cut down on boilerplate for the <code>alias</code> case:</p>\n<pre><code class=\"language-js\">class C {\n  #x = { value: 0 }; // for something more complex\n  get x =&gt; this.#x.value;\n  accessor y {\n    get =&gt; this.#x.value;\n    set =&gt; this.#x.value = value;\n  }\n}\n\n// vs.\n\nclass C {\n  #x;\n  get x() { return this.#x.value; \n  accessor y {\n    get () { return this.#x.value; }\n    set (value) { this.#x.value = value; }\n  }\n}\n</code></pre>\n","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$x7HbKZqmWCE7bHZFHbPyPvcsZJLkv4vqe_Bmf2ixt98","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769024760524,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$nTQYXNMhkDFpMMmz9zXtJY9OgbcjOza2913WlP6sEf8"},
{"content":{"body":"* This seems like a good use case for expression-bodied getters, IMO.\ni.e., `get x => this.#x`","format":"org.matrix.custom.html","formatted_body":"* This seems like a good use case for expression-bodied getters, IMO.<br>i.e., <code>get x =&gt; this.#x</code>","m.mentions":{},"m.new_content":{"body":"This seems like a good use case for expression-bodied getters, IMO.\ni.e., `get x => this.#x`","format":"org.matrix.custom.html","formatted_body":"This seems like a good use case for expression-bodied getters, IMO.<br>i.e., <code>get x =&gt; this.#x</code>","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$Q8j_JfBd4VZEDq-V1VWzF8G75qoP4x6YfIE_169jnQg","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769024794266,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$cEkuzmhERkbLMyKl5uJ-68kNKQZ3RFOTSjrLqq9phFA"},
{"content":{"body":"is there a proposal for this?","m.mentions":{"user_ids":["@rbuckton:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$Q8j_JfBd4VZEDq-V1VWzF8G75qoP4x6YfIE_169jnQg"}},"msgtype":"m.text"},"ts":1769024818460,"senderName":"Lea Verou","senderId":"@leaverou:matrix.org","id":"$6MuWLvLHkh8eV34fX8XM_lhT9z3tBufnqIR27HjH128"},
{"content":{"body":"* is there a proposal for this? (edit: nvm, just saw the earlier messages!)","m.mentions":{},"m.new_content":{"body":"is there a proposal for this? (edit: nvm, just saw the earlier messages!)","m.mentions":{"user_ids":["@rbuckton:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$6MuWLvLHkh8eV34fX8XM_lhT9z3tBufnqIR27HjH128","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769024851381,"senderName":"Lea Verou","senderId":"@leaverou:matrix.org","id":"$XsHvk63je4HJGP2tp6HaoVrtn-WnDPXnzoq7y0XN6w8"},
{"content":{"body":"Couldn't aliases/forwarding be done with a decorated accessor? It would be a little wasteful of the unused underlying accessor, but there's any number of ways you could write\n```\n@alias({get: () => this.foo.bar, set: (x) => this.foo.bar = x})\naccessor bar;\n```\nor\n```\n@alias({owner: this.#foo, prop: 'bar'}) // obviously order matters here, could be lazy () => this.#foo\n```\n\nAnd if you wanted to define a bunch of them, you could compose your own decorator that saved some boilerplate\n```\n@myalias('foo') accessor foo;\n@myalias('bar') accessor bar;\n```\nwhere `@myalias` could effectively \"close over\" any `this.#owner`.","format":"org.matrix.custom.html","formatted_body":"<p>Couldn't aliases/forwarding be done with a decorated accessor? It would be a little wasteful of the unused underlying accessor, but there's any number of ways you could write</p>\n<pre><code>@alias({get: () =&gt; this.foo.bar, set: (x) =&gt; this.foo.bar = x})\naccessor bar;\n</code></pre>\n<p>or</p>\n<pre><code>@alias({owner: this.#foo, prop: 'bar'}) // obviously order matters here, could be lazy () =&gt; this.#foo\n</code></pre>\n<p>And if you wanted to define a bunch of them, you could compose your own decorator that saved some boilerplate</p>\n<pre><code>@myalias('foo') accessor foo;\n@myalias('bar') accessor bar;\n</code></pre>\n<p>where <code>@myalias</code> could effectively \"close over\" any <code>this.#owner</code>.</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1769024891343,"senderName":"Steve Hicks","senderId":"@stephenhicks:matrix.org","id":"$yfOSLLPNuqxe7xzCOPu6ymUTnIRxE3n4aVxiq4Nkmfw"},
{"content":{"body":"Not yet. I'd considered it when I proposed grouped/auto-accessors but since that proposal was blocked from Stage 2 until decorators hit Stage 4, I held off.","m.mentions":{},"msgtype":"m.text"},"ts":1769024901626,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$c5tkMCP9JKCoRWz8QQr6DbPPdagutVP6EXXZq6NqSbQ"},
{"content":{"body":"Separating the object from the prop like that seems even more awkward than the status quo","m.mentions":{},"msgtype":"m.text"},"ts":1769024940423,"senderName":"Lea Verou","senderId":"@leaverou:matrix.org","id":"$rBzHMIXsRbaA6mhDXhoHdng5NIRpCzpxUADcs3LOmqc"},
{"content":{"body":"though this makes me wonder if instead of alias accessors we need a syntax-level feature for referencing property chains","m.mentions":{},"msgtype":"m.text"},"ts":1769024958252,"senderName":"Lea Verou","senderId":"@leaverou:matrix.org","id":"$QAm47cDZdpxuLArbJjzncXV4rsKKQxdTzlJe3cM9PlU"},
{"content":{"body":"that certainly isn't very concise, imo. ","m.mentions":{"user_ids":["@stephenhicks:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$yfOSLLPNuqxe7xzCOPu6ymUTnIRxE3n4aVxiq4Nkmfw"}},"msgtype":"m.text"},"ts":1769024966688,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$aSu9Lfcry6WGrc4GBK0zaDi9Jm6XMm4GtqpK3yY4WnE"},
{"content":{"body":"then regular decorators could do it","m.mentions":{},"msgtype":"m.text"},"ts":1769024969165,"senderName":"Lea Verou","senderId":"@leaverou:matrix.org","id":"$XD1D5bD2Rrie1rmbv17lyn-yoIdoqsXPh959mH85sDA"},
{"content":{"body":"plus, lots of other use cases outside accessors","m.mentions":{},"msgtype":"m.text"},"ts":1769024977945,"senderName":"Lea Verou","senderId":"@leaverou:matrix.org","id":"$DXCR-YKv62IEpLgqkF6i1ZwifzBB2Nzd2e21wHvAbhI"},
{"content":{"body":"C# has `Expression<T>` that's used in LINQ, but that requires reifying a subset of the AST","format":"org.matrix.custom.html","formatted_body":"C# has <code>Expression&lt;T&gt;</code> that's used in LINQ, but that requires reifying a subset of the AST","m.mentions":{},"msgtype":"m.text"},"ts":1769025045765,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$5Afzb9U2oFZcW5eoALqiKAYbli06TTeXfz7sCND6Y6w"},
{"content":{"body":"E.g. filtering, various helpers (e.g. lodash's get/set)","m.mentions":{},"msgtype":"m.text"},"ts":1769025046807,"senderName":"Lea Verou","senderId":"@leaverou:matrix.org","id":"$ECy0_F2dSXW0MbrSRNjLRKyA-R5G8khsvpcB-iTGQ1s"},
{"content":{"body":"Well, not quite the same. `Expression<T>` is used by an expression rewriter to turn C# expression syntax into other languages like SQL to convert a LINQ pattern into a database query.","format":"org.matrix.custom.html","formatted_body":"Well, not quite the same. <code>Expression&lt;T&gt;</code> is used by an expression rewriter to turn C# expression syntax into other languages like SQL to convert a LINQ pattern into a database query.","m.mentions":{},"msgtype":"m.text"},"ts":1769025118341,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$Dw0ygYumjyOSBH3yyK37uxcxYVqn6CX6DSOorjpwB7o"},
{"content":{"body":"basically a type of literal that returns some kind of `PropertyReference` object","format":"org.matrix.custom.html","formatted_body":"basically a type of literal that returns some kind of <code>PropertyReference</code> object","m.mentions":{},"msgtype":"m.text"},"ts":1769025134343,"senderName":"Lea Verou","senderId":"@leaverou:matrix.org","id":"$JENY0OGNLL-OxKtrTK7iEk5QIqp-A2qU019e0hGciGk"},
{"content":{"body":"which could have methods to get/set/etc the property chain for a given object, perhaps. (Just brainstorming out loud here","m.mentions":{},"msgtype":"m.text"},"ts":1769025180397,"senderName":"Lea Verou","senderId":"@leaverou:matrix.org","id":"$4hqvHhinfMEPT4qi6geSvJSR8nmUfj3oHNhauub7pR4"},
{"content":{"body":"I have a proposal for reified references that I have yet to bring to committee (https://github.com/rbuckton/proposal-refs) that would do that.","m.mentions":{},"msgtype":"m.text"},"ts":1769025182968,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$LM6M2uzNyBFEfb1DzmlN38uC92rgghPlkto2zPZDYD4"},
{"content":{"body":"* which could have methods to get/set/etc the property chain for a given object, perhaps (Just brainstorming out loud here)","m.mentions":{},"m.new_content":{"body":"which could have methods to get/set/etc the property chain for a given object, perhaps (Just brainstorming out loud here)","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$4hqvHhinfMEPT4qi6geSvJSR8nmUfj3oHNhauub7pR4","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769025185317,"senderName":"Lea Verou","senderId":"@leaverou:matrix.org","id":"$i7ct-rzY1YYLwSlvVFBgyvHkfXAa5hWx-ntm4n5HU-4"},
{"content":{"body":"I'll need to look at this more closely later, I tried skimming but it needs more time than that","m.mentions":{"user_ids":["@rbuckton:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$LM6M2uzNyBFEfb1DzmlN38uC92rgghPlkto2zPZDYD4"}},"msgtype":"m.text"},"ts":1769025275976,"senderName":"Lea Verou","senderId":"@leaverou:matrix.org","id":"$GWeyTzgMfLSKkRhR9qm7DX3QxPqls7HLSGJImd3dM5M"},
{"content":{"body":"* Thanks! I'll need to look at this more closely later, I tried skimming but it needs more time than that","m.mentions":{},"m.new_content":{"body":"Thanks! I'll need to look at this more closely later, I tried skimming but it needs more time than that","m.mentions":{"user_ids":["@rbuckton:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$GWeyTzgMfLSKkRhR9qm7DX3QxPqls7HLSGJImd3dM5M","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769025293037,"senderName":"Lea Verou","senderId":"@leaverou:matrix.org","id":"$B6apAQCRgoRVXzYL4Yq-klaFpj7qARdiHYJQVJFBPpc"},
{"content":{"body":"It could be useful to include examples of property chains and privates (if it covers them too)","m.mentions":{},"msgtype":"m.text"},"ts":1769025339635,"senderName":"Lea Verou","senderId":"@leaverou:matrix.org","id":"$U7CTAbYYXmBipLxl_vlZEBtd6t487TpBbWXz-7JPHSs"},
{"content":{"body":"It does. ","m.mentions":{"user_ids":["@leaverou:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$U7CTAbYYXmBipLxl_vlZEBtd6t487TpBbWXz-7JPHSs"}},"msgtype":"m.text"},"ts":1769025439390,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$3WMLj9KmWKExYKOToQJLs0PuzkMFlQkGSq58cb3f1xo"},
{"content":{"body":"Though \"property chain\" isn't the right term. It captures the Reference resulting from the property chain.","m.mentions":{},"msgtype":"m.text"},"ts":1769025481396,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$lbEHXFtjwBuRc5BugDHETFlHHa5wwAnNg2UhsBt53MY"},
{"content":{"body":"FWIW (probably not much), my Closure Compile-addled brain tends to go to something along the lines of `{foo: {bar: true}}` to represent a property chain... but that's more due to limitations with how our optimizer handles property rewriting.  I don't know if `{#foo: {bar: true}}` could work (assuming privates in object literals landed), but it's certainly neither pretty nor performant and probably a non-starter.","format":"org.matrix.custom.html","formatted_body":"FWIW (probably not much), my Closure Compile-addled brain tends to go to something along the lines of <code>{foo: {bar: true}}</code> to represent a property chain... but that's more due to limitations with how our optimizer handles property rewriting.  I don't know if <code>{#foo: {bar: true}}</code> could work (assuming privates in object literals landed), but it's certainly neither pretty nor performant and probably a non-starter.","m.mentions":{},"msgtype":"m.text"},"ts":1769025507193,"senderName":"Steve Hicks","senderId":"@stephenhicks:matrix.org","id":"$cDFLb8bneILTMsn48ncL9mwJiD_yfOengIIvh1btT6g"},
{"content":{"body":"* FWIW (probably not much), my Closure Compile-addled brain tends to go to something along the lines of `{foo: {bar: true}}` to represent a property chain... but that's more due to limitations with how our optimizer handles property renaming.  I don't know if `{#foo: {bar: true}}` could work (assuming privates in object literals landed), but it's certainly neither pretty nor performant and probably a non-starter.","format":"org.matrix.custom.html","formatted_body":"* FWIW (probably not much), my Closure Compile-addled brain tends to go to something along the lines of <code>{foo: {bar: true}}</code> to represent a property chain... but that's more due to limitations with how our optimizer handles property renaming.  I don't know if <code>{#foo: {bar: true}}</code> could work (assuming privates in object literals landed), but it's certainly neither pretty nor performant and probably a non-starter.","m.mentions":{},"m.new_content":{"body":"FWIW (probably not much), my Closure Compile-addled brain tends to go to something along the lines of `{foo: {bar: true}}` to represent a property chain... but that's more due to limitations with how our optimizer handles property renaming.  I don't know if `{#foo: {bar: true}}` could work (assuming privates in object literals landed), but it's certainly neither pretty nor performant and probably a non-starter.","format":"org.matrix.custom.html","formatted_body":"FWIW (probably not much), my Closure Compile-addled brain tends to go to something along the lines of <code>{foo: {bar: true}}</code> to represent a property chain... but that's more due to limitations with how our optimizer handles property renaming.  I don't know if <code>{#foo: {bar: true}}</code> could work (assuming privates in object literals landed), but it's certainly neither pretty nor performant and probably a non-starter.","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$cDFLb8bneILTMsn48ncL9mwJiD_yfOengIIvh1btT6g","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1769025565746,"senderName":"Steve Hicks","senderId":"@stephenhicks:matrix.org","id":"$oLj4QUUYMu9wWxyE_8F9xdjoRG8IDr_UYzhjO_7q6ts"},
{"content":{"body":"But at the end of the day, what we're talking about is a pair of functions: {get: (T) => V, set: (T, V) => void}, so I think the question is whether there could be a reasonably ergonomic way to write that object.","m.mentions":{},"msgtype":"m.text"},"ts":1769025723918,"senderName":"Steve Hicks","senderId":"@stephenhicks:matrix.org","id":"$GAs66_ocABmfRXzjf0z5zLTdxAXvmDT-fxQorPOJJWU"},
{"content":{"body":"The idea with `ref` is that a `ref`-expression captures a _Reference_ to an expression and reifies it:\n```js\nlet x = 0;\nlet rx = ref x; // ref expression\nrx.value; // 0\nrx.value = 1;\nx; // 1\n```\nWhile a `ref`-declaration _dereferences_ that reference as if it were the roughly the same binding:\n```js\nlet x = 0;\nlet rx = ref x; // ref expression takes reference\n\nlet ref y = rx; // ref declaration dereferences\ny; // 0\ny = 1;\nx; // 1\n```","format":"org.matrix.custom.html","formatted_body":"<p>The idea with <code>ref</code> is that a <code>ref</code>-expression captures a <em>Reference</em> to an expression and reifies it:</p>\n<pre><code class=\"language-js\">let x = 0;\nlet rx = ref x; // ref expression\nrx.value; // 0\nrx.value = 1;\nx; // 1\n</code></pre>\n<p>While a <code>ref</code>-declaration <em>dereferences</em> that reference as if it were the roughly the same binding:</p>\n<pre><code class=\"language-js\">let x = 0;\nlet rx = ref x; // ref expression takes reference\n\nlet ref y = rx; // ref declaration dereferences\ny; // 0\ny = 1;\nx; // 1\n</code></pre>\n","m.mentions":{},"msgtype":"m.text"},"ts":1769025952903,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$3uB4UJyHgb7HeY-Hi_y-rIZb9Ft1qgYklqLBVRBAj7M"},
{"content":{"body":"There's no concept of a `ref` declaration for a field or accessor however, so while you could _take_ a ref to a property, you can't necessarily install the ref as a property (at least, not yet)","format":"org.matrix.custom.html","formatted_body":"There's no concept of a <code>ref</code> declaration for a field or accessor however, so while you could <em>take</em> a ref to a property, you can't necessarily install the ref as a property (at least, not yet)","m.mentions":{},"msgtype":"m.text"},"ts":1769026040239,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$xe37sDLKHIyxonhLGeF8jZXCAEEOGcQcAUrzdbUvgV4"},
{"content":{"body":"There is a suggestion for `ref` properties, though (https://github.com/rbuckton/proposal-refs/issues/12)","format":"org.matrix.custom.html","formatted_body":"There is a suggestion for <code>ref</code> properties, though (https://github.com/rbuckton/proposal-refs/issues/12)","m.mentions":{},"msgtype":"m.text"},"ts":1769026383353,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$rkaooNt8ZY8EtCoB_kjeL9DOl6yFR1PXCT9xYi1amis"},
{"content":{"body":"I really should just present this and at least get stage 1, since one way or another it's worth discussing.","m.mentions":{},"msgtype":"m.text"},"ts":1769026416502,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$NHksOAd105P--FuN8_tgOrzpuVdoex8jb9kkBs9XdOo"}
]