[
{"content":{"body":"that's workable but gross, and it shouldn't be called concat in that case","msgtype":"m.text"},"ts":1691992576326,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$dAsEiisTeeVqBNERmdUbY5rrhS0zdy9EI-FcgYVTNA8"},
{"content":{"body":"concat is the only name for this operation in every single language and every library","msgtype":"m.text"},"ts":1691996941727,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$aUdkozBDWnlnZtmEyIlV3HaWmUUUg2rzA59TIhtwID4"},
{"content":{"body":"This is called [chain](https://doc.rust-lang.org/stable/std/iter/trait.Iterator.html#method.chain) in Rust, and is combined with [once](https://doc.rust-lang.org/stable/std/iter/fn.once.html) to create an iterator of a single value","format":"org.matrix.custom.html","formatted_body":"This is called <a href=\"https://doc.rust-lang.org/stable/std/iter/trait.Iterator.html#method.chain\">chain</a> in Rust, and is combined with <a href=\"https://doc.rust-lang.org/stable/std/iter/fn.once.html\">once</a> to create an iterator of a single value","msgtype":"m.text"},"ts":1692021622013,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$a8iITo4yjgUoMhif0IXEixX53DPRPHmDmXVV01cVs4M"},
{"content":{"body":"ljharb: You're in luck! I was already planning on starting work on this proposal today.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@ljharb:matrix.org\">ljharb</a>: You're in luck! I was already planning on starting work on this proposal today.","msgtype":"m.text"},"ts":1692024746305,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$0bHgZ-mbPhGTQqC6t2Qa_eGdZY_NTPlL8hZxCLbJPwY"},
{"content":{"body":"> <@bakkot:matrix.org> concat is the only name for this operation in every single language and every library\n\nbut concat in this language accepts a single thing or a list of things","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!WgJwmjBNZEXhJnXHXw%3Amatrix.org/%24aUdkozBDWnlnZtmEyIlV3HaWmUUUg2rzA59TIhtwID4\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">@bakkot:matrix.org</a><br>concat is the only name for this operation in every single language and every library</blockquote></mx-reply>but concat in this language accepts a single thing or a list of things","m.relates_to":{"m.in_reply_to":{"event_id":"$aUdkozBDWnlnZtmEyIlV3HaWmUUUg2rzA59TIhtwID4"}},"msgtype":"m.text"},"ts":1692024796810,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$vV-DF8j_wor1nh6NPQWUSuv_riYOR62CAo9kZ3cLMFM"},
{"content":{"body":"I am very much okay with the meaning of `concat` depending on the kind of thing it's applied to","format":"org.matrix.custom.html","formatted_body":"I am very much okay with the meaning of <code>concat</code> depending on the kind of thing it's applied to","msgtype":"m.text"},"ts":1692024956193,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$e-MqJCInK0Aj0LXy4bSrIR8hnNxMtYRmJMo32luyctY"},
{"content":{"body":"regardless, though, it's probably more important to match one of `Iterator.from` or `Iterator.prototype.flatMap`, which both reject primitives (though differ in their handling of strings)","format":"org.matrix.custom.html","formatted_body":"regardless, though, it's probably more important to match one of <code>Iterator.from</code> or <code>Iterator.prototype.flatMap</code>, which both reject primitives (though differ in their handling of strings)","msgtype":"m.text"},"ts":1692025099692,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$mXEegLCskMakJ8JsfO_PR5zFQ49e4YHEmjuOE00rRIY"},
{"content":{"body":"Yeah, so long as there's an easy way to lift a primitive into an iterable (via `once()` or something), then having `concat()` only accept iterables is fine with me. ","format":"org.matrix.custom.html","formatted_body":"Yeah, so long as there's an easy way to lift a primitive into an iterable (via <code>once()</code> or something), then having <code>concat()</code> only accept iterables is fine with me.","msgtype":"m.text"},"ts":1692035577581,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$I40sglbfStj89t0HNjd1f9Y76OfhlAM43FvyBiGq3jQ"},
{"content":{"body":"It'll still probably commit the cardinal sin of Treating Strings Like Iterables tho, unless we explicitly guard against that.","msgtype":"m.text"},"ts":1692035597968,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$JGbGFFaUukbimuq7jM0vzpVB3C3E9nG4SGLMhTXDQBI"},
{"content":{"body":"if it requires being an array than i'll probably just always `concat([].concat(item))` which would be annoying","format":"org.matrix.custom.html","formatted_body":"if it requires being an array than i'll probably just always <code>concat([].concat(item))</code> which would be annoying","msgtype":"m.text"},"ts":1692035748091,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$T_xX-MyvYmWwXXjcPrwKj3Sn4D4ApgOGdX768juh3zg"},
{"content":{"body":"You can lift `x` into an iterable by doing `[x]`","format":"org.matrix.custom.html","formatted_body":"You can lift <code>x</code> into an iterable by doing <code>[x]</code>","msgtype":"m.text"},"ts":1692035764002,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$zaQY3GhyLz6ItTXzy7ytTLzcVcwTgpBzrC15muHPRpE"},
{"content":{"body":"> <@tabatkins:matrix.org> It'll still probably commit the cardinal sin of Treating Strings Like Iterables tho, unless we explicitly guard against that.\n\niterator flatmap explicitly guards against that, so concat would too","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!WgJwmjBNZEXhJnXHXw:matrix.org/$JGbGFFaUukbimuq7jM0vzpVB3C3E9nG4SGLMhTXDQBI?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@tabatkins:matrix.org\">@tabatkins:matrix.org</a><br>It&#39;ll still probably commit the cardinal sin of Treating Strings Like Iterables tho, unless we explicitly guard against that.</blockquote></mx-reply>iterator flatmap explicitly guards against that, so concat would too","m.relates_to":{"m.in_reply_to":{"event_id":"$JGbGFFaUukbimuq7jM0vzpVB3C3E9nG4SGLMhTXDQBI"}},"msgtype":"m.text"},"ts":1692037123620,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$OujeYV_96EDku1gm0N72OxYIJTBcJ08cJba2gwBo478"},
{"content":{"body":"Excellent.","msgtype":"m.text"},"ts":1692037141295,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$aSASGXdCZtcH1QOyQUz9XNb2HmBoNrmoc3PypTTf5CM"}
]