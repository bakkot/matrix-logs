[
{"content":{"body":"only needs to remain a movable if the intention is to move again","format":"org.matrix.custom.html","formatted_body":"only needs to remain a movable if the intention is to move again","msgtype":"m.text"},"ts":1748390410941,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$ohbotzwEgRDJoyYbTiGo1mnt_X3RMD6XpGIghuJTMSk"},
{"content":{"body":"Wouldn't you just use `DisposableStack` itself for this?","format":"org.matrix.custom.html","formatted_body":"Wouldn't you just use <code>DisposableStack</code> itself for this?","m.mentions":{},"msgtype":"m.text"},"ts":1748390528414,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$UJgp9v4F-_b9Z3jslNTL04lEh-CqOX2QlGt18gWoNHI"},
{"content":{"body":"Yeah I would ","format":"org.matrix.custom.html","formatted_body":"Yeah I wouldÂ ","msgtype":"m.text"},"ts":1748390587202,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$wRpumQaPkcgqAuICgp2_NsKwN8bV7Tpqanyvrd64JXE"},
{"content":{"body":"only if it's all-or-nothing","m.mentions":{},"msgtype":"m.text"},"ts":1748390588832,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$u_inlxGgo3wCF6xynefJV2_apeSH56s714hKdL6EBJM"},
{"content":{"body":"DS was my initial response on the discussion on this side but the feedback is that it just *feels* cumbersome ","msgtype":"m.text"},"ts":1748390595538,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$hO_YV2jS39ezofcV56REOMC-4qXMGV1KgWjnUBIlX5E"},
{"content":{"body":"making one stack per resource is kinda annoying","m.mentions":{},"msgtype":"m.text"},"ts":1748390602798,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$_36vnBK2J3DXGACMNmYvab4PXwiFseC4bjyIMvv4r5o"},
{"content":{"body":"though I guess not really any different than the wrapper, in practice","m.mentions":{},"msgtype":"m.text"},"ts":1748390613665,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$nNCUuAtLhlmLVpHTNWe9daSQuqJTwJqM1z8xNK5SdLc"},
{"content":{"body":"Maybe, but it works.","m.mentions":{"user_ids":["@bakkot:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$_36vnBK2J3DXGACMNmYvab4PXwiFseC4bjyIMvv4r5o"}},"msgtype":"m.text"},"ts":1748390616180,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$ggv8L16KR_4n5a5fUjsJcvJdlzQaImMIm50CONJEOSQ"},
{"content":{"body":"More context from the discussion I've been having on this side. It should give more context","msgtype":"m.text"},"ts":1748390635206,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$iBqVpYh2kXl7bSYEY3gD3W1ajYx1u9JZCpPJikfZUAc"},
{"content":{"body":"Changing ownership should be rare.","m.mentions":{},"msgtype":"m.text"},"ts":1748390638688,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$_QR9-X9rg2-mGG-OhXRZKmBxDP6j6iQNtpqd3LUxmPo"},
{"content":{"body":"Keeping in mind that this is coming from someone who is super familiar with RAII patterns and move semantics in C++","msgtype":"m.text"},"ts":1748390675170,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$h-ugeSRVAbf0Qj06NFca9aY2dw3DgneQxRnvvZv_6ms"},
{"content":{"body":"yeah but it takes one more line than my little wrapper, because you have to `new` the stack before you can use it","format":"org.matrix.custom.html","formatted_body":"yeah but it takes one more line than my little wrapper, because you have to <code>new</code> the stack before you can use it","m.mentions":{"user_ids":["@rbuckton:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$ggv8L16KR_4n5a5fUjsJcvJdlzQaImMIm50CONJEOSQ"}},"msgtype":"m.text"},"ts":1748390678339,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Ne_hDj82MSOkVsU81inwY-SSV7-FAY9igIBb3m9Jj_Y"},
{"content":{"body":"difference between two lines of boilerplate and one line of boilerplate is a lot!","m.mentions":{},"msgtype":"m.text"},"ts":1748390691737,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$k8shSv8Wuw1j1gFS1Gp9pGBlmDb7G02eMPnjbH-xO9I"},
{"content":{"body":"anyway yes it totally works, just saying that if this was bothering someone a lot I would recommend they write a wrapper such as the above and maybe that will placate them","m.mentions":{},"msgtype":"m.text"},"ts":1748390739274,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$_jiIsVWz-TUxZ1QbCN3Zhno3p2DvSoplDwVZJwpDl0g"},
{"content":{"body":"Except your wrapper could just new up a `DisposableStack`. It also breaks the RAII pattern, since you need a 2nd `const { resource: foo } = ...` line.","format":"org.matrix.custom.html","formatted_body":"Except your wrapper could just new up a <code>DisposableStack</code>. It also breaks the RAII pattern, since you need a 2nd <code>const { resource: foo } = ...</code> line.","m.mentions":{},"msgtype":"m.text"},"ts":1748390752929,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$tQ3cCWYucLp9qJv045pIWltHc7fjDKiNp7R4ZpmZwTA"},
{"content":{"body":"implementation of the wrapper is not important, just the ergonomics, and if it were me I would definitely be happier breaking the RAII pattern and having one line of boilerplate per resource, vs having two lines of boilerplate","m.mentions":{},"msgtype":"m.text"},"ts":1748390922155,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$S0gNc6G-WxLSfMYCEC2QWcpKJZzPrMZ_CLkcnYMs0C4"}
]