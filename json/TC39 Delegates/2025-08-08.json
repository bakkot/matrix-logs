[
{"content":{"body":"> <@mhofman:matrix.org> However I haven't heard a request for userland to be able to implement the safe resolve operation itself. Just that whatever hosts can do, that userland can do it just as much (aka a virtualization constraint, which of course I'm 100% behind)\n\nUnfortunately this approach may not be web compatible, based on Svelte.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!WgJwmjBNZEXhJnXHXw%3Amatrix.org/%24xpiT9VqKHVQ81LKskCijDETPunQQaIJlZR1q86xUw44\">In reply to</a> <a href=\"https://matrix.to/#/@mhofman:matrix.org\">@mhofman:matrix.org</a><br>However I haven't heard a request for userland to be able to implement the safe resolve operation itself. Just that whatever hosts can do, that userland can do it just as much (aka a virtualization constraint, which of course I'm 100% behind)</blockquote></mx-reply>Unfortunately this approach may not be web compatible, based on Svelte.","m.relates_to":{"m.in_reply_to":{"event_id":"$xpiT9VqKHVQ81LKskCijDETPunQQaIJlZR1q86xUw44"}},"msgtype":"m.text"},"ts":1754617852690,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$HNQZdTa08RPZxPgKVl-JHGnzQDZ-wZ3CRRdcTgluOV4"},
{"content":{"body":"I realize svelte just added it, but the fact that anyoneâ€™s done a get accessor that depends on immediate access makes me wary that others may have done it.","msgtype":"m.text"},"ts":1754617900351,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$YOPoIEpc5pkkVcjTBDi3ezS8zr2iBMk8VCP3xCJz1wE"},
{"content":{"body":"The idea would be to only use this in certain places not by default, I think?","msgtype":"m.text"},"ts":1754617950057,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$96h2v1iBm4T0ZM_PBDfTuEnvIlwucZANT2riJkYWkgk"},
{"content":{"body":"If we limit this to just a safe capability that does the proxy check, thatâ€™s work.","msgtype":"m.text"},"ts":1754617952884,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$eB8uYyMhQDo2shDL0J53ro3DTrNv4gwgV3tEtTqmjVg"},
{"content":{"body":"Yah, thatâ€™d be fine.","msgtype":"m.text"},"ts":1754617962701,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$557GzlIFTDyS3bis-SuaFmVckqlhJZKgnFoRNKJLAaw"},
{"content":{"body":"The default promise capability (and then return value, and promise constructor) could use the current immediate then access. The safe capability does a check to immediately resolve a non-thenable, or defers then access if proxy or then accessor is defined.","msgtype":"m.text"},"ts":1754618060159,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$PXOe6lxGSOmOIaHFR6h8ETNBAMIFRRm-9z36ebQZNGk"},
{"content":{"body":"Although, `Fulfilled` wrapper could do this without us having to switch everything to a new capability","format":"org.matrix.custom.html","formatted_body":"Although, <code>Fulfilled</code> wrapper could do this without us having to switch everything to a new capability","m.mentions":{},"msgtype":"m.text"},"ts":1754618132791,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$r0tl9Me4MZqjbR5zllJ8LZHbIKAq23P-lLClMLiVk7M"},
{"content":{"body":"* Although, `Fulfilled` wrapper could do this without us having to switch everything to a new capability ðŸ˜‰","format":"org.matrix.custom.html","formatted_body":"* Although, <code>Fulfilled</code> wrapper could do this without us having to switch everything to a new capability ðŸ˜‰","m.mentions":{},"m.new_content":{"body":"Although, `Fulfilled` wrapper could do this without us having to switch everything to a new capability ðŸ˜‰","format":"org.matrix.custom.html","formatted_body":"Although, <code>Fulfilled</code> wrapper could do this without us having to switch everything to a new capability ðŸ˜‰","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$r0tl9Me4MZqjbR5zllJ8LZHbIKAq23P-lLClMLiVk7M","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1754618139680,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$WsCvTAb8Kd_1JgSKwbwrKu4Rkk9KLYddVz5hhtiBwx8"},
{"content":{"body":"Catching up on the discussion right as I head into a late night chat, so can't participate too much at the moment, but, I just want to explicitly say how much I appreciate how much thought and discussion is going into trying to fix this. It really is wonderful to see. Thanks everyone. ","m.mentions":{},"msgtype":"m.text"},"ts":1754620065942,"senderName":"mgaudet","senderId":"@mgaudet:mozilla.org","id":"$H5eu8y-o28fUpUjXdAsP6mTS07EPKiJAXZSYxZSxqgY"}
]