[
{"content":{"body":"> <@mhofman:matrix.org> However I haven't heard a request for userland to be able to implement the safe resolve operation itself. Just that whatever hosts can do, that userland can do it just as much (aka a virtualization constraint, which of course I'm 100% behind)\n\nUnfortunately this approach may not be web compatible, based on Svelte.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!WgJwmjBNZEXhJnXHXw%3Amatrix.org/%24xpiT9VqKHVQ81LKskCijDETPunQQaIJlZR1q86xUw44\">In reply to</a> <a href=\"https://matrix.to/#/@mhofman:matrix.org\">@mhofman:matrix.org</a><br>However I haven't heard a request for userland to be able to implement the safe resolve operation itself. Just that whatever hosts can do, that userland can do it just as much (aka a virtualization constraint, which of course I'm 100% behind)</blockquote></mx-reply>Unfortunately this approach may not be web compatible, based on Svelte.","m.relates_to":{"m.in_reply_to":{"event_id":"$xpiT9VqKHVQ81LKskCijDETPunQQaIJlZR1q86xUw44"}},"msgtype":"m.text"},"ts":1754617852690,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$HNQZdTa08RPZxPgKVl-JHGnzQDZ-wZ3CRRdcTgluOV4"},
{"content":{"body":"I realize svelte just added it, but the fact that anyone’s done a get accessor that depends on immediate access makes me wary that others may have done it.","msgtype":"m.text"},"ts":1754617900351,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$YOPoIEpc5pkkVcjTBDi3ezS8zr2iBMk8VCP3xCJz1wE"},
{"content":{"body":"The idea would be to only use this in certain places not by default, I think?","msgtype":"m.text"},"ts":1754617950057,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$96h2v1iBm4T0ZM_PBDfTuEnvIlwucZANT2riJkYWkgk"},
{"content":{"body":"If we limit this to just a safe capability that does the proxy check, that’s work.","msgtype":"m.text"},"ts":1754617952884,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$eB8uYyMhQDo2shDL0J53ro3DTrNv4gwgV3tEtTqmjVg"},
{"content":{"body":"Yah, that’d be fine.","msgtype":"m.text"},"ts":1754617962701,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$557GzlIFTDyS3bis-SuaFmVckqlhJZKgnFoRNKJLAaw"},
{"content":{"body":"The default promise capability (and then return value, and promise constructor) could use the current immediate then access. The safe capability does a check to immediately resolve a non-thenable, or defers then access if proxy or then accessor is defined.","msgtype":"m.text"},"ts":1754618060159,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$PXOe6lxGSOmOIaHFR6h8ETNBAMIFRRm-9z36ebQZNGk"}
]