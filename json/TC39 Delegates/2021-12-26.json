[
{"content":{"body":"My reading of https://tc39.es/ecma262/#sec-performpromiseany says that:\n```js\nvar poison = new EvalError();\nvar promise = new Promise(function () {});\npromise.then = function () { throw poison; };\nPromise.any([promise]) // should reject with an AggregateError\n```\nHowever, all the implementations I've tested reject with `poison`. Can someone either help me understand which behavior is correct, and why?","format":"org.matrix.custom.html","formatted_body":"<p>My reading of https://tc39.es/ecma262/#sec-performpromiseany says that:</p>\n<pre><code class=\"language-js\">var poison = new EvalError();\nvar promise = new Promise(function () {});\npromise.then = function () { throw poison; };\nPromise.any([promise]) // should reject with an AggregateError\n</code></pre>\n<p>However, all the implementations I've tested reject with <code>poison</code>. Can someone either help me understand which behavior is correct, and why?</p>\n","msgtype":"m.text"},"ts":1640557936697,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$w4Gczr2MlgqFGKMpaeJnWtwaTwixt2Ign0j3pDvm7f8"}
]