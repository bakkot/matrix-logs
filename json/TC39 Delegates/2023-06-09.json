[
{"content":{"body":"ehhh... I feel like the dataview methods only tend to make sense when you have data of mixed types in a buffer, and I don't think that's very likely for Uint8ClampedArray data","msgtype":"m.text"},"ts":1686268998020,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$aFM_50ePJs5e4WCRnnLq0fxe9ayHcqgCYGY6ZRkt1G8"},
{"content":{"body":"wouldn't be opposed though","msgtype":"m.text"},"ts":1686269042956,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$kobv-LpWrh5byoqEott10Zzvt4a-xmPHrzR9RFuEXMI"},
{"content":{"body":"any reason not to have the get tho, for consistency?","msgtype":"m.text"},"ts":1686287216671,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$iJUjMIYrHmLoBLWqIpaBbP6vZrOtOt1vqqVsje0CRHY"},
{"content":{"body":" * any reason not to have the get tho also, for consistency?","m.new_content":{"body":"any reason not to have the get tho also, for consistency?","msgtype":"m.text"},"m.relates_to":{"event_id":"$iJUjMIYrHmLoBLWqIpaBbP6vZrOtOt1vqqVsje0CRHY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1686287220153,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$7lcbpRYjd4eNL1UutBz7-EMINwi_0SUIqmJw-YU65FA"},
{"content":{"body":"I feel like it is misleading? or like... allows people who are confused to lean into their confusion instead of discovering it","msgtype":"m.text"},"ts":1686288234267,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$suUchr2x7Bm3R0zg_zUcARzh2GS0NjaKzm-4LTP1dn8"},
{"content":{"body":"it is better to notice what you are doing and just use getUint8 if you actually want it","msgtype":"m.text"},"ts":1686288256355,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$7h1q9Qk-kz9rSicLyy0rb7vWST4uKJG6bjCgJ8H778I"},
{"content":{"body":"if someone reaches for it and it's not there, and then they stop and think about why that is, that's good","msgtype":"m.text"},"ts":1686288275384,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$jSBoq3hQl8Zsv9eXkVNWIGoObtMjiaRuY7ZxtXD-cAc"},
{"content":{"body":"I think it's rare that toolboxes are complete enough that most devs will think, \"Should I not be doing this?\" if the tool is missing, so that intent would need to be well-documented.","msgtype":"m.text"},"ts":1686291291927,"senderName":"leftmostcat","senderId":"@leftmostcat:matrix.org","id":"$AsVx_dYGncPcuQ-vewaGpaXE3IEIddeo4Gcbnksd4T8"},
{"content":{"body":"I think Clamped is good to leave out; it is just some weird canvas legacy","msgtype":"m.text"},"ts":1686315003246,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$KmlfJ5m23iMMGnKQiXPcB5g58ZIVYE05-DUBNzWZKc0"},
{"content":{"body":"itâ€™s there everywhere else tho","msgtype":"m.text"},"ts":1686325074889,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$wUL-74gInKhHrnhHwhb4xa4Vv5HDqh7mqYcpRjf_5sI"},
{"content":{"body":"ok well i made https://github.com/ljharb/proposal-dataview-get-set-uint8c and put it on the agenda, we can see what everyone thinks :-)","msgtype":"m.text"},"ts":1686331319153,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$canzsrDGXMozgak15Ufd7c0qVYHva9iGvNuY8AmsO1A"},
{"content":{"body":"the get method makes me pretty uncomfortable","msgtype":"m.text"},"ts":1686331569057,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$oV5h2gNANs6_b5xid5CzVA4e91rL6CgEzL8etHDqot8"},
{"content":{"body":"why?","msgtype":"m.text"},"ts":1686331666567,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$AsJyNAn6KgXinuqCsQVuxK1rPhOeJRIUsdeQ6kgAsyI"},
{"content":{"body":"because it's no different than the regular Uint8 getter","msgtype":"m.text"},"ts":1686332075990,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$uF707kHjV0DinJeNtC9-lY6ou0Fy4PfJ8Iucx5yQ6pI"},
{"content":{"body":"and someone will be confused by its existence","msgtype":"m.text"},"ts":1686332091991,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$465Bxvz2QAtLyQexPvKQzpGbU7pFmaqXbEDse0Y75LQ"},
{"content":{"body":"seems like just part of the confusion of Uint8ClampedArray existing itself","msgtype":"m.text"},"ts":1686332214512,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$Dug7MSb26QlKXM202078PepCx3WzjIvgIaXLjj0DH3s"},
{"content":{"body":"It is kind of weird that Uint8Clamped exists, but it at least does a coherent, non-duplicative thing","msgtype":"m.text"},"ts":1686332338499,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$5TWjs23fK34wumU-4ONqfsYA98i6VYpVQ2WhJEBWw1k"},
{"content":{"body":" * It is kind of weird that Uint8ClampedArray exists, but it at least does a coherent, non-duplicative thing","m.new_content":{"body":"It is kind of weird that Uint8ClampedArray exists, but it at least does a coherent, non-duplicative thing","msgtype":"m.text"},"m.relates_to":{"event_id":"$5TWjs23fK34wumU-4ONqfsYA98i6VYpVQ2WhJEBWw1k","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1686332346208,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$nndyWZt9fHUZqlxGejn68h28oLlvmFzF3jRYSclJT5U"},
{"content":{"body":"but getUint8Clamped would be duplicative","msgtype":"m.text"},"ts":1686332350878,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$GVv3CiLhm1fpB_TG4JAoGzOQmG5pWGllBmlEtDLx4Ho"},
{"content":{"body":"`[0]` on a Uint8Array and Uint8ClampedArray is duplicative too, no?","format":"org.matrix.custom.html","formatted_body":"<code>[0]</code> on a Uint8Array and Uint8ClampedArray is duplicative too, no?","msgtype":"m.text"},"ts":1686332431187,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$9piL2n5_ONbhl3YHX4Lkq9H91Bg5j6BOIXyskOZcuso"},
{"content":{"body":"adding the set without the get is still improving consistency imo, but i really don't see the harm here of having it be duplicative.","msgtype":"m.text"},"ts":1686332484716,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$RjosEJ3ydy-8zWPVvt1EyB-ZxWvo5fB5fBGDdgHHDGM"},
{"content":{"body":"> `[0]` on a Uint8Array and Uint8ClampedArray is duplicative too, no?\n\n... no? I mean if you have a Uint8ClampedArray you do need to be able to read from it","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p><code>[0]</code> on a Uint8Array and Uint8ClampedArray is duplicative too, no?</p>\n</blockquote>\n<p>... no? I mean if you have a Uint8ClampedArray you do need to be able to read from it</p>\n","msgtype":"m.text"},"ts":1686332631196,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$uBk2LPXYD84_ze3I2S_hfUZ1xcP-oSUZYNVZp-RMgKw"},
{"content":{"body":"right but i mean that there's no difference in reading values from both of the uint8 arrays","msgtype":"m.text"},"ts":1686332768388,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$PUJl02uQEsAqIfjjLKzxMK3GRQyZIOb7-dkUVa394es"},
{"content":{"body":"yes but you can't provide Uint8ClampedArray without the ability to read from it","msgtype":"m.text"},"ts":1686332820203,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$sax9otBy9RxR_mBtmTS7aQ8T7iSevPiTUgqx_hJiizc"},
{"content":{"body":"so it does not make sense to say that `[0]` is duplicative","format":"org.matrix.custom.html","formatted_body":"so it does not make sense to say that <code>[0]</code> is duplicative","msgtype":"m.text"},"ts":1686332833908,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$B6Pjq-snqrJdAxnV7afIGi0J4hQ0juK-4Dq7eTNuci8"},
{"content":{"body":"\"ability to read from a Uint8Array\" and \"ability to read from a Uint8ClampedArray\" are distinct operations even though they implement the same logic","msgtype":"m.text"},"ts":1686332861689,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$0vYbvBdAa9eg_EMH2I9tk0ASWAdgs_4OcqgrotTLAgs"},
{"content":{"body":"but \"read a Uint8 from an ArrayBuffer\" is not a distinct operation from \"read a Uint8Clamped from an ArrayBuffer\"","msgtype":"m.text"},"ts":1686332885109,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$jdQ6jIAaBesEUG5eEm7aENtwxAwg1809YVw2nerBMek"},
{"content":{"body":"fair","msgtype":"m.text"},"ts":1686332900735,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$y0af0nnrGpYj1YZpK9T9z0tNVnFf95ks3T8p8BGGq0U"},
{"content":{"body":"the current state means i have to special-case my code that dynamically builds the dataview method name, because Uint8C isn't there","msgtype":"m.text"},"ts":1686332928733,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$fxuPJj1vSLaZRkO25ZiyQUxmVaR20ZdzJlwt5cwb2uM"},
{"content":{"body":"so for me, having it missing is what's confusing","msgtype":"m.text"},"ts":1686332939298,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$hko-54iU-CP5i7A-XcoKHN0-yAg9gZuzgU5L-o-R7yg"},
{"content":{"body":"I think that case is probably pretty niche","msgtype":"m.text"},"ts":1686333058213,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$c6_9TXW5QW6zk1uZ3QwnI57bUFXRChKpRYClSjyUxTo"},
{"content":{"body":"sure, but i'd bet in a similar bucket of niche as using the dataview methods at all","msgtype":"m.text"},"ts":1686333146304,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$kysGNdkwNpPLlFSeI_adWn_s9IDxVIFWAwAHrC3oMzA"},
{"content":{"body":"> <@ljharb:matrix.org> sure, but i'd bet in a similar bucket of niche as using the dataview methods at all\n\nJust for `Uint8` or in general? `ar[0]` uses native endianness. `dataView.get*` and `dataView.set*` use big-endian/native byte order by default, and allows you to specify little-endian if needed, so they're pretty useful for decoding binary-format files without having to detect endianness and adjust","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!WgJwmjBNZEXhJnXHXw:matrix.org/$kysGNdkwNpPLlFSeI_adWn_s9IDxVIFWAwAHrC3oMzA?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@ljharb:matrix.org\">@ljharb:matrix.org</a><br>sure, but i&#39;d bet in a similar bucket of niche as using the dataview methods at all</blockquote></mx-reply>Just for <code>Uint8</code> or in general? <code>ar[0]</code> uses native endianness. <code>dataView.get*</code> and <code>dataView.set*</code> use big-endian/native byte order by default, and allows you to specify little-endian if needed, so they're pretty useful for decoding binary-format files without having to detect endianness and adjust","m.relates_to":{"m.in_reply_to":{"event_id":"$kysGNdkwNpPLlFSeI_adWn_s9IDxVIFWAwAHrC3oMzA"}},"msgtype":"m.text"},"ts":1686336584302,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$BTR1btvIUWSKK8B8OheGzqNxslvRJBEj_S9s08lDAN8"},
{"content":{"body":"> <@ljharb:matrix.org> sure, but i'd bet in a similar bucket of niche as using the dataview methods at all\n\n * Just for `Uint8` or in general? `ar[0]` uses native endianness. `dataView.get*` and `dataView.set*` use big-endian/native byte order by default, and allows you to specify little-endian if needed, so they're pretty useful for decoding binary-format files without having to detect endianness and adjust manually","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!WgJwmjBNZEXhJnXHXw:matrix.org/$kysGNdkwNpPLlFSeI_adWn_s9IDxVIFWAwAHrC3oMzA?via=matrix.org&amp;via=igalia.com&amp;via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@ljharb:matrix.org\">@ljharb:matrix.org</a><br>sure, but i'd bet in a similar bucket of niche as using the dataview methods at all</blockquote></mx-reply> * Just for <code>Uint8</code> or in general? <code>ar[0]</code> uses native endianness. <code>dataView.get*</code> and <code>dataView.set*</code> use big-endian/native byte order by default, and allows you to specify little-endian if needed, so they're pretty useful for decoding binary-format files without having to detect endianness and adjust manually","m.new_content":{"body":"Just for `Uint8` or in general? `ar[0]` uses native endianness. `dataView.get*` and `dataView.set*` use big-endian/native byte order by default, and allows you to specify little-endian if needed, so they're pretty useful for decoding binary-format files without having to detect endianness and adjust manually","format":"org.matrix.custom.html","formatted_body":"Just for <code>Uint8</code> or in general? <code>ar[0]</code> uses native endianness. <code>dataView.get*</code> and <code>dataView.set*</code> use big-endian/native byte order by default, and allows you to specify little-endian if needed, so they're pretty useful for decoding binary-format files without having to detect endianness and adjust manually","msgtype":"m.text"},"m.relates_to":{"event_id":"$BTR1btvIUWSKK8B8OheGzqNxslvRJBEj_S9s08lDAN8","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1686336601970,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$KXciFQqyjozDlnO3ypjEnqOUCLHmNQVgdhZhVodWXDQ"},
{"content":{"body":"fair","msgtype":"m.text"},"ts":1686336605359,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$w_Hui3vNzmvqPZZ4C8G-Q55ymcHSvbFeqT6jOvzL6uQ"},
{"content":{"body":" * fair, altho i think that's not a common use case :-)","m.new_content":{"body":"fair, altho i think that's not a common use case :-)","msgtype":"m.text"},"m.relates_to":{"event_id":"$w_Hui3vNzmvqPZZ4C8G-Q55ymcHSvbFeqT6jOvzL6uQ","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1686336616630,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$4oI7J7rI4tE7j_4bk0_BIYdn2XPYRkaOXEKe4q05epY"},
{"content":{"body":"not saying they're not useful, just not common","msgtype":"m.text"},"ts":1686336630653,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$l9Oh9v-CbwjwO_L3VxFxypd-4x8unEL-xfk1Gat5DHo"},
{"content":{"body":"the ability to specify endianness is why i'm using them","msgtype":"m.text"},"ts":1686336647826,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$SWNrTuUi1-pjIcixYO68K8n79k2sKSnnlWTLGM9uaaE"},
{"content":{"body":"I would venture to guess folks using web sockets would disagree that it's not common.","msgtype":"m.text"},"ts":1686336664186,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$Sljd1BOts3BwDbVZ9cQPyJVOQB62j-RvnRr6S51WfH0"},
{"content":{"body":"anybody processing any binary network protocols, really","msgtype":"m.text"},"ts":1686337661803,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$zl8Ty0fWipNXRAKD0geQniJcIVAo0yL7GtldkCu0h0M"},
{"content":{"body":"Of course, then there's me, using `DataView` to parse a PE header to find the base address of a Windows executable (which are encoded in little-endian)...","format":"org.matrix.custom.html","formatted_body":"Of course, then there's me, using <code>DataView</code> to parse a PE header to find the base address of a Windows executable (which are encoded in little-endian)...","msgtype":"m.text"},"ts":1686339486372,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$-dxsDIEEBsydokLW0hjRWGxqVAyTWElJ-C0GAKYWjeo"}
]