[
{"content":{"body":"question that came up internally recently: does anyone have any idea why in https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-math.hypot, the infinite special case takes precedence NaN special case?","m.mentions":{},"msgtype":"m.text"},"ts":1709221970965,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$RaNJixGvdMKmCYTwIwXrfQmHGqstI96b2tHRCfP6s6w"},
{"content":{"body":"shu: seems like it may have been a precision concern? \n - https://github.com/tc39/notes/blob/970d84b7d0f9c455757870a3892ea78e7bee2cfd/meetings/2013-11/nov-20.md?plain=1#L441\n - https://github.com/tc39/notes/blob/970d84b7d0f9c455757870a3892ea78e7bee2cfd/meetings/2013-09/sept-17.md?plain=1#L340C13-L340C18","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@shuyuguo:matrix.org\">shu</a>: seems like it may have been a precision concern?</p>\n<ul>\n<li>https://github.com/tc39/notes/blob/970d84b7d0f9c455757870a3892ea78e7bee2cfd/meetings/2013-11/nov-20.md?plain=1#L441</li>\n<li>https://github.com/tc39/notes/blob/970d84b7d0f9c455757870a3892ea78e7bee2cfd/meetings/2013-09/sept-17.md?plain=1#L340C13-L340C18</li>\n</ul>\n","m.mentions":{"user_ids":["@shuyuguo:matrix.org"]},"msgtype":"m.text"},"ts":1709225789090,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$6XfkdnHL4QpqbjyQKxhkUbMgOuWKp22RweLNrWFGrjI"},
{"content":{"body":" * shu: seems like it may have been a precision concern? (the november 2013 notes in particular)\n\n- https://github.com/tc39/notes/blob/970d84b7d0f9c455757870a3892ea78e7bee2cfd/meetings/2013-11/nov-20.md?plain=1#L441\n- https://github.com/tc39/notes/blob/970d84b7d0f9c455757870a3892ea78e7bee2cfd/meetings/2013-09/sept-17.md?plain=1#L340C13-L340C18","format":"org.matrix.custom.html","formatted_body":" * <p><a href=\"https://matrix.to/#/@shuyuguo:matrix.org\">shu</a>: seems like it may have been a precision concern? (the november 2013 notes in particular)</p>\n<ul>\n<li>https://github.com/tc39/notes/blob/970d84b7d0f9c455757870a3892ea78e7bee2cfd/meetings/2013-11/nov-20.md?plain=1#L441</li>\n<li>https://github.com/tc39/notes/blob/970d84b7d0f9c455757870a3892ea78e7bee2cfd/meetings/2013-09/sept-17.md?plain=1#L340C13-L340C18</li>\n</ul>\n","m.mentions":{},"m.new_content":{"body":"shu: seems like it may have been a precision concern? (the november 2013 notes in particular)\n\n- https://github.com/tc39/notes/blob/970d84b7d0f9c455757870a3892ea78e7bee2cfd/meetings/2013-11/nov-20.md?plain=1#L441\n- https://github.com/tc39/notes/blob/970d84b7d0f9c455757870a3892ea78e7bee2cfd/meetings/2013-09/sept-17.md?plain=1#L340C13-L340C18","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@shuyuguo:matrix.org\">shu</a>: seems like it may have been a precision concern? (the november 2013 notes in particular)</p>\n<ul>\n<li>https://github.com/tc39/notes/blob/970d84b7d0f9c455757870a3892ea78e7bee2cfd/meetings/2013-11/nov-20.md?plain=1#L441</li>\n<li>https://github.com/tc39/notes/blob/970d84b7d0f9c455757870a3892ea78e7bee2cfd/meetings/2013-09/sept-17.md?plain=1#L340C13-L340C18</li>\n</ul>\n","m.mentions":{"user_ids":["@shuyuguo:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$6XfkdnHL4QpqbjyQKxhkUbMgOuWKp22RweLNrWFGrjI","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1709225804825,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$wYlpAOHGBXI2yL0qavlE79v3sqBRjW73Anz2vdlT0Kc"},
{"content":{"body":"hm i don't follow the precision argument for infinity vs nan precedence","m.mentions":{},"msgtype":"m.text"},"ts":1709229805155,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$tKWYTG90X9yYahxI1cKz7l0pJ7KKVfJDWUIgNrPD9DQ"},
{"content":{"body":"thanks for digging those up","m.mentions":{},"msgtype":"m.text"},"ts":1709229808691,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$NY0VTTD-PqWc5hYQPuTh5IIaYU8qI5yyprsvfHHrtIs"},
{"content":{"body":"i see a nan mention in the sept-17 one","m.mentions":{},"msgtype":"m.text"},"ts":1709229812769,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$96OFgVAhpFk9QEZUJjdSGG4DxEm33pjjmc7h1OR5IH8"},
{"content":{"body":"yeah it's not clear to me from the notes either","m.mentions":{},"msgtype":"m.text"},"ts":1709230395452,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$Tuh359vbV3nXGVcxHHsgloaM5_mNiZ-Z8ZV_82JYwmk"},
{"content":{"body":"but that's all i could find","m.mentions":{},"msgtype":"m.text"},"ts":1709230397705,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$vnkuKyWWy3PjLhycuHRQ_PrgjA4l8v2hQ8NdNjZ9sI0"},
{"content":{"body":"In several of the math functions (but, annoyingly, not *quite* all), they'll treat NaN as if it could be every value, and if this still results in a well-defined answer, return that answer instead of returning NaN. That's the case for hypot() - if there's an infinite term, then it doesn't matter what the rest of the terms are, it's gonna return infinity.","format":"org.matrix.custom.html","formatted_body":"In several of the math functions (but, annoyingly, not <em>quite</em> all), they'll treat NaN as if it could be every value, and if this still results in a well-defined answer, return that answer instead of returning NaN. That's the case for hypot() - if there's an infinite term, then it doesn't matter what the rest of the terms are, it's gonna return infinity.","m.mentions":{},"msgtype":"m.text"},"ts":1709233336335,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$lDY8bdvn9dSsu_YyOQNMIygxLByeIFJ0Q-Lb41vDvxo"},
{"content":{"body":"(I did some exploration of this while writing the CSS math functions. I chose not to perfectly match JS in this regard, and instead make NaN immediately infectious, because JS wasn't self-consistent anyway.)","m.mentions":{},"msgtype":"m.text"},"ts":1709233371335,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$cZ0BPFTbcnpbeAfwKS6y7Il33boXWMN4fH9Ll7E2zMY"},
{"content":{"body":"(In particular, min/max don't follow these rules. `Math.max(Infinity, NaN)` returns NaN, despite the fact that every possible numeric value the second argument could take would still result in Infinity being returned.)","format":"org.matrix.custom.html","formatted_body":"(In particular, min/max don't follow these rules. <code>Math.max(Infinity, NaN)</code> returns NaN, despite the fact that every possible numeric value the second argument could take would still result in Infinity being returned.)","m.mentions":{},"msgtype":"m.text"},"ts":1709233434554,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$YYZBnWfYb0DN3_1TfVNZc-RSJp5nj8xMz-Ut9apfbLg"}
]