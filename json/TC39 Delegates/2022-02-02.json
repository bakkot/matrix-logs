[
{"content":{"body":"bakkot: i wonder if it might be web compatible to remove the add/set calling in the Set/Map constructors, considering that anyone trying to override those in their subclass would throw (`class X extends Set { #x = []; add(v) { this.#x.push(v); } } new X(['a'])` throws, eg)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: i wonder if it might be web compatible to remove the add/set calling in the Set/Map constructors, considering that anyone trying to override those in their subclass would throw (<code>class X extends Set { #x = []; add(v) { this.#x.push(v); } } new X(['a'])</code> throws, eg)","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"bakkot: i wonder if it might be web compatible to remove the add/set calling in the Set/Map constructors, considering that anyone trying to override those in their subclass would throw (`class X extends Set { #x = []; add(v) { this.#x.push(v); } } new X(['a'])` throws, eg)","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: i wonder if it might be web compatible to remove the add/set calling in the Set/Map constructors, considering that anyone trying to override those in their subclass would throw (<code>class X extends Set { #x = []; add(v) { this.#x.push(v); } } new X(['a'])</code> throws, eg)","mimetype":"text/html"}]},"ts":1643822476351,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$5_ewoQZELr-T687eAACppJWwxqlfnWjexIltZQPahWI"},
{"content":{"body":"I should of added unit tests to the deck https://docs.google.com/presentation/d/1-Hp4Qd0mmdufYCwI9fTdCxgt4xEHqE1mPfqRxzuzMvc/edit#slide=id.g10d8b1925be_0_0","msgtype":"m.text","org.matrix.msc1767.text":"I should of added unit tests to the deck https://docs.google.com/presentation/d/1-Hp4Qd0mmdufYCwI9fTdCxgt4xEHqE1mPfqRxzuzMvc/edit#slide=id.g10d8b1925be_0_0"},"ts":1643822805276,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$4Vzs8RNuyMaAQ1KMgZ68LBFFSOOSkcA7Uq5lELfwfV4"},
{"content":{"body":"ljharb: possibly; michael and I looked into it and even people who are subclassing Map usually also override the ctor","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@ljharb:matrix.org\">ljharb</a>: possibly; michael and I looked into it and even people who are subclassing Map usually also override the ctor","msgtype":"m.text"},"ts":1643822927347,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$EnjmHbr-iDB-RBf54jTnc4MWqGu7f2KavknA50PSbro"},
{"content":{"body":"seems like it'd be a win for normal collection usage as well as potential future methods/subclassing","msgtype":"m.text","org.matrix.msc1767.text":"seems like it'd be a win for normal collection usage as well as potential future methods/subclassing"},"ts":1643822950415,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$KKTWPDVuzdOop4VBWOfm1BKNCu6vvEkilsK1O3qv084"},
{"content":{"body":"and it's not just private fields; even in plain es6 style, if your `add` method depends on fields added by the constructor it's not going to work","format":"org.matrix.custom.html","formatted_body":"and it's not just private fields; even in plain es6 style, if your <code>add</code> method depends on fields added by the constructor it's not going to work","msgtype":"m.text"},"ts":1643822983786,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$w80ow_3vUpRRJx69rCAdepFOliYYBEdgvfqnnNFwVbo"},
{"content":{"body":"no idea why we thought this was a good idea","msgtype":"m.text"},"ts":1643822992124,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$GduJsL-BUtjQlMRv_wqtnnMBIWfrOfZghA-Fqr6g3-c"},
{"content":{"body":"https://twitter.com/basarat/status/557680386042765312","msgtype":"m.text","org.matrix.msc1767.text":"https://twitter.com/basarat/status/557680386042765312"},"ts":1643823538057,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$FHco56Xz757RjptGfxhu7PZzyK1lKH0iaMlmtlu--Gs"},
{"content":{"body":"I upset shu when I found out about this https://twitter.com/_shu/status/1362579124246646784","format":"org.matrix.custom.html","formatted_body":"I upset <a href=\"https://matrix.to/#/@shuyuguo:matrix.org\">shu</a> when I found out about this https://twitter.com/_shu/status/1362579124246646784","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"I upset shu when I found out about this https://twitter.com/_shu/status/1362579124246646784","mimetype":"text/plain"},{"body":"I upset <a href=\"https://matrix.to/#/@shuyuguo:matrix.org\">shu</a> when I found out about this https://twitter.com/_shu/status/1362579124246646784","mimetype":"text/html"}]},"ts":1643823752151,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$9epxy1d2h9ulbd7xl8hFEPP4MXCe2A-5EwdijNh1fHY"},
{"content":{"body":" * I upset shu when I found out about this https://twitter.com/_shu/status/1362579124246646784 ðŸ˜…","format":"org.matrix.custom.html","formatted_body":" * I upset <a href=\"https://matrix.to/#/@shuyuguo:matrix.org\">shu</a> when I found out about this https://twitter.com/_shu/status/1362579124246646784 ðŸ˜…","m.new_content":{"body":"I upset shu when I found out about this https://twitter.com/_shu/status/1362579124246646784 ðŸ˜…","format":"org.matrix.custom.html","formatted_body":"I upset <a href=\"https://matrix.to/#/@shuyuguo:matrix.org\">shu</a> when I found out about this https://twitter.com/_shu/status/1362579124246646784 ðŸ˜…","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"I upset shu when I found out about this https://twitter.com/_shu/status/1362579124246646784 ðŸ˜…","mimetype":"text/plain"},{"body":"I upset <a href=\"https://matrix.to/#/@shuyuguo:matrix.org\">shu</a> when I found out about this https://twitter.com/_shu/status/1362579124246646784 ðŸ˜…","mimetype":"text/html"}]},"m.relates_to":{"event_id":"$9epxy1d2h9ulbd7xl8hFEPP4MXCe2A-5EwdijNh1fHY","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":" * I upset shu when I found out about this https://twitter.com/_shu/status/1362579124246646784 ðŸ˜…","mimetype":"text/plain"},{"body":" * I upset <a href=\"https://matrix.to/#/@shuyuguo:matrix.org\">shu</a> when I found out about this https://twitter.com/_shu/status/1362579124246646784 ðŸ˜…","mimetype":"text/html"}]},"ts":1643823941002,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$72-mmC3A0bTDk8hX6c8m_zBBLCr0yXmmrLI6x4KDEQk"}
]