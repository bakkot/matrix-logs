[
{"content":{"body":"Thinking about bringing my symbol-based cancellation protocol back to committee. When I last left off, there wasn't much in the core language that would leverage it (basically only as an extra option to `then`, `catch`, `all`, or `race`), but now we have `import()`, `Atomics.waitAsync`, and a proposal for `Array.asyncFrom` so I'm starting to think there's enough value to be had by adopting the protocol approach. It doesn't introduce a new primitive to the language for cancellation, but would allow TC39 to spec something so that `AbortController`/`AbortSignal` could work with core language APIs, and give the community some room to experiment with other cancellation primitives. If anyone has thoughts or wants to contribute, please check https://github.com/tc39/proposal-cancellation/issues/22 and I'll see if I can put something together within the next 1-2 meetings.","format":"org.matrix.custom.html","formatted_body":"Thinking about bringing my symbol-based cancellation protocol back to committee. When I last left off, there wasn't much in the core language that would leverage it (basically only as an extra option to <code>then</code>, <code>catch</code>, <code>all</code>, or <code>race</code>), but now we have <code>import()</code>, <code>Atomics.waitAsync</code>, and a proposal for <code>Array.asyncFrom</code> so I'm starting to think there's enough value to be had by adopting the protocol approach. It doesn't introduce a new primitive to the language for cancellation, but would allow TC39 to spec something so that <code>AbortController</code>/<code>AbortSignal</code> could work with core language APIs, and give the community some room to experiment with other cancellation primitives. If anyone has thoughts or wants to contribute, please check https://github.com/tc39/proposal-cancellation/issues/22 and I'll see if I can put something together within the next 1-2 meetings.","msgtype":"m.text"},"ts":1631232645189,"senderName":"rbuckton (AFK Sept.10-Sept.14)","senderId":"@rbuckton:matrix.org","id":"$tKqymuBgX8BBKoR2q7whhk_sQsrF45sOZLBHuoKaAro"},
{"content":{"body":"I need to make some updates, but I'd already discussed this several years ago with Domenic Denicola about what kinds of changes would need to be made in the DOM to support the protocol (which are mostly outlined in #22, but may have changed slightly in the last few years).","msgtype":"m.text"},"ts":1631232770491,"senderName":"rbuckton (AFK Sept.10-Sept.14)","senderId":"@rbuckton:matrix.org","id":"$JVAbmUIBX7PhAT1jrTiZQWL_CsRF5MsSbYLWOGqeYuI"},
{"content":{"body":"I think the big thing that needs further discussion is the subscription/unsubscription mechanism. My current design is roughly based on the Observable proposal's subscriptions and revokable proxies (i.e., you get an object back that lets you call a method to signal disinterest). ","msgtype":"m.text"},"ts":1631232936231,"senderName":"rbuckton (AFK Sept.10-Sept.14)","senderId":"@rbuckton:matrix.org","id":"$KSaBRQ3GqTbGiCO-OVF6OBYNe1ggOosZXES6RwT8WXY"}
]