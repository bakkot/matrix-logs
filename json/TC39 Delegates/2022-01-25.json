[
{"content":{"body":"sure, i can unarchive it if you want to comment it yourself? just lmk","format":"org.matrix.custom.html","formatted_body":"sure, i can unarchive it if you want to comment it yourself? just lmk","msgtype":"m.text","m.relates_to":{"m.in_reply_to":{"event_id":"$JvGk6-GVSvZacJRgJGAAB3k8S77ErmncKxdiF2CeSWY"}}},"ts":1643071608084,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$C9u2r09ltjRomUVYsBjWkGveH2cOhULHYCJPwl_br9k"},
{"content":{"body":"> <@bakkot:matrix.org> ljharb: can you use your admin powers to drop a link to https://github.com/bakkot/proposal-duplicate-named-capturing-groups on https://github.com/tc39/proposal-regexp-named-groups/issues/44 ?\n\n * sure, i can unarchive it if you want to comment it yourself? just lmk","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!WgJwmjBNZEXhJnXHXw:matrix.org/$JvGk6-GVSvZacJRgJGAAB3k8S77ErmncKxdiF2CeSWY?via=matrix.org&amp;via=mozilla.org&amp;via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">@bakkot:matrix.org</a><br><a href=\"https://matrix.to/#/@ljharb:matrix.org\">ljharb</a>: can you use your admin powers to drop a link to https://github.com/bakkot/proposal-duplicate-named-capturing-groups on https://github.com/tc39/proposal-regexp-named-groups/issues/44 ?</blockquote></mx-reply> * sure, i can unarchive it if you want to comment it yourself? just lmk","m.new_content":{"body":"sure, i can unarchive it if you want to comment it yourself? just lmk","format":"org.matrix.custom.html","formatted_body":"sure, i can unarchive it if you want to comment it yourself? just lmk","msgtype":"m.text"},"m.relates_to":{"event_id":"$C9u2r09ltjRomUVYsBjWkGveH2cOhULHYCJPwl_br9k","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1643071645974,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$oGi3mFKPb5y0S7uYh2VGWyIzcdyokAZk43SSYRvl6jc"},
{"content":{"body":"also, what happened with the \"set method argument internal slot\" discussion? i had to drop off","msgtype":"m.text"},"ts":1643071670717,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$zOsmeS5Vq-u_zhv1Of6hBEibax3KdsUoAu_QNZLzfS8"},
{"content":{"body":" * sure, i can unarchive it if you want to comment it yourself? just lmk, or if we can't coordinate, i can","format":"org.matrix.custom.html","formatted_body":" * sure, i can unarchive it if you want to comment it yourself? just lmk, or if we can't coordinate, i can","m.new_content":{"body":"sure, i can unarchive it if you want to comment it yourself? just lmk, or if we can't coordinate, i can","format":"org.matrix.custom.html","formatted_body":"sure, i can unarchive it if you want to comment it yourself? just lmk, or if we can't coordinate, i can","msgtype":"m.text"},"m.relates_to":{"event_id":"$C9u2r09ltjRomUVYsBjWkGveH2cOhULHYCJPwl_br9k","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1643072290293,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$xD4_gdolcCygrl3Su33zhQ5CWQwnUWpzyP7TifICo64"},
{"content":{"body":"ljharb: if you want to unarchive tonight and ping me I'll link it, or you should feel free to do so on my behalf","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@ljharb:matrix.org\">ljharb</a>: if you want to unarchive tonight and ping me I'll link it, or you should feel free to do so on my behalf","msgtype":"m.text"},"ts":1643081566276,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$YRx58w9LE3E4XViFEWHrfoGVUQFVZ7XWPlIy0SOy4Y0"},
{"content":{"body":"> <@ljharb:matrix.org> also, what happened with the \"set method argument internal slot\" discussion? i had to drop off\n\ntl;dr was, for the argument to `Set.prototype.union`, MM does not like the idea of _only_ reaching in to the [[SetData]] internal slot, but would potentially be OK with reaching in to that slot if present and otherwise falling back to the publicly exposed methods (`has`, etc), even though this would technically be a violation of proxy transparency (because for most cases it would still Just Work)","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!WgJwmjBNZEXhJnXHXw:matrix.org/$zOsmeS5Vq-u_zhv1Of6hBEibax3KdsUoAu_QNZLzfS8?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@ljharb:matrix.org\">@ljharb:matrix.org</a><br>also, what happened with the &quot;set method argument internal slot&quot; discussion? i had to drop off</blockquote></mx-reply>tl;dr was, for the argument to <code>Set.prototype.union</code>, MM does not like the idea of <em>only</em> reaching in to the [[SetData]] internal slot, but would potentially be OK with reaching in to that slot if present and otherwise falling back to the publicly exposed methods (<code>has</code>, etc), even though this would technically be a violation of proxy transparency (because for most cases it would still Just Work)","m.relates_to":{"m.in_reply_to":{"event_id":"$zOsmeS5Vq-u_zhv1Of6hBEibax3KdsUoAu_QNZLzfS8"}},"msgtype":"m.text"},"ts":1643081591253,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$05jo7TVStPF2PxGo-MDN50CCzo7EHpww7yvnXBT3-wY"},
{"content":{"body":"bakkot: done now, go nuts","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: done now, go nuts","msgtype":"m.text"},"ts":1643081592903,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$1LYeyv4nuOSn8gx5ZoJaTgVW-rvhi-yLix5rtfZ-0gs"},
{"content":{"body":"bakkot: but the receiver would still have slot access only, yes?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: but the receiver would still have slot access only, yes?","msgtype":"m.text"},"ts":1643081664206,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$oh8b37d2ba-uc9axxlGRRKVFE7X6qnwhffnRF8NGNmc"},
{"content":{"body":"yeah, receiver is fine","msgtype":"m.text"},"ts":1643081672427,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$OCKLT-_X7ab9KBGfIwjubPGuhPoKd0h722xYcpluxXY"},
{"content":{"body":"that's already how it works","msgtype":"m.text"},"ts":1643081677817,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$XUj4Nadp4h4Rl7-aKxnr-Jb5htnO8MiD26dMssYV72Y"},
{"content":{"body":"awesome","msgtype":"m.text"},"ts":1643081686767,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$rCM9MkEi6zzLIa6QUc7mIdxqFROI5-xvCcpqE7DFUXc"},
{"content":{"body":"that is, it is already common to access the internal slot of the receiver","msgtype":"m.text"},"ts":1643081689100,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$n3VYcYEiYWs6tl7EVPmpRddYLdfk_LG8VUFb8i-1KFI"},
{"content":{"body":"(re-archived the repo, after your comment; lmk if you need anything else)","msgtype":"m.text"},"ts":1643081695507,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$kYTnsfGU6yEKS6zbvqvwFqdX0AewYx4DHJWdBSD9R7Y"},
{"content":{"body":"nope, that was all, thanks","msgtype":"m.text"},"ts":1643081703674,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$o21O7wu23w5R7blKoWEEWixf7ZspIVx2aELzjC2nLZA"},
{"content":{"body":"though in both the argument case and the receiver case we need to figure out what affordances, if any, we're going to make for subclasses","msgtype":"m.text"},"ts":1643081717532,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$359K5d0giCQyW6SdpZ0j-uMPPIuXYa2oSfqx_K-c7_k"},
{"content":{"body":"hi I've read the meeting logs yesterday. I'm interested in reviewing structured clone algr. (cc syg )","format":"org.matrix.custom.html","formatted_body":"hi I've read the meeting logs yesterday. I'm interested in reviewing structured clone algr. (cc <a href=\"https://matrix.to/#/@syg:mozilla.org\">syg</a> )","msgtype":"m.text"},"ts":1643128733172,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$XG0xyyV3SRNaQvs_NuXU1K58LYVYLJaykNn73GD6MaM"},
{"content":{"body":"Jack Works: sure, will request your review when the draft is ready","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jackworks:matrix.org\">Jack Works</a>: sure, will request your review when the draft is ready","msgtype":"m.text"},"ts":1643128854146,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$1FiG8lqAWA6_4d9koaZYowFLLPzvszhVATCJJzdWzh8"},
{"content":{"body":"ðŸ‘€ I set an alarm on 14:00 PST and not be able to present enum before 14:00 cause I'm sleeping.","msgtype":"m.text"},"ts":1643129360372,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$R6z9fTPm-3jxdDcVlufL1-apvEStNOCFsqBufSUp2dk"},
{"content":{"body":"Jack Works: we'll schedule you as late as possible today to help you sleep - so in between 14:00-15:00 PST","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jackworks:matrix.org\">Jack Works</a>: we'll schedule you as late as possible today to help you sleep - so in between 14:00-15:00 PST","msgtype":"m.text"},"ts":1643129570339,"senderName":"Rob Palmer","senderId":"@robpalme:matrix.org","id":"$dmlwxNeu0v8PN4__N8OlME-SsMKHfUgGSttiG4VbV_Y"},
{"content":{"body":"This is your 4 minute warning: Plenary starts soon","msgtype":"m.text"},"ts":1643133421660,"senderName":"Rob Palmer","senderId":"@robpalme:matrix.org","id":"$V_Zw5xGK6l2wgBZHafl2fMcgQrCau_GXAB2sReUnkKc"},
{"content":{"body":"I can't do notes right away, but I can in a bit","msgtype":"m.text"},"ts":1643133738016,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$opnFRFTCAqH-_rlVCK_EsqAK2jf-m9sbSwmz38wDac0"},
{"content":{"body":"thanks ptomato ","format":"org.matrix.custom.html","formatted_body":"thanks <a href=\"https://matrix.to/#/@pchimento:igalia.com\">ptomato</a>","msgtype":"m.text"},"ts":1643133795269,"senderName":"Rob Palmer","senderId":"@robpalme:matrix.org","id":"$hCi0HODxsIzMVhz0_2RYZP6jW_nYWhSWbVOwol6G66k"},
{"content":{"body":"Mathieu Hofman: can you confirm the conclusion we have captured in the notes is correct","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@mhofman:matrix.org\">Mathieu Hofman</a>: can you confirm the conclusion we have captured in the notes is correct","msgtype":"m.text"},"ts":1643135223089,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$hssI2VQLpkZfmBE_XfOgzk5oLw3meKkBT5D08ePfsIM"},
{"content":{"body":"I think so but best to confirm","msgtype":"m.text"},"ts":1643135230574,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$fhg6FktLHcPQB-4rNsfP4RQWVnav9MzB4XWP2Nf-xVY"},
{"content":{"body":"never GCing is always legal, so XS's implementation would still be conformant","msgtype":"m.text"},"ts":1643136297848,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$8bL8Fvrn6gxpy76_ZI3cCVuTslodekp7yzHqaKUGuBs"},
{"content":{"body":"+1, that was a mistake","msgtype":"m.text"},"ts":1643137225095,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$uCHPN1wO6ossUuAch3gnZBkEYhY4kPs_a9TBTK5OBdw"},
{"content":{"body":"(but i also think registered symbols themselves are a mistake)","msgtype":"m.text"},"ts":1643137247907,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$g_dPwR98FUcFYA0zcOOi-Z4mr-Z58TZx6bWsMuYpXDs"},
{"content":{"body":"what was the original use case for them anyway","msgtype":"m.text"},"ts":1643137486899,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$8uopvfWM7I5Aj72AMzVxbBbaXDg7lgNDfCIMXewtb5Q"},
{"content":{"body":"for registered symbols?","msgtype":"m.text"},"ts":1643137501486,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$c8v1sYH6KWp9zwQ8fL9G_2AEPytKLfIPpZpcA2pXgBo"},
{"content":{"body":"it lets you do the same thing as well-known symbols for libraries","msgtype":"m.text"},"ts":1643137507532,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$sE04SxVEvafNXxIN1geIuUXvj5CBudjCOU5ZI_u4QzY"},
{"content":{"body":"so a library can interop with itself across realms","msgtype":"m.text"},"ts":1643137512515,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$vPc-xXwiIQCdjr4yudxw5BbhqfzPAuYturUF-aAU6AU"},
{"content":{"body":"but... what realms","msgtype":"m.text"},"ts":1643137522245,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$Awpba1bSzyCInDbW7Kf4QhybZMN7y4fNHvQKWYb8GYI"},
{"content":{"body":"we didn't have sync realms","msgtype":"m.text"},"ts":1643137524963,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$-o2Ys12nny39wf0Im8B1QrhceEp8neQ9tFqYH37X1dI"},
{"content":{"body":"iframes","msgtype":"m.text"},"ts":1643137540866,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Thg8wGF8FgNW9XMI5EPVK0b9r1gHXm2zdZp0KmK2G84"},
{"content":{"body":"we have always had iframes","msgtype":"m.text"},"ts":1643137548655,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$6NTg9hFwy2qCGgUy4NQLGRRjMBzVsDoZlpgyCc3GQ7U"},
{"content":{"body":"oh, i guess sync iframes","msgtype":"m.text"},"ts":1643137548791,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$joxHv-buqLu_VNEq7qToU_mghuJt7WMwRuwY4OczIBw"},
{"content":{"body":"but also, not necessarily across realms","msgtype":"m.text"},"ts":1643137554917,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$mHvWA8Kr9sx3A_9nkht6BJFLr2KSkhecRSlT208MLmA"},
{"content":{"body":"i have a hard time believing that was a use case tc39 cared about back then?","msgtype":"m.text"},"ts":1643137559345,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$AxgbEU4ROYpp7TWJwncdNa-ks-OOA6POfUVq-aRrK_k"},
{"content":{"body":"just multiple version of the library within the same realm","msgtype":"m.text"},"ts":1643137559886,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$DFcw_wjge3e_mppKNMiMKajzhPWQ5rddn9AYFwIN6MM"},
{"content":{"body":" * but also, not necessarily across realms","m.new_content":{"body":"but also, not necessarily across realms","msgtype":"m.text"},"m.relates_to":{"event_id":"$mHvWA8Kr9sx3A_9nkht6BJFLr2KSkhecRSlT208MLmA","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1643137566082,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$MbTbw8JGVytsEFTYP8wOnWp_qMeTtj3CCzlEBAaYO_4"},
{"content":{"body":"Ashley Claymore: can you share with me the test case you used to identify SM gc behavior?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@aclaymore:matrix.org\">Ashley Claymore</a>: can you share with me the test case you used to identify SM gc behavior?","msgtype":"m.text"},"ts":1643137569908,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$YhhlGelthWXbh3XvW2dwpPaHbO1S8Gln55wOdJz_D3c"},
{"content":{"body":"yes, right, coordination without having the library do the heavy lifting","msgtype":"m.text"},"ts":1643137583620,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$OwgWGtbAFp1-S2e52_wMYny7ciW4eIzy8ZcxDEOuQzE"},
{"content":{"body":"> <@yulia:mozilla.org> Ashley Claymore: can you share with me the test case you used to identify SM gc behavior?\n\nwill do :)","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!WgJwmjBNZEXhJnXHXw:matrix.org/$YhhlGelthWXbh3XvW2dwpPaHbO1S8Gln55wOdJz_D3c?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@yulia:mozilla.org\">@yulia:mozilla.org</a><br><a href=\"https://matrix.to/#/@aclaymore:matrix.org\">Ashley Claymore</a>: can you share with me the test case you used to identify SM gc behavior?</blockquote></mx-reply>will do :)","m.relates_to":{"m.in_reply_to":{"event_id":"$YhhlGelthWXbh3XvW2dwpPaHbO1S8Gln55wOdJz_D3c"}},"msgtype":"m.text"},"ts":1643137630666,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$ejTOpm2gw0WHpet2kVPYtbmtUZmYuQ1PrqpnvBxE_No"},
{"content":{"body":"well, also lets consumers of a library coordinate with it without having a direct reference to it","msgtype":"m.text"},"ts":1643137646284,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$gjRX2sNXH-7ESjKfNQY8ahY73-xspj6qyzwwGHEb7xo"},
{"content":{"body":"like you can have a library which defines a protocol, and have someone else implement that protocol without reference to the library","msgtype":"m.text"},"ts":1643137666826,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Yfb_UNBJrIURLSaaD2jOk6XWx057nZHjHTXfiSGyEU4"},
{"content":{"body":"shu: as much as i claim that the existence of iframes means browsers can't pretend realms don't exist, i completely agree with you that it's unlikely that was the motivation","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@shuyuguo:matrix.org\">shu</a>: as much as i claim that the existence of iframes means browsers can't pretend realms don't exist, i completely agree with you that it's unlikely that was the motivation","msgtype":"m.text"},"ts":1643137742097,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$T9_okhiHqjohHSr2kmD3hgQUK2gToE5TkmVkgffbetE"},
{"content":{"body":"making the symbol registry realm-specific would have supported the library use case just fine, i think","msgtype":"m.text"},"ts":1643137763522,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$qqHsNCvY2AyDyTRcxU0ymYQKq7gELau-90RHsf3UlPE"},
{"content":{"body":"forget I said realms; \"multiple versions of a library\" is the right thing to think about, whether that's cross-realm or not","msgtype":"m.text"},"ts":1643137773217,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$PQawaHsp8_WFuLm9irutI41pcFB-95b7wohsmn9zBbg"},
{"content":{"body":"and consumers of a library which aren't including it directly","msgtype":"m.text"},"ts":1643137783714,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$2_18nO1BujgxqjzHoqb4QHmF_Ada9BW2kXAA-jI0oP0"},
{"content":{"body":"erights: what if i had a WeakMap of a symbol to an object, and then a WeakRef of the same object, and no other refs to the object. couldn't i observe the collection of the symbol via the collection of the object?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@erights:matrix.org\">erights</a>: what if i had a WeakMap of a symbol to an object, and then a WeakRef of the same object, and no other refs to the object. couldn't i observe the collection of the symbol via the collection of the object?","msgtype":"m.text"},"ts":1643137858030,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$pAsqLtGaAYyfroykCiInJ0U57CnUW_WfljBZfW88vmI"},
{"content":{"body":"subclassing doesn't work anyway, because of e.g. `BaseClass[method].call(subclassInstance, â€¦)` directly interacting with internal slots","format":"org.matrix.custom.html","formatted_body":"subclassing doesn't work anyway, because of e.g. <code>BaseClass[method].call(subclassInstance, â€¦)</code> directly interacting with internal slots","msgtype":"m.text"},"ts":1643138392376,"senderName":"Richard Gibson","senderId":"@gibson042:matrix.org","id":"$brGyr4KAWAnZbitGH7RyTiTZjUzXK6ipA0nJHtP2vZU"},
{"content":{"body":"ljharb: fwiw I don't think \"registered symbols\" and \"unique symbols\" are actually the same kind of thing for users","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@ljharb:matrix.org\">ljharb</a>: fwiw I don't think &quot;registered symbols&quot; and &quot;unique symbols&quot; are actually the same kind of thing for users","msgtype":"m.text"},"ts":1643138406385,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$sE6TzQS0wh2fvPRsUDNWhOh6epmkQWLOcf5Mp6kGb80"},
{"content":{"body":"they have the same type but they really do not come up in the same cases","msgtype":"m.text"},"ts":1643138415533,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$r5EaVjenUbVIu0Z1yOKSZ8KwJ3gCU7k9b4UAMHO_2zo"},
{"content":{"body":"Aren't registered Symbols often used for safely branding objects, in case you have more the one copy of a library (so instanceof is risky)?","msgtype":"m.text"},"ts":1643138472896,"senderName":"Ben Newman (Apollo, @benjamn on GH)","senderId":"@benjamn:matrix.org","id":"$XXMArafZrzk-kacsXmjMTyxDXBRzdC8ZnlEdvsikCU4"},
{"content":{"body":"Ben Newman (Apollo, @benjamn on GH): yes, but that's not like a regular symbol","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@benjamn:matrix.org\">Ben Newman (Apollo, @benjamn on GH)</a>: yes, but that's not like a regular symbol","msgtype":"m.text"},"ts":1643138504065,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$iMy9P__7DW7ApL4Ei7UVp2k7ULdrPTXgwrk1A4qNNok"},
{"content":{"body":"I was responding to the question about whether anyone actually uses registered Symbols","msgtype":"m.text"},"ts":1643138525123,"senderName":"Ben Newman (Apollo, @benjamn on GH)","senderId":"@benjamn:matrix.org","id":"$SWQzO0k2muX6J4UHpAwQvOHnMVMm4pUlLaJ6EXYrDsA"},
{"content":{"body":"ah, sure","msgtype":"m.text"},"ts":1643138537572,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$NpBBo6-Qwvw_elace3GbA5NUJ0vc2aGmYgCPJMOPktc"},
{"content":{"body":"that's the common _appropriate_ use case, yeah","format":"org.matrix.custom.html","formatted_body":"that's the common <em>appropriate</em> use case, yeah","msgtype":"m.text"},"ts":1643138553692,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$5go9kTjwBukMMKOq8fwE_OfeSpE1Ur2pRwt-U2R4pW8"},
{"content":{"body":"\"eternal\" seems to mean/imply \"recoverable after all references are lost\" (fair?)","msgtype":"m.text"},"ts":1643138671958,"senderName":"Ben Newman (Apollo, @benjamn on GH)","senderId":"@benjamn:matrix.org","id":"$NOclLoscDPFOpWZgY2Cywcg1DSBm6Aey9pMgF6fH_ns"},
{"content":{"body":"Ben Newman (Apollo, @benjamn on GH): my claim is that there is no good reason to want to put such a brand in a WeakMap","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@benjamn:matrix.org\">Ben Newman (Apollo, @benjamn on GH)</a>: my claim is that there is no good reason to want to put such a brand in a WeakMap","msgtype":"m.text"},"ts":1643138672226,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$GnqZ5l4ff3U0SlzHGBxt8pMQR7iF3SGxbSxvMwh_Wfw"},
{"content":{"body":"at least not that i can think of offhand","msgtype":"m.text"},"ts":1643138686148,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$X7YCJ2gVba_INOrsV0NiBwub4ltqqPjY1r8Xdei5hAc"},
{"content":{"body":"I'm uncomfortable with throwing \"good\" around like that","msgtype":"m.text"},"ts":1643138751419,"senderName":"Ben Newman (Apollo, @benjamn on GH)","senderId":"@benjamn:matrix.org","id":"$sPIAsP9TRjruwNAkEb84yWFLnRXNEffSvbCpVzJ-zb8"},
{"content":{"body":"hm, i just got kicked off the call","msgtype":"m.text"},"ts":1643138753436,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$FBdZdMwGtY1kLKcfiZ755wzlKmdPf_mvQjZcNYNRTK0"},
{"content":{"body":"Me too","msgtype":"m.text"},"ts":1643138757150,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$t4RpxIL-xsyecseGTvvImSci71DvqCGAuRRjKQyY-6c"},
{"content":{"body":"what did i miss?","msgtype":"m.text"},"ts":1643138759313,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$QDV27abgi2cDGi3saR1ihpccu5eKLPp8Jqxx5YW9lQs"},
{"content":{"body":"ah k","msgtype":"m.text"},"ts":1643138765067,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$Aj3Pc4DfCH-TaTSXjnPgIf9SWSOvwj6xj8UwUxpdY-U"},
{"content":{"body":"did the call just die?","msgtype":"m.text"},"ts":1643138779827,"senderName":"rickbutton","senderId":"@rick.button:matrix.org","id":"$YWB0GFRjfnYJwXW6H2k4wAnfZJZbz_N31HPEZUWh7DY"},
{"content":{"body":"same","msgtype":"m.text"},"ts":1643138807133,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$ZY-5J36hV6CMLhnzcnJOg0-l6dqxjQbbv9o8dWba6_w"},
{"content":{"body":"(it's back if you reconnect)","msgtype":"m.text"},"ts":1643138808892,"senderName":"Ben Newman (Apollo, @benjamn on GH)","senderId":"@benjamn:matrix.org","id":"$hkrGGVl6umw3Uc9GtBWNILjDiJMfP2tJLY7aaAPisFg"},
{"content":{"body":" * Oh again","m.new_content":{"body":"Oh again","msgtype":"m.text"},"m.relates_to":{"event_id":"$D0sVIjXnEj1RogWvhCx63bezQBzrp_b7tbIKmXGJZ0c","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1643138837386,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$_02I61bMDkLgdRjbcb4pAb-vc4j2GcVLgiWa81mKTf8"},
{"content":{"body":"let me put it a different way: the reason to want a registered symbol is that you want something which lives forever, for e.g. coordination across instances/consumers of a library. the reason you want to put symbols in a weakmap is that you want to hold something weakly - you have a symbol which is ephemeral, and you want to hold something else ephemerally. (Otherwise you could just use a Map.) these uses are directly opposed.","msgtype":"m.text"},"ts":1643139003364,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$1kzAAHdXCUX2TzqtqAJ4z-HGHrPIbhaaUBlL89Xf3Qc"},
{"content":{"body":"I'm fine with never collecting registered symbols, as are V8 and Mozilla's engine, it sounds like","msgtype":"m.text"},"ts":1643139076912,"senderName":"Ben Newman (Apollo, @benjamn on GH)","senderId":"@benjamn:matrix.org","id":"$2KpqWdGtNfsDUojfn6Qb40BUkxqTQf5lqhUioZb8zgA"},
{"content":{"body":"they are, quite literally, always reachable once registered, even if you've lost all references","msgtype":"m.text"},"ts":1643139092290,"senderName":"Ben Newman (Apollo, @benjamn on GH)","senderId":"@benjamn:matrix.org","id":"$z1QP5LWrqhvCdeVP6PVggY_veuX38JcOsC9YSHyf3is"},
{"content":{"body":"bakkot: But you can also intentionally craft an object that should live forever and also place it in a weakmap. If you *want* to track a symbol in a way that is \"preferrably\" weak, you would have to write a lot of defensive code and have both a WeakMap and a Map.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: But you can also intentionally craft an object that should live forever and also place it in a weakmap. If you <em>want</em> to track a symbol in a way that is &quot;preferrably&quot; weak, you would have to write a lot of defensive code and have both a WeakMap and a Map.","msgtype":"m.text"},"ts":1643139164274,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$DA-htoV-mQM4JZIAsGT5w9tN3ofWynjl-WjKJwIGzGo"},
{"content":{"body":"the \"optimization\" of collecting registered symbols anyway and then later returning a new reference if someone asks for them again with Symbol.for is simply unsound, IMO","msgtype":"m.text"},"ts":1643139183821,"senderName":"Ben Newman (Apollo, @benjamn on GH)","senderId":"@benjamn:matrix.org","id":"$Hf6smTphrhE76fNdK6Bqyt3CdP1BngwvXrBgHmVtwsc"},
{"content":{"body":"it would be nice to hear about a JS engine that actually does that","msgtype":"m.text"},"ts":1643139195209,"senderName":"Ben Newman (Apollo, @benjamn on GH)","senderId":"@benjamn:matrix.org","id":"$zj_-eSiClUwAMfP1UBQXUSvDkWZLF2XCexujrjHH3vU"},
{"content":{"body":"is someone from Apple on the call? msaboff ? does Safari actually collect registered symbols?","format":"org.matrix.custom.html","formatted_body":"is someone from Apple on the call? <a href=\"https://matrix.to/#/@msaboff:matrix.org\">msaboff</a> ? does Safari actually collect registered symbols?","msgtype":"m.text"},"ts":1643139271126,"senderName":"Ben Newman (Apollo, @benjamn on GH)","senderId":"@benjamn:matrix.org","id":"$8q_MPjXz3IHqzjeEFQEkmfPUJke4YVHU7AIDdImf3XE"},
{"content":{"body":"rbuckton: my position is that the desire to weakly hold symbols which may or may not be registered is niche enough that it's sufficient for the language to _support_ it without needing to make it trivial","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@rbuckton:matrix.org\">rbuckton</a>: my position is that the desire to weakly hold symbols which may or may not be registered is niche enough that it's sufficient for the language to <em>support</em> it without needing to make it trivial","msgtype":"m.text"},"ts":1643139274296,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$r4WflN3_3UQOqEGIyWuCPkZ-9XM39c0Fdm8u0_lnkH4"},
{"content":{"body":" * rbuckton: my position is that the desire to weakly hold symbols which may or may not be registered is niche enough that it's sufficient for the language to _support_ it without needing to make it trivial","format":"org.matrix.custom.html","formatted_body":" * <a href=\"https://matrix.to/#/@rbuckton:matrix.org\">rbuckton</a>: my position is that the desire to weakly hold symbols which may or may not be registered is niche enough that it's sufficient for the language to <em>support</em> it without needing to make it trivial","m.new_content":{"body":"rbuckton: my position is that the desire to weakly hold symbols which may or may not be registered is niche enough that it's sufficient for the language to _support_ it without needing to make it trivial","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@rbuckton:matrix.org\">rbuckton</a>: my position is that the desire to weakly hold symbols which may or may not be registered is niche enough that it's sufficient for the language to <em>support</em> it without needing to make it trivial","msgtype":"m.text"},"m.relates_to":{"event_id":"$r4WflN3_3UQOqEGIyWuCPkZ-9XM39c0Fdm8u0_lnkH4","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1643139279087,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$o7nuLD793T-D25DnVQTJOAT7l-sGppre2qmLKmCP-J8"},
{"content":{"body":"Robin Ricard: can you add \"no preference, general support\"?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@rricard:mozilla.org\">Robin Ricard</a>: can you add &quot;no preference, general support&quot;?","msgtype":"m.text"},"ts":1643139293878,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$Hy1aoHyHPnCHlBBs4y713we5xR2M8s0FoUrbQBf8t0I"}
]