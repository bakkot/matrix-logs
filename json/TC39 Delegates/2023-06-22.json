[
{"content":{"body":"how do people feel about bit packing?\n\nlike if I want to represent 0, 2, or 4 booleans, I could do that by having a `{ length: 0 | 2 | 4, value: 0-16 }` pair, or I could do it by having a single int32 where the first 2 bits indicate the number of booleans and the next 0-4 bits represent the booleans themselves","format":"org.matrix.custom.html","formatted_body":"<p>how do people feel about bit packing?</p>\n<p>like if I want to represent 0, 2, or 4 booleans, I could do that by having a <code>{ length: 0 | 2 | 4, value: 0-16 }</code> pair, or I could do it by having a single int32 where the first 2 bits indicate the number of booleans and the next 0-4 bits represent the booleans themselves</p>\n","msgtype":"m.text"},"ts":1687402925126,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$GYC7cJurwooRUpr1TAj2sHjoOqAVMqxDYJUNBoo75zI"},
{"content":{"body":"this doesn't come up much (ever?) on the web platform but is very common in other spaces","msgtype":"m.text"},"ts":1687402939298,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$vDsVPWgj3KBcD_hgZA0fj-CGckIanxzaeuIY7cbCgHw"},
{"content":{"body":"We do that all the time in the TypeScript compiler, and there are more than a few packages built with TS that use bitflags-based enums","msgtype":"m.text"},"ts":1687403281050,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$lpSvQ0_LZJUc3dZCND7jurzDw2qI9ev9H5ms2MakSm4"},
{"content":{"body":"Well, not exactly as you described I suppose","msgtype":"m.text"},"ts":1687403340130,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$sgg4--s5lsLTQ6JpO3x7ir-JnD3_4MdWIpyQRPFjKsE"},
{"content":{"body":"yeah, flags specifically is a slightly different case, I think","msgtype":"m.text"},"ts":1687403836967,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ds3-pNUP-c84dGWYrocjMJsJDF9p2LpzJpaLvc-hGwg"},
{"content":{"body":"here it's a combination of a flag and a (small) int","msgtype":"m.text"},"ts":1687403850450,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$nRb1AJ_0uHV6KlFU4I1aGbPYCqsouq4l0x5QcXYhirU"},
{"content":{"body":" * here it's a combination of a flag-like thing and a (small) int","m.new_content":{"body":"here it's a combination of a flag-like thing and a (small) int","msgtype":"m.text"},"m.relates_to":{"event_id":"$nRb1AJ_0uHV6KlFU4I1aGbPYCqsouq4l0x5QcXYhirU","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1687403858709,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$xv8OGRzr69NKOuR_HCT-BJX33NyUzPnQagHGeX5iARY"},
{"content":{"body":"to be clear this would be specifically for a standard library API (https://github.com/tc39/proposal-arraybuffer-base64/issues/21#issuecomment-1601938101), not just in general","msgtype":"m.text"},"ts":1687407394657,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$SvQhyVGv5AwGeg70rPzFC_wPhECQd_6L4lFoyuZQIo4"},
{"content":{"body":"Genuine q: Is it common to do that in languages that don't have unions/typed-structs/low-bit-width-integers? Feels more like the type of thing I would see in C/Rust style languages, (as a first reaction)","msgtype":"m.text"},"ts":1687415725859,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$wHCyP6DoCUkf9HOvDxDcBzgv91Iy3HJ6ui7BNAISFkE"}
]