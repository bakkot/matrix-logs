[
{"content":{"body":"Does anyone know why we decided not to look for private fields on the prototype chain of any object? This somewhat came up in 2 different proposal discussions lately: https://github.com/tc39/proposal-class-access-expressions/issues/26 and https://github.com/ljharb/proposal-error-stack-accessor/issues/3 (the latter is for a internal slot but same idea)","m.mentions":{},"msgtype":"m.text"},"ts":1738718279577,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$G_DeZ2oWfm9_mY3mLtDxgkDsfiaUw2GhjQO3aeYauwQ"},
{"content":{"body":"It would likely break a ton of  \"brand checks\" use cases, but really there isn't an easy way to even create a helper to search the prototype chain as one cannot get a \"ref\" for the private field.","m.mentions":{},"msgtype":"m.text"},"ts":1738718476610,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$4XBxAei6Wqt4U_KCC2D4KcWIDyFwxMBW1lTHoUZSbWk"},
{"content":{"body":"* It would likely break a ton of  \"brand checks\" use cases, but the problem is that there isn't any way to even create a helper to search the prototype chain as one cannot get a \"ref\" for the private field.","m.mentions":{},"m.new_content":{"body":"It would likely break a ton of  \"brand checks\" use cases, but the problem is that there isn't any way to even create a helper to search the prototype chain as one cannot get a \"ref\" for the private field.","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$4XBxAei6Wqt4U_KCC2D4KcWIDyFwxMBW1lTHoUZSbWk","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1738718534304,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$POo94-IR3GPMxLl2v3xsW_TxoGLOQM_Lowg_wWFZZrk"},
{"content":{"body":"the helper would need to take a callback: `(o) => #p in o`","format":"org.matrix.custom.html","formatted_body":"the helper would need to take a callback: `(o) =&gt; #p in o`","msgtype":"m.text"},"ts":1738743106608,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$USJwBWY9FgNVRXLczF4PIO2wWyXQrVCxgJh4NEkQiuM"},
{"content":{"body":"It's hard/impossible to truly preserve privacy while also working with prototype chains, especially if you want to stick strictly to object-like semantics and not invent on a new thing. Also, the SES crowd insisted on WeakMap analogy semantics in particular, which has no prototype chain walk.","m.mentions":{"user_ids":["@mhofman:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$G_DeZ2oWfm9_mY3mLtDxgkDsfiaUw2GhjQO3aeYauwQ"}},"msgtype":"m.text"},"ts":1738765574849,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$FlTr0ZfEBQzTdqv6PQpLpZKYSz8RDrYsivL1_7XtOK4"},
{"content":{"body":"also if it used the prototype chain then they wouldn’t be private fields, they’d be public ones, because anything can extend anything else at any time","msgtype":"m.text"},"ts":1738774047208,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$69IeC6VGAHdfXpfWv6vaEskzhV6XuWRt-_3VGooV62I"},
{"content":{"body":"* also if it used the prototype chain then they wouldn’t be _private_ fields, they’d be public ones, because anything can extend anything else at any time","format":"org.matrix.custom.html","formatted_body":"* also if it used the prototype chain then they wouldn’t be <em>private</em> fields, they’d be public ones, because anything can extend anything else at any time","m.new_content":{"body":"also if it used the prototype chain then they wouldn’t be _private_ fields, they’d be public ones, because anything can extend anything else at any time","format":"org.matrix.custom.html","formatted_body":"also if it used the prototype chain then they wouldn’t be <em>private</em> fields, they’d be public ones, because anything can extend anything else at any time","msgtype":"m.text"},"m.relates_to":{"event_id":"$69IeC6VGAHdfXpfWv6vaEskzhV6XuWRt-_3VGooV62I","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1738774058688,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$QDSyHzbC7o9tOadOjQjvEg0ex5DSPk-vMgaEVgTIA4Y"}
]