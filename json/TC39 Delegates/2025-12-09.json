[
{"content":{"body":"> <@bakkot:matrix.org> lots of stuff depends on it matching; being functional is much rarer https://github.com/search?q=%28lang%3Ajs+OR+lang%3Ats%29+%22.constructor+%3D%3D%3D+Function%22&type=code\n\nWhy are people doing this instead of `instanceof`!? ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!WgJwmjBNZEXhJnXHXw:matrix.org/$RGKHN93VgT-UyIL0AEC9mOEty8V31AY8aAH7rrUF0Qw?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">@bakkot:matrix.org</a><br />lots of stuff depends on it matching; being functional is much rarer https://github.com/search?q=%28lang%3Ajs+OR+lang%3Ats%29+%22.constructor+%3D%3D%3D+Function%22&amp;type=code</blockquote></mx-reply>Why are people doing this instead of <code>instanceof</code>!?","m.relates_to":{"m.in_reply_to":{"event_id":"$RGKHN93VgT-UyIL0AEC9mOEty8V31AY8aAH7rrUF0Qw"}},"msgtype":"m.text"},"ts":1765258128938,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$rAZfmufIN7oQazsKL2fS5v4I2GzzZIWs6q_ZwibRYLI"},
{"content":{"body":"`instanceof` is syntax you'd have to learn whereas property access and `===` you learn on your first day","format":"org.matrix.custom.html","formatted_body":"<code>instanceof</code> is syntax you'd have to learn whereas property access and <code>===</code> you learn on your first day","m.mentions":{},"msgtype":"m.text"},"ts":1765258290040,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$050PP5-WYGK35haepSQPcv6XfxOVJ961lZjSeDbtTEg"},
{"content":{"body":"(also I expect `instanceof` is slower though I doubt anyone doing this would actually know that)","format":"org.matrix.custom.html","formatted_body":"(also I expect <code>instanceof</code> is slower though I doubt anyone doing this would actually know that)","m.mentions":{},"msgtype":"m.text"},"ts":1765258327212,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$FJjQnRLh0fMZv9NMgM_ICtHFCl4jMFvVL1t9vNoka-E"},
{"content":{"body":"Right but it's also the wrong check. It'd exclude AsyncFunction for example ","msgtype":"m.text"},"ts":1765258331094,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$5JzGr5jjkpdT3TFrr9mQwV7eOVBEoTVlOhiu2R5o2n4"},
{"content":{"body":"sometimes you want that! but yes","m.mentions":{},"msgtype":"m.text"},"ts":1765258353333,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$xSYu42b7h8doLIEAEXYYo3ijVS5eAfRyOwa0ahbN7Qk"},
{"content":{"body":"I imagine a fair bit of this code predates AsyncFunction also","m.mentions":{},"msgtype":"m.text"},"ts":1765258363018,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Qw292itzGYVyXZ64tW0B1LLpX5b1c_x_o8SPzI49-yk"}
]