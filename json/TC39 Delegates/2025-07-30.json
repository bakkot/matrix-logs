[
{"content":{"body":"Is it too late to change this for tomorrow? https://github.com/tc39/agendas/pull/1932","m.mentions":{},"msgtype":"m.text"},"ts":1753837211037,"senderName":"styfle","senderId":"@styfle:matrix.org","id":"$T0ttGEM23ch5dekpQ7UC1-2nxzeYsq7l4Lhcx2I3Bag"},
{"content":{"body":"it's not too late, but people may block advancement to 2 based on late notice","m.mentions":{},"msgtype":"m.text"},"ts":1753837731297,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$TN_3UBnnixRqRQHdGPccP0P_roQ-l7GvfiAVgEDNhcM"},
{"content":{"body":"at this point, there's not much point in updating the agenda though, it's virtually the same as just springing it on people during your agenda item","m.mentions":{},"msgtype":"m.text"},"ts":1753838082615,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$NYENVuLOSIwWgXp0yz58SXFRtnXN9tRKppT0KXBtddU"},
{"content":{"body":"@room starting in 7 mins!","m.mentions":{"room":true},"msgtype":"m.text"},"ts":1753894397536,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$-LMy6uYQrCvv0BnasZGaylNTgCfuNJ2RGgl3pVl5HW8"},
{"content":{"body":"Wow this note taker is excellent","m.mentions":{},"msgtype":"m.text"},"ts":1753895040553,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$TA599peov5GMbOuxmZwA3r0MzN5zAgNyslMmAOcQRdA"},
{"content":{"body":"And I fix a mistake they make, they see it, and they write it correctly the next time","m.mentions":{},"msgtype":"m.text"},"ts":1753895255637,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$l2aNTt6M1LQANAgg8GC-YWAQHKHHt_NyfFLsLW7tGJg"},
{"content":{"body":"What, Ujjwal said \"Shane\" and the person wrote \"SFC\"???","m.mentions":{},"msgtype":"m.text"},"ts":1753895326897,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$t7oOTRlyFRrCYolsr6fypQC_TEHG-62Z-tLaPQV25QU"},
{"content":{"body":"!! amazing","m.mentions":{},"msgtype":"m.text"},"ts":1753895376322,"senderName":"Aki","senderId":"@akirose:matrix.org","id":"$JdMPYhsTyaJLhG88-ME4pkvJgUmR4zZe3I82MSfEyWw"},
{"content":{"body":"I've also seen that before; I wonder if it's in part due to being early in the day","m.mentions":{},"msgtype":"m.text"},"ts":1753895411083,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$9NgJROjAzX5e7DxyRCjizFeD96ihLPjpM8bGOYLU52E"},
{"content":{"body":"note taker was doing it yesterday too","m.mentions":{},"msgtype":"m.text"},"ts":1753895502725,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$qidGA8l3NZzo36BzpRQQBjA-kIeRJaf-jO5iPLZXSU4"},
{"content":{"body":"I was very impressed","m.mentions":{},"msgtype":"m.text"},"ts":1753895509936,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Wwq36lC1lA-Gyenk-dzkA998KkeiTz1-Wsca93xLJC0"},
{"content":{"body":"this week's notetaker can even recognize speakers by voice (saw that yesterday)","m.mentions":{},"msgtype":"m.text"},"ts":1753895539720,"senderName":"Zb Tenerowicz (ZTZ/naugtur)","senderId":"@naugtur:matrix.org","id":"$PhffRnO8lIrz67NqTPvp5LbZUSktzYBSywyAg6wU0sQ"},
{"content":{"body":"They are just adding attributions by themselves, it's impressive I good they are","m.mentions":{},"msgtype":"m.text"},"ts":1753895714978,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$Sw7-DMyZF6-w-FKJsoGSPiw1d9FrAma7sNwCH0EQzag"},
{"content":{"body":"I'm basically just reading the notes instead of fixing things","m.mentions":{},"msgtype":"m.text"},"ts":1753895724256,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$i8cHHnZlUxVrdKYzv9rr9nd_oOeu1e30uWDTL2kZ-10"},
{"content":{"body":"this is great feedback, and also feedback we can provide to the service, which helps them as well","m.mentions":{},"msgtype":"m.text"},"ts":1753895793253,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$Pgr8pLUaL3PWEcwi5bevjp-2O_Hz3GcJQIf47gBStmk"},
{"content":{"body":"and it's always nice to hear about good things about the transcription since (understandably) usually if we get any feedback, it's negative","m.mentions":{},"msgtype":"m.text"},"ts":1753895823360,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$K8PgBMYaNGHXupGyGw6iuuP7kRT-SPQPOnYgkvy7-DY"},
{"content":{"body":"(there's still hard wraps in the middle of a paragraph tho, and still double spaces after punctuation) otherwise tho it is quite excellent","m.mentions":{},"msgtype":"m.text"},"ts":1753895839052,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$jdQf-g15nGV1W-rZSQCt_cM7rsMGFEvwm1WEEEMUG9E"},
{"content":{"body":"* (there's still hard wraps in the middle of a paragraph tho, and still double spaces after punctuation, which are fixable later) otherwise tho it is quite excellent","m.mentions":{},"m.new_content":{"body":"(there's still hard wraps in the middle of a paragraph tho, and still double spaces after punctuation, which are fixable later) otherwise tho it is quite excellent","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$jdQf-g15nGV1W-rZSQCt_cM7rsMGFEvwm1WEEEMUG9E","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1753895854189,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$I7EQaXLk_J5IwJzLj0tqwMT03cQfeWYPTlgjNpOsex0"},
{"content":{"body":"ðŸ¤« shhhh.... no tears now.  only dreams","m.mentions":{"user_ids":["@ljharb:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$jdQf-g15nGV1W-rZSQCt_cM7rsMGFEvwm1WEEEMUG9E"}},"msgtype":"m.text"},"ts":1753895861897,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$pKrCpIhZFs9MH_chmapZv28YwZaUmt4BTaNAekD0Z0A"},
{"content":{"body":"it appears that someone copy/pasted the day 2 attendee list into day 3.  please don't do that","m.mentions":{},"msgtype":"m.text"},"ts":1753896043062,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$TV-xaiF6GzkMPbgE4xRHD-yYl6tOAeOhuEJJxww4jeE"},
{"content":{"body":"I have removed from the day 3 list those who are not in attendance","m.mentions":{},"msgtype":"m.text"},"ts":1753896205284,"senderName":"Chris de Almeida","senderId":"@softwarechris:matrix.org","id":"$Xnt-fXCi0uQAiAQUuYBy7EMhH1qwWzVvuJa4tmUNr0Y"},
{"content":{"body":"not anything against this proposal in particular but i feel like conditional advancement is really becoming popular lately ","m.mentions":{},"msgtype":"m.text"},"ts":1753896278300,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$pQLV1isu_HO5tI0PxKvvqRgbLeWQ2Vx1E7IbfX7BFZs"},
{"content":{"body":"not sure if its a good or bad thing. good to get more velocity i guess.","m.mentions":{},"msgtype":"m.text"},"ts":1753896300172,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$PuYZrVE1FPGaHjAHJ2yy-J7H74V0BX-Vk-AKCJWLCcI"},
{"content":{"body":"it's reduced bureacracy and plenary time","m.mentions":{},"msgtype":"m.text"},"ts":1753896367251,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$mvTDgmm3_sVfC6gvBg2El3VSnXD81ajgjtkpXYDbfxI"},
{"content":{"body":"basically it saves the plenary 5-10 mins (of us coming back in two months) and saves us anywhere from two months to a few weeks.","m.mentions":{},"msgtype":"m.text"},"ts":1753896470422,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$9iYBhd6pdcLb5vw-hEmWGkVN_pizU15T5GsofuxQywk"},
{"content":{"body":"honestly it doesn't change much practically but now we can pretty much start writing tests right away with the understanding that any remaining questions would likely be editorial in nature. If there was indeed a high chance of changes it'd have been irresponsible to ask for conditional advancement, so this is basically what helps me decide ","m.mentions":{},"msgtype":"m.text"},"ts":1753896563069,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$d2VynhzUN1Sx076NswZGGyNF4zylUMW1IPRBzc1LZKo"},
{"content":{"body":"* honestly it doesn't change much practically but now we can pretty much start writing tests right away with the understanding that any remaining questions would most likely be editorial in nature. If there was indeed a high chance of changes it'd have been irresponsible to ask for conditional advancement, so this is basically what helps me decide ","m.mentions":{},"m.new_content":{"body":"honestly it doesn't change much practically but now we can pretty much start writing tests right away with the understanding that any remaining questions would most likely be editorial in nature. If there was indeed a high chance of changes it'd have been irresponsible to ask for conditional advancement, so this is basically what helps me decide ","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$d2VynhzUN1Sx076NswZGGyNF4zylUMW1IPRBzc1LZKo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1753896576162,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$-h9tiJZAhZP4soVEw02ga7I4W1csDsVYZ6FkJJi2f04"},
{"content":{"body":"kriskowal: You'll need to edit the notes because the transcriber is too good now so all of the pronounciations have been replaced by ZTZ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@kriskowal:aelf.land\">kriskowal</a>: You'll need to edit the notes because the transcriber is too good now so all of the pronounciations have been replaced by ZTZ","m.mentions":{"user_ids":["@kriskowal:aelf.land"]},"msgtype":"m.text"},"ts":1753896673089,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$qKV6WiNByAAxXPPr0Pqwya1b6_ZsapVmV-VNTwxGrSQ"},
{"content":{"body":"so, how do we feel about this being based on `eval`","format":"org.matrix.custom.html","formatted_body":"so, how do we feel about this being based on <code>eval</code>","m.mentions":{},"msgtype":"m.text"},"ts":1753896827997,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$fcdjvAKLOuiaoDmA_0YOZVvBiJg4eIXvlPplczVRzNE"},
{"content":{"body":"I would feel more positively about a proposal in this vein based on module expressions","m.mentions":{},"msgtype":"m.text"},"ts":1753896847629,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$muk6A1JKPvRv2hqjfkpUsX229E6TixLlrcLZILf7zNI"},
{"content":{"body":"Would it be with a method on the global \"run this module expression\"?","m.mentions":{"user_ids":["@bakkot:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$muk6A1JKPvRv2hqjfkpUsX229E6TixLlrcLZILf7zNI"}},"msgtype":"m.text"},"ts":1753896881955,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$tAii1cuMQocmsi5fW_rH-oUqu2eMGBPuj4e_8s0AoNY"},
{"content":{"body":"yeah basically","m.mentions":{},"msgtype":"m.text"},"ts":1753896890606,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$KXJUYbNH8VvM0YFxF5wrrqzDKpGLu32jLYmrk3NjqEY"},
{"content":{"body":"I don't think the proposal is based on eval, it simply deals with the fact evaluators exists in the language","m.mentions":{},"msgtype":"m.text"},"ts":1753896895364,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$vfLENMBaEjNzLAOaBHZ-xX3NRuZw_rOeq8Dt1w4P06Y"},
{"content":{"body":"the proposal literally only provides new mechanisms if you are using `eval`","format":"org.matrix.custom.html","formatted_body":"the proposal literally only provides new mechanisms if you are using <code>eval</code>","m.mentions":{},"msgtype":"m.text"},"ts":1753896914646,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$JLs_2gNkP_fP2f7ZV9wsKIH6AtndEtnFbjRXq3QvSoA"},
{"content":{"body":"I vaguely remember talking with you about not having more paths to evaluation, a method to evaluate a module might be one","m.mentions":{},"msgtype":"m.text"},"ts":1753896923184,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$INiW1e8h7WKSh1JDtGzrMqJH7dVQBdJXThh_iCiHtB4"},
{"content":{"body":"or rather, module expressions are syntax, but it would be \"run this module source\" and then have module expressions which evaluate to module sources","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$tAii1cuMQocmsi5fW_rH-oUqu2eMGBPuj4e_8s0AoNY"}},"msgtype":"m.text"},"ts":1753896945445,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ta3BkbJX5sgQebkHT0H97fxYyxCkgC1-bS0DEo0641k"},
{"content":{"body":"if you can evaluate a module expression in a new Global, you need to ensure the evaluators in available in there don't let you evaluate in the original global","m.mentions":{},"msgtype":"m.text"},"ts":1753896946734,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$DIKERLPoxi7tdoAV6KzFQ7sFL0o_sOvxrrQjZ51yXJE"},
{"content":{"body":"sure, I am open to considering which ancillary features would be necessary to make my suggestion work","m.mentions":{},"msgtype":"m.text"},"ts":1753896999884,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$yB9BZD3fQYhLqkco_N0nx7QDqez3ZMGdXn80UgFBNC8"},
{"content":{"body":"but the proposal as is is _only_ about evaluators","format":"org.matrix.custom.html","formatted_body":"but the proposal as is is <em>only</em> about evaluators","m.mentions":{},"msgtype":"m.text"},"ts":1753897011607,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$DXxFYM7fRuMvZnvt2S1i9FbPHILOQc77dgjz1hLbU_8"},
{"content":{"body":"Having a mechanism to trigger evaluation in a new Global being based on ModuleSource without requiring an `eval` call does make sense.","format":"org.matrix.custom.html","formatted_body":"Having a mechanism to trigger evaluation in a new Global being based on ModuleSource without requiring an <code>eval</code> call does make sense.","m.mentions":{},"msgtype":"m.text"},"ts":1753897076801,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$_GsghFptcDsesaCe2_Zp6gOgRsbzTVnlviqAKW3-Pkg"},
{"content":{"body":"The proposal is about adding a level of indirection between Realm and the Evaluation Context","m.mentions":{},"msgtype":"m.text"},"ts":1753897111594,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$o9A0OBZoHfb_yIBtGRxGqNwC3XARXgMKZp2vofRlcWs"},
{"content":{"body":"evaluators are the visible side effect of that","m.mentions":{},"msgtype":"m.text"},"ts":1753897128631,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$OAf7LiEaxK_fIEjlanLbSFtDYumxj8n3TnhQzqt2DZc"},
{"content":{"body":"`import(module { ... })`","format":"org.matrix.custom.html","formatted_body":"<code>import(module { ... })</code>","msgtype":"m.text"},"ts":1753897137772,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$c56oHVW1WpAOgxpPL9iOmT_AThhCxVKJ_YchWweeIC8"},
{"content":{"body":"This doesn't work on a different global, because import is not a property of it","m.mentions":{"user_ids":["@aclaymore:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$c56oHVW1WpAOgxpPL9iOmT_AThhCxVKJ_YchWweeIC8"}},"msgtype":"m.text"},"ts":1753897152964,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$9Pc5fnmlCJFR0OUggew6Zj9l-inJPmnxdfvLZ33HDEk"},
{"content":{"body":"From this past slide it looks like indeed there is a need for evaluting sources, since it's exactly what it did with `eval(\"s => import(s)\")`","format":"org.matrix.custom.html","formatted_body":"From this past slide it looks like indeed there is a need for evaluting sources, since it's exactly what it did with <code>eval(\"s =&gt; import(s)\")</code>","m.mentions":{},"msgtype":"m.text"},"ts":1753897204820,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$LgqHwUpG9O-T6xsjJ-xEr-d1nZewS7bavbv9xEgImtE"},
{"content":{"body":"wouldn't we need a watchdog api for this to handle untrusted input","m.mentions":{},"msgtype":"m.text"},"ts":1753897210886,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$_kRN7urZXnoSNlbPLxIXYwEO9qVWxFq7iK4s-RmcoiE"},
{"content":{"body":"whatchdog ?","m.mentions":{"user_ids":["@devsnek:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$_kRN7urZXnoSNlbPLxIXYwEO9qVWxFq7iK4s-RmcoiE"}},"msgtype":"m.text"},"ts":1753897231258,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$Azdk_MFv6sHD1tSmtOg9gRQ8c2YWbyTMxK0a3PjCtEE"},
{"content":{"body":"like \"run code with timeout\"","m.mentions":{},"msgtype":"m.text"},"ts":1753897241735,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$OotgikpKUlnkIEigRDvF7ZHNZIwPlkoHbYnJf00QW30"},
{"content":{"body":"also the proposal as is still lets you do `[].constructor.constructor('whatever')` so... I just don't understand that argument at all","format":"org.matrix.custom.html","formatted_body":"also the proposal as is still lets you do <code>[].constructor.constructor('whatever')</code> so... I just don't understand that argument at all","m.mentions":{"user_ids":["@mhofman:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$DIKERLPoxi7tdoAV6KzFQ7sFL0o_sOvxrrQjZ51yXJE"}},"msgtype":"m.text"},"ts":1753897248686,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$L-ZZMsKASMBhqX0K-5fYxU8Hj0XeV5VNXwmEM13SFwI"},
{"content":{"body":"otherwise you can do while (true) {}","m.mentions":{},"msgtype":"m.text"},"ts":1753897249075,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$Ti0yPwWfnZoYCFjWZAXyi-eYmSMim3EWIp_krG4_Cp0"},
{"content":{"body":"Sure, and? you're running code in the same agent. ShadowRealm does not have any availability guarantee. This is not pretending to add any such guarantee either.","m.mentions":{"user_ids":["@devsnek:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$Ti0yPwWfnZoYCFjWZAXyi-eYmSMim3EWIp_krG4_Cp0"}},"msgtype":"m.text"},"ts":1753897326412,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$EAMnUATSpD7vvol_caOndKDbFAiIZvKq43hgr-GHBDg"},
{"content":{"body":"well i'm just replying to \"run untrusted code\"","m.mentions":{},"msgtype":"m.text"},"ts":1753897342888,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$O_zIs65NvOgCLeip8MM4fvfVyBvjHO7Vd_mgtLbmj70"},
{"content":{"body":"as a general concept","m.mentions":{},"msgtype":"m.text"},"ts":1753897348749,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$BSjIFX4hUr-F2KCyncaVolDMFeqm-FIUwKjxYT_RzBU"},
{"content":{"body":"which seems like a dangerous goal if you don't solve dos somehow","m.mentions":{},"msgtype":"m.text"},"ts":1753897357458,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$WuUgteWGcFhzhFlBm5SQUjWNqsDheGUQj6EdMkP5u3o"},
{"content":{"body":"As was mentioned first, this proposal is the necessary minimum for sandboxing, it is not sufficient, and user land has other work to do if sandboxing is the goal","m.mentions":{"user_ids":["@bakkot:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$L-ZZMsKASMBhqX0K-5fYxU8Hj0XeV5VNXwmEM13SFwI"}},"msgtype":"m.text"},"ts":1753897371278,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$unUkl2ohN8SGLsxAHGf2KuNwCrk7U-XJQpXfFySQvw4"},
{"content":{"body":"ok but then why can't that work be like \"replace `eval` and Function\"","format":"org.matrix.custom.html","formatted_body":"ok but then why can't that work be like \"replace <code>eval</code> and Function\"","m.mentions":{},"msgtype":"m.text"},"ts":1753897390197,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$3bWe0pbJEwTmiwyddrDD5BWmLFQZTUpgPY9Kbg0blq0"},
{"content":{"body":"Because there is no way to create in userland an eval and Function implementation that work with that new Global","m.mentions":{},"msgtype":"m.text"},"ts":1753897445516,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$lCVVnrUbgqcZFfV238X0CLb-IpWgTibiV0PI6ghuHY0"},
{"content":{"body":"right but why do you want that","m.mentions":{},"msgtype":"m.text"},"ts":1753897454216,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$0oquL7WsHcAxAUTDc8L3YOWpUKmm-C8_83FtdSnK5eg"},
{"content":{"body":"why are we concerned about providing new facilities for using `eval`","format":"org.matrix.custom.html","formatted_body":"why are we concerned about providing new facilities for using <code>eval</code>","m.mentions":{},"msgtype":"m.text"},"ts":1753897462259,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$o38NkZ1zmhrgRaFnmTmpIM0ZLr5J25PXYbDASo1AR-k"},
{"content":{"body":"just don't use `eval`","format":"org.matrix.custom.html","formatted_body":"just don't use <code>eval</code>","m.mentions":{},"msgtype":"m.text"},"ts":1753897465126,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$1z54RsPteqY6ISah-b8Svnmp_oy6a3Dr9nFsuLaVrrI"},
{"content":{"body":"because those are part of the language? Why do you want to remove them? they exist in a global today","m.mentions":{},"msgtype":"m.text"},"ts":1753897487286,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$WLze_MXXPJj3er3SjToCZVgCqVWBaWSKvNaVRems3cw"},
{"content":{"body":"in practice they do not exist because almost all frontend code is or ought to be written on the assumption that it will be running in an environment in which CSP forbids use of `eval`","format":"org.matrix.custom.html","formatted_body":"in practice they do not exist because almost all frontend code is or ought to be written on the assumption that it will be running in an environment in which CSP forbids use of <code>eval</code>","m.mentions":{},"msgtype":"m.text"},"ts":1753897532649,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$kMFttKkL8ptEEfxCVvO0xhZ1Be9w-j9qmq-O03v-5Vs"},
{"content":{"body":"bakkot is this specifically about `eval`, or in general about the concept of \"running some code with a different global context\"? like the module expression solution you suggested earlier","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a> is this specifically about <code>eval</code>, or in general about the concept of \"running some code with a different global context\"? like the module expression solution you suggested earlier","m.mentions":{"user_ids":["@bakkot:matrix.org"]},"msgtype":"m.text"},"ts":1753897536486,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$qUSvqCjY04ZsmhLIUJSH1xrse5rkFYdIZMADR8i_CN8"},
{"content":{"body":"`eval` (and friends)","format":"org.matrix.custom.html","formatted_body":"<code>eval</code> (and friends)","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$qUSvqCjY04ZsmhLIUJSH1xrse5rkFYdIZMADR8i_CN8"}},"msgtype":"m.text"},"ts":1753897545575,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Vhh7IUYiI03dCYBCDxAhpxuROzQRRyUEGeVg5oU2Aw0"},
{"content":{"body":"string-based evaluation","m.mentions":{},"msgtype":"m.text"},"ts":1753897550157,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$r95R6FK5SYiEM_mg1JUiFqgmG1Y6F5Cm7QQ7KoB1KHU"},
{"content":{"body":"Ok and CSP would keep applying here, so I don't understand the concern","m.mentions":{},"msgtype":"m.text"},"ts":1753897557926,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$_GO5-cLR2ZBCVQYvNOurh7hiqmkcEK7WkCYmGA9e5g8"},
{"content":{"body":"It seems to me like eval here is not the goal but just the tool identified to reach it","m.mentions":{},"msgtype":"m.text"},"ts":1753897558312,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$yjrkRpO4vM8eq5clOTRTKjOEvihiLpyNcBrxeAp5h9A"},
{"content":{"body":"running code in a different global context is a reasonable idea as long as that code doesn't come from strings","m.mentions":{},"msgtype":"m.text"},"ts":1753897562556,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$hzGtfsOyeF-FiCsfFRkYtPdFpH6CXusA1vZXhELGUS4"},
{"content":{"body":"the concern is, why is this proposal going to a bunch of effort to provide new ways to use `eavl`","format":"org.matrix.custom.html","formatted_body":"the concern is, why is this proposal going to a bunch of effort to provide new ways to use <code>eavl</code>","m.mentions":{"user_ids":["@mhofman:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$_GO5-cLR2ZBCVQYvNOurh7hiqmkcEK7WkCYmGA9e5g8"}},"msgtype":"m.text"},"ts":1753897586456,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$iMSSRID388hYWGDDVli9pCMQAoDf_JgrGA6GtWuOMI0"},
{"content":{"body":"* the concern is, why is this proposal going to a bunch of effort to provide new ways to use `eval`","format":"org.matrix.custom.html","formatted_body":"* the concern is, why is this proposal going to a bunch of effort to provide new ways to use <code>eval</code>","m.mentions":{},"m.new_content":{"body":"the concern is, why is this proposal going to a bunch of effort to provide new ways to use `eval`","format":"org.matrix.custom.html","formatted_body":"the concern is, why is this proposal going to a bunch of effort to provide new ways to use <code>eval</code>","m.mentions":{"user_ids":["@mhofman:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$iMSSRID388hYWGDDVli9pCMQAoDf_JgrGA6GtWuOMI0","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1753897588360,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Q-1JqyzUvEKB74WHwS1w5J24Q3IS91Qb1bLnt-LvtBw"},
{"content":{"body":"I do not want to provide new ways to use `eval`","format":"org.matrix.custom.html","formatted_body":"I do not want to provide new ways to use <code>eval</code>","m.mentions":{},"msgtype":"m.text"},"ts":1753897594683,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$jCJ3p1ibNcnwBINOkQ4aK7Huby3VZ3KzytN3CTcJRYY"},
{"content":{"body":"heh, to implement a module system at some point you need to read a file and turn that into runnable code","m.mentions":{},"msgtype":"m.text"},"ts":1753897599118,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$6SC7d9e_6zLXi4TrGuGMx8P3BmN_XaPBVOrOlLLwNMQ"},
{"content":{"body":"the host can do that for you though!","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$6SC7d9e_6zLXi4TrGuGMx8P3BmN_XaPBVOrOlLLwNMQ"}},"msgtype":"m.text"},"ts":1753897608922,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$JsWSGiEFhgV4p-Izi-c1_Z5C-WjZRImmnC6nxHYnDGE"},
{"content":{"body":"`chmod +x file` boom","format":"org.matrix.custom.html","formatted_body":"<code>chmod +x file</code> boom","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$6SC7d9e_6zLXi4TrGuGMx8P3BmN_XaPBVOrOlLLwNMQ"}},"msgtype":"m.text"},"ts":1753897643206,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$EUGNWfDiAdvpRfMWV01BlgM4WY1H_1e_PGrBEi6rDhk"},
{"content":{"body":"`import.source`","format":"org.matrix.custom.html","formatted_body":"<code>import.source</code>","msgtype":"m.text"},"ts":1753897646745,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$BJZPRwJ0RfFnclKPcJPO3R5yWbnzUfLepjLE6W3bYvU"},
{"content":{"body":">the host will save you from getting code from strings\n>look inside the host\n>getting code from strings\n/s","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>the host will save you from getting code from strings<br>look inside the host<br>getting code from strings<br>/s</p>\n</blockquote>\n","m.mentions":{},"msgtype":"m.text"},"ts":1753897652235,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$OUlSg_mBYJPTXmdu4LTt17dvE373ddx5xxclCAruPwA"},
{"content":{"body":"* >the host will save you from getting code from strings\n>look inside the host\n>getting code from strings\n\n/s","format":"org.matrix.custom.html","formatted_body":"* <blockquote>\n<p>the host will save you from getting code from strings<br>look inside the host<br>getting code from strings</p>\n</blockquote>\n<p>/s</p>\n","m.mentions":{},"m.new_content":{"body":">the host will save you from getting code from strings\n>look inside the host\n>getting code from strings\n\n/s","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>the host will save you from getting code from strings<br>look inside the host<br>getting code from strings</p>\n</blockquote>\n<p>/s</p>\n","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$OUlSg_mBYJPTXmdu4LTt17dvE373ddx5xxclCAruPwA","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1753897663292,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$Ukc2RO1tdlFnCjQ5dUVs7dv3OCT4Z1lOgi6LSNF1xSg"},
{"content":{"body":"* \\>the host will save you from getting code from strings\n\\>look inside the host\n\\>getting code from strings\n\n/s","format":"org.matrix.custom.html","formatted_body":"* &gt;the host will save you from getting code from strings\n&gt;look inside the host\n&gt;getting code from strings\n\n/s","m.mentions":{},"m.new_content":{"body":"\\>the host will save you from getting code from strings\n\\>look inside the host\n\\>getting code from strings\n\n/s","format":"org.matrix.custom.html","formatted_body":"&gt;the host will save you from getting code from strings\n&gt;look inside the host\n&gt;getting code from strings\n\n/s","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$OUlSg_mBYJPTXmdu4LTt17dvE373ddx5xxclCAruPwA","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1753897671604,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$_Lzn-BjjWEBHeWP-uPaYwEdehD9NBmNs8E75LwrFvTc"},
{"content":{"body":"* \\>the host will save you from getting code from strings \n\\>look inside the host \n\\>getting code from strings \n\n/s","format":"org.matrix.custom.html","formatted_body":"* &gt;the host will save you from getting code from strings\n&gt;look inside the host\n&gt;getting code from strings\n\n/s","m.mentions":{},"m.new_content":{"body":"\\>the host will save you from getting code from strings \n\\>look inside the host \n\\>getting code from strings \n\n/s","format":"org.matrix.custom.html","formatted_body":"&gt;the host will save you from getting code from strings\n&gt;look inside the host\n&gt;getting code from strings\n\n/s","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$OUlSg_mBYJPTXmdu4LTt17dvE373ddx5xxclCAruPwA","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1753897686011,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$3Fxl7Kex1G-1Pek_6TavtjXj1MN1zT3R1PpoR9JrqYw"},
{"content":{"body":"I bet it's using memory addresses too.\nWild","format":"org.matrix.custom.html","formatted_body":"I bet it's using memory addresses too.<br />\nWild","m.relates_to":{"event_id":"$OUlSg_mBYJPTXmdu4LTt17dvE373ddx5xxclCAruPwA","is_falling_back":true,"m.in_reply_to":{"event_id":"$OUlSg_mBYJPTXmdu4LTt17dvE373ddx5xxclCAruPwA"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1753897701617,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$OJM9t68-jWNw5H8F3P92--36JNhQh1xEIHdIfof7rZs"},
{"content":{"body":"element won't let me format this as proper green text aaaaaaaaa","m.mentions":{},"m.relates_to":{"event_id":"$OUlSg_mBYJPTXmdu4LTt17dvE373ddx5xxclCAruPwA","is_falling_back":true,"m.in_reply_to":{"event_id":"$OJM9t68-jWNw5H8F3P92--36JNhQh1xEIHdIfof7rZs"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1753897713541,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$FYeZkN3cn1pbeIunC8M3WWqJ58_M1I94AczKdJ09_RE"},
{"content":{"body":"```\n> try to greentext\n> can't\n```","format":"org.matrix.custom.html","formatted_body":"<pre><code>&gt; try to greentext\n&gt; can't\n</code></pre>\n","m.mentions":{},"m.relates_to":{"event_id":"$OUlSg_mBYJPTXmdu4LTt17dvE373ddx5xxclCAruPwA","is_falling_back":true,"m.in_reply_to":{"event_id":"$FYeZkN3cn1pbeIunC8M3WWqJ58_M1I94AczKdJ09_RE"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1753897736268,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$COJObcjfcpyStmCsaEzij7ulJiq-drskYowSrG9Gwa0"},
{"content":{"body":"so true","m.mentions":{},"m.relates_to":{"event_id":"$OUlSg_mBYJPTXmdu4LTt17dvE373ddx5xxclCAruPwA","is_falling_back":true,"m.in_reply_to":{"event_id":"$COJObcjfcpyStmCsaEzij7ulJiq-drskYowSrG9Gwa0"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1753897760077,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$YsUbip9xVfJQlWVSEgdP7Qw7Xm8KFkRMpVb9ZwKVkeI"},
{"content":{"body":"bakkot Fyi many people working on modules agree with your point  about the import hook, but it's a psot-stage-1 thing","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a> Fyi many people working on modules agree with your point  about the import hook, but it's a psot-stage-1 thing","m.mentions":{"user_ids":["@bakkot:matrix.org"]},"msgtype":"m.text"},"ts":1753898258165,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$VGNVlGogPX2JS59zKZkEdPQILx685GgXbB_Gpq9MKwg"},
{"content":{"body":"* bakkot Fyi many people working on modules agree with your point  about the import hook, but it's a post-stage-1 thing","format":"org.matrix.custom.html","formatted_body":"* <a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a> Fyi many people working on modules agree with your point  about the import hook, but it's a post-stage-1 thing","m.mentions":{},"m.new_content":{"body":"bakkot Fyi many people working on modules agree with your point  about the import hook, but it's a post-stage-1 thing","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a> Fyi many people working on modules agree with your point  about the import hook, but it's a post-stage-1 thing","m.mentions":{"user_ids":["@bakkot:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$VGNVlGogPX2JS59zKZkEdPQILx685GgXbB_Gpq9MKwg","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1753898316659,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$s9Qk2BT-MWzSvtUhEgzphCnkKGv4DsvJnPRm3-fMwTY"},
{"content":{"body":"Without eval you wouldn't be able to load existing CommonJS-based libraries, right?","m.mentions":{},"msgtype":"m.text"},"ts":1753898618807,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$OlyVbCKddULoT7h44kBgCvi_rC-jldwvJRT-4TQIa_I"},
{"content":{"body":"CommonJS depends on eval","m.mentions":{},"msgtype":"m.text"},"ts":1753898622275,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$OAVGHO_v694Ymv1L40dG8_gspX_cr3TyN1-TtsgcNAU"},
{"content":{"body":"how does it depend on eval","m.mentions":{},"msgtype":"m.text"},"ts":1753898635459,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$1Cv9PaX9HxWQgzZ0gI69L4xVZhjN0LxYJKX-6QKjd7w"},
{"content":{"body":"i mean in node it's an implementation detail","m.mentions":{},"msgtype":"m.text"},"ts":1753898646305,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$IDQzrRUMFhjSOo8qhr7nJRVkx0im0Jnxsp6yds8KGOk"},
{"content":{"body":"How would you implement it without eval?","m.mentions":{},"msgtype":"m.text"},"ts":1753898654666,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$hlYYVFBi54f-fWyNU9rkoTFhbrYE_IwB95-uMF5z1Ic"},
{"content":{"body":"and in browsers via bundlers it doesn't rely on eval","m.mentions":{},"msgtype":"m.text"},"ts":1753898656559,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$5LeoxlQMdRvXSFoGZPLBcMsnORE9QH-Qjn5DwnEEmDY"},
{"content":{"body":"I mean this whole proposal can be replaced with a build step, replacing all global references `thatThing` with `myCustomGlobal.thatThing`","format":"org.matrix.custom.html","formatted_body":"I mean this whole proposal can be replaced with a build step, replacing all global references <code>thatThing</code> with <code>myCustomGlobal.thatThing</code>","m.mentions":{},"msgtype":"m.text"},"ts":1753898705441,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$MlkyYJNSAvvY4y8T8SzLcTzDSwfhZ0beh_y3WO9ntBs"},
{"content":{"body":"i don't consider \"let the engine evaluate it outside of JS\" eval, so you'd modify the source and give it to the engine","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$hlYYVFBi54f-fWyNU9rkoTFhbrYE_IwB95-uMF5z1Ic"}},"msgtype":"m.text"},"ts":1753898706582,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$-nz4mazMA7qm3TStWtamyo4hVCLMyQZWWp4W6q4XyHg"},
{"content":{"body":"\"eval\" in this context imo is `eval` and `Function` and `setTimeout` strings etc","format":"org.matrix.custom.html","formatted_body":"\"eval\" in this context imo is <code>eval</code> and <code>Function</code> and <code>setTimeout</code> strings etc","m.mentions":{},"msgtype":"m.text"},"ts":1753898726409,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$vbAagoHAruW775fnVM2osoV-ZisLI0uU8sGQ1Xd-ZwM"},
{"content":{"body":"how do you give it to the engine without eval","m.mentions":{},"msgtype":"m.text"},"ts":1753898730573,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$8dZKLbBOY-5xb-oiBfgyPRQnFWLZBK5Z98XIX2B0bvM"},
{"content":{"body":"the engine isn't using javascript `eval`, so it's not eval :-)","format":"org.matrix.custom.html","formatted_body":"the engine isn't using javascript <code>eval</code>, so it's not eval :-)","m.mentions":{},"msgtype":"m.text"},"ts":1753898754003,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$JsyjjrsjRvSz9ZF8ZCLAnbo6Asv-u9niF11utwd5Gtk"},
{"content":{"body":"obviously it's turtles all the way down but that's not relevant","m.mentions":{},"msgtype":"m.text"},"ts":1753898764153,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$SRmly6qO_f4c-t68QwRDaCwV6esYctxO_A2WaVkrUn8"},
{"content":{"body":"so some new thing called ScriptSource or something","m.mentions":{},"msgtype":"m.text"},"ts":1753898777108,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$BhzJCaN9K-i4XAO226kR5qAfqLUAX6rdir68Dhv5hpg"},
{"content":{"body":"instead of eval ","m.mentions":{},"msgtype":"m.text"},"ts":1753898780307,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$eC_IyrDf1uyaP7lEau80uvDcslnnBqvjMeLdpVS5-zI"},
{"content":{"body":"inside node it could be done in C++ or something, the point is that user JS code wouldn't be doing the string evaluation","m.mentions":{},"msgtype":"m.text"},"ts":1753898835490,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$YhAajGtV5RAnWqsqV0y6u9FjuWnqn1LAPbOmHwupnaQ"},
{"content":{"body":"The fact that this shares all the globals, unlike Node.js's VM, doesn't really make it seem like a sandbox to me","msgtype":"m.text"},"ts":1753899623851,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$95kSq0Kby1B1t6N66xZzGBPdSJs4UWnO3o-w9eWCIrA"},
{"content":{"body":"it's confusing to me that it shares a % of globals that's not zero and not 100","m.mentions":{},"msgtype":"m.text"},"ts":1753899706364,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$xGdfsHbaoQZnYQCdLARVg3RUqkxjg8SDGXssJHWysFo"},
{"content":{"body":"I mean the whole point of it is evaluating things in a way that they can't see some of your stuff","m.mentions":{},"msgtype":"m.text"},"ts":1753899730219,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$nk-yXGoVjCtC4RHYV_wSz6S9NKt3L1yjWP2liqIKRGI"},
{"content":{"body":"that sounds like a sandbox to me","m.mentions":{},"msgtype":"m.text"},"ts":1753899739201,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$E4-tiwpnV0LNkljZ7cr3dq0jmOO2Hu9qt5rSGVeGzZc"},
{"content":{"body":"But it doesn't hide your stuff by default, at all","m.mentions":{},"msgtype":"m.text"},"ts":1753899789536,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$hvJSk5jN_yi8488pxQPYFTK3Nag8jwuyydIOukzQYho"},
{"content":{"body":"IMO, people confuse Node's vm module for a sandbox because it's called \"VM\", which is something used for sandboxing. I don't see why a JavaScript developer would assume that \"an API that creates a new global object\" would function as a sandbox, nor do I think that its potential / off-label use as a building block for an actual sandbox makes this more likely.","m.mentions":{},"msgtype":"m.text"},"ts":1753899793621,"senderName":"rekmarks","senderId":"@rekmarks:matrix.org","id":"$1DxDRzoTqVHDNUo28JX7mttD19N42c3rX4UT4fMmdYc"},
{"content":{"body":"right but that is literally the whole point of it","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$hvJSk5jN_yi8488pxQPYFTK3Nag8jwuyydIOukzQYho"}},"msgtype":"m.text"},"ts":1753899816642,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$TYTf24NVfTrpiiG_YPe5_uonT3ThHcH2bfyb9vjqZMU"},
{"content":{"body":"there is no reason to use this unless you care about being able to evaluate code in a way that it can't see some of your stuff","m.mentions":{},"msgtype":"m.text"},"ts":1753899839881,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$dGUS_lcjRzRzc4XXvt-O_N8yQZSD2wxAx9nfIoXPpN4"},
{"content":{"body":"Or to run some code that sees _more_ stuff, like you have a file expecting a given global to be available (`regeneratorRuntime`? ðŸ‘€) but you don't want to actually make that global globally available just because of one bad library","format":"org.matrix.custom.html","formatted_body":"Or to run some code that sees <em>more</em> stuff, like you have a file expecting a given global to be available (<code>regeneratorRuntime</code>? ðŸ‘€) but you don't want to actually make that global globally available just because of one bad library","m.mentions":{},"msgtype":"m.text"},"ts":1753899960315,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$N40e3UxAM5DNDLJrV9I48wK_PYk2AfGXdRjr0T20EAI"},
{"content":{"body":"sure, I guess","m.mentions":{},"msgtype":"m.text"},"ts":1753900055340,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$6ergCfVyfzu-frVNyO0cRSoBY8dA1V_2AmYVDtxM0Uo"},
{"content":{"body":"creating new environments to run code that isn't untrusted is a valid use case","m.mentions":{},"msgtype":"m.text"},"ts":1753900056682,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$zKSyeBxABNZEHsR3pR3WPuW3leHOn61ppsLoWxR_DTo"},
{"content":{"body":"and doesn't require a sandbox","m.mentions":{},"msgtype":"m.text"},"ts":1753900065504,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$KqOQ2adNlg7En8zqhc5BJo_1WRJ7sLwKb8-gBcOXJVw"},
{"content":{"body":"i agree its a footgun though","m.mentions":{},"msgtype":"m.text"},"ts":1753900069423,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$euAn-Ru6t3YIqTGVOm6SrBuy5BVjZzOCxNrtlsXeey0"},
{"content":{"body":"* creating new environments to run trusted code that expect a different runtime environment is a valid use case","m.mentions":{},"m.new_content":{"body":"creating new environments to run trusted code that expect a different runtime environment is a valid use case","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$zKSyeBxABNZEHsR3pR3WPuW3leHOn61ppsLoWxR_DTo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1753900094145,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$VvmcVdIOABwfiPWTwOwbaRcG8-EeNVvnThttZeD0An4"},
{"content":{"body":"hm something i do wonder. agoric's security model currently requires actively analyzing every proposed change to the language to see whether it would break it. if we are adding this functionality to replace compartments/etc, are we increasing the surface area that requires this active approach? or reducing it? compared to stronger apis that actually guarantee isolation.","m.mentions":{},"msgtype":"m.text"},"ts":1753900292238,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$ovV7bJsFNHN-66fHuBFjLDvA4cveifoQh0FgO6Bzx0Y"},
{"content":{"body":"Zb Tenerowicz (ZTZ/naugtur): kriskowal Would the champions be ok with the problem statement roughly as worded by Kevin?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@naugtur:matrix.org\">Zb Tenerowicz (ZTZ/naugtur)</a>: <a href=\"https://matrix.to/#/@kriskowal:aelf.land\">kriskowal</a> Would the champions be ok with the problem statement roughly as worded by Kevin?","m.mentions":{"user_ids":["@naugtur:matrix.org","@kriskowal:aelf.land"]},"msgtype":"m.text"},"ts":1753900308279,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$oecWLdK9okW6A-Ci9_rhUKy6FUa3QnnFvUlOsxH6XMg"},
{"content":{"body":"Sorry to cut that off, I'm sure we'll find time to continue this plenary. I just want to make sure Steven gets his full time slot.","m.mentions":{},"msgtype":"m.text"},"ts":1753900371713,"senderName":"dminor","senderId":"@dminor:mozilla.org","id":"$uQwUbfjD0cmal_3lF8u4KI1yX1FIVwvgL50PDvsW9C0"},
{"content":{"body":"I think of import hooks as being motivated completely independently of the \"new global\" thing, personally, so I am happy to hear they're different proposals","m.mentions":{},"msgtype":"m.text"},"ts":1753900390649,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$GMVd8ZiICkITbw1RagcACGGiDuEl6mLfiQ2-goBc3k0"},
{"content":{"body":"oof is snek's TCQ entry PoO worthy?","m.mentions":{},"msgtype":"m.text"},"ts":1753900699063,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$LPAgCIF9i0zLrc0OYSRufnS0o4aOfDzmRqSWcJ7qiMs"},
{"content":{"body":"i wasn't really sure","m.mentions":{},"msgtype":"m.text"},"ts":1753900709211,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$r57XYdSCjI5hHVcaIqeWT5TvMTU6Zqw_Pz8vN5qh8yg"},
{"content":{"body":"Michael Ficarra It's in the same class as the json modules proposal","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@michaelficarra:matrix.org\">Michael Ficarra</a> It's in the same class as the json modules proposal","m.mentions":{"user_ids":["@michaelficarra:matrix.org"]},"msgtype":"m.text"},"ts":1753900717904,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$MNrz-c2lIy7hNpK6c97gJ2yNmdlx2e9_2VCrkRW4ChY"},
{"content":{"body":"let's just make sure we address it before the rest of the queue","m.mentions":{},"msgtype":"m.text"},"ts":1753900741056,"senderName":"Michael Ficarra","senderId":"@michaelficarra:matrix.org","id":"$fjJ5MSbAngGtllVi7gUFBmD7XEOqtCm8JrSis1H4g6s"}
]