[
{"content":{"body":"When proposing a new built-in method that returns a list of things, what's the latest guidance about when the list should be an array vs. an iterator? Iterators seem obviously better in the cases where the results can be a long list and/or where the result comes from an async/streaming source. But if the result is short and comes from an immutable native array that's already in memory, then is it OK to return an array to get better ergonomics (`filter`/`map`, `[0]`, etc.) ?  Context: https://github.com/tc39/ecma402/issues/598#issuecomment-1035916876","format":"org.matrix.custom.html","formatted_body":"When proposing a new built-in method that returns a list of things, what's the latest guidance about when the list should be an array vs. an iterator? Iterators seem obviously better in the cases where the results can be a long list and/or where the result comes from an async/streaming source. But if the result is short and comes from an immutable native array that's already in memory, then is it OK to return an array to get better ergonomics (<code>filter</code>/<code>map</code>, <code>[0]</code>, etc.) ?  Context: https://github.com/tc39/ecma402/issues/598#issuecomment-1035916876","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"When proposing a new built-in method that returns a list of things, what's the latest guidance about when the list should be an array vs. an iterator? Iterators seem obviously better in the cases where the results can be a long list and/or where the result comes from an async/streaming source. But if the result is short and comes from an immutable native array that's already in memory, then is it OK to return an array to get better ergonomics (`filter`/`map`, `[0]`, etc.) ?  Context: https://github.com/tc39/ecma402/issues/598#issuecomment-1035916876","mimetype":"text/plain"},{"body":"When proposing a new built-in method that returns a list of things, what's the latest guidance about when the list should be an array vs. an iterator? Iterators seem obviously better in the cases where the results can be a long list and/or where the result comes from an async/streaming source. But if the result is short and comes from an immutable native array that's already in memory, then is it OK to return an array to get better ergonomics (<code>filter</code>/<code>map</code>, <code>[0]</code>, etc.) ?  Context: https://github.com/tc39/ecma402/issues/598#issuecomment-1035916876","mimetype":"text/html"}]},"ts":1644602570291,"senderName":"justingrant","senderId":"@justingrant:matrix.org","id":"$-6VCT2wZo2ZWei3OhsyvXovyO6NaOACRbjh0d20J0KA"},
{"content":{"body":"there is no guidance, we're just gonna fight about it every time probably","msgtype":"m.text"},"ts":1644602660069,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$-ybtB5uf80llSPyGJKKI4A-WsQXeM7nx9-1SQcqq3oI"},
{"content":{"body":"though I think for short collections people are happy with arrays, generally","msgtype":"m.text"},"ts":1644602807096,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$kSrmv6vq-ep_pelUIVKVqvMrV0BqshH2x8jWYierIIw"},
{"content":{"body":"temporal has a couple new array-returning methods, e.g.","msgtype":"m.text"},"ts":1644602837129,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$HVzerSXzOR5AIpdaWU6efsZ-cEAq_XFzRH0fmJXnaUo"},
{"content":{"body":"it only really makes sense to have an iterator when you might have a lot of elements","msgtype":"m.text"},"ts":1644602875780,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$r97PGPS10j_xct_VnsQVhyLfLe94UPKGm-eGHvIkTnU"}
]