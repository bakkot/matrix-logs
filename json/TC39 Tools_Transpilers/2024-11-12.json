[
{"content":{"body":"Spent some time gathering data on the portability on various `import.meta` patterns across tools & runtimes. TL;DR: It's effectively impossible to write fully portable code (across bundling & SSR) that makes use of any `import.meta` API. :D https://bundlers.dev/javascript/modules/import.meta/","format":"org.matrix.custom.html","formatted_body":"Spent some time gathering data on the portability on various <code>import.meta</code> patterns across tools &amp; runtimes. TL;DR: It's effectively impossible to write fully portable code (across bundling &amp; SSR) that makes use of any <code>import.meta</code> API. :D https://bundlers.dev/javascript/modules/import.meta/","m.mentions":{},"msgtype":"m.text"},"ts":1731445309584,"senderName":"Jan Olaf Martin","senderId":"@jkrems:matrix.org","id":"$wvM2sH_sZH8KKkrJy8I3z5-XQOFywonCQ6KlKHj8Fjk"},
{"content":{"body":"tbh I'm kinda upset that this import.meta thing caught on at all; it seems like an abuse of the API.","m.mentions":{},"msgtype":"m.text"},"ts":1731447650324,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$_6yKoINRlniUrzh-f1KSuIB3K07kfShnNNBvCLX12xU"},
{"content":{"body":"It does repeat some mistakes that I've seen from import resolution as well: TC39 spec'd a syntax and left the semantics as an exercise to the reader without established spec venue.","m.mentions":{},"msgtype":"m.text"},"ts":1731448033077,"senderName":"Jan Olaf Martin","senderId":"@jkrems:matrix.org","id":"$PR-xZ_ndbeBg1Gc3s1GW9BrQojj1pzyJQCyh3UUslzE"},
{"content":{"body":"I'm hoping we can find a way to get those kinds of cross-tooling concerns specified somewhere to at least have a common core of things that can be expected to work consistently.","m.mentions":{},"msgtype":"m.text"},"ts":1731448108780,"senderName":"Jan Olaf Martin","senderId":"@jkrems:matrix.org","id":"$e7OEmYv0DC6SddHcV4KSRnlBsEYywWMf2mg9b7vZrxQ"},
{"content":{"body":"I tried to make a repo where we could work out together what various environments' import.meta would be, but it didn't catch on (since I got it mixed up in the whole built-in modules debate)","m.mentions":{},"msgtype":"m.text"},"ts":1731448304202,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$aEwIKre3PK-tMcTGq8QSVgRsecnxVXYLTGxP17x6mKo"},
{"content":{"body":"maybe we should revive that effort","m.mentions":{},"msgtype":"m.text"},"ts":1731448331706,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$_jQMtmCeLGYLQZMAmz33EHmOC-QOb1wReLXKedLaB9E"},
{"content":{"body":"https://github.com/littledan/js-shared-interfaces","m.mentions":{},"msgtype":"m.text"},"ts":1731448347652,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$il63Rs9R1V9CqaiB7_Vn5chUAbD12VpJuBKQpteXDZE"},
{"content":{"body":"That looks really neat! I think I'd also want to specify things like module resolution - would that be in scope for what you had in mind with that repo?","m.mentions":{},"msgtype":"m.text"},"ts":1731449004644,"senderName":"Jan Olaf Martin","senderId":"@jkrems:matrix.org","id":"$8HiC7AX8im66-Gdt0UdtkqM5PFcdEjVf0YJ3s4wgNxs"}
]