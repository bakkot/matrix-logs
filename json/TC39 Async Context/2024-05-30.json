[
{"content":{"body":"> <@stephenhicks:matrix.org> I think that's tricky due to races - for example, the exact ordering of a promise resolving vs. the promise.then call would make one or the other context more recent.  But I think we probably want to run in the same context (resolution vs registration) regardless of the order.\n\nHuh, what do you mean? I wasn’t imagining this kind of case, I was imagining that a particular cause would lead to a particular snapshot context being restored. Could you give an example of the race you are concerned about?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!eQuZUAhGqudVFPodUG%3Amatrix.org/%24GOsiQHXLOAVuxVSk3L2-nYT14Mp5wXYOZMMzh2wk8PQ\">In reply to</a> <a href=\"https://matrix.to/#/@stephenhicks:matrix.org\">@stephenhicks:matrix.org</a><br>I think that's tricky due to races - for example, the exact ordering of a promise resolving vs. the promise.then call would make one or the other context more recent.  But I think we probably want to run in the same context (resolution vs registration) regardless of the order.</blockquote></mx-reply>Huh, what do you mean? I wasn’t imagining this kind of case, I was imagining that a particular cause would lead to a particular snapshot context being restored. Could you give an example of the race you are concerned about?","m.relates_to":{"m.in_reply_to":{"event_id":"$GOsiQHXLOAVuxVSk3L2-nYT14Mp5wXYOZMMzh2wk8PQ"}},"msgtype":"m.text"},"ts":1717043517813,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$M2REgtWkpUK4pvR6wYY6tth4DMPUZsIDj4C_eIrUZBU"}
]