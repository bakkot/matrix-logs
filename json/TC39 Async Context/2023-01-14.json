[
{"content":{"org.matrix.msc1767.message":[{"body":"> <@littledan:matrix.org> anyway probably just a JS Map is good enough in practice; I just wouldn't want to rule out using this theoretically more efficient mechanism in case things come up. But I think this would be possible and doesn't relate to the use of Realms.\n\nAfter looking at this a bunch, I believe the current `Map` based approach is ideal:\n- O(1) `wrap()`\n- O(1) `get()`\n- O(n) `run()`\n- Automatic GC","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$89YgQrh00V22HdlJq2K_igh5cADo8iD1ZhJ0cA0IrW0?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@littledan:matrix.org\">@littledan:matrix.org</a><br>anyway probably just a JS Map is good enough in practice; I just wouldn&#39;t want to rule out using this theoretically more efficient mechanism in case things come up. But I think this would be possible and doesn&#39;t relate to the use of Realms.</blockquote></mx-reply><p>After looking at this a bunch, I believe the current <code>Map</code> based approach is ideal:</p>\n<ul>\n<li>O(1) <code>wrap()</code></li>\n<li>O(1) <code>get()</code></li>\n<li>O(n) <code>run()</code></li>\n<li>Automatic GC</li>\n</ul>\n","mimetype":"text/html"}],"body":"> <@littledan:matrix.org> anyway probably just a JS Map is good enough in practice; I just wouldn't want to rule out using this theoretically more efficient mechanism in case things come up. But I think this would be possible and doesn't relate to the use of Realms.\n\nAfter looking at this a bunch, I believe the current `Map` based approach is ideal:\n- O(1) `wrap()`\n- O(1) `get()`\n- O(n) `run()`\n- Automatic GC","msgtype":"m.text","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$89YgQrh00V22HdlJq2K_igh5cADo8iD1ZhJ0cA0IrW0?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@littledan:matrix.org\">@littledan:matrix.org</a><br>anyway probably just a JS Map is good enough in practice; I just wouldn&#39;t want to rule out using this theoretically more efficient mechanism in case things come up. But I think this would be possible and doesn&#39;t relate to the use of Realms.</blockquote></mx-reply><p>After looking at this a bunch, I believe the current <code>Map</code> based approach is ideal:</p>\n<ul>\n<li>O(1) <code>wrap()</code></li>\n<li>O(1) <code>get()</code></li>\n<li>O(n) <code>run()</code></li>\n<li>Automatic GC</li>\n</ul>\n","m.relates_to":{"m.in_reply_to":{"event_id":"$89YgQrh00V22HdlJq2K_igh5cADo8iD1ZhJ0cA0IrW0"}}},"ts":1673665764860,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$-yjwKgZqRemRFNqLRWd-YqdiHRRP5j1ONXWOWBqrN98"},
{"content":{"org.matrix.msc1767.message":[{"body":"I can't come up with another solution that don't have O(n) `run` without sacrificing `wrap` or `get`","mimetype":"text/plain"},{"body":"I can't come up with another solution that don't have O(n) <code>run</code> without sacrificing <code>wrap</code> or <code>get</code>","mimetype":"text/html"}],"body":"I can't come up with another solution that don't have O(n) `run` without sacrificing `wrap` or `get`","msgtype":"m.text","format":"org.matrix.custom.html","formatted_body":"I can't come up with another solution that don't have O(n) <code>run</code> without sacrificing <code>wrap</code> or <code>get</code>"},"ts":1673665829155,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$P5Jw2QX3HeVc0i_aRyPDvwCGv_rkUZ4YicVd28GAUCs"},
{"content":{"org.matrix.msc1767.message":[{"body":"I did come up with a slightly optimized solution which has O(1) `run` **if** the current state has not been `wrap`ped.","mimetype":"text/plain"},{"body":"I did come up with a slightly optimized solution which has O(1) <code>run</code> <strong>if</strong> the current state has not been <code>wrap</code>ped.","mimetype":"text/html"}],"body":"I did come up with a slightly optimized solution which has O(1) `run` **if** the current state has not been `wrap`ped.","msgtype":"m.text","format":"org.matrix.custom.html","formatted_body":"I did come up with a slightly optimized solution which has O(1) <code>run</code> <strong>if</strong> the current state has not been <code>wrap</code>ped."},"ts":1673665873430,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$3m6gUzMm_BYsdCUVU_QyIZ4MIbjPrJhnLH53du4DmgI"},
{"content":{"org.matrix.msc1767.text":"https://github.com/legendecas/proposal-async-context/pull/15","body":"https://github.com/legendecas/proposal-async-context/pull/15","msgtype":"m.text"},"ts":1673668696988,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$inR3ej-UckWzCiODrYi4NiAsk3Ye3D8CFZcepHjhHnM"}
]