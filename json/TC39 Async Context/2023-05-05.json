[
{"content":{"body":"For a permanently pending promise: wouldn’t terminate \nFor AsyncContext.wrap which isn’t called: it’s not wrap which increments the counter, but rather a separate operation which is called when something is logically “queued” (this must be the case since the wrapped thing can’t decrement the counter since it can be called multiple times)","format":"org.matrix.custom.html","formatted_body":"For a permanently pending promise: wouldn’t terminate<br />\nFor AsyncContext.wrap which isn’t called: it’s not wrap which increments the counter, but rather a separate operation which is called when something is logically “queued” (this must be the case since the wrapped thing can’t decrement the counter since it can be called multiple times)","msgtype":"m.text"},"ts":1683259771111,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$UU5L_tlLEhzWlsbfuthFx1C5e0uC7lYSFswQOSiES6w"},
{"content":{"body":"So only wrapped functions in some host queue holds the task alive? That sounds like special treatment for host queues.","msgtype":"m.text"},"ts":1683260035769,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$oq5Tcto_R8HDFbQe1d6xaILlLORcvZgdrwFGjeZcRQc"}
]