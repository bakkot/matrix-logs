[
{"content":{"body":"There were some chats from the Google chat last night, reading through everything now to summarize","m.mentions":{},"msgtype":"m.text"},"ts":1705684155079,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$HEweXf3kOl_8wooxmYlHo-lOZOLa_HdoK9knFG1cnkc"},
{"content":{"body":"- Not clear the extent of APIs that need to support snapshot/restore, would be nice to have a (probably non-exhaustive) list:\n    - `setTimeout`, `addEventListener`, …\n    - Any in TC39 side? I don't think so, only Promise APIs\n- There's some pessimism that the long tail of old libraries won't support AC automatically through our patched Web APIs, won't be updated with `Snapshot` capturing, and so we'll have a ton of code that breaks context propagation\n- Recommend that we add `wrap` method (static, maybe both static and prototype)\n- Expand prior art section, explaining the difference between the current AC proposal\n- Section detailing how to handle libraries that don't support and aren't updated to support propagation\n- Section detailing alternatives:\n    - Every closure captures a snapshot (ie, like Generator now does, but **everything**)\n    - `await` hook so userland could implement instead of directly in language","format":"org.matrix.custom.html","formatted_body":"<ul>\n<li>Not clear the extent of APIs that need to support snapshot/restore, would be nice to have a (probably non-exhaustive) list:\n<ul>\n<li><code>setTimeout</code>, <code>addEventListener</code>, …</li>\n<li>Any in TC39 side? I don't think so, only Promise APIs</li>\n</ul>\n</li>\n<li>There's some pessimism that the long tail of old libraries won't support AC automatically through our patched Web APIs, won't be updated with <code>Snapshot</code> capturing, and so we'll have a ton of code that breaks context propagation</li>\n<li>Recommend that we add <code>wrap</code> method (static, maybe both static and prototype)</li>\n<li>Expand prior art section, explaining the difference between the current AC proposal</li>\n<li>Section detailing how to handle libraries that don't support and aren't updated to support propagation</li>\n<li>Section detailing alternatives:\n<ul>\n<li>Every closure captures a snapshot (ie, like Generator now does, but <strong>everything</strong>)</li>\n<li><code>await</code> hook so userland could implement instead of directly in language</li>\n</ul>\n</li>\n</ul>\n","m.mentions":{},"msgtype":"m.text"},"ts":1705684743296,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$HsEksdBCChlz0T8wKLYkTFJvEaQVm0BkoKK2zhbIWCk"}
]