[
{"content":{"body":"I wonder if `dispatchSnapshot` as a property of events would be clear to developers who have no clue what AsyncContext even is or what it's meant for","format":"org.matrix.custom.html","formatted_body":"I wonder if <code>dispatchSnapshot</code> as a property of events would be clear to developers who have no clue what AsyncContext even is or what it's meant for","m.mentions":{},"msgtype":"m.text"},"ts":1721387451362,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$YQ1__HFK1QhN1_Z2t3MjlLakmCsiXCd6HUwhrSv6Fsk"},
{"content":{"body":"well, I guess we don't need it to be clear, we just need them not to use it","m.mentions":{},"msgtype":"m.text"},"ts":1721387461788,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$muI7jz-fWTrQe2MspCw-gAj0BnMXFluHVgYlBihhBiU"},
{"content":{"body":" * well, I guess we don't need it to be clear, we just need them not to use it by mistake","m.mentions":{},"m.new_content":{"body":"well, I guess we don't need it to be clear, we just need them not to use it by mistake","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$muI7jz-fWTrQe2MspCw-gAj0BnMXFluHVgYlBihhBiU","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1721387504797,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$qVa3iTnAye6OS58_Z909FZLPB4MMw6ng6EZnu9oP1g4"},
{"content":{"body":"An important thing is that it’s \ngoogleable","format":"org.matrix.custom.html","formatted_body":"An important thing is that it’s<br />\ngoogleable","msgtype":"m.text"},"ts":1721393181335,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$EPF49so59s1Nvhv0aOI5u4-dvOj7U8NbRTlEWH6Pe54"},
{"content":{"body":"We could be very explicit and say causalAsyncContextSnapshot. Too long?","msgtype":"m.text"},"ts":1721393237000,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$W6rMd5nrgKWl29gnkCAIQdHRgnWDGcIsQSLQfIvzjek"},
{"content":{"body":"Anyway, all of these options should be googleable/searchable in mdn so this name search doesn’t have a big downside risk ","format":"org.matrix.custom.html","formatted_body":"Anyway, all of these options should be googleable/searchable in mdn so this name search doesn’t have a big downside risk","msgtype":"m.text"},"ts":1721393954728,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$H5m9bsBo-uDmOICh3IWqk0TvswqZb9ZyDaz4wCLjHB4"},
{"content":{"body":"I think it is ok to have a single property name to be generic but specifically searchable with its holder's name","m.mentions":{},"msgtype":"m.text"},"ts":1721394291366,"senderName":"Chengzhong Wu","senderId":"@legendecas:matrix.org","id":"$zyQqgPzoNhOLUzgMeBhaAPLTYNXo7BSq_GLqZwv72bc"},
{"content":{"body":"It might be acceptable, but will be not as convenient for some people","msgtype":"m.text"},"ts":1721394380755,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$FBGCH0WLAKrL4ljgCDiCW6X_5Yt0MzZqsjBfbB7MVH4"},
{"content":{"body":"Especially here, this will come up on a lot of autocompletes and people will be trying to figure out what it is","msgtype":"m.text"},"ts":1721394429872,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$zS-n7kPuffWK_OTywlqwsTkS3_PxmJin36hJ9XCrFHg"},
{"content":{"body":"Hey, we're discussing whether any of you have use cases for having the dispatch snapshot on user-created events","m.mentions":{},"msgtype":"m.text"},"ts":1721411394174,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$DRzMjKfNQoLsZrzfXE9gx85s7iNCN_zrFWNIpmPFRhQ"},
{"content":{"body":"So 1) should it be there at all, and 2) if so, should the default behavior would be to take the snapshot, or to have it as null","m.mentions":{},"msgtype":"m.text"},"ts":1721411491785,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$vxWujTeEaT7CWNk99Eb1Big0R49E7YDwT7VSXRfxntQ"},
{"content":{"body":"One use case is polyfills, but the property could be added with `Object.defineProperty`","format":"org.matrix.custom.html","formatted_body":"One use case is polyfills, but the property could be added with <code>Object.defineProperty</code>","m.mentions":{},"msgtype":"m.text"},"ts":1721411522485,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$VloSId4fhwNSBH7_8Jq7srlEg7t5kchH2F8yeWO9Fig"},
{"content":{"body":"For user-created events, could you define `class SnapshottingEvent extends Event { dispatchSnapshot = new AsyncContextSnapshot(); }` and then just dispatch that?","format":"org.matrix.custom.html","formatted_body":"For user-created events, could you define <code>class SnapshottingEvent extends Event { dispatchSnapshot = new AsyncContextSnapshot(); }</code> and then just dispatch that?","m.mentions":{},"msgtype":"m.text"},"ts":1721411563157,"senderName":"Steve Hicks","senderId":"@stephenhicks:matrix.org","id":"$RLDnGrxZAvWg-edOTxnU3gt-qUMSCV-TdYx8kagRJuM"},
{"content":{"body":"yeah","m.mentions":{},"msgtype":"m.text"},"ts":1721411617506,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$f2Nfr6DTpwjrtwN8bySD6R4xJ-0EpxgJjtTmLOZzUaU"},
{"content":{"body":"so I guess the discussion is rather, are there use cases for having the `dispatchSnapshot` property populated by default?","format":"org.matrix.custom.html","formatted_body":"so I guess the discussion is rather, are there use cases for having the <code>dispatchSnapshot</code> property populated by default?","m.mentions":{},"msgtype":"m.text"},"ts":1721411642447,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$JO8ZFoF-GrHb2mpEqUXh_N7U53XYprD-pjSCgcad_GQ"},
{"content":{"body":"So then the question is whether the dispatching code should need to be concerned about it","m.mentions":{},"msgtype":"m.text"},"ts":1721411647166,"senderName":"Steve Hicks","senderId":"@stephenhicks:matrix.org","id":"$KTmAmsaDcK1Tv_LR_5Uw5fHRHaBhkNDm-CIulZ-21gs"}
]