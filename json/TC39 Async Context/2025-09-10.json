[
{"content":{"body":"I spent some time today thinking about the yield issue.  I didn't come to any particularly compelling conclusions, but I listed out some use cases and considerations that I thought about here: https://hackmd.io/@sdh/SJmOBKAqeg - tl;dr is that I was expecting to find evidence that propagating context _into_ instead of _across_ the yield made the most sense, but instead it seemed a lot less clear.  One unanswered question I had (which I believe we've talked about but I don't recall the resolution) was the analogue with iterator helpers and whether `iter.map(mapper)` could be implemented with a generator or would need to use a hand-written iterator - ISTR it's the latter, that the mapper sees the dispatch context - in which case that would be a minor argument in favor of dispatch context for generators as well.  Anyway, no action is necessary here but I wanted to share the results of my thinking.","format":"org.matrix.custom.html","formatted_body":"I spent some time today thinking about the yield issue.  I didn't come to any particularly compelling conclusions, but I listed out some use cases and considerations that I thought about here: https://hackmd.io/@sdh/SJmOBKAqeg - tl;dr is that I was expecting to find evidence that propagating context <em>into</em> instead of <em>across</em> the yield made the most sense, but instead it seemed a lot less clear.  One unanswered question I had (which I believe we've talked about but I don't recall the resolution) was the analogue with iterator helpers and whether <code>iter.map(mapper)</code> could be implemented with a generator or would need to use a hand-written iterator - ISTR it's the latter, that the mapper sees the dispatch context - in which case that would be a minor argument in favor of dispatch context for generators as well.  Anyway, no action is necessary here but I wanted to share the results of my thinking.","m.mentions":{},"msgtype":"m.text"},"ts":1757481423691,"senderName":"Steve Hicks","senderId":"@stephenhicks:matrix.org","id":"$elhRsITMb48ioFbuNPN-QoFO4OcsMLXmjnOZweuXLcw"}
]