[
{"content":{"body":"I was discussing the Governor proposal with some folks and someone mentioned a question of how it worked with AsyncContext and the async iterator helpers.  In particular, my understanding (though I could be wrong) is that there's a slight mismatch between iterator helpers and hypothetical generator-based implementations of those helpers - in particular iter.map() runs the function in the same context that called next() whereas the trivial function* map() would run the mapper in the initial caller's context.  I would assume the async iterator helpers will be similar - are these assumptions/understandings correct?","m.mentions":{},"msgtype":"m.text"},"ts":1763056833869,"senderName":"Steve Hicks","senderId":"@stephenhicks:matrix.org","id":"$Mu5AODHBD2MGEdjfRsCRwdRKtG88IMWczbYZp8iXqI4"},
{"content":{"body":"(or are we planning to specify registration-time context for (async) iterator helpers?)","m.mentions":{},"msgtype":"m.text"},"ts":1763057400487,"senderName":"Steve Hicks","senderId":"@stephenhicks:matrix.org","id":"$zoGOjwSKXzyT9lmfhkftVAehKGqJ-jLRuIEIiVP59Ko"},
{"content":{"body":"> <@stephenhicks:matrix.org> I was discussing the Governor proposal with some folks and someone mentioned a question of how it worked with AsyncContext and the async iterator helpers.  In particular, my understanding (though I could be wrong) is that there's a slight mismatch between iterator helpers and hypothetical generator-based implementations of those helpers - in particular iter.map() runs the function in the same context that called next() whereas the trivial function* map() would run the mapper in the initial caller's context.  I would assume the async iterator helpers will be similar - are these assumptions/understandings correct?\n\nYes it matches those assumptions ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!eQuZUAhGqudVFPodUG:matrix.org/$Mu5AODHBD2MGEdjfRsCRwdRKtG88IMWczbYZp8iXqI4?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@stephenhicks:matrix.org\">@stephenhicks:matrix.org</a><br />I was discussing the Governor proposal with some folks and someone mentioned a question of how it worked with AsyncContext and the async iterator helpers.  In particular, my understanding (though I could be wrong) is that there's a slight mismatch between iterator helpers and hypothetical generator-based implementations of those helpers - in particular iter.map() runs the function in the same context that called next() whereas the trivial function* map() would run the mapper in the initial caller's context.  I would assume the async iterator helpers will be similar - are these assumptions/understandings correct?</blockquote></mx-reply>Yes it matches those assumptions","m.relates_to":{"m.in_reply_to":{"event_id":"$Mu5AODHBD2MGEdjfRsCRwdRKtG88IMWczbYZp8iXqI4"}},"msgtype":"m.text"},"ts":1763074521687,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$R--iOmfGS3rj79Mhc50O4aXdoo2GNvjLxbRxHPkvS10"},
{"content":{"body":"(and talking with the observables champion, this week we agreed that observables behave consistently with that btw)","msgtype":"m.text"},"ts":1763074593823,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$aE3Oc5YpYrbph26JBv1ipvwarRqKTjxB5hK2amIis58"}
]