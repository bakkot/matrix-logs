[
{"content":{"body":"I was updating my engine262 implementation, and I noticed that a side effect of https://github.com/tc39/proposal-async-context/pull/41 was that `FinalizationRegistry` callbacks don't propagate the context anymore","format":"org.matrix.custom.html","formatted_body":"I was updating my engine262 implementation, and I noticed that a side effect of https://github.com/tc39/proposal-async-context/pull/41 was that <code>FinalizationRegistry</code> callbacks don't propagate the context anymore","msgtype":"m.text"},"ts":1706181925159,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$wsofomDYXVjxfYslweX4mAr6TfH5oSqF6eEQzSBz9xE"},
{"content":{"body":"Because it doesn’t do a default HostMakeJobCallback anymore?","msgtype":"m.text"},"ts":1706183570817,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$y7OKmo-ZwzYeMtS8hjAd5xlMz-1SjR8BUpMto2lJvww"},
{"content":{"body":"Shouldn’t this be capturing the context at register anyways?","msgtype":"m.text"},"ts":1706183610923,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$3gBXvNGSeRyaP5URms1vM3a_YjQ2lkdmCbR3nksiu98"},
{"content":{"body":"we made it so `HostCallJobCallback` doesn't set the snapshot, instead leaving that to `NewPromiseReactionJob` and `NewPromiseResolveThenableJob`, which are of course not called on FinalizationRegistry callbacks","format":"org.matrix.custom.html","formatted_body":"we made it so <code>HostCallJobCallback</code> doesn't set the snapshot, instead leaving that to <code>NewPromiseReactionJob</code> and <code>NewPromiseResolveThenableJob</code>, which are of course not called on FinalizationRegistry callbacks","msgtype":"m.text"},"ts":1706183992816,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$mNN-H-8TZQEC3pwOffY9PLJf-N3-RPTMFidZZ-yKgEw"}
]