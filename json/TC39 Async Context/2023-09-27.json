[
{"content":{"body":"Chengzhong Wu: Are we skipping Slide 8 (async functions and promise rejections)?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@legendecas:matrix.org\">Chengzhong Wu</a>: Are we skipping Slide 8 (async functions and promise rejections)?","msgtype":"m.text"},"ts":1695776237474,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$Z8_f2qKhfCgDXhwKz2IHv2KQPzb5i_3-D4KbWfnNmSI"},
{"content":{"body":"I think that we can come back to this slide when the time allows","m.mentions":{},"msgtype":"m.text"},"ts":1695776302806,"senderName":"Chengzhong Wu","senderId":"@legendecas:matrix.org","id":"$ON0dVwxJysMPvEoi9PqB2hEI3JqYxATiYUGAV3XeSdI"},
{"content":{"body":"yeah I agree with skipping slide 8","msgtype":"m.text"},"ts":1695777365925,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$YVCQ2mbbnp9BZLmQgB0U5qLY9qb4DE-xnSrckdury3o"},
{"content":{"body":"Sorry about this; we should get our story straight among ourselves before the next presentation","msgtype":"m.text"},"ts":1695778257636,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$nzvW5Km66ua5SVKMd4qxNzS84nKlZnkg7a9NPIQR53s"},
{"content":{"body":"The slide mentioned specifically that web APIs need `run` in the context of task attribution","format":"org.matrix.custom.html","formatted_body":"The slide mentioned specifically that web APIs need <code>run</code> in the context of task attribution","msgtype":"m.text"},"ts":1695778323605,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$9mRVBy6j7j-GMl55uH2xVcdI_wM2MkrGBSCASLH7y0g"},
{"content":{"body":"maybe I should've made it clearer that it was Variable.p.run","msgtype":"m.text"},"ts":1695778336244,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$9Bxl7PgRaNKbkWL7keFx0AUrUs3qTQfVmwVsOpTpk9g"},
{"content":{"body":"I guess out of context that's not clear","msgtype":"m.text"},"ts":1695778369124,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$TpnGMm2eZpzEJBod_vfCX6r4F7WvZ_yvH5l59vZMpWY"},
{"content":{"body":"fundamentally, Justin probably should've been aware of what was being presented, and I should've given feedback about not emphasizing the concerns raised on the last couple slides (since they were just not relevant or representative)","msgtype":"m.text"},"ts":1695778369217,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$20Xdq34_2fJcHOShInHlKeo3VINryc0kZcE3BYAGsHM"},
{"content":{"body":"it'd be OK if the audience is confused but we shouldn't get confused among ourselves","msgtype":"m.text"},"ts":1695778383993,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$zUwwNUHbVRPzaz2QlHaWkSKI-XayQAmMBGoJmroZuJs"},
{"content":{"body":"That slide was added after our last meeting, so I wasn't aware until now. Sorry","msgtype":"m.text"},"ts":1695778411133,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$iLyutdJF4ejwh5gCb2yV3faYnPrLo5RQ2kr6b2eAsjU"},
{"content":{"body":"I mean, obviously the audience shouldn't be confused either","msgtype":"m.text"},"ts":1695778415015,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$Ls7R4HsdKHrBhSMZWZ2zoufbg9GU4C5wWWt9S-5jnDU"},
{"content":{"body":"yes, the last couple slides were added since I last saw it, sorry","msgtype":"m.text"},"ts":1695778433767,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$9VCbj-LJ1IZUwBFNDxtwK9M9hS8ATRYRMYcZC7WAvVw"},
{"content":{"body":"I added them sometime last week, maybe Thursday, although I was modifying them earlier today / yesterday","msgtype":"m.text"},"ts":1695778470157,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$TvKlyETX270rTuTsvtncHAr13NLqDdmvfq_mxNaEcLY"},
{"content":{"body":"yeah if you could just ping the channel to ask for reviews, then it'd be helpful","msgtype":"m.text"},"ts":1695778530972,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$Nn5AClFduLQUTYPQEduXUF9Z8yll5Lt3kLzAlBQ5_G0"},
{"content":{"body":"the slides weren't incorrect, we just have to think about how to explain things best","msgtype":"m.text"},"ts":1695778577220,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$-5ZSAogyijlHpWFKHRiWHbIP3ukbDl6pTtbkGJI3oMo"},
{"content":{"body":"<del>can we make sure AsyncContext becomes stage 3 before V8 decides to get rid of CPED</del>","format":"org.matrix.custom.html","formatted_body":"<del>can we make sure AsyncContext becomes stage 3 before V8 decides to get rid of CPED</del>","msgtype":"m.text"},"ts":1695779167714,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$SSsM4KpvF6W7gax-pfA6WtB3DLqxvgvLOl6u7ZRBgDg"},
{"content":{"body":"Umm... Gets rid of CPED...? Is that at risk?","msgtype":"m.text"},"ts":1695779870482,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$fCyWETTS29S-P_jCkAfhTazrXWDpD6tz05CNAY-q_7g"},
{"content":{"body":"V8 doesn't seem happy with it","msgtype":"m.text"},"ts":1695779890864,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$cI8y_CisWYpjWjwD_hC2fW_tV9qsH2dIyynWC2SHSnM"},
{"content":{"body":"Workers is absolutely relying on that API right now. That would break us","msgtype":"m.text"},"ts":1695779906718,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$rzLwOba5PkUGOyqtftnznllkUxaDWE90-GnAIjAx_Hw"},
{"content":{"body":"James M Snell: i don't think removal of the expressivity is at risk, but the current implementation leaves something to be desired so the implementation might change","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jasnell:matrix.org\">James M Snell</a>: i don't think removal of the expressivity is at risk, but the current implementation leaves something to be desired so the implementation might change","msgtype":"m.text"},"ts":1695779927025,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$lxqAeX4OQ8Sr5TzsHc1yZ1X45eFYDGUb2lMZrHgshhM"},
{"content":{"body":"Impl changing is fine. We can adjust to impl changing. But we absolutely depend on that API ","msgtype":"m.text"},"ts":1695779963380,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$52SSX4xbEM6vzKuG5nWaFiXY1I4K9m4Bl0zay7-a98Y"},
{"content":{"body":"We can fallback to promise hooks if we absolutely need to buy obviously would rather not ","msgtype":"m.text"},"ts":1695780016094,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$VQb5WWlqoSpGv0AfpFO-vqkYjYcXnUlM3TOx1q966_c"},
{"content":{"body":"noted","msgtype":"m.text"},"ts":1695780016246,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$xfRWlllv01__B8SePo2SpZoB8acjkRn5CXUM05CWFmg"},
{"content":{"body":"Shu seems to be expressing that a conclusion hasn't been reached yet, rather than being uniformly unhappy. I think the best thing we could do is move forward with our design doc for review by the V8 team.","msgtype":"m.text"},"ts":1695780030103,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$ded-dG4qpnlR_eVOYjElpjLGvrYcfb6sW02dwVVxd5Y"},
{"content":{"body":"Let me know if I can help","msgtype":"m.text"},"ts":1695780048520,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$pRx27k4bitZ-ZzDK3NKKCFARc2v4fG4kbZvvbXA7pz8"},
{"content":{"body":"We use CPED in our ALS impl but also under the covers for propagating trace spans across async boundaries. ","msgtype":"m.text"},"ts":1695780095563,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$RHoC9XIRL13UsQjZ8ZTeapMAj79D2qBaD7twy2tDS6E"},
{"content":{"body":"We have a c++ level API wrapped around it that we use for both purposes","msgtype":"m.text"},"ts":1695780115801,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$6HwhYh00wOS6BCz_tVFXNUP3_N31e6RbpI_j27dVgBY"},
{"content":{"body":"See also this review on an CL for CPED to support thenables: https://chromium-review.googlesource.com/c/v8/v8/+/4674242/comments/8fa12f12_eef7ac70","msgtype":"m.text"},"ts":1695780154932,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$eh02F_LjAZL_-MPzlC0miPwGshlWTycehuMgDdvt5A0"},
{"content":{"body":"though IMO Blink is not gonna be happy with CPED being removed without an alternative","msgtype":"m.text"},"ts":1695780228259,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$0G7QU5zjiMuSi7HKRWJ3zEjgg-jYgIlgJdd8-0bCAKg"},
{"content":{"body":"Fwiw, even once AsyncContext is done, we'll need a c++level API for accessing it as we have areas where we have to manually propagate context over other async boundaries (like our timers impl). We don't care what the actual API is as long as it's available and we have time to move over to it. E. G. Please don't drop CPED without having the replacement in place first","msgtype":"m.text"},"ts":1695780317413,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$3zmdVDBLX_kwQm7wP3sDwlcOnpA51Wl5AVfcMZt8Bg8"},
{"content":{"body":"yes, this is part of the draft design doc. We just need to finish that doc.","msgtype":"m.text"},"ts":1695780335917,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$4ATsf4JlUu60lZa38jhl0pXcYpd_ZciojoTgy3BfiBs"},
{"content":{"body":"and the draft implementation has this already","msgtype":"m.text"},"ts":1695780346295,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$2KooMYjS08ndXqs9if92Wctnc-iMeREuNjokIFS-BtY"},
{"content":{"body":"when prototyping the Blink integration I noticed the C++ API we initially drafted isn't great, but that's something that we can iterate on","msgtype":"m.text"},"ts":1695780390929,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$rjc7aHAyBxGWzGMZNY4C8hqHXWImRAkfN_wqL7YxQ70"},
{"content":{"body":"Certainly, C++ native APIs of async context would definitely a requirement for hosts","m.mentions":{},"msgtype":"m.text"},"ts":1695780428893,"senderName":"Chengzhong Wu","senderId":"@legendecas:matrix.org","id":"$pEKYAb18GAbXUjJup8iybKQu51HW0KtW8iRYTuhzsZ4"},
{"content":{"body":" * Certainly, C++ native APIs of async context would definitely be a requirement for hosts","m.mentions":{},"m.new_content":{"body":"Certainly, C++ native APIs of async context would definitely be a requirement for hosts","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$pEKYAb18GAbXUjJup8iybKQu51HW0KtW8iRYTuhzsZ4","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1695780434061,"senderName":"Chengzhong Wu","senderId":"@legendecas:matrix.org","id":"$p9ByL0P8Wp42A7ei1z2H2hbIqJmW6xFulWs_5B7HEJ4"},
{"content":{"body":"btw Luca from Sentry expressed interest in joining this effort. I'll just invite him to this room?","msgtype":"m.text"},"ts":1695780440865,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$jpkvEeGU18bDNzcB3G3S6hU1a-q-ObcaCSZVghf3AIo"},
{"content":{"body":"> <@littledan:matrix.org> btw Luca from Sentry expressed interest in joining this effort. I'll just invite him to this room?\n\nDefinitely, please","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!eQuZUAhGqudVFPodUG:matrix.org/$jpkvEeGU18bDNzcB3G3S6hU1a-q-ObcaCSZVghf3AIo?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@littledan:matrix.org\">@littledan:matrix.org</a><br>btw Luca from Sentry expressed interest in joining this effort. I&#39;ll just invite him to this room?</blockquote></mx-reply>Definitely, please","m.mentions":{"user_ids":["@littledan:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$jpkvEeGU18bDNzcB3G3S6hU1a-q-ObcaCSZVghf3AIo"}},"msgtype":"m.text"},"ts":1695780454430,"senderName":"Chengzhong Wu","senderId":"@legendecas:matrix.org","id":"$OtGBQaGyjd39rhYRHAOVLOnxAE3c6JZ5Um7iWc6tqSk"},
{"content":{"body":"Happy to review the API we implemented once the top. It has warts but it works well for us","msgtype":"m.text"},"ts":1695780460527,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$BtjS6wJlLERR3cffBlNkhVUiYqvzuxvb2EY_tca-eNo"},
{"content":{"body":"\"once the top\"?","msgtype":"m.text"},"ts":1695780479908,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$KMLEKuTKsZKYhky-tc-0MKPk66SeX4Gc67N_RrNMG-8"},
{"content":{"body":"* Happy to review the API we implemented over the top. It has warts but it works well for us","m.new_content":{"body":"Happy to review the API we implemented over the top. It has warts but it works well for us","msgtype":"m.text"},"m.relates_to":{"event_id":"$BtjS6wJlLERR3cffBlNkhVUiYqvzuxvb2EY_tca-eNo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1695780479920,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$pRHKQlnhNqdDIcmnl32HBuHYJgld6tDD97mB_gu9Nbo"},
{"content":{"body":"Typo","msgtype":"m.text"},"ts":1695780486060,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$KpSHBAewsiRp4H76wyJFesoyp7SOAD7ODfoQ5ssSX2s"},
{"content":{"body":"thanks for correcting","msgtype":"m.text"},"ts":1695780489040,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$O-_D0zIToxGZPrnU9lN3C0YaZgo-vJpNehVIXXJDrxg"},
{"content":{"body":"Let's write a good summary/conclusion for the TC39 topic","msgtype":"m.text"},"ts":1695781318636,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$roSSAaW1y3SiP_jJxfBNBWIgIfxoRxk-VsJijDeNW9s"}
]