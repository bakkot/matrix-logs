[
{"content":{"body":"I just realized that V8 implements async functions as generators","msgtype":"m.text"},"ts":1691062830862,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$aRdZ272iiKh6JEJO7C_hMkgcMb4peEwX1df7_otZRxw"},
{"content":{"body":"I wonder if making generators work with AsyncContext would have any effect on async functions","msgtype":"m.text"},"ts":1691062967396,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$JOA4ZkEs7XFakl_zVeafkSz0wM3L0L8PjWdnat3bv0w"},
{"content":{"body":"doesn't... everyone implement async functions as generators?","msgtype":"m.text"},"ts":1691074213403,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$kKZmJ0kIqMZG5NG2X47HavrBxbnicrCXyO32XSSqOQA"},
{"content":{"body":"even transpilers do i thought","msgtype":"m.text"},"ts":1691074225033,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$EPWgAZ5gjlnrU5Yhbrepkp-oltiT5kUYyTgCDXU45lQ"},
{"content":{"body":"implementing AsyncContext in V8 is my first time working on a JS engine","msgtype":"m.text"},"ts":1691074304930,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$tUlK6TNxDA5XHXaMoPp2BzWKUoTyL2myOYgh2jBmhzs"},
{"content":{"body":" * implementing AsyncContext in V8 is my first time implementing something on a JS engine","m.new_content":{"body":"implementing AsyncContext in V8 is my first time implementing something on a JS engine","msgtype":"m.text"},"m.relates_to":{"event_id":"$tUlK6TNxDA5XHXaMoPp2BzWKUoTyL2myOYgh2jBmhzs","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1691074319114,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$6u9S8C0UAuNQrR0PGK5uiNbbVioBuDLjDpz-8R6TPyc"},
{"content":{"body":"so this is new to me","msgtype":"m.text"},"ts":1691074329171,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$ufiMbEg3sSeLt93HIHLQzp5HPY1DAEiiTjkN3LhhFok"},
{"content":{"body":"ah","msgtype":"m.text"},"ts":1691074547537,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$O7vNI4exLnFxzVc14NPctYSzZc1CtNMq_gFD8GU9yy8"},
{"content":{"body":"basically the suspend/resumption mechanism you need for generators and async functions are the same, so you just build it once","msgtype":"m.text"},"ts":1691074567964,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$-ljpw_dC08gEhlWOGxFs2q9GNw2BjYVY67s142ndmWk"},
{"content":{"body":"regardless whether a resume point is a yield or an await, still a resume point","msgtype":"m.text"},"ts":1691074592802,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$CoFXKA1p0IsdhE7l-Lh4aYpmDEwcq6OTMqrQjWdZVss"},
{"content":{"body":"yeah, I get that","msgtype":"m.text"},"ts":1691074684451,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$m7SWZFq1LCPt_kLI8xRenpLWFLIVZUFwuJln2y7SLS0"},
{"content":{"body":"actually I watched a livestream Yulia did implementing async functions in SM a number of years ago, so it didn't quite come as a shock that this worked that way","msgtype":"m.text"},"ts":1691074709201,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$MlDDgMEXGIS7L2QpEvtNnBkOoa7djKEe5_6kH3yAE-o"},
{"content":{"body":"I just hadn't realized that that would be the case when starting to think about changing generators here","msgtype":"m.text"},"ts":1691074741507,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$0acBHLC52pBM5nkPlaPhG_tUPdP2Dfkl2CwNnwhmniY"},
{"content":{"body":"Yeah, I'm pretty sure the redundancy here is unobservable (the promise reaction will \"already\" queue up the right AsyncContext)","msgtype":"m.text"},"ts":1691074999099,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$X7en-etakZsoDBOzXYE2TB7p9ws2qdL8m316Cwz8uLY"},
{"content":{"body":" * I think I might have watched a livestream Yulia did implementing async functions in SM years ago, so it didn't quite come as a shock that this worked that way","m.new_content":{"body":"I think I might have watched a livestream Yulia did implementing async functions in SM years ago, so it didn't quite come as a shock that this worked that way","msgtype":"m.text"},"m.relates_to":{"event_id":"$MlDDgMEXGIS7L2QpEvtNnBkOoa7djKEe5_6kH3yAE-o","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1691081891988,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$7T8cFnqbWx2oyCRjykOCG6mmaSuIIqGhRyNT4cKqDE0"},
{"content":{"body":"Thereâ€™s a great babel transform that implements them as purely promises, but only for a lintable subset that excludes some loop patterns. It never got to Babel core tho, sadly.","msgtype":"m.text"},"ts":1691099212596,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$M_KRk_vX_L_wn8ujfH9-WL5eIeXGRnqh7fEPLG-swWM"}
]