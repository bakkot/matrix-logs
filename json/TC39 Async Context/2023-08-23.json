[
{"content":{"body":"Looking some more at PR 41, it's not clear what to do in `NewPromiseReactionJob` if the handler is empty and the promise capability is not `undefined`","format":"org.matrix.custom.html","formatted_body":"Looking some more at PR 41, it's not clear what to do in <code>NewPromiseReactionJob</code> if the handler is empty and the promise capability is not <code>undefined</code>","msgtype":"m.text"},"ts":1692800017399,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$jhG1bhvp8-rno4KUJ7f_wFuSZTGvIdLrnCennVNqhTQ"},
{"content":{"body":"IIRC this would be the case with something like\n```js\nconst delayedRejection = new Promise((_, reject) => {\n  setTimeout(reject, 1000);\n}).then();\n```","format":"org.matrix.custom.html","formatted_body":"<p>IIRC this would be the case with something like</p>\n<pre><code class=\"language-js\">const delayedRejection = new Promise((_, reject) =&gt; {\n  setTimeout(reject, 1000);\n}).then();\n</code></pre>\n","msgtype":"m.text"},"ts":1692800084478,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$GER1vBxhJU5itHluzE1vrqP6IOoTb9hY_9hjIBCvkME"},
{"content":{"body":"I think the right snapshot there should be the one from the promise resolution that triggered this reaction, but it's not immediately clear to me how to make that work in the spec","msgtype":"m.text"},"ts":1692800160314,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$NXLXp80TY_5OHEBU-XP9l8JEYJ4JLg-fmmDi9cbC63o"},
{"content":{"body":" * IIUC this would be the case with something like\n\n```js\nconst delayedRejection = new Promise((_, reject) => {\n  setTimeout(reject, 1000);\n}).then();\n```","format":"org.matrix.custom.html","formatted_body":" * <p>IIUC this would be the case with something like</p>\n<pre><code class=\"language-js\">const delayedRejection = new Promise((_, reject) =&gt; {\n  setTimeout(reject, 1000);\n}).then();\n</code></pre>\n","m.new_content":{"body":"IIUC this would be the case with something like\n\n```js\nconst delayedRejection = new Promise((_, reject) => {\n  setTimeout(reject, 1000);\n}).then();\n```","format":"org.matrix.custom.html","formatted_body":"<p>IIUC this would be the case with something like</p>\n<pre><code class=\"language-js\">const delayedRejection = new Promise((_, reject) =&gt; {\n  setTimeout(reject, 1000);\n}).then();\n</code></pre>\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$GER1vBxhJU5itHluzE1vrqP6IOoTb9hY_9hjIBCvkME","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1692800239085,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$7aBwhqfS7adGgNv-m0lyxryBh-aMDOiJIYxSkAV7gMI"}
]