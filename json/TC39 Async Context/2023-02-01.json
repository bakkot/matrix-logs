[
{"content":{"body":"Good luck, Justin Ridgewell and Chengzhong Wu !","format":"org.matrix.custom.html","msgtype":"m.text","formatted_body":"Good luck, <a href=\"https://matrix.to/#/@jridgewell:matrix.org\">Justin Ridgewell</a> and <a href=\"https://matrix.to/#/@legendecas:matrix.org\">Chengzhong Wu</a> !"},"ts":1675260084107,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$1_MP3gz8xQftazCMMi_U-9xhJvyZ4l7sVNPKFrAb2yk"},
{"content":{"msgtype":"m.text","body":"good luck! calm nerves!"},"ts":1675262915220,"senderName":"Ben Newman (Apollo, @benjamn on GH)","senderId":"@benjamn:matrix.org","id":"$cRO2UEZHODl7dut5TBQB0lk2BveDrpWN4uB_xOO7Nv0"},
{"content":{"msgtype":"m.text","body":"congrats on stage 1!!"},"ts":1675267190664,"senderName":"Ben Newman (Apollo, @benjamn on GH)","senderId":"@benjamn:matrix.org","id":"$3xw3TuQOpJ0VAhA1n6nyPyF3LflsRxdbqAjZf4QV5xY"},
{"content":{"msgtype":"m.text","body":"Thanks!"},"ts":1675267310201,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$gFRHSbhqOE0G2SeCsxjD76EXTBW0hcmcvYEjAcSLMXY"},
{"content":{"msgtype":"m.text","body":"Justin Ridgewell awesome work!","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jridgewell:matrix.org\">Justin Ridgewell</a> awesome work!"},"ts":1675267362159,"senderName":"Chengzhong Wu","senderId":"@legendecas:matrix.org","id":"$nSwysPhcP6fAxvvSp68WJweiikRuQ610xb7fELqFvmY"},
{"content":{"msgtype":"m.text","body":"nice"},"ts":1675267472853,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$1zhpaecCFmJLRg9d9Qi7xZnerFXUAB07INo2_fEnzwo"},
{"content":{"msgtype":"m.text","body":"great job all"},"ts":1675267474548,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$zFeQDEQE7LjwQ2c_KZY1CiNa6YnLFDSJDPmPXB_Fqpg"},
{"content":{"msgtype":"m.text","body":"I likely missed the link somewhere so my apologies, but are the slides used for the discussion available?"},"ts":1675267693780,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$8m38lbkwVy_vDvAWHT2nJoGgg96jthqdEglDHlLQkGo"},
{"content":{"msgtype":"m.text","body":"yes, it's public: https://docs.google.com/presentation/d/1yw4d0ca6v2Z2Vmrnac9E9XJFlC872LDQ4GFR17QdRzk/edit#slide=id.p"},"ts":1675267736529,"senderName":"Chengzhong Wu","senderId":"@legendecas:matrix.org","id":"$bGR4e6RA2glngzRqIheLKhqewWU1JykR8dh4aJ8Pa_0"},
{"content":{"msgtype":"m.text","body":"PSA: V8 advises against shipping usages of ContinuationPreserveEmbedderData as it does *not* handle multiplexing multiple usages, and is likely to change in the future as we consider AsyncContext.","format":"org.matrix.custom.html","formatted_body":"PSA: V8 advises against shipping usages of ContinuationPreserveEmbedderData as it does <em>not</em> handle multiplexing multiple usages, and is likely to change in the future as we consider AsyncContext."},"ts":1675270128580,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$0lV3GH4vyAj5-qLHOiW3t9ACizXj1gHkSfTOfkEqn7M"},
{"content":{"msgtype":"m.text","body":"Meaning values that are stored there are overwritten by later calls"},"ts":1675270166141,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$XQ6y-_ljWRF34U7UBYMGg8kK82P8m4pBpYPl98nC_wA"},
{"content":{"msgtype":"m.text","body":"If node were to add `AsyncLocalStorage` data there, then nothing else in node could set data there","format":"org.matrix.custom.html","formatted_body":"If node were to add <code>AsyncLocalStorage</code> data there, then nothing else in node could set data there"},"ts":1675270198891,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$OswqjEkhNjvY9krPJs1exTNNYlRxDt_2EuOb4NTGM3U"},
{"content":{"msgtype":"m.text","body":"But I don't think this is a problem, just use the ALS APIs to set any other data"},"ts":1675270236251,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$4h6vNVFc4FiJuHOKLg2jAdIxo3o6gLKz9VH9hXmPITI"},
{"content":{"msgtype":"m.text","body":"@room I'm taking this room public!"},"ts":1675270331082,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$MCExPx43BG_bSDLy1M5R8yIveY3HFcJH6GhVmYsXDLI"},
{"content":{"msgtype":"m.text","body":"I very much agree that any way of exposing the continuation capability should not monopolize it for other usage"},"ts":1675270347814,"senderName":"Ben Newman (Apollo, @benjamn on GH)","senderId":"@benjamn:matrix.org","id":"$NnxiTgiUthD9DalztcYW8HFPSbUc1XjQE9ySQXfqPj0"},
{"content":{"msgtype":"m.text","body":"every `AsyncContext` should feel totally orthogonal/independent of any others","format":"org.matrix.custom.html","formatted_body":"every <code>AsyncContext</code> should feel totally orthogonal/independent of any others"},"ts":1675270358697,"senderName":"Ben Newman (Apollo, @benjamn on GH)","senderId":"@benjamn:matrix.org","id":"$Kf82QnBn_2KbfaGKRi9qcd2m6MfGlnVdQu2kMUcGlCM"},
{"content":{"msgtype":"m.text","body":"Let's make a nicer title for this room"},"ts":1675270360987,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$hUL1_1_H9tCDXd641GFUYuuoZZvJyw9bWRO0IbUEQZA"},
{"content":{"msgtype":"m.text","body":"Justin Ridgewell: You can do this in settings (or give me admin capabilities and I'd do it)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jridgewell:matrix.org\">Justin Ridgewell</a>: You can do this in settings (or give me admin capabilities and I'd do it)"},"ts":1675270382376,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$iBmTXg9KoKyBJWnbkPhH3D0nltsGChBzonBEKJYEyJk"},
{"content":{"msgtype":"m.text","body":"Are you not already?"},"ts":1675270394630,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$Jy7PIjL1D1uUAZR91iOHufWPiAbUScvVkaOaTaz15PA"},
{"content":{"msgtype":"m.text","body":"Can we move it into the TC39 space, too?"},"ts":1675270418217,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$8MfSFEHfUXYrk1rEIbLRCHG9m29g5JQkxbLlg9-UbzA"},
{"content":{"msgtype":"m.text","body":"> V8 advises against shipping usages of ContinuationPreserveEmbedderData as it does not handle multiplexing multiple usages\n\nMaking sure I understand the \"multiplexing multiple usages\".. you mean like having multiple `AsyncContext`/`AsyncLocalStorage` instances?","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>V8 advises against shipping usages of ContinuationPreserveEmbedderData as it does not handle multiplexing multiple usages</p>\n</blockquote>\n<p>Making sure I understand the &quot;multiplexing multiple usages&quot;.. you mean like having multiple <code>AsyncContext</code>/<code>AsyncLocalStorage</code> instances?</p>\n"},"ts":1675270446346,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$lJzfDQq-ypM5ETWWbiajc6lOTmI7GukupL4VNQGIeXM"},
{"content":{"msgtype":"m.text","body":"No"},"ts":1675270454791,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$R4a3AWo9Cw63D40ZQk1U2vi1OQtqaqcl-5wH8FxqNDw"},
{"content":{"msgtype":"m.text","body":"Chrome is currently setting Task Attribution data their directly, meaning we can't directly set `AsyncContext` data there (because it would overwrite the TA data)","format":"org.matrix.custom.html","formatted_body":"Chrome is currently setting Task Attribution data their directly, meaning we can't directly set <code>AsyncContext</code> data there (because it would overwrite the TA data)"},"ts":1675270495143,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$UMmXqiuWrikirwxD9f80hK-IXAl84o_6BbV1iTBR2zY"},
{"content":{"msgtype":"m.text","body":"If we reserve the continuation data for `AsyncContext`, then Task Attribution would need to use our APIs to set data there","format":"org.matrix.custom.html","formatted_body":"If we reserve the continuation data for <code>AsyncContext</code>, then Task Attribution would need to use our APIs to set data there"},"ts":1675270537380,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$E2KmE0wDzYq4nST8p_NXFu7toG3ALp1taqkz9dgzHgc"},
{"content":{"msgtype":"m.text","body":"> <@jasnell:matrix.org> > V8 advises against shipping usages of ContinuationPreserveEmbedderData as it does not handle multiplexing multiple usages\n> \n> Making sure I understand the \"multiplexing multiple usages\".. you mean like having multiple `AsyncContext`/`AsyncLocalStorage` instances?\n\nYeah, I would say, logically \"yes\", that that conflict that Justin is taling about is a form of this at a high level","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$lJzfDQq-ypM5ETWWbiajc6lOTmI7GukupL4VNQGIeXM?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@jasnell:matrix.org\">@jasnell:matrix.org</a><br><blockquote>\n<p>V8 advises against shipping usages of ContinuationPreserveEmbedderData as it does not handle multiplexing multiple usages</p>\n</blockquote>\n<p>Making sure I understand the \"multiplexing multiple usages\".. you mean like having multiple <code>AsyncContext</code>/<code>AsyncLocalStorage</code> instances?</p>\n</blockquote></mx-reply>Yeah, I would say, logically &quot;yes&quot;, that that conflict that Justin is taling about is a form of this at a high level","m.relates_to":{"m.in_reply_to":{"event_id":"$lJzfDQq-ypM5ETWWbiajc6lOTmI7GukupL4VNQGIeXM"}}},"ts":1675270544115,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$_wdsPqptpBfgLLrf2xWrUe6oJWLRrfL98Npz1hxHGwU"},
{"content":{"msgtype":"m.text","body":"They can't directly set/get anymore"},"ts":1675270544119,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$oXIj82nKu-12OABLZ-uEaYvZPBjDz6syQclvSjXMQmY"},
{"content":{"msgtype":"m.text","body":"could Chrome use an `AsyncContext` for task attribution, theoretically?","format":"org.matrix.custom.html","formatted_body":"could Chrome use an <code>AsyncContext</code> for task attribution, theoretically?"},"ts":1675270546700,"senderName":"Ben Newman (Apollo, @benjamn on GH)","senderId":"@benjamn:matrix.org","id":"$9iCt8vsHeM96-JrPWAgGiwPKZQPehY6dCtbMPZxUSjo"},
{"content":{"msgtype":"m.text","body":"The other thing is that Shu was saying the API may change over time"},"ts":1675270560759,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$5TBHnddKxGyPWg5cUr1AFM5qNJt1gLVARsmjaVDXZkU"},
{"content":{"msgtype":"m.text","body":"Yes"},"ts":1675270561681,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$C_0hYoXzMkZm4QOB78CioBIpO2WCuWB65zY0kLIPWX0"},
{"content":{"msgtype":"m.text","body":"> <@benjamn:matrix.org> could Chrome use an `AsyncContext` for task attribution, theoretically?\n\nThis is precisely our hope","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$9iCt8vsHeM96-JrPWAgGiwPKZQPehY6dCtbMPZxUSjo?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@benjamn:matrix.org\">@benjamn:matrix.org</a><br>could Chrome use an <code>AsyncContext</code> for task attribution, theoretically?</blockquote></mx-reply>This is precisely our hope","m.relates_to":{"m.in_reply_to":{"event_id":"$9iCt8vsHeM96-JrPWAgGiwPKZQPehY6dCtbMPZxUSjo"}}},"ts":1675270575306,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$_q6wBQ91l-PyL1KOgGc6E8fSbiKPPRpsnRak3uAdg1M"},
{"content":{"msgtype":"m.text","body":"BTW I wrote that conclusion in the notes, please feel free to edit it"},"ts":1675270587057,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$odTJLu1CsNyyTqb0vLu4JxSJ5JLms17nKT6rKNuua_U"},
{"content":{"msgtype":"m.text","body":"ah right. so it's really currently an embedder specific limitation. In our case (workerd), we're not using it for anything else, but a chrome implementation of AsyncContext couldn't use it because it's already being used for other things"},"ts":1675270592437,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$vz1na7mKVXluYPVcX3KEVa2QD9bOgK9C4RL5TfJiO7U"},
{"content":{"msgtype":"m.text","body":"Correct"},"ts":1675270673682,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$n74MpPmNzosNGXXHntl18aUFyVpEWCLBm5GdTfWuLy4"},
{"content":{"msgtype":"m.text","body":"> <@jasnell:matrix.org> ah right. so it's really currently an embedder specific limitation. In our case (workerd), we're not using it for anything else, but a chrome implementation of AsyncContext couldn't use it because it's already being used for other things\n\nexactly. They also might remove the API.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$vz1na7mKVXluYPVcX3KEVa2QD9bOgK9C4RL5TfJiO7U?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@jasnell:matrix.org\">@jasnell:matrix.org</a><br>ah right. so it&#39;s really currently an embedder specific limitation. In our case (workerd), we&#39;re not using it for anything else, but a chrome implementation of AsyncContext couldn&#39;t use it because it&#39;s already being used for other things</blockquote></mx-reply>exactly. They also might remove the API.","m.relates_to":{"m.in_reply_to":{"event_id":"$vz1na7mKVXluYPVcX3KEVa2QD9bOgK9C4RL5TfJiO7U"}}},"ts":1675270712098,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$-5ziQx6shmSEQZ3zmSQ7vauZl-2eiMGiQn111BipHK0"},
{"content":{"msgtype":"m.text","body":"hypothetically, chrome could adopt a model similar to what we're doing in workerd and store a context frame (map of keys to stored values) in the slot instead of the value directly"},"ts":1675270720800,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$_xx9EOsYkMnVlucmWf3N4LGANivJIMU8gOliA1qge_o"},
{"content":{"msgtype":"m.text","body":"> <@jasnell:matrix.org> hypothetically, chrome could adopt a model similar to what we're doing in workerd and store a context frame (map of keys to stored values) in the slot instead of the value directly\n\nRight, this is what we hope to move into V8","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$_xx9EOsYkMnVlucmWf3N4LGANivJIMU8gOliA1qge_o?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@jasnell:matrix.org\">@jasnell:matrix.org</a><br>hypothetically, chrome could adopt a model similar to what we&#39;re doing in workerd and store a context frame (map of keys to stored values) in the slot instead of the value directly</blockquote></mx-reply>Right, this is what we hope to move into V8","m.relates_to":{"m.in_reply_to":{"event_id":"$_xx9EOsYkMnVlucmWf3N4LGANivJIMU8gOliA1qge_o"}}},"ts":1675270733503,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$Sq4XlpgLa4Ipu5KcnFOmt2i33izO1GiOyQcZOne12tI"},
{"content":{"msgtype":"m.text","body":"is there value in discussing an even lower-level safe/restricted API around `v8::Context::{Get,Set}CPED`, or is `AsyncContext` the lowest level we want?","format":"org.matrix.custom.html","formatted_body":"is there value in discussing an even lower-level safe/restricted API around <code>v8::Context::{Get,Set}CPED</code>, or is <code>AsyncContext</code> the lowest level we want?"},"ts":1675270738952,"senderName":"Ben Newman (Apollo, @benjamn on GH)","senderId":"@benjamn:matrix.org","id":"$xDTZGnk90na9m2gLWypYHA62pHIdXVA-Cssn6LAIJyI"},
{"content":{"msgtype":"m.text","body":"this is how we deal with multiplexing the field. each ALS/AC instance represents a key in that frame"},"ts":1675270740894,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$DhlBackOlQ1i0KXI-lAiAGlEehWcSg0vsj6g2CASwno"},
{"content":{"msgtype":"m.text","body":"perfect, ok"},"ts":1675270757669,"senderName":"James M Snell","senderId":"@jasnell:matrix.org","id":"$L0GyPuWaTDEvTxVJ5QaovbT-I2hTVFdXoUFhulf4dbQ"},
{"content":{"msgtype":"m.text","body":"> <@benjamn:matrix.org> is there value in discussing an even lower-level safe/restricted API around `v8::Context::{Get,Set}CPED`, or is `AsyncContext` the lowest level we want?\n\nI think we should have a C++ API which maps to/from AsyncContext. I don't think it should leave out the try/finally nesting logic, though.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$xDTZGnk90na9m2gLWypYHA62pHIdXVA-Cssn6LAIJyI?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@benjamn:matrix.org\">@benjamn:matrix.org</a><br>is there value in discussing an even lower-level safe/restricted API around <code>v8::Context::{Get,Set}CPED</code>, or is <code>AsyncContext</code> the lowest level we want?</blockquote></mx-reply>I think we should have a C++ API which maps to/from AsyncContext. I don't think it should leave out the try/finally nesting logic, though.","m.relates_to":{"m.in_reply_to":{"event_id":"$xDTZGnk90na9m2gLWypYHA62pHIdXVA-Cssn6LAIJyI"}}},"ts":1675270783542,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$RPWuvyvtaf2y4eOdOSxC_QtQrzHI8zLIhlIoDuRqDlQ"},
{"content":{"msgtype":"m.text","body":"so I built something like this for my prototype"},"ts":1675270804867,"senderName":"Ben Newman (Apollo, @benjamn on GH)","senderId":"@benjamn:matrix.org","id":"$lpr6BGvDduUdgM0LtOXtHqOjkb0gUAT2L-QY1SAgUJw"},
{"content":{"msgtype":"m.text","body":"a C++-backed function you can call (with an optional default value), to get another function that can either return the current value if called without args (note: just your value, not the whole map) or run a function with a new value set in the map, when called with that new value and a callback"},"ts":1675270870472,"senderName":"Ben Newman (Apollo, @benjamn on GH)","senderId":"@benjamn:matrix.org","id":"$UYaebwPZGyPHK7iwtFUYkaTL6m8AFGIUHASCQXilhNw"},
{"content":{"msgtype":"m.text","body":"but I have to admit that feels awfully close to what `AsyncContext` is, just more functional and less OO","format":"org.matrix.custom.html","formatted_body":"but I have to admit that feels awfully close to what <code>AsyncContext</code> is, just more functional and less OO"},"ts":1675270927031,"senderName":"Ben Newman (Apollo, @benjamn on GH)","senderId":"@benjamn:matrix.org","id":"$9Ae-MYSLq1cyhLUCZfY747l14EwKgzQZw63GS9-_PPQ"},
{"content":{"msgtype":"m.text","body":"the key is that you can get as many independent context values from that API as you want, so nobody steps on anyone else's toes"},"ts":1675270992829,"senderName":"Ben Newman (Apollo, @benjamn on GH)","senderId":"@benjamn:matrix.org","id":"$lQGfwd-cg1xRNUeCiSIecTiwWYzuTUQYGbaJ0Ymv4TI"},
{"content":{"msgtype":"m.text","body":"if you move this room to the TC39 space make history public then it should get picked up by https://matrixlogs.bakkot.com/ automatically"},"ts":1675271052752,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$X3xN5gol6nOCNLcrSolmpstEDr9wW1Tq-yndx9LhbWk"},
{"content":{"msgtype":"m.text","body":"https://github.com/legendecas/proposal-async-context/issues/22"},"ts":1675272403688,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$R3wX9m7lXrZ31UUe7DkIX3k6Fl2bsAFdx8K_ga903xE"},
{"content":{"org.matrix.msc1767.text":"is this moved already? I can't see the room in the https://matrixlogs.bakkot.com/ channel list","body":"is this moved already? I can't see the room in the https://matrixlogs.bakkot.com/ channel list","msgtype":"m.text"},"ts":1675272527200,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$KURNogl2F3ehpufuVFrCg_WrwpzbgVHx3SQ0VqOsDPs"},
{"content":{"msgtype":"m.text","body":"Not yet"},"ts":1675272544813,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$JapgGiBXSMcR54tuyo0Ut3-OLUX51p8TWg7SpSIPmJQ"},
{"content":{"msgtype":"m.text","body":"Waiting on a TC39 admin do move it to this space"},"ts":1675272558044,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$IQyESqto3u4gPZPL_ZD473BV7CuAB4cZuVmLoBlFfoA"},
{"content":{"msgtype":"m.text","body":"it's moved now - sorry for the delay; ping me if you have any other matrix admin issues"},"ts":1675272684856,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$sCy-BrUyE5LK4aAeeU1p_nBdH4vKUNL20Y4m4De_oH0"},
{"content":{"msgtype":"m.text","body":"I mentioned this in the delegates chat, but I'll leave it here as well. Assuming `AsyncContext` automatically flows through `.then`, we should ensure that `AsyncContext` will automatically flow through calls to `AsyncDisposableStack.prototype.disposeAsync` to registered `[Symbol.asyncDispose]()` methods and `adopt`/`defer` callbacks.","format":"org.matrix.custom.html","formatted_body":"I mentioned this in the delegates chat, but I'll leave it here as well. Assuming <code>AsyncContext</code> automatically flows through <code>.then</code>, we should ensure that <code>AsyncContext</code> will automatically flow through calls to <code>AsyncDisposableStack.prototype.disposeAsync</code> to registered <code>[Symbol.asyncDispose]()</code> methods and <code>adopt</code>/<code>defer</code> callbacks."},"ts":1675272686556,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$vaP4JdDLvSZb5MuzAJtbLNZgpk4BLBSYXeMcNkf5bkM"},
{"content":{"msgtype":"m.text","body":"rbuckton: Is your expectation that anyone doing any kind of control flow abstraction should be updating their code to flow async contexts?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@rbuckton:matrix.org\">rbuckton</a>: Is your expectation that anyone doing any kind of control flow abstraction should be updating their code to flow async contexts?"},"ts":1675272697349,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$htZ_rVGrunu76pIhKZNTuYVum1bo3Md3jNK6s_OwqQQ"},
{"content":{"msgtype":"m.text","body":"Or just the ones which are built in, and then users have to figure out which is which?"},"ts":1675272716728,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$XdUlJysH9544WByDE8r5P2H2pjrVN5wIJXLE1XCVnJc"},
{"content":{"msgtype":"m.text","body":"Like, I've definitely built control flow abstractions on top of `addEventListener` in the past","format":"org.matrix.custom.html","formatted_body":"Like, I've definitely built control flow abstractions on top of <code>addEventListener</code> in the past"},"ts":1675272779834,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$vg1xfBtBN_ReONY5lPSmjcFbe_COqwfGeTc_O2BWkp0"},
{"content":{"msgtype":"m.text","body":"and would have been absolutely shocked to learn those weren't transparent because of this context thing"},"ts":1675272801491,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$eiQGq3vP0DHeGnbv2AtoHyxwwFYidZEkfZ-cUH5A6dY"},
{"content":{"msgtype":"m.text","body":"It is not that unusual for me to make a custom `thenable` which schedules its callback via some mechanism other than `Promise.prototype.then`","format":"org.matrix.custom.html","formatted_body":"It is not that unusual for me to make a custom <code>thenable</code> which schedules its callback via some mechanism other than <code>Promise.prototype.then</code>"},"ts":1675272863838,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ylNMVjzJVBYZpLIGF4rKXebUZimqLi4_GCYDLM43_mQ"},
{"content":{"msgtype":"m.text","body":"What does “transparent” mean to you?"},"ts":1675272870100,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$xCoWstaCLQpe1RWKJXT55-unRtdReuzzk6WaLsTumio"},
{"content":{"msgtype":"m.text","body":"> <@bakkot:matrix.org> rbuckton: Is your expectation that anyone doing any kind of control flow abstraction should be updating their code to flow async contexts?\n\nWhat kind of abstraction? I have many async control flow and coordination classes in `@esfx/*`, and yes I would choose to support them in my library in places where they would not otherwise automatically flow, but on a case by case basis.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$htZ_rVGrunu76pIhKZNTuYVum1bo3Md3jNK6s_OwqQQ?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">@bakkot:matrix.org</a><br><a href=\"https://matrix.to/#/@rbuckton:matrix.org\">rbuckton</a>: Is your expectation that anyone doing any kind of control flow abstraction should be updating their code to flow async contexts?</blockquote></mx-reply>What kind of abstraction? I have many async control flow and coordination classes in <code>@esfx/*</code>, and yes I would choose to support them in my library in places where they would not otherwise automatically flow, but on a case by case basis.","m.relates_to":{"m.in_reply_to":{"event_id":"$htZ_rVGrunu76pIhKZNTuYVum1bo3Md3jNK6s_OwqQQ"}}},"ts":1675272878604,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$In7kPe9HNqb4BCghsOQMoT_cjSLMbcnkpCaSK0QgXHs"},
{"content":{"msgtype":"m.text","body":"littledan: it's not transparent if I as the library author who is not using async contexts have to be aware of async contexts because my users might use them","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@littledan:matrix.org\">littledan</a>: it's not transparent if I as the library author who is not using async contexts have to be aware of async contexts because my users might use them"},"ts":1675272895928,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$vwD2QX7hOvHSeSYwH6OI0NVWJpNk_5nzaU_Mq5PDwC0"},
{"content":{"msgtype":"m.text","body":"it is transparent if I do not have to think about async contexts when I am not using async contexts"},"ts":1675272909587,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$0-okBs3fI5kZf8PE7s1EZWRYH9YUXQ3hxcF6IgeeORw"},
{"content":{"msgtype":"m.text","body":"If we're going to say that library authors all have to think about async contexts anyway, we can just say they should pass around contexts like any other state"},"ts":1675272941555,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Rk-BLLL0my_G7mLwzVcPiQ85ANPwXj0dL1i37l3V4yk"},
{"content":{"msgtype":"m.text","body":"I'll follow up more later, I need to eat and get ready for my presentation."},"ts":1675272949524,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$mHFtkPZg3ncZdYcthuuLhXxk5_RbLO3w2ccsHEtGUHs"},
{"content":{"msgtype":"m.text","body":"i.e., explicitly, as values, on the stack"},"ts":1675272951061,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$5dFt9wV9zLphqAuzxCFvveSZ3zmu2U7NmQOFj9SliuY"},
{"content":{"msgtype":"m.text","body":"async contexts are only a win if people who are not using them don't have to think about them"},"ts":1675272967254,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$f8NPQZ-ZlZVRjO-E4GxJk0MUKW-bL_DWuYjCHxLQaUM"},
{"content":{"msgtype":"m.text","body":"So, yes, it is implicit in this proposal that library authors, when they take callbacks, should probably think about AsyncContext if they want to meet their users’ expectations."},"ts":1675272992755,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$aWFZXw3vnlod2vXKS0fuNfFQ_WS5kg69duN3vGWvQuU"},
{"content":{"body":"I don’t know what the bad part is, though ","format":"org.matrix.custom.html","msgtype":"m.text","formatted_body":"I don’t know what the bad part is, though"},"ts":1675273010399,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$R5Gc6usq3Jcy3o9f3YEBoAO1AKy2yHJokLsfWDnEaas"},
{"content":{"msgtype":"m.text","body":"Hm. That's literally the opposite of what I heard in the presentation."},"ts":1675273013716,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$su0cCnNgMObcIqJ6aa-TDlzC3TJdpXbLg4Vvg9eIN3E"},
{"content":{"msgtype":"m.text","body":"The thing I heard was, we want to manage contexts for our code which is passing callbacks to other people's code _without_ the other people's code having to cooperate with that.","format":"org.matrix.custom.html","formatted_body":"The thing I heard was, we want to manage contexts for our code which is passing callbacks to other people's code <em>without</em> the other people's code having to cooperate with that."},"ts":1675273040171,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$YLtEfR5J21wI454pVy0hJcjl9awwrY6-9HMOsNzZQk8"},
{"content":{"msgtype":"m.text","body":"The presentation was about library users"},"ts":1675273044180,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$2OYzdyQmdQL92B-DeaxgGIUbaLLdp-IGjEwvkvpgGgQ"},
{"content":{"msgtype":"m.text","body":"> <@bakkot:matrix.org> If we're going to say that library authors all have to think about async contexts anyway, we can just say they should pass around contexts like any other state\n\nA library adding support is significantly better than every individual consumer of that library needing to add support themselves.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$Rk-BLLL0my_G7mLwzVcPiQ85ANPwXj0dL1i37l3V4yk?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">@bakkot:matrix.org</a><br>If we&#39;re going to say that library authors all have to think about async contexts anyway, we can just say they should pass around contexts like any other state</blockquote></mx-reply>A library adding support is significantly better than every individual consumer of that library needing to add support themselves.","m.relates_to":{"m.in_reply_to":{"event_id":"$Rk-BLLL0my_G7mLwzVcPiQ85ANPwXj0dL1i37l3V4yk"}}},"ts":1675273058215,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$rE_6jE9tt2rKDEdgT9oMxM9DOUARhgqK3pq6AXDMzIw"},
{"content":{"msgtype":"m.text","body":"Disagree; AsyncContexts are niche feature, libraries are not."},"ts":1675273089969,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$e7NScrqBbwNwZyYzqTPZpW6ZowHpwzE5BLxK2A6O5dI"},
{"content":{"msgtype":"m.text","body":"I used to think AsyncContext was niche; I no longer think so"},"ts":1675273111955,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$5EmlxX-Y1U0-uxXaolmrAW0A-89NwlgOGSt56wtAiRQ"},
{"content":{"msgtype":"m.text","body":"It is already central in servers, and lots of frontend frameworks would use it if they had it"},"ts":1675273148024,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$8ViJoPamhg6hokfqo6EPTcfbtbLEBtt_AUKo0aalhmI"},
{"content":{"msgtype":"m.text","body":"Plus browser features would use it if they had it, and libraries using wrap appropriately would make the browser work better"},"ts":1675273183662,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$uYEke-GsMNsGuqUDimVlF6my7fabTfMA3endNWfYwzk"},
{"content":{"msgtype":"m.text","body":"> <@bakkot:matrix.org> The thing I heard was, we want to manage contexts for our code which is passing callbacks to other people's code _without_ the other people's code having to cooperate with that.\n\nLike, was that not an accurate understanding of the presentation?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$YLtEfR5J21wI454pVy0hJcjl9awwrY6-9HMOsNzZQk8?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">@bakkot:matrix.org</a><br>The thing I heard was, we want to manage contexts for our code which is passing callbacks to other people's code <em>without</em> the other people's code having to cooperate with that.</blockquote></mx-reply>Like, was that not an accurate understanding of the presentation?","m.relates_to":{"m.in_reply_to":{"event_id":"$YLtEfR5J21wI454pVy0hJcjl9awwrY6-9HMOsNzZQk8"}}},"ts":1675273185243,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$1qbT0_CFewZ6-Kp9CCHCQnIpHQpGpMSfBpOHfpEaLIo"},
{"content":{"msgtype":"m.text","body":"If this was not an accurate understanding of the presentation I am now extremely confused what the feature is even for."},"ts":1675273197641,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$fraXGurbKdQqG-Vn7wtfdb-_41qHzgelfWQCYhIUp3g"},
{"content":{"body":"Yeah users of the platform have this handled automatically ","format":"org.matrix.custom.html","msgtype":"m.text","formatted_body":"Yeah users of the platform have this handled automatically"},"ts":1675273213558,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$V1kVaOtrtfIR7z9p9TxTaXPucXL9ZtRBIxzcNB3afc0"},
{"content":{"msgtype":"m.text","body":"> <@bakkot:matrix.org> Like, was that not an accurate understanding of the presentation?\n\nI'm a platform, not a library","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$1qbT0_CFewZ6-Kp9CCHCQnIpHQpGpMSfBpOHfpEaLIo?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">@bakkot:matrix.org</a><br>Like, was that not an accurate understanding of the presentation?</blockquote></mx-reply>I'm a platform, not a library","m.relates_to":{"m.in_reply_to":{"event_id":"$1qbT0_CFewZ6-Kp9CCHCQnIpHQpGpMSfBpOHfpEaLIo"}}},"ts":1675273226577,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$KI3uM2es8PfKjGheourHtqZq_E2eFN66DYSmwjstJn8"},
{"content":{"body":"> <@jridgewell:matrix.org> I'm a platform, not a library\n\nSame thing for this discussion ","msgtype":"m.text","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy%3Amatrix.org/%24KI3uM2es8PfKjGheourHtqZq_E2eFN66DYSmwjstJn8\">In reply to</a> <a href=\"https://matrix.to/#/@jridgewell:matrix.org\">@jridgewell:matrix.org</a><br>I'm a platform, not a library</blockquote></mx-reply>Same thing for this discussion","m.relates_to":{"m.in_reply_to":{"event_id":"$KI3uM2es8PfKjGheourHtqZq_E2eFN66DYSmwjstJn8"}}},"ts":1675273240133,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$rSvA_bhZEAp68VwSWxo0uFRGD4Nq4_CiaGHJBKeL1YI"},
{"content":{"msgtype":"m.text","body":"If the feature is only for \"platforms\" I am much less interested in it."},"ts":1675273248910,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$hQANmj561uBOqteD42rttLB1yUfJmUb2TayQLDKKMRI"},
{"content":{"msgtype":"m.text","body":"It's definitely not the same"},"ts":1675273249363,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$-gkBjaDtS8tac9_7LtoGKOREutL6mGClRoARte898PY"},
{"content":{"msgtype":"m.text","body":"It is not only for platforms"},"ts":1675273259134,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$Yg25sdqvudEFshQgXHu7tdosFxCdu3wbvaG2CTJJYuM"},
{"content":{"msgtype":"m.text","body":"User code can't execute unless it is within my context, and it cannot be scheduled without my direct involvement"},"ts":1675273261713,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$AgfsSp8WxUp89wBWLaH9DzrbXquhtKl3ZQ8KLA2UAPg"},
{"content":{"msgtype":"m.text","body":"That's not true for libraries"},"ts":1675273265769,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$9fgfKVzt65QffnYEsQEKubFC59-E02hsz3E5WmsVfqo"},
{"content":{"msgtype":"m.text","body":"> <@bakkot:matrix.org> Disagree; AsyncContexts are niche feature, libraries are not.\n\nThere are significantly more end user applications that consume libraries than there are libraries. By moving the burden to the end user application developer, you are significantly increasing cost (both in time and in $, I imagine).","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$e7NScrqBbwNwZyYzqTPZpW6ZowHpwzE5BLxK2A6O5dI?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">@bakkot:matrix.org</a><br>Disagree; AsyncContexts are niche feature, libraries are not.</blockquote></mx-reply>There are significantly more end user applications that consume libraries than there are libraries. By moving the burden to the end user application developer, you are significantly increasing cost (both in time and in $, I imagine).","m.relates_to":{"m.in_reply_to":{"event_id":"$e7NScrqBbwNwZyYzqTPZpW6ZowHpwzE5BLxK2A6O5dI"}}},"ts":1675273279771,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$VLmoxr7AvZ-FChILLq0y9fysk6cEyT1e022dGhgf3L4"},
{"content":{"body":"> <@jridgewell:matrix.org> That's not true for libraries\n\nOh right yes platforms can reach this air tightness ","msgtype":"m.text","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy%3Amatrix.org/%249fgfKVzt65QffnYEsQEKubFC59-E02hsz3E5WmsVfqo\">In reply to</a> <a href=\"https://matrix.to/#/@jridgewell:matrix.org\">@jridgewell:matrix.org</a><br>That's not true for libraries</blockquote></mx-reply>Oh right yes platforms can reach this air tightness","m.relates_to":{"m.in_reply_to":{"event_id":"$9fgfKVzt65QffnYEsQEKubFC59-E02hsz3E5WmsVfqo"}}},"ts":1675273297084,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$7Ju2VvTmK9g0LRWWHnhVv4bTisjiIJ2MM5TYy1NGDh0"},
{"content":{"org.matrix.msc1767.message":[{"body":"I don't think it makes much sense to treat a `click` event listener the same as an `await`","mimetype":"text/plain"},{"body":"I don't think it makes much sense to treat a <code>click</code> event listener the same as an <code>await</code>","mimetype":"text/html"}],"body":"I don't think it makes much sense to treat a `click` event listener the same as an `await`","msgtype":"m.text","format":"org.matrix.custom.html","formatted_body":"I don't think it makes much sense to treat a <code>click</code> event listener the same as an <code>await</code>"},"ts":1675273318688,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$xpOlwIigg0YquVlfzJQjflWfhdgZlrIs6OOROVmzuRI"},
{"content":{"msgtype":"m.text","body":"> <@rbuckton:matrix.org> There are significantly more end user applications that consume libraries than there are libraries. By moving the burden to the end user application developer, you are significantly increasing cost (both in time and in $, I imagine).\n\nOnly if end user applications are frequently using async contexts. I am a lot more OK with asking people who are _using a feature_ to pay the cost of the feature.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$VLmoxr7AvZ-FChILLq0y9fysk6cEyT1e022dGhgf3L4?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@rbuckton:matrix.org\">@rbuckton:matrix.org</a><br>There are significantly more end user applications that consume libraries than there are libraries. By moving the burden to the end user application developer, you are significantly increasing cost (both in time and in $, I imagine).</blockquote></mx-reply>Only if end user applications are frequently using async contexts. I am a lot more OK with asking people who are <em>using a feature</em> to pay the cost of the feature.","m.relates_to":{"m.in_reply_to":{"event_id":"$VLmoxr7AvZ-FChILLq0y9fysk6cEyT1e022dGhgf3L4"}}},"ts":1675273332499,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$6Icz_H7I31UugVd2WZscHUrGXf6aFH_lIH5zNZmvvDY"},
{"content":{"msgtype":"m.text","body":"Especially when the \"cost\" is \"you are passing a callback out of your library; make sure to wrap it so it gets the context preserved\""},"ts":1675273374988,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$w8pePksY0nLPfiV6O4Ctnzx5YF4Knr3OlusXljN4TFA"},
{"content":{"msgtype":"m.text","body":"like, that's not a huge ask."},"ts":1675273377821,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ObChKap6xkhqurUqmb4z-3Ob0tl4by6TakZeSBU41e4"},
{"content":{"msgtype":"m.text","body":"> <@abotella:igalia.com> I don't think it makes much sense to treat a `click` event listener the same as an `await`\n\nWhat's the relevant difference here?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$xpOlwIigg0YquVlfzJQjflWfhdgZlrIs6OOROVmzuRI?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@abotella:igalia.com\">@abotella:igalia.com</a><br>I don't think it makes much sense to treat a <code>click</code> event listener the same as an <code>await</code></blockquote></mx-reply>What's the relevant difference here?","m.relates_to":{"m.in_reply_to":{"event_id":"$xpOlwIigg0YquVlfzJQjflWfhdgZlrIs6OOROVmzuRI"}}},"ts":1675273404180,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Vvui2jzvbjhA7VhrOMbRp5exz-ms3XbnLaJW5Zuj3vY"},
{"content":{"msgtype":"m.text","body":"> <@jridgewell:matrix.org> User code can't execute unless it is within my context, and it cannot be scheduled without my direct involvement\n\nIf the feature is only motivated by platforms-in-this-sense, it is not IMO sufficiently motivated, so I think it would be helpful to figure out whether and how it's useful for people not in your quite unique situation","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$AgfsSp8WxUp89wBWLaH9DzrbXquhtKl3ZQ8KLA2UAPg?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@jridgewell:matrix.org\">@jridgewell:matrix.org</a><br>User code can&#39;t execute unless it is within my context, and it cannot be scheduled without my direct involvement</blockquote></mx-reply>If the feature is only motivated by platforms-in-this-sense, it is not IMO sufficiently motivated, so I think it would be helpful to figure out whether and how it's useful for people not in your quite unique situation","m.relates_to":{"m.in_reply_to":{"event_id":"$AgfsSp8WxUp89wBWLaH9DzrbXquhtKl3ZQ8KLA2UAPg"}}},"ts":1675273457140,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$P7-dRr35txys8GvXS1AyOEes8ReUSDIZC-RwpJtv5y0"},
{"content":{"msgtype":"m.text","body":"> <@bakkot:matrix.org> What's the relevant difference here?\n\nor I guess to be more precise: I agree about `await`, but what's the relevant difference between a `click` listener and `Promise.prototype.then`?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$Vvui2jzvbjhA7VhrOMbRp5exz-ms3XbnLaJW5Zuj3vY?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">@bakkot:matrix.org</a><br>What's the relevant difference here?</blockquote></mx-reply>or I guess to be more precise: I agree about <code>await</code>, but what's the relevant difference between a <code>click</code> listener and <code>Promise.prototype.then</code>?","m.relates_to":{"m.in_reply_to":{"event_id":"$Vvui2jzvbjhA7VhrOMbRp5exz-ms3XbnLaJW5Zuj3vY"}}},"ts":1675273516266,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$4H2n80-r6NS-KfE-DT_4sXM2RtOhho8ymnmzbTTDGG4"},
{"content":{"body":"> <@bakkot:matrix.org> like, that's not a huge ask.\n\nI think this is the kind of claim which we can analyze by looking at the many many analogous systems with experience here","msgtype":"m.text","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy%3Amatrix.org/%24ObChKap6xkhqurUqmb4z-3Ob0tl4by6TakZeSBU41e4\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">@bakkot:matrix.org</a><br>like, that's not a huge ask.</blockquote></mx-reply>I think this is the kind of claim which we can analyze by looking at the many many analogous systems with experience here","m.relates_to":{"m.in_reply_to":{"event_id":"$ObChKap6xkhqurUqmb4z-3Ob0tl4by6TakZeSBU41e4"}}},"ts":1675273535846,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$XrUd9AfIhAkNIPh5h59TLQXMA1EC_JyZnrRbKdL4n2c"},
{"content":{"msgtype":"m.text","body":"I really wasn’t convinced of this feature until I saw the need and implementations over and over again"},"ts":1675273568448,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$J5Vr7SFsNXVjM9jF2gC1PLGLehEFZHhmTGNxDdyvGb8"},
{"content":{"org.matrix.msc1767.message":[{"body":"> <@bakkot:matrix.org> What's the relevant difference here?\n\nyou can set `element.onclick` inside a callback called from a framework without treating the click handler as part of the framework's context","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$Vvui2jzvbjhA7VhrOMbRp5exz-ms3XbnLaJW5Zuj3vY?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">@bakkot:matrix.org</a><br>What's the relevant difference here?</blockquote></mx-reply>you can set <code>element.onclick</code> inside a callback called from a framework without treating the click handler as part of the framework's context","mimetype":"text/html"}],"body":"> <@bakkot:matrix.org> What's the relevant difference here?\n\nyou can set `element.onclick` inside a callback called from a framework without treating the click handler as part of the framework's context","msgtype":"m.text","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$Vvui2jzvbjhA7VhrOMbRp5exz-ms3XbnLaJW5Zuj3vY?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">@bakkot:matrix.org</a><br>What's the relevant difference here?</blockquote></mx-reply>you can set <code>element.onclick</code> inside a callback called from a framework without treating the click handler as part of the framework's context","m.relates_to":{"m.in_reply_to":{"event_id":"$Vvui2jzvbjhA7VhrOMbRp5exz-ms3XbnLaJW5Zuj3vY"}}},"ts":1675273573456,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$DbWyXsRGzt_G5fq2vLWluYTBzEZ7DFy0sWvD3KSz6Js"},
{"content":{"body":"I agree with bakkot that if this were niche it would be questionable complexity ","format":"org.matrix.custom.html","msgtype":"m.text","formatted_body":"I agree with bakkot that if this were niche it would be questionable complexity"},"ts":1675273585017,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$pO7ChXa-ayKTFuIyHFCD6dmqUaICuwosBItwl3PsVsU"},
{"content":{"msgtype":"m.text","body":"ljharb: can you make history for this room public?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@ljharb:matrix.org\">ljharb</a>: can you make history for this room public?"},"ts":1675273591310,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$-2-MQLcg_odKfSZH-LPg0AW6ntm0hNGd-l9A9Ncpb8A"},
{"content":{"msgtype":"m.text","body":"(I don't know how to do it but I don't think it currently is)"},"ts":1675273604151,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$4QhWXi6oZnVsTDRwTEYbuGCOWcsrgjMVFousa6SQea4"},
{"content":{"org.matrix.msc1767.message":[{"body":"I'll try to think of a more concrete example for the `click` event though","mimetype":"text/plain"},{"body":"I'll try to think of a more concrete example for the <code>click</code> event though","mimetype":"text/html"}],"body":"I'll try to think of a more concrete example for the `click` event though","msgtype":"m.text","format":"org.matrix.custom.html","formatted_body":"I'll try to think of a more concrete example for the <code>click</code> event though"},"ts":1675273607698,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$Gx9ytogwCcgndxRqR3o0sGu-iAm78OredEpiRGLsjhQ"},
{"content":{"body":"I made history public ","format":"org.matrix.custom.html","msgtype":"m.text","formatted_body":"I made history public"},"ts":1675273621803,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$R3YCGI5IwNy44035xE0QLavD7tidaXmhqfHuK9hF9y4"},
{"content":{"msgtype":"m.text","body":"bakkot:  i can't see history prior to the room being public - it says \"You can't see earlier messages. Encrypted messages before this point are unavailable.\"","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>:  i can't see history prior to the room being public - it says &quot;You can't see earlier messages. Encrypted messages before this point are unavailable.&quot;"},"ts":1675273629373,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$so14-rhegkZgsZ2x1Z_LGwhFvz99YJ-CrCBuzP-pwz0"},
{"content":{"msgtype":"m.text","body":"> <@abotella:igalia.com> you can set `element.onclick` inside a callback called from a framework without treating the click handler as part of the framework's context\n\nyou can `Promise.prototype.then` inside a callback called from a framework without treating the thing passed to the handler as part of the framework's context also, though","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$DbWyXsRGzt_G5fq2vLWluYTBzEZ7DFy0sWvD3KSz6Js?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@abotella:igalia.com\">@abotella:igalia.com</a><br>you can set <code>element.onclick</code> inside a callback called from a framework without treating the click handler as part of the framework's context</blockquote></mx-reply>you can <code>Promise.prototype.then</code> inside a callback called from a framework without treating the thing passed to the handler as part of the framework's context also, though","m.relates_to":{"m.in_reply_to":{"event_id":"$DbWyXsRGzt_G5fq2vLWluYTBzEZ7DFy0sWvD3KSz6Js"}}},"ts":1675273655390,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$TaLUaQoNT6noTYKbZDTeUQKVL7R3J-AgPCHigEycExs"},
{"content":{"msgtype":"m.text","body":"(I agree about `await`, but not P.p.then)","format":"org.matrix.custom.html","formatted_body":"(I agree about <code>await</code>, but not P.p.then)"},"ts":1675273665282,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$gcEzxQDMc8D97BrvI5qG7HygZ7HWgygw8v_YOPML11k"},
{"content":{"msgtype":"m.text","body":"> <@ljharb:matrix.org> bakkot:  i can't see history prior to the room being public - it says \"You can't see earlier messages. Encrypted messages before this point are unavailable.\"\n\nyeah, the thing littledan did should be sufficient. (you can't make history retroactively public, which is IMO a good thing)","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$so14-rhegkZgsZ2x1Z_LGwhFvz99YJ-CrCBuzP-pwz0?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@ljharb:matrix.org\">@ljharb:matrix.org</a><br><a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>:  i can't see history prior to the room being public - it says \"You can't see earlier messages. Encrypted messages before this point are unavailable.\"</blockquote></mx-reply>yeah, the thing <a href=\"https://matrix.to/#/@littledan:matrix.org\">littledan</a> did should be sufficient. (you can't make history retroactively public, which is IMO a good thing)","m.relates_to":{"m.in_reply_to":{"event_id":"$so14-rhegkZgsZ2x1Z_LGwhFvz99YJ-CrCBuzP-pwz0"}}},"ts":1675273697582,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$zx9pkhGM80JpuDVKgR0uvQVrxuR_uK5PVPkPDWPE100"},
{"content":{"msgtype":"m.text","body":"I think I really screwed up making this room originally","m.relates_to":{"rel_type":"m.thread","event_id":"$R3YCGI5IwNy44035xE0QLavD7tidaXmhqfHuK9hF9y4","is_falling_back":true,"m.in_reply_to":{"event_id":"$R3YCGI5IwNy44035xE0QLavD7tidaXmhqfHuK9hF9y4"}}},"ts":1675273712146,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$WbvsIjU8fwAGDjXPRLo5EkXxDXNLMxNUsZwQTUssnCw"},
{"content":{"msgtype":"m.text","body":"😬","m.relates_to":{"rel_type":"m.thread","event_id":"$R3YCGI5IwNy44035xE0QLavD7tidaXmhqfHuK9hF9y4","is_falling_back":true,"m.in_reply_to":{"event_id":"$WbvsIjU8fwAGDjXPRLo5EkXxDXNLMxNUsZwQTUssnCw"}}},"ts":1675273719848,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$XbCfmq0Hcpfr-Lf9aJvNsRMPn8lFb8YiXoG76pwatgw"},
{"content":{"msgtype":"m.text","body":"Do we need to do anything else to get this picked up?","m.relates_to":{"rel_type":"m.thread","event_id":"$X3xN5gol6nOCNLcrSolmpstEDr9wW1Tq-yndx9LhbWk","is_falling_back":true,"m.in_reply_to":{"event_id":"$X3xN5gol6nOCNLcrSolmpstEDr9wW1Tq-yndx9LhbWk"}}},"ts":1675273806055,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$uXj865buAj7oOpNYCI5hsE4CcqpQ6hmCXIaO6UX6aj4"},
{"content":{"msgtype":"m.text","body":"that should have been sufficient but I think there might be a bug on my end","m.relates_to":{"event_id":"$X3xN5gol6nOCNLcrSolmpstEDr9wW1Tq-yndx9LhbWk","is_falling_back":true,"m.in_reply_to":{"event_id":"$uXj865buAj7oOpNYCI5hsE4CcqpQ6hmCXIaO6UX6aj4"},"rel_type":"m.thread"}},"ts":1675274142425,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$xWzFPBkuMkcWQuZH8r1JMrZJv3TnXQi8Oipf766uBf0"},
{"content":{"msgtype":"m.text","body":"hm. no there's just no history yet.","m.relates_to":{"event_id":"$X3xN5gol6nOCNLcrSolmpstEDr9wW1Tq-yndx9LhbWk","is_falling_back":true,"m.in_reply_to":{"event_id":"$xWzFPBkuMkcWQuZH8r1JMrZJv3TnXQi8Oipf766uBf0"},"rel_type":"m.thread"}},"ts":1675274501070,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$PkUL8kh7azvt57vGb_wuJudXLHKe3WoQRYXjmUFiaIE"},
{"content":{"msgtype":"m.text","body":"somehow","m.relates_to":{"event_id":"$X3xN5gol6nOCNLcrSolmpstEDr9wW1Tq-yndx9LhbWk","is_falling_back":true,"m.in_reply_to":{"event_id":"$xWzFPBkuMkcWQuZH8r1JMrZJv3TnXQi8Oipf766uBf0"},"rel_type":"m.thread"}},"ts":1675274501825,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ZlVlMuaD8LpKPQ4M5PUNZwbEwBAuBk0HYEApkrxfCH4"},
{"content":{"msgtype":"m.text","body":"https://view.matrix.org/room/%21siOjSOrhCVYVzIoThy:matrix.org/","m.relates_to":{"event_id":"$X3xN5gol6nOCNLcrSolmpstEDr9wW1Tq-yndx9LhbWk","is_falling_back":true,"m.in_reply_to":{"event_id":"$ZlVlMuaD8LpKPQ4M5PUNZwbEwBAuBk0HYEApkrxfCH4"},"rel_type":"m.thread"}},"ts":1675274503711,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$WYztFaZLUN-0fZHGXh_sgpkEhCu01Ra807taQfaKY1E"},
{"content":{"msgtype":"m.text","body":"testing, testing, trying to get this to show up in the history..."},"ts":1675274523231,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$649QtdFqlOhks7vIXphUWE3637m3Iz-fdIMZC_pkGG8"},
{"content":{"msgtype":"m.text","body":"if logs don't show up in https://view.matrix.org/room/%21siOjSOrhCVYVzIoThy:matrix.org/ they also won't show up on my logbot. I have no idea why logs don't show up at that link though."},"ts":1675274822697,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$9XTgy1tZYVjbf2H0vCDLp2FNdGxhJOet-znX53ttRHI"},
{"content":{"msgtype":"m.text","body":"it's an \"encrypted room\" so that might be why"},"ts":1675274870362,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$uW2vd3u2x2FQLfqjqLu7tyCSpSoaeuecF8RxCT7XJUk"},
{"content":{"msgtype":"m.text","body":"which can't be disabled"},"ts":1675274894058,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$_n_lNQxX44N9OvqhOb-US9ell8rlJgF8c1DlnddcjXY"},
{"content":{"msgtype":"m.text","body":"so if that's the problem, we might need to create a new room and scrap this one"},"ts":1675274908748,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$cocgob8mb69PML6SD5WMwNCGM0uBdjuiPnqLK6bIsos"},
{"content":{"msgtype":"m.text","body":"what does it mean to have globally visible history if it's encrypted..."},"ts":1675274914853,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$v90vg-XrY7NwFXZivvaLwge0fiEXGZIOmUW5rJCjIuU"},
{"content":{"org.matrix.msc1767.text":"oh, so the public API can't pick it up, only a bot that joined the room can","body":"oh, so the public API can't pick it up, only a bot that joined the room can","msgtype":"m.text"},"ts":1675274920158,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$J7DNbJAPp3Qa7mY18ANMw4nIfr3rtds8ci_ZZ2KMPRw"},
{"content":{"msgtype":"m.text","body":"I can make my bot join this room I guess"},"ts":1675274931233,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$begfdDtCvktBwRLaAGm-10C3RFZSGUanzW5Z_RYR_wk"},
{"content":{"msgtype":"m.text","body":"if that doesn't work, it'd be fine to switch rooms"},"ts":1675275424015,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$4U4CAm1h64tQ5aGrPDuGoCcBjByyhtJ2gCV97pH03lE"},
{"content":{"msgtype":"m.text","body":"bot probably can't pick up history from before it joined"},"ts":1675275478876,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$H9jCJJrZKl6ra8ffLILeOmBbM3Elyb2eBPonFi84eKg"},
{"content":{"msgtype":"m.text","body":"but we'll see in a few minutes if it can pick this up"},"ts":1675275485263,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$8wvyNHKkv9FfUGMD720xZR9dL682xSGwV5LuDFFhuNg"},
{"content":{"msgtype":"m.text","body":"If it helps, we can export the early logs"},"ts":1675275619925,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$90ppYNnavNncmLxlyPIdYebbj78hZ1F9Iw7QNoBhJLY"},
{"content":{"msgtype":"m.text","body":"I think future logs are the main thing"},"ts":1675275637320,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$FLe8czM65i8luNuPUW1Q-1dD3VIC7q61b49jt6wfR3w"},
{"content":{"msgtype":"m.text","body":"Yah"},"ts":1675275642725,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$0c7ZNWeqVzk4mp00zj6pUYF45_5t7s9ipyJ58bgBBLc"},
{"content":{"msgtype":"m.text","body":"it cannot, apparently, though I don't know why not"},"ts":1675275786250,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$QvHNdIq_UuX1pRf8K8c3s-PTxG-zEvPqYaNLSyR6IaI"},
{"content":{"msgtype":"m.text","body":"probably need to make a new room"},"ts":1675275790553,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ISy93FRVDmd3XkE_nml9Llw8n7dcY7hbuJrUT6ThYNg"},
{"content":{"org.matrix.msc1767.message":[{"body":"> <@bakkot:matrix.org> but we'll see in a few minutes if it can pick this up\n\nhttps://github.com/bakkot/matrix-logs/commit/7798d80d3c4c45af248733855824d15285cd879f <- there's a last seen event, but no actual logs","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$8wvyNHKkv9FfUGMD720xZR9dL682xSGwV5LuDFFhuNg?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">@bakkot:matrix.org</a><br>but we&#39;ll see in a few minutes if it can pick this up</blockquote></mx-reply>https://github.com/bakkot/matrix-logs/commit/7798d80d3c4c45af248733855824d15285cd879f &lt;- there's a last seen event, but no actual logs","mimetype":"text/html"}],"body":"> <@bakkot:matrix.org> but we'll see in a few minutes if it can pick this up\n\nhttps://github.com/bakkot/matrix-logs/commit/7798d80d3c4c45af248733855824d15285cd879f <- there's a last seen event, but no actual logs","msgtype":"m.text","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!siOjSOrhCVYVzIoThy:matrix.org/$8wvyNHKkv9FfUGMD720xZR9dL682xSGwV5LuDFFhuNg?via=matrix.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">@bakkot:matrix.org</a><br>but we&#39;ll see in a few minutes if it can pick this up</blockquote></mx-reply>https://github.com/bakkot/matrix-logs/commit/7798d80d3c4c45af248733855824d15285cd879f &lt;- there's a last seen event, but no actual logs","m.relates_to":{"m.in_reply_to":{"event_id":"$8wvyNHKkv9FfUGMD720xZR9dL682xSGwV5LuDFFhuNg"}}},"ts":1675275797289,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$QrQejpEYvpTFiq17j_wLVRIeu8dO4268I3wcZBBPbMI"},
{"content":{"msgtype":"m.text","body":"best to have things viewable in `view.matrix.org` anyway","format":"org.matrix.custom.html","formatted_body":"best to have things viewable in <code>view.matrix.org</code> anyway"},"ts":1675275800564,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$keBJO8GGLQ4xbP3iRunIExHWYJ6qdqjUZRcW4vw6XF4"},
{"content":{"org.matrix.msc1767.text":"not sure if that tells you anything","body":"not sure if that tells you anything","msgtype":"m.text"},"ts":1675275803392,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$u1zsm1RaqqoZg-ApBVLywOdLzbxYUr0TL1KW0pNRs80"},
{"content":{"msgtype":"m.text","body":"yeah, it means it can tell the room exists but not get the actual chat history from it, for whatever reason"},"ts":1675275820191,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$2KASc7E1D7pM4Lx99ObrlpML0uRxzhsL7dpebgXA_ek"},
{"content":{"msgtype":"m.text","body":"Ok, let's make a new channel"},"ts":1675277102080,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$EvBCxc8spgE59XMZJjsHwsaptQLwtao9oviVtm5jmkc"},
{"content":{"msgtype":"m.text","body":"bakkot: If we export the message logs for this channel, can we splice them into the new channel's logs for the bot?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: If we export the message logs for this channel, can we splice them into the new channel's logs for the bot?"},"ts":1675277129831,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$DEFnG2HTEK2H1bfIfLaaaBjTBKUoo2ZjlfYI942FPwo"},
{"content":{"msgtype":"m.text","body":"the big reason why logging was 100% required is to deal with sanctioned entities; I don't think we had any such discussion in this channel before now"},"ts":1675277165681,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$kc4qerPCeuxLZFYHKGgt32NkjL3mKtboCwT7C__0TDw"},
{"content":{"msgtype":"m.text","body":"I can do that manually sure"},"ts":1675277169444,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Ymo5fdVR_yxO1OVQEvtXiUujKGm6l--Z4IshbnED3Zs"},
{"content":{"msgtype":"m.text","body":"let's just set up the new channel"},"ts":1675277176356,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$2CWuL89IAr8se-C-SyxbSL7r9YGl3WngJw5HFN2VaSM"},
{"content":{"msgtype":"m.text","body":"(Selfishly, I want to refer to some of these chat logs for my performance review)"},"ts":1675277203455,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$LNoppWhamI7NDB3Rpi9_cEv_zrsmyhn9tk92K_tHgAc"},
{"content":{"msgtype":"m.text","body":"lol, I might've heard of a company where you don't have to do all of this self-promotion...","m.relates_to":{"event_id":"$LNoppWhamI7NDB3Rpi9_cEv_zrsmyhn9tk92K_tHgAc","is_falling_back":true,"m.in_reply_to":{"event_id":"$LNoppWhamI7NDB3Rpi9_cEv_zrsmyhn9tk92K_tHgAc"},"rel_type":"m.thread"}},"ts":1675277260009,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$t3C8XAxim9EpvO3Yi2lRXtjiNo6nw40KsjQ1PC8zk6c"},
{"content":{"msgtype":"m.text","body":"you still gotta deal with performance reviews?"},"ts":1675277349730,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$UMt9z2SwzuKhuc5ZwXHVV9ZUlirUNE7jNVv-MKe1hzc"},
{"content":{"msgtype":"m.text","body":"what if you just say to malte, bro, you know me, i do good work"},"ts":1675277361599,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$eQHsz_2OhqjimVWbz6BtHr-O25Xs__8f_CwniawFkZ8"},
{"content":{"msgtype":"m.text","body":"I don't know the process yet, but I'm preparing as if it's still Google"},"ts":1675277437155,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$S42t-JQSN6H8Y3VoyOdJjmGP4KyUoOb08vnKIQOw_ok"},
{"content":{"msgtype":"m.text","body":"even google has a new process now","m.relates_to":{"event_id":"$LNoppWhamI7NDB3Rpi9_cEv_zrsmyhn9tk92K_tHgAc","is_falling_back":true,"m.in_reply_to":{"event_id":"$t3C8XAxim9EpvO3Yi2lRXtjiNo6nw40KsjQ1PC8zk6c"},"rel_type":"m.thread"}},"ts":1675277525153,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$9CglaReyDPcGvtJdVDqcAwO_fvUYo8oST8BnBBjtAn4"},
{"content":{"msgtype":"m.text","body":"supposedly less work for ICs but more work for managers","m.relates_to":{"event_id":"$LNoppWhamI7NDB3Rpi9_cEv_zrsmyhn9tk92K_tHgAc","is_falling_back":true,"m.in_reply_to":{"event_id":"$9CglaReyDPcGvtJdVDqcAwO_fvUYo8oST8BnBBjtAn4"},"rel_type":"m.thread"}},"ts":1675277538360,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$hqSt0G0GaM-9LLmvYION-7QgxvK65L1gVGMMdxZowJQ"},
{"content":{"msgtype":"m.text","body":"I’ll set up the channel if that’s helpful"},"ts":1675278819722,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$1bnkDmgOUIUHt6xRLFykHN_fnQ4MJuvSLn1E3hpaP7s"},
{"content":{"msgtype":"m.text","body":"Go to new channel => https://matrix.to/#/#tc39-async-context:matrix.org"},"ts":1675278992292,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$2v1JeOdbMNUamgdF0GhquvULNzBRmph6cJCmg-OkHiM"},
{"content":{"body":"Hi, thanks for creating this ljharb","msgtype":"m.text"},"ts":1675279003397,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$-jBXrc56l53isUEQbHjJLmyqxI3kzs01GXX1jvElDQw"},
{"content":{"body":"o/","msgtype":"m.text"},"ts":1675279082628,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$sX460af4xH38rk_KwKDu6EaqHqdgG-71zT6ti7dBxVU"},
{"content":{"body":"k i think that's all the settings migrated.","msgtype":"m.text"},"ts":1675279088314,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$aI80u0TAE8JyAgRK23_OnRGyzCGdS1EzVqNXVwa9nv8"},
{"content":{"body":"Here's an export of the prior rooms logs ^","msgtype":"m.text"},"ts":1675279137787,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$dp9vbWXXnl6fTJMqwIawQ1Ctu1c4vgBeIUd3YHYmFqM"},
{"content":{"body":" * Here's an export of the prior rooms logs ^","m.new_content":{"body":"Here's an export of the prior rooms logs ^","msgtype":"m.text"},"m.relates_to":{"event_id":"$dp9vbWXXnl6fTJMqwIawQ1Ctu1c4vgBeIUd3YHYmFqM","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1675279142442,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$clRn4rq2eVWUBgMRnSrKO8rZpDHM5g_f-jl0lcXf33E"},
{"content":{"body":"cool I will get that importat","msgtype":"m.text"},"ts":1675279218256,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$n1G7IQcWWktxkzvKMHbQXd_Z6VZsMI8NEyjK4YGYgJo"},
{"content":{"body":"at some point","msgtype":"m.text"},"ts":1675279220204,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$muIsZTPvs2_GQ7I10Cdeae1_bJLB_0eakGg--VyeW4s"},
{"content":{"body":"https://matrixlogs.bakkot.com/TC39_Async_Context/2023-02-01 🎉","msgtype":"m.text","org.matrix.msc1767.text":"https://matrixlogs.bakkot.com/TC39_Async_Context/2023-02-01 🎉"},"ts":1675279515928,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$29ApwdG58SNpDTh-1tWk6HtYoZbvDefuYWKUb_LbpGg"}
]