[
{"content":{"body":"> <@abotella:igalia.com> the way the spec is written right now, `AsyncContext.wrap` doesn't check if the argument is a function, but it does check if it's a constructor\n\nFixing this in https://github.com/tc39/proposal-async-context/pull/32. Thanks for catching this!","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!eQuZUAhGqudVFPodUG:matrix.org/$Zj5sVrDkCVbAzU4t5E9I9mwykW5q1nX1g6sabhgqOcU?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@abotella:igalia.com\">@abotella:igalia.com</a><br>the way the spec is written right now, <code>AsyncContext.wrap</code> doesn't check if the argument is a function, but it does check if it's a constructor</blockquote></mx-reply>Fixing this in https://github.com/tc39/proposal-async-context/pull/32. Thanks for catching this!","m.relates_to":{"m.in_reply_to":{"event_id":"$Zj5sVrDkCVbAzU4t5E9I9mwykW5q1nX1g6sabhgqOcU"}},"msgtype":"m.text"},"ts":1678762756276,"senderName":"Chengzhong Wu","senderId":"@legendecas:matrix.org","id":"$7mVuLJ67TvMXBXZeQqG7zJ0nOEv9s_Y4uTLIgYaIUoo"},
{"content":{"body":"Do we want values in the async context mapping to be ECMAScript language values?","msgtype":"m.text"},"ts":1678791766454,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$q4n1gzBZExrxJ7ZWALB1glSZf9FPFRCPBIi3PMoYDt0"},
{"content":{"body":"I was thinking that maybe Yoav Weiss's task attribution could be defined in terms of storing an HTML spec-level value on the mapping for a symbol that's not associated to any `AsyncContext` instance","format":"org.matrix.custom.html","formatted_body":"I was thinking that maybe Yoav Weiss's task attribution could be defined in terms of storing an HTML spec-level value on the mapping for a symbol that's not associated to any <code>AsyncContext</code> instance","msgtype":"m.text"},"ts":1678791810390,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$UWp6a20ETLgFHo8lcXN2moUvrCdiDLWdRJGnUTVUx08"},
{"content":{"body":" * I was thinking that maybe Yoav Weiss's task attribution handling could be defined in terms of storing an HTML spec-level value on the mapping for a symbol that's not associated to any `AsyncContext` instance","format":"org.matrix.custom.html","formatted_body":" * I was thinking that maybe Yoav Weiss's task attribution handling could be defined in terms of storing an HTML spec-level value on the mapping for a symbol that's not associated to any <code>AsyncContext</code> instance","m.new_content":{"body":"I was thinking that maybe Yoav Weiss's task attribution handling could be defined in terms of storing an HTML spec-level value on the mapping for a symbol that's not associated to any `AsyncContext` instance","format":"org.matrix.custom.html","formatted_body":"I was thinking that maybe Yoav Weiss's task attribution handling could be defined in terms of storing an HTML spec-level value on the mapping for a symbol that's not associated to any <code>AsyncContext</code> instance","msgtype":"m.text"},"m.relates_to":{"event_id":"$UWp6a20ETLgFHo8lcXN2moUvrCdiDLWdRJGnUTVUx08","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1678791818569,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$odllGOpUF7r4-M8sKw5MzLQ7y6ZEFfonjsYVJIFfdeQ"},
{"content":{"body":"`AsyncContext.prototype.get` could then assert that the gotten value is an ECMAScript language value","format":"org.matrix.custom.html","formatted_body":"<code>AsyncContext.prototype.get</code> could then assert that the gotten value is an ECMAScript language value","msgtype":"m.text"},"ts":1678791863216,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$n39Q2akTCVkAoHKcE8z-fzjFclGrBis5-qWMAGM7XPo"},
{"content":{"body":" * I was thinking that maybe Yoav Weiss's work on task attribution handling could be defined in terms of storing an HTML spec-level value on the mapping for a symbol that's not associated to any `AsyncContext` instance","format":"org.matrix.custom.html","formatted_body":" * I was thinking that maybe Yoav Weiss's work on task attribution handling could be defined in terms of storing an HTML spec-level value on the mapping for a symbol that's not associated to any <code>AsyncContext</code> instance","m.new_content":{"body":"I was thinking that maybe Yoav Weiss's work on task attribution handling could be defined in terms of storing an HTML spec-level value on the mapping for a symbol that's not associated to any `AsyncContext` instance","format":"org.matrix.custom.html","formatted_body":"I was thinking that maybe Yoav Weiss's work on task attribution handling could be defined in terms of storing an HTML spec-level value on the mapping for a symbol that's not associated to any <code>AsyncContext</code> instance","msgtype":"m.text"},"m.relates_to":{"event_id":"$UWp6a20ETLgFHo8lcXN2moUvrCdiDLWdRJGnUTVUx08","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1678792021121,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$JRmk9AcBiOuV8H2O5Ew6ZkytNHl1M4X6RZkn92_gTNE"},
{"content":{"body":"yes, I think this would be a good direction for part of the refactoring patch which also exposes abstract operations for get, run, and the AsyncContext constructor.","msgtype":"m.text"},"ts":1678796803282,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$djfOwFqRCqhWuW00BVW_mBK7Red3EbRLO4Az-rGzIyM"}
]