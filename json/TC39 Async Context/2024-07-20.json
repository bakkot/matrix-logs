[
{"content":{"body":"(aside: I assume we did whatever we needed to to get on the agenda for next month?)","m.mentions":{},"msgtype":"m.text"},"ts":1721434756883,"senderName":"Steve Hicks","senderId":"@stephenhicks:matrix.org","id":"$lJ1tVcCW1UW9gn0DoqAUSmRTm-JMRFdgWOGlbJFmUqA"},
{"content":{"body":"What about null vs \"empty\"?  I think the important example to consider here is the dispatchSnapshot for an event dispatched directly from the event loop, rather than programmatically.  I'll say upfront that I think having it be null for this case is desirable, since there's no good way to determine that some non-null value is \"empty\".  But I can also see a consistency argument for it being `HostGetTopLevelAsyncContextMapping(null)` - this is the initial value for agentRecord.[[AsyncContextMapping]], and is therefore presumably its value at the exact time that the event is created/dispatched.  So any other value (including `null`) is presumably more complicated to spec (and also more challenging to polyfill).","format":"org.matrix.custom.html","formatted_body":"What about null vs \"empty\"?  I think the important example to consider here is the dispatchSnapshot for an event dispatched directly from the event loop, rather than programmatically.  I'll say upfront that I think having it be null for this case is desirable, since there's no good way to determine that some non-null value is \"empty\".  But I can also see a consistency argument for it being <code>HostGetTopLevelAsyncContextMapping(null)</code> - this is the initial value for agentRecord.[[AsyncContextMapping]], and is therefore presumably its value at the exact time that the event is created/dispatched.  So any other value (including <code>null</code>) is presumably more complicated to spec (and also more challenging to polyfill).","m.mentions":{},"msgtype":"m.text"},"ts":1721435312154,"senderName":"Steve Hicks","senderId":"@stephenhicks:matrix.org","id":"$LLdY51PKB97vLdWqoEeuG_fsYE_1W0a8n5iPyzEpIMI"}
]