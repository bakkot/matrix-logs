[
{"content":{"body":"Andreu Botella: I just published a new version that polyfills EventTargets üëçÔ∏è","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a>: I just published a new version that polyfills EventTargets üëçÔ∏è","m.mentions":{"user_ids":["@abotella:igalia.com"]},"m.relates_to":{"event_id":"$7t6-lCM3SrboEfrlEnuxo-0aESAQ4xyPyirS0wJHpEw","is_falling_back":true,"m.in_reply_to":{"event_id":"$EUTVilWclpFwTbwmL3iOllVZo6AP1Lug9qvbeZPcE94"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1737539337366,"senderName":"Iliasbhal","senderId":"@iliasbhal:matrix.org","id":"$WndDyETuSMPTSnawEEdtWsarfOu_m1ZYLKd0yChHgQo"},
{"content":{"body":"Sidenote: Would you guys accept a PR for the polyfill?","m.mentions":{},"m.relates_to":{"event_id":"$7t6-lCM3SrboEfrlEnuxo-0aESAQ4xyPyirS0wJHpEw","is_falling_back":true,"m.in_reply_to":{"event_id":"$WndDyETuSMPTSnawEEdtWsarfOu_m1ZYLKd0yChHgQo"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1737540514537,"senderName":"Iliasbhal","senderId":"@iliasbhal:matrix.org","id":"$oSQk__UT8WWQLYDlWU4dRsD_3T2SSWXn6cvx8lf6xt8"},
{"content":{"body":"Justin Ridgewell: ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jridgewell:matrix.org\">Justin Ridgewell</a>:","m.mentions":{"user_ids":["@jridgewell:matrix.org"]},"m.relates_to":{"event_id":"$7t6-lCM3SrboEfrlEnuxo-0aESAQ4xyPyirS0wJHpEw","is_falling_back":true,"m.in_reply_to":{"event_id":"$oSQk__UT8WWQLYDlWU4dRsD_3T2SSWXn6cvx8lf6xt8"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1737540549349,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$D-8m8W6Bt9Fd_gMXdJC0iZUB9PVHAHJGyhSOpVST1c4"},
{"content":{"body":"* Andreu Botella: I just published a new version that polyfills EventTargets üëçÔ∏è Feel free to create issues on the repo if you need more API polyfilled.","format":"org.matrix.custom.html","formatted_body":"* <a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a>: I just published a new version that polyfills EventTargets üëçÔ∏è Feel free to create issues on the repo if you need more API polyfilled.","m.mentions":{},"m.new_content":{"body":"Andreu Botella: I just published a new version that polyfills EventTargets üëçÔ∏è Feel free to create issues on the repo if you need more API polyfilled.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a>: I just published a new version that polyfills EventTargets üëçÔ∏è Feel free to create issues on the repo if you need more API polyfilled.","m.mentions":{"user_ids":["@abotella:igalia.com"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$WndDyETuSMPTSnawEEdtWsarfOu_m1ZYLKd0yChHgQo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1737540667979,"senderName":"Iliasbhal","senderId":"@iliasbhal:matrix.org","id":"$QG9M25bWokODvnL4ogYmvEKUhsQnBhlGlfPxqcLUBrM"},
{"content":{"body":"Probably not, as most proposals don't have polyfills and the few that do have a disclaimer \"do not actually use this polyfill, it's just meant to be an example\". However, you can open an issue linking to it so that other people can find it","m.relates_to":{"event_id":"$7t6-lCM3SrboEfrlEnuxo-0aESAQ4xyPyirS0wJHpEw","is_falling_back":true,"m.in_reply_to":{"event_id":"$D-8m8W6Bt9Fd_gMXdJC0iZUB9PVHAHJGyhSOpVST1c4"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1737540765136,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$FsUyM-rs7dbAVl0moS6aJTThu9gGp0Dug_UkVfuCXrU"},
{"content":{"body":"our repo has an existing polyfill, made by Justin, only for the TC39/JS part of it","m.mentions":{},"m.relates_to":{"event_id":"$7t6-lCM3SrboEfrlEnuxo-0aESAQ4xyPyirS0wJHpEw","is_falling_back":true,"m.in_reply_to":{"event_id":"$FsUyM-rs7dbAVl0moS6aJTThu9gGp0Dug_UkVfuCXrU"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1737540823287,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$FQ6KLpJ-dch5ZaEXDF5YdscyV57ay2hpgOBLXr7UnsY"},
{"content":{"body":"Oh I didn't notice üòÖ","m.relates_to":{"event_id":"$7t6-lCM3SrboEfrlEnuxo-0aESAQ4xyPyirS0wJHpEw","is_falling_back":true,"m.in_reply_to":{"event_id":"$FQ6KLpJ-dch5ZaEXDF5YdscyV57ay2hpgOBLXr7UnsY"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1737540905736,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$ZwfpJAVAPFC7HTgXGlLp_WksE16R4DO_iq2_dZXyVR4"},
{"content":{"body":"Btw Iliasbhal the events handling seems to be wrong, as (if I'm reading the code correctly) you are capturing the context when the .addEventListener call happens rather than when the event is dispatched","format":"org.matrix.custom.html","formatted_body":"Btw <a href=\"https://matrix.to/#/@iliasbhal:matrix.org\">@iliasbhal:matrix.org</a> the events handling seems to be wrong, as (if I'm reading the code correctly) you are capturing the context when the .addEventListener call happens rather than when the event is dispatched","m.relates_to":{"event_id":"$7t6-lCM3SrboEfrlEnuxo-0aESAQ4xyPyirS0wJHpEw","is_falling_back":true,"m.in_reply_to":{"event_id":"$ZwfpJAVAPFC7HTgXGlLp_WksE16R4DO_iq2_dZXyVR4"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1737540962885,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$ORoPk4bRTlEd-zqjrS0NjJCEXb1iKGj8rJRx9bYl_ws"},
{"content":{"body":"Doing it correctly is much more difficult, but it'd would be very great if a polyfill manages to do it!","m.relates_to":{"event_id":"$7t6-lCM3SrboEfrlEnuxo-0aESAQ4xyPyirS0wJHpEw","is_falling_back":true,"m.in_reply_to":{"event_id":"$ORoPk4bRTlEd-zqjrS0NjJCEXb1iKGj8rJRx9bYl_ws"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1737540979481,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$2_3U2thMZ-BpYiBtwja4TbJS_CYZtTWK3I38itnq69s"},
{"content":{"body":"the semantics of the web integration are explained in https://github.com/tc39/proposal-async-context/blob/master/WEB-INTEGRATION.md","m.mentions":{},"m.relates_to":{"event_id":"$7t6-lCM3SrboEfrlEnuxo-0aESAQ4xyPyirS0wJHpEw","is_falling_back":true,"m.in_reply_to":{"event_id":"$2_3U2thMZ-BpYiBtwja4TbJS_CYZtTWK3I38itnq69s"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1737541032704,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$Q3ObOOcxQsZp5bPeYcWVrO8gIi8ydNNJqQ9uTQlLLDI"},
{"content":{"body":"\"event is dispatched\" means, for example, that if you have a XMLHttpRequest object and you listen to it's \"load\" event, it gets the context from when you call .send() rather than when you call .addEventListener, since .send() is what eventually causes the event to happen","m.relates_to":{"event_id":"$7t6-lCM3SrboEfrlEnuxo-0aESAQ4xyPyirS0wJHpEw","is_falling_back":true,"m.in_reply_to":{"event_id":"$Q3ObOOcxQsZp5bPeYcWVrO8gIi8ydNNJqQ9uTQlLLDI"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1737541059791,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$MUUHed0U4kprv4G36td7CCDdWl8K1vzlHx7RBRdHxKc"},
{"content":{"body":"That was for demonstrating the comparison between SyncContext and AsyncContext. I don't think it is intended for real world use","m.mentions":{"user_ids":["@abotella:igalia.com"]},"m.relates_to":{"event_id":"$7t6-lCM3SrboEfrlEnuxo-0aESAQ4xyPyirS0wJHpEw","is_falling_back":false,"m.in_reply_to":{"event_id":"$FQ6KLpJ-dch5ZaEXDF5YdscyV57ay2hpgOBLXr7UnsY"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1737541067639,"senderName":"Chengzhong Wu","senderId":"@legendecas:matrix.org","id":"$7gIPe2XjMt9ZhpOjMq8qdrtvNOZplLCe7vN5fI_FMWs"},
{"content":{"body":"* That was for demonstrating the idea and comparison between SyncContext and AsyncContext. I don't think it is intended for real world use","m.mentions":{},"m.new_content":{"body":"That was for demonstrating the idea and comparison between SyncContext and AsyncContext. I don't think it is intended for real world use","m.mentions":{"user_ids":["@abotella:igalia.com"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$7gIPe2XjMt9ZhpOjMq8qdrtvNOZplLCe7vN5fI_FMWs","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1737541120154,"senderName":"Chengzhong Wu","senderId":"@legendecas:matrix.org","id":"$aUsATXtFuPNCXnz5oalKFHbWeG2qRnIec47wr3ly8Vk"}
]