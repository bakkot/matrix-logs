[
{"content":{"body":"> <@littledan:matrix.org> Yes, I think we should specify that, at the top level of the module, it's always a host-provided context (not necessarily empty--the host can put things there) and *not* based on what dynamic import triggered it (which would be racy)\n\notoh if you're using asynccontext for apm, you probably want the dynamic import to inherit the trace context, since it is logically part of whatever operation you're tracing and relevant to the performance of it.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!eQuZUAhGqudVFPodUG:matrix.org/$1QxxlQ8uzX5s5T-XzWgCarUFnkyZrVUGtXCunzzdVtk?via=igalia.com&via=matrix.org&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@littledan:matrix.org\">@littledan:matrix.org</a><br>Yes, I think we should specify that, at the top level of the module, it's always a host-provided context (not necessarily empty--the host can put things there) and <em>not</em> based on what dynamic import triggered it (which would be racy)</blockquote></mx-reply>otoh if you're using asynccontext for apm, you probably want the dynamic import to inherit the trace context, since it is logically part of whatever operation you're tracing and relevant to the performance of it.","m.mentions":{"user_ids":["@littledan:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$1QxxlQ8uzX5s5T-XzWgCarUFnkyZrVUGtXCunzzdVtk"}},"msgtype":"m.text"},"ts":1719023859231,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$WY1mc0HTELZi2bZpVT_4Ta6YuM4tz5c-zwKW2cJTHcc"},
{"content":{"body":"Maybe, but it’s also possible that this proposal just won’t solve all APM problems and that we need to make tradeoffs between competing goals. Fundamentally, when you consider the merge case, preserving all of the calling contexts will take processing time, which is bad for APMs.","msgtype":"m.text"},"ts":1719054591017,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$g7XCmEI6JA-jnNKLCYBLzBwj2Ck4nt4QHJCxgSD9BxY"}
]