[
{"content":{"body":"> <@jridgewell:matrix.org> Component functiosn aren’t executed recusively, they’re pushed into a stack to be processed later on. When you return the `<Ctx.Provider value=…><Foo /></Ctx.Provider>` VDOM, that `Foo` component won’t be executed within the sync execution of `Ctx.Provider`. If `Foo` were to `useContext(Ctx)`, that would be tracked as part of the component’s internal state (which itself is stored in a AC), it woulnd’t store the context on its own AC variable.\n\nI don’t get it; isn’t this what AsyncContext.Snapshot is for?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!eQuZUAhGqudVFPodUG%3Amatrix.org/%24o1WzWmZCArZwFp__2F_5CJZbf1ZPjiVOBMF-4ZUkpbM\">In reply to</a> <a href=\"https://matrix.to/#/@jridgewell:matrix.org\">@jridgewell:matrix.org</a><br>Component functiosn aren’t executed recusively, they’re pushed into a stack to be processed later on. When you return the <code data-md=\"`\">&lt;Ctx.Provider value=…&gt;&lt;Foo /&gt;&lt;/Ctx.Provider&gt;</code> VDOM, that <code data-md=\"`\">Foo</code> component won’t be executed within the sync execution of <code data-md=\"`\">Ctx.Provider</code>. If <code data-md=\"`\">Foo</code> were to <code data-md=\"`\">useContext(Ctx)</code>, that would be tracked as part of the component’s internal state (which itself is stored in a AC), it woulnd’t store the context on its own AC variable.</blockquote></mx-reply>I don’t get it; isn’t this what AsyncContext.Snapshot is for?","m.relates_to":{"m.in_reply_to":{"event_id":"$o1WzWmZCArZwFp__2F_5CJZbf1ZPjiVOBMF-4ZUkpbM"}},"msgtype":"m.text"},"ts":1720509676417,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$bIZZzqlxwDWESpvur9qv8VrUNWjLyMx2rB0yHb-ndQ4"},
{"content":{"body":"I thought, in the server, an AsyncContext variable for the hooks state","msgtype":"m.text"},"ts":1720509734315,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$hND1AJoLiGcgq9IgIiZD8NqafLQUIgVVf8BkCzz-9F0"},
{"content":{"body":"In general, I think conceptually, React Context is doing the same thing as AsyncContext. It just depends on the framework saving and restoring snapshots all over the place ","format":"org.matrix.custom.html","formatted_body":"In general, I think conceptually, React Context is doing the same thing as AsyncContext. It just depends on the framework saving and restoring snapshots all over the place","msgtype":"m.text"},"ts":1720510077138,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$TvlHzqiGiag5bQe9XxNNP4jytOR6M6n4u8w6DXqxsC8"}
]