[
{"content":{"body":"I'm looking at the task termination doc, and from the listed use cases it seems like task terminations wouldn't be exposed as user-visible metrics or events, it would just be browser-internal, right?","msgtype":"m.text"},"ts":1683707589789,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$kqihzFrrLRKNtr1p-U4b0z84BayCMcyEAvdpCenxl9Y"},
{"content":{"body":"and an implementation of task attribution with unbounded queues (assuming infinite memory and processing power) would be equivalent to one with task termination","msgtype":"m.text"},"ts":1683707746333,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$-3PFVKHViw6g1C0BItOPHnVXdMv-M6MrQRG_v8sHNPA"},
{"content":{"body":"If so, I'm not sure why there needs to be a spec for it, just a note on the task attribution spec would suffice, right?","msgtype":"m.text"},"ts":1683707778270,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$qj-ET_ey5WUxWYrmjfDKfJlHMMem-l4i7EgIKgCAfSY"},
{"content":{"body":" * If so, I'm not sure why there needs to be a spec for it, just a note on the task attribution spec describing implementation considerations would suffice, right?","m.new_content":{"body":"If so, I'm not sure why there needs to be a spec for it, just a note on the task attribution spec describing implementation considerations would suffice, right?","msgtype":"m.text"},"m.relates_to":{"event_id":"$qj-ET_ey5WUxWYrmjfDKfJlHMMem-l4i7EgIKgCAfSY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1683707800186,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$YAHgtDIK2OidqRIqwb_hieX0SevbMa-Zln_AJ7KC0DY"},
{"content":{"body":"For the use cases Yoav presented (eg perf metrics), a lot of people need to be coordinated around the definition of when this termination event happens, both within Chrome, among other browsers who would hopefully eventually do something similar, as well as web developers. Coordinating expectations to guide implementations and usages is exactly what a standard is for.","msgtype":"m.text"},"ts":1683713430406,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$dHnxexal0C2818npBjzLJb8CUL1o_9vTQxXOkJch8ak"},
{"content":{"body":"Also sometimes it’s useful for specs to present a more or less realistic way to implement things, to enable people to implement it more straightforwardly.","msgtype":"m.text"},"ts":1683713530158,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$vSex3x8JTna82dlgxnmfJv4Nk5A0mfQbFTiWg2QkqmA"},
{"content":{"body":"Web developers need coordination in terms of when the perf metrics happen, not in terms of when a task attribution context gets evicted","msgtype":"m.text"},"ts":1683713719366,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$2jfUb6qiVlJH2Gzl7O8KNWDuGO_akvOzIabvVrB4NzY"},
{"content":{"body":" * Web developers need coordination in terms of when the perf metrics happen, not in terms of when a task attribution scope gets evicted","m.new_content":{"body":"Web developers need coordination in terms of when the perf metrics happen, not in terms of when a task attribution scope gets evicted","msgtype":"m.text"},"m.relates_to":{"event_id":"$2jfUb6qiVlJH2Gzl7O8KNWDuGO_akvOzIabvVrB4NzY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1683714149842,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$JyptMSIFudnVv6D9c3TYqqGYk23-zVe5gX9yjG7O_mY"},
{"content":{"body":"Isn’t the second part of the first?","msgtype":"m.text"},"ts":1683715058165,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$BEpKMwqlsS0RXijrrTGxGWs5iD5ONn-cXiX19G_7H0U"},
{"content":{"body":"AFAIU the actual eviction isn't exposed to developers","msgtype":"m.text"},"ts":1683715931654,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$ThCOPpqk1aa98v0wLj-No7LY3EyC4AQ_djKR9LzLWVc"},
{"content":{"body":"sure, it just potentially affects the timing of the callback. Lots of mechanisms in the HTML spec aren't exposed to developers directly.","msgtype":"m.text"},"ts":1683722511317,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$Wl4ix0Xo0gfppRHwtr62u8kYbM7oKu8Pq3BsWQ_2lqw"},
{"content":{"body":"Even just coordinating among all the Chrome engineers and other browser developers requires some very detailed documentation which everyone can agree on, at least","msgtype":"m.text"},"ts":1683722545152,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$9kwT86xAA2KRTl7GrNcT5wlwNJ9A3M7Qx8ekAw1rJww"},
{"content":{"body":"If there is a callback it can affect the timing of, then it should be specified indeed","msgtype":"m.text"},"ts":1683722826308,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$AikhNPpKeZUncuwc2cArjw74yjngv8sn5wOs-pNfbP0"},
{"content":{"body":"But the tasks descending from mouseovers use case doesn't require that","msgtype":"m.text"},"ts":1683722870233,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$ZtjjD7PJGuWt48_S4P2C1_yuYNZrliQLn6hx9BuLHSU"},
{"content":{"body":"The soft navigation durations use case might, but I'm not sure","msgtype":"m.text"},"ts":1683722886758,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$xJhNxWhzQ95i59djli5Dfnmei7nKlyYrFTIvfhaKkFo"},
{"content":{"body":" * The soft navigation durations use case might, but I'm not sure, and the issue doesn't talk about using task termination directly","m.new_content":{"body":"The soft navigation durations use case might, but I'm not sure, and the issue doesn't talk about using task termination directly","msgtype":"m.text"},"m.relates_to":{"event_id":"$xJhNxWhzQ95i59djli5Dfnmei7nKlyYrFTIvfhaKkFo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1683722904722,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$g8NPFQxRYjVoz6bdnKPYjgSx1OXaoi3Ermt2uWIrLOI"},
{"content":{"body":"Many performance events are exposed to JS, e.g., https://w3c.github.io/largest-contentful-paint/ . But even if this one weren't, and only available in dev tools, I don't think that affects whether it can be useful to coordinate deeply on what is being measured.","msgtype":"m.text"},"ts":1683723003641,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$pBoOUl0fNbi5Ls1Tusvd4f8PIZsfqP30mI4xXxoES8c"},
{"content":{"body":"The tasks descending from mouseovers use case, again AFAIU, is only a concern with memory pressure in the browser, it's not a performance event","msgtype":"m.text"},"ts":1683723105796,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$mm5enABL0siEL8RvtS2b1KjbLqVpRjigAoqHdI-gcb4"},
{"content":{"body":"I'm really confused; I'm not sure what you're getting at","msgtype":"m.text"},"ts":1683723121571,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$109sPOzd60IAZLj4lgpYe_sQn4wADZ4m8IZy61yB0zM"},
{"content":{"body":"It seems like at least two out of the three use cases described in the task termination design doc are only useful to avoid having to lose task attribution tasks when the number of tasks that would otherwise have to be tracked grows","msgtype":"m.text"},"ts":1683723447996,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$GdeNsX0NMiSoDB21T2s8bPQ5bFc8D6jBldR9R8s_fyQ"},
{"content":{"body":"If we imagine a spherical-frictionless-cow implementation with no memory limits, for those two use cases, task termination would not be needed","msgtype":"m.text"},"ts":1683723481112,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$-ukWwgay-cb9RFuM-c6VFRrz2uLhR6feDPkOWQcrUAM"},
{"content":{"body":"And it's typical to assume spherical frictionless cow implementations in specs","msgtype":"m.text"},"ts":1683723500836,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$QoKTF58xX5M66ufTZueN7BaYLlVuEaPQYeSELJX81Gg"}
]