[
{"content":{"body":"https://github.com/tc39/proposal-async-context/pull/53/files","msgtype":"m.text"},"ts":1692725307771,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$21IU31-QnyLURk8eGtPiYyd4_pTBMGxDOcIXyaL-Qsk"},
{"content":{"body":"I just realized that making `HostCallJobCallback` not swap the snapshot makes it so we'd need to swap it in `CleanupFinalizationRegistry` to preserve the behavior in the current spec","format":"org.matrix.custom.html","formatted_body":"I just realized that making <code>HostCallJobCallback</code> not swap the snapshot makes it so we'd need to swap it in <code>CleanupFinalizationRegistry</code> to preserve the behavior in the current spec","msgtype":"m.text"},"ts":1692727262661,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$FTq7BPn9m6QeTrhqMliS8abuA8jR5pJbtcMH1hCm_0I"},
{"content":{"body":"and with Justin's suggestion in https://github.com/tc39/proposal-async-context/pull/41#pullrequestreview-1348745850 to store the snapshot in the PromiseCapability, we'd need to add a slot to `FinalizationRegistry` for the snapshot","format":"org.matrix.custom.html","formatted_body":"and with Justin's suggestion in https://github.com/tc39/proposal-async-context/pull/41#pullrequestreview-1348745850 to store the snapshot in the PromiseCapability, we'd need to add a slot to <code>FinalizationRegistry</code> for the snapshot","msgtype":"m.text"},"ts":1692727311685,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$ZAhSyyLLYwcAItQEjfmxD-TqFYxOTzzNQcF3IG68v7M"},
{"content":{"body":"so maybe we should discuss if that is needed/expected, since it doesn't fall naturally out of how `HostCallJobCallback` works","format":"org.matrix.custom.html","formatted_body":"so maybe we should discuss if that is needed/expected, since it doesn't fall naturally out of how <code>HostCallJobCallback</code> works","msgtype":"m.text"},"ts":1692727339041,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$W2YvRU0m9Yxrg6GQqd_uI1_HxGlfgR-36aEqG6xov7w"},
{"content":{"body":" * so maybe we should discuss if that is needed/expected, since it wouldn't fall naturally out of how `HostCallJobCallback` works anymore","format":"org.matrix.custom.html","formatted_body":" * so maybe we should discuss if that is needed/expected, since it wouldn't fall naturally out of how <code>HostCallJobCallback</code> works anymore","m.new_content":{"body":"so maybe we should discuss if that is needed/expected, since it wouldn't fall naturally out of how `HostCallJobCallback` works anymore","format":"org.matrix.custom.html","formatted_body":"so maybe we should discuss if that is needed/expected, since it wouldn't fall naturally out of how <code>HostCallJobCallback</code> works anymore","msgtype":"m.text"},"m.relates_to":{"event_id":"$W2YvRU0m9Yxrg6GQqd_uI1_HxGlfgR-36aEqG6xov7w","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1692727350019,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$x7tEq5-3mzBz9MclggWP2G3JNHMRvLfd3J3r1wJFZVs"}
]