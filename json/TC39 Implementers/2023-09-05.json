[
{"content":{"body":"shu: i have a package that sets Symbol.isConcatSpreadable on a few objects, for the purpose of ensuring that array concat still works as expected even if someone does `Array.prototype[Symbol.isConcatSpreadable] = true`, or has an array with an own property set on it.\n\na user is reporting that v8 becomes permanently slow if Symbol.isConcatSpreadable is ever set, even once, on any object - and deleting it later doesn't fix it. is there anything that could be done here to make it less pathological to set it on an arbitrary object?","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@shuyuguo:matrix.org\">shu</a>: i have a package that sets Symbol.isConcatSpreadable on a few objects, for the purpose of ensuring that array concat still works as expected even if someone does <code>Array.prototype[Symbol.isConcatSpreadable] = true</code>, or has an array with an own property set on it.</p>\n<p>a user is reporting that v8 becomes permanently slow if Symbol.isConcatSpreadable is ever set, even once, on any object - and deleting it later doesn't fix it. is there anything that could be done here to make it less pathological to set it on an arbitrary object?</p>\n","msgtype":"m.text"},"ts":1693950675223,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$AvNmlvqs_FzgNaNVUg2hCsf9C0c4azm-0z0o56n5cZI"},
{"content":{"body":"https://github.com/ljharb/safe-array-concat/pull/3#issuecomment-1707355732 for context","m.relates_to":{"event_id":"$AvNmlvqs_FzgNaNVUg2hCsf9C0c4azm-0z0o56n5cZI","is_falling_back":true,"m.in_reply_to":{"event_id":"$AvNmlvqs_FzgNaNVUg2hCsf9C0c4azm-0z0o56n5cZI"},"rel_type":"m.thread"},"msgtype":"m.text"},"ts":1693950814064,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$crRA5WRTIv7pTLz0VgnDh0tpwfWVw-msSmQHbwu2S-A"}
]