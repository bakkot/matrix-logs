[
{"content":{"body":"In https://bugzilla.mozilla.org/show_bug.cgi?id=1752287 (probably just read comment 26 on), I was arguing with someone that hoisting a typed array read out of a loop containing `Atomics.pause()` is valid:\n```js\n    while (view[i] === 0) { Atomics.pause(); }\n```\n ->\n```\n    x = view[i]; while (x === 0) { Atomics.pause(); }\n```","format":"org.matrix.custom.html","formatted_body":"<p>In https://bugzilla.mozilla.org/show_bug.cgi?id=1752287 (probably just read comment 26 on), I was arguing with someone that hoisting a typed array read out of a loop containing <code>Atomics.pause()</code> is valid:</p>\n<pre><code class=\"language-js\">    while (view[i] === 0) { Atomics.pause(); }\n</code></pre>\n<p>-&gt;</p>\n<pre><code>    x = view[i]; while (x === 0) { Atomics.pause(); }\n</code></pre>\n","m.mentions":{},"msgtype":"m.text"},"ts":1756923756574,"senderName":"sfink","senderId":"@sfink:mozilla.org","id":"$FgyyEjCMnXJTkpAIqg2SkeVavJ39cCddUwc6lALcvM0"},
{"content":{"body":"But I realized that I actually don't know why `Atomics.pause()` couldn't have been specced to be a Synchronize event.","format":"org.matrix.custom.html","formatted_body":"But I realized that I actually don't know why <code>Atomics.pause()</code> couldn't have been specced to be a Synchronize event.","m.mentions":{},"msgtype":"m.text"},"ts":1756923769705,"senderName":"sfink","senderId":"@sfink:mozilla.org","id":"$WkNpkOVe2Spaj8B0tKZZ0P10d-1OUuogpNENW4I0Rj8"},
{"content":{"body":"Would it be horribly slow to have a global memory fence there? Would it defeat the purpose of fast spinlocks?","m.mentions":{},"msgtype":"m.text"},"ts":1756923801646,"senderName":"sfink","senderId":"@sfink:mozilla.org","id":"$7h0QWGvCsQvANW9hxFYckVvIega_3GKf0LWlVhXw4fs"},
{"content":{"body":"shu: ^ you probably have an obvious answer","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@shuyuguo:matrix.org\">shu</a>: ^ you probably have an obvious answer","m.mentions":{"user_ids":["@shuyuguo:matrix.org"]},"msgtype":"m.text"},"ts":1756923838937,"senderName":"sfink","senderId":"@sfink:mozilla.org","id":"$y7H9eXNUCS3DvM89yjf7Jz-nm2ch4rLQde08zDObX88"}
]