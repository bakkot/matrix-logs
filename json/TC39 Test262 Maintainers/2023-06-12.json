[
{"content":{"body":"What was done when the bigint arrays were added?","msgtype":"m.text"},"ts":1686542199612,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$IwgrzzU5zpmooPzBG7kjdFFsHVoYu1bMDAOc1T1-_fU"},
{"content":{"body":"those tests basically were not updated","msgtype":"m.text"},"ts":1686543047581,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$qAFgp-cx4f1r-6dLZuLvn0pwDMqgt_G7_WyvD0EweQQ"},
{"content":{"body":"that does make some sense because it's harder to be generic over those","msgtype":"m.text"},"ts":1686543059437,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$NHAdp61Juj-CF8gfy7BsuhdXL5IXNJ47A1L9k-Y_LD4"},
{"content":{"body":"it's split into https://github.com/tc39/test262/blob/c4642dd714175b5d27939c920abc6059c9fddb06/harness/testTypedArray.js and https://github.com/tc39/test262/blob/c4642dd714175b5d27939c920abc6059c9fddb06/harness/testBigIntTypedArray.js","msgtype":"m.text"},"ts":1686543103213,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$CsIkbSOur3zNWCCTcDRtAbjMCLyihOvbFtkNqiRcCJU"},
{"content":{"body":"ok","msgtype":"m.text"},"ts":1686545336783,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$ZwF5mLsLzDU0mCmxt3qqB8pCUOWe5WPChGMF3l91Z0c"},
{"content":{"body":"should there be a testFloat16TypedArray.js, to follow the pattern?","msgtype":"m.text"},"ts":1686545345813,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$YxLIjG-IibLAzsYdeLestiqfxNx03IdrHAUKtIQiGkk"},
{"content":{"body":"or should the bigint ones be conditionally merged into testTypedArray?","msgtype":"m.text"},"ts":1686545354440,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$WPD7w8o3jXfIDXd4V5ssK7iyjEyJk69I7f0FO-gAMGk"},
{"content":{"body":"if you look at how testFloat16TypedArray.js works, that can't really be a thing - everything consumer would need to be updated, which is strictly more work than just writing manual tests in the first place","msgtype":"m.text"},"ts":1686545429233,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$KWhwnqUZFlXbRwDCZ2xqazxVbUEmH90XsWW9ANlXals"},
{"content":{"body":"the bigint ones can't quite really go in testTypedArray because most of the consumers assume that TAs contain Numbers","msgtype":"m.text"},"ts":1686545456538,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$gvyrGUFpIGTbTgxuIoEzmib4mIOQO1kASlnmvLb-M5E"},
{"content":{"body":"one idea might be to have a separate harness file that appends `Float16Array` into the `floatArrayConstructors` array that's defined by `testTypedArray.js`?","format":"org.matrix.custom.html","formatted_body":"one idea might be to have a separate harness file that appends <code>Float16Array</code> into the <code>floatArrayConstructors</code> array that's defined by <code>testTypedArray.js</code>?","msgtype":"m.text"},"ts":1686562956685,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$FMlUW9t5h7Un0566D_Icfg8h44NyzT88LHebAUw_c-8"},
{"content":{"body":"that way you could do `includes: [testTypedArray.js, testFloat16TypedArray.js]` and `features: [Float16Array]` in your test, and it would Just Work; although it would run all the other typed array tests twice, I guess","format":"org.matrix.custom.html","formatted_body":"that way you could do <code>includes: [testTypedArray.js, testFloat16TypedArray.js]</code> and <code>features: [Float16Array]</code> in your test, and it would Just Work; although it would run all the other typed array tests twice, I guess","msgtype":"m.text"},"ts":1686563025281,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$QYOSQ37cFMiWlE2GxiQa6I710nyYVzCBBSGhJW3MDy8"},
{"content":{"body":"the \"push if global is available\" solution seems reasonable as well, though","msgtype":"m.text"},"ts":1686563049924,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$6QmDFjbQAIwT80G88v5G_Olkl0vnJZFtzv3R7KycfLA"},
{"content":{"body":"as long as we have tests that verify the global is actually there","msgtype":"m.text"},"ts":1686563079552,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$JJwHzh8rmPjtqSqTEC_xuaXERZ9gk8IW1xsC703jKNk"},
{"content":{"body":"yeah I will write separate tests which use the feature flag and test Float16Array-specific stuff","msgtype":"m.text"},"ts":1686586948675,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$3JExjRu-EJZwaeGz4egqDWizvD9CxVD2dBCqRD3Yhbo"},
{"content":{"body":"rounding behavior at the very least","msgtype":"m.text"},"ts":1686586953078,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$S2DKGKQLxs8SrK6189xkhtHKTlUNkPVjoYFMcPdsAdU"},
{"content":{"body":"is there an official like \"test262 es2020\"/etc? I see things like it thrown around a bit but can't find anything","msgtype":"m.text"},"ts":1686590492955,"senderName":"canadahonk","senderId":"@canada_goose:mozilla.org","id":"$vEtHSjWhHubjeRKfPMMvRh_pj9pu_pcbQkRWF-KBZeM"},
{"content":{"body":"as in, run test262 on all the feature set of es2020? I don't think that exists, but there might be one I'm not aware of","msgtype":"m.text"},"ts":1686590680263,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$rG6Udg-KTVKg3TK2Zdkr-LyBSk-ghHSxpznmTOLi0Ao"},
{"content":{"body":"yeah I saw some (niche-r) engines say like \"passing 80% of test262 es2020\"","msgtype":"m.text"},"ts":1686591802861,"senderName":"canadahonk","senderId":"@canada_goose:mozilla.org","id":"$Chxzny-8JYb0xsW-5IHRHsjFfdOR4VZMsWkLYUVB2aY"},
{"content":{"body":" * yeah I saw some (niche-r) engines say like \"passing 80% of test262 es2020\". guessing they just select some dirs","m.new_content":{"body":"yeah I saw some (niche-r) engines say like \"passing 80% of test262 es2020\". guessing they just select some dirs","msgtype":"m.text"},"m.relates_to":{"event_id":"$Chxzny-8JYb0xsW-5IHRHsjFfdOR4VZMsWkLYUVB2aY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1686591812042,"senderName":"canadahonk","senderId":"@canada_goose:mozilla.org","id":"$mE4tX5M17tb2MSJC1bfYYT-N6p_NOobWaVO2TphjZto"},
{"content":{"body":"if I were them I would check out a commit at a particular point in time and use that","msgtype":"m.text"},"ts":1686592008897,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$D3qM8yhkK6dkC0aZHNBVzHVPW_Fx6kEP1eFsJq6_UQY"},
{"content":{"body":"fwiw I checked their runner source, it looks like they tie each feature flag to a rough ES version","msgtype":"m.text"},"ts":1686593160833,"senderName":"canadahonk","senderId":"@canada_goose:mozilla.org","id":"$L9djagbdGfoQmYvvZZ7HzT6iVy1PPvBwqce_SIthjI0"},
{"content":{"body":" * fwiw I checked their runner source, it looks like they tie each feature flag to a rough ES version (https://github.com/boa-dev/boa/blob/main/boa_tester/src/edition.rs)","m.new_content":{"body":"fwiw I checked their runner source, it looks like they tie each feature flag to a rough ES version (https://github.com/boa-dev/boa/blob/main/boa_tester/src/edition.rs)","msgtype":"m.text"},"m.relates_to":{"event_id":"$L9djagbdGfoQmYvvZZ7HzT6iVy1PPvBwqce_SIthjI0","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1686593182998,"senderName":"canadahonk","senderId":"@canada_goose:mozilla.org","id":"$EB_xxq-zQB621xx7DW87oPzHwyjpKGTq11zhMp6mnQY"}
]