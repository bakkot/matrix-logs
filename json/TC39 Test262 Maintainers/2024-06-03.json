[
{"content":{"body":"Hi :) I'd like to bring up `implementation-contributed` again... After some discussions with Yulia and the other implementers, I've come back around to wanting to upstream our `non262` tests to test262. What I'm proposing is to upstream our non262 tests, in test262 format, but without the intention of reworking them to follow exactly what test262 does (e.g. testing a single part of the spec). Based on this, I don't think `staging` is the correct place.\n\nThe benefit to us is that we can simplify our testing, and work towards writing new tests in `staging` as opposed to increasing our corpus of `non262` tests. The benefit we see to the community is that we would increase the set of tests available to other implementations, including tests that test cross-cutting concerns, rather than individual bits of functionality.","format":"org.matrix.custom.html","formatted_body":"<p>Hi :) I'd like to bring up <code>implementation-contributed</code> again... After some discussions with Yulia and the other implementers, I've come back around to wanting to upstream our <code>non262</code> tests to test262. What I'm proposing is to upstream our non262 tests, in test262 format, but without the intention of reworking them to follow exactly what test262 does (e.g. testing a single part of the spec). Based on this, I don't think <code>staging</code> is the correct place.</p>\n<p>The benefit to us is that we can simplify our testing, and work towards writing new tests in <code>staging</code> as opposed to increasing our corpus of <code>non262</code> tests. The benefit we see to the community is that we would increase the set of tests available to other implementations, including tests that test cross-cutting concerns, rather than individual bits of functionality.</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1717425020506,"senderName":"dminor","senderId":"@dminor:mozilla.org","id":"$xr35ednaBfXvHWEL7bwRe4o3sOwF5jvtk6kuIJh5f9s"},
{"content":{"body":"Why wouldn't `staging` be a good place to upstream tests while not having the intention to rework them?","format":"org.matrix.custom.html","formatted_body":"Why wouldn't <code>staging</code> be a good place to upstream tests while not having the intention to rework them?","m.mentions":{},"msgtype":"m.text"},"ts":1717425771430,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$js50wfU4n7FW7iR_OYJUwZtx6GFM8Trmm--T4ZeoKsw"},
{"content":{"body":"If the name is too evocative of eventually removing things, then we could make another directory which is set up the same way technically, which just removes that intentionality. I agree that there shouldn't be an expectation that tests which are shared like this are necessarily eventually reworked somehow or other--that's not the best use of people's time, and would limit the number of tests shared if they had to have that expectation.","m.mentions":{},"msgtype":"m.text"},"ts":1717425875932,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$imfTKQZtqU-o1wP9HddHb64X1utWORdiw0Lb0zUAEhM"},
{"content":{"body":"(probably we should still remove the current contents of implementation-contributed, though, right?)","m.mentions":{},"msgtype":"m.text"},"ts":1717425913092,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$0-DVoIKDBojyiPc1dmgA_4Mbd6P4bCK8qCfdYLXdamU"},
{"content":{"body":"I had thought that folks already agreed on the plan that there is no expectation to rework these shared tests, so I'm having a little bit of trouble understanding dminor 's message.","format":"org.matrix.custom.html","formatted_body":"I had thought that folks already agreed on the plan that there is no expectation to rework these shared tests, so I'm having a little bit of trouble understanding <a href=\"https://matrix.to/#/@dminor:mozilla.org\">dminor</a> 's message.","m.mentions":{"user_ids":["@dminor:mozilla.org"]},"msgtype":"m.text"},"ts":1717425944080,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$HYedHLMzPdqrHhudbEZv22rELDK3K74XJ1h2SEG5mVg"},
{"content":{"body":"Fwiw: https://github.com/tc39/test262/compare/main...impl-sm","m.mentions":{},"msgtype":"m.text"},"ts":1717426364333,"senderName":"Ms2ger","senderId":"@ms2ger:igalia.com","id":"$o0s74LQQswCG6DVF2F52oHkF0tjgCeDVyC-_3eU7iRs"},
{"content":{"body":"Looks like Ms2ger has already done the work :)","m.mentions":{},"msgtype":"m.text"},"ts":1717430494875,"senderName":"dminor","senderId":"@dminor:mozilla.org","id":"$JkaQ2HdwtdUESAaAkcx7F5UhlTi988hOcrcIf3zFyYw"},
{"content":{"body":"I have no strong opinion about where the tests go, I do think that the name `staging` suggests that the tests are intended to be moved into mainstream test262 at some point.","format":"org.matrix.custom.html","formatted_body":"I have no strong opinion about where the tests go, I do think that the name <code>staging</code> suggests that the tests are intended to be moved into mainstream test262 at some point.","m.mentions":{},"msgtype":"m.text"},"ts":1717430590648,"senderName":"dminor","senderId":"@dminor:mozilla.org","id":"$FkpZOiNyypmxAgtUhTZyxPBwk41U0hWqjVWbaMa-l7I"},
{"content":{"body":"Whatever we pick, we should document the expectations around `staging`, if they aren't already.","format":"org.matrix.custom.html","formatted_body":"Whatever we pick, we should document the expectations around <code>staging</code>, if they aren't already.","m.mentions":{},"msgtype":"m.text"},"ts":1717430612365,"senderName":"dminor","senderId":"@dminor:mozilla.org","id":"$shrnZXCah0EhjrxQw8M0PAuyfsXq1WPo9PR1eFd_b_4"},
{"content":{"body":"dminor: https://github.com/tc39/test262/blob/249657722525cc8e43b1ddb91f8df0b4b011fcf6/CONTRIBUTING.md#staging","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@dminor:mozilla.org\">dminor</a>: https://github.com/tc39/test262/blob/249657722525cc8e43b1ddb91f8df0b4b011fcf6/CONTRIBUTING.md#staging","m.mentions":{"user_ids":["@dminor:mozilla.org"]},"msgtype":"m.text"},"ts":1717431715049,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$oDLc_AwlekCemplkXu9JeKDnf9U4XwxZSEqMssj1cXY"},
{"content":{"body":"IIUC sounds like you'd like to change the \"live temporarily\" part, not anything before that","m.mentions":{},"msgtype":"m.text"},"ts":1717431784659,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$-xfsAiIDs4K2_LKznGUNYOVM6asO5si-CXRt7vLdfLc"},
{"content":{"body":"Yes, that sounds right to me. I guess it makes sense for me to open a PR and we can continue any discussion there.","m.mentions":{},"msgtype":"m.text"},"ts":1717432126142,"senderName":"dminor","senderId":"@dminor:mozilla.org","id":"$Cvs6tc04Lh_rPTR7MzEB9uOVMT-lci_eewuMAjiiH7A"},
{"content":{"body":"> <@littledan:matrix.org> (probably we should still remove the current contents of implementation-contributed, though, right?)\n\nI was going to do this once we had something sensible to put there instead, but I wouldn't mind if someone just deleted it now. I don't think the current contents of i-c are runnable","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!dGIsaFIukRWLdpurvh:matrix.org/$0-DVoIKDBojyiPc1dmgA_4Mbd6P4bCK8qCfdYLXdamU?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@littledan:matrix.org\">@littledan:matrix.org</a><br>(probably we should still remove the current contents of implementation-contributed, though, right?)</blockquote></mx-reply>I was going to do this once we had something sensible to put there instead, but I wouldn't mind if someone just deleted it now. I don't think the current contents of i-c are runnable","m.mentions":{"user_ids":["@littledan:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$0-DVoIKDBojyiPc1dmgA_4Mbd6P4bCK8qCfdYLXdamU"}},"msgtype":"m.text"},"ts":1717432248956,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$JifE-2AxudH3BTQTdO_HSuX24yv5VoQen752xNGWMTg"},
{"content":{"body":"> <@shuyuguo:matrix.org> IIUC sounds like you'd like to change the \"live temporarily\" part, not anything before that\n\nFWIW I think this was written with the assumption that it would be tests for new stage 2.7 / 3 features going into staging, and as it's documented elsewhere in that section that staging doesn't \"count\" towards the required coverage for stage 4. I don't think we anticipated a case like Spidermonkey's non262 tests at that time","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!dGIsaFIukRWLdpurvh:matrix.org/$-xfsAiIDs4K2_LKznGUNYOVM6asO5si-CXRt7vLdfLc?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@shuyuguo:matrix.org\">@shuyuguo:matrix.org</a><br>IIUC sounds like you&#39;d like to change the &quot;live temporarily&quot; part, not anything before that</blockquote></mx-reply>FWIW I think this was written with the assumption that it would be tests for new stage 2.7 / 3 features going into staging, and as it's documented elsewhere in that section that staging doesn't \"count\" towards the required coverage for stage 4. I don't think we anticipated a case like Spidermonkey's non262 tests at that time","m.mentions":{"user_ids":["@shuyuguo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$-xfsAiIDs4K2_LKznGUNYOVM6asO5si-CXRt7vLdfLc"}},"msgtype":"m.text"},"ts":1717432364735,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$FGH0YM4Y0w9X31hesTquRWoSpNTvDFCrf1w0beAAnBY"},
{"content":{"body":"> <@pchimento:igalia.com> FWIW I think this was written with the assumption that it would be tests for new stage 2.7 / 3 features going into staging, and as it's documented elsewhere in that section that staging doesn't \"count\" towards the required coverage for stage 4. I don't think we anticipated a case like Spidermonkey's non262 tests at that time\n\nagreed, this warrants a new consensus / discussion. i'm saying mechanically it should be the same as what's described in that section, except the \"live temporarily\" part","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!dGIsaFIukRWLdpurvh:matrix.org/$FGH0YM4Y0w9X31hesTquRWoSpNTvDFCrf1w0beAAnBY?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@pchimento:igalia.com\">@pchimento:igalia.com</a><br>FWIW I think this was written with the assumption that it would be tests for new stage 2.7 / 3 features going into staging, and as it's documented elsewhere in that section that staging doesn't \"count\" towards the required coverage for stage 4. I don't think we anticipated a case like Spidermonkey's non262 tests at that time</blockquote></mx-reply>agreed, this warrants a new consensus / discussion. i'm saying mechanically it should be the same as what's described in that section, except the \"live temporarily\" part","m.mentions":{"user_ids":["@pchimento:igalia.com"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$FGH0YM4Y0w9X31hesTquRWoSpNTvDFCrf1w0beAAnBY"}},"msgtype":"m.text"},"ts":1717432513235,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$vp24KUPYpEJ8YcnNbr4Oj3GRkkRuG6KcG1d7yXeHOjc"},
{"content":{"body":"ptomato: do you have a preference between `staging` and new directory for this?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@pchimento:igalia.com\">ptomato</a>: do you have a preference between <code>staging</code> and new directory for this?","m.mentions":{"user_ids":["@pchimento:igalia.com"]},"msgtype":"m.text"},"ts":1717432703228,"senderName":"dminor","senderId":"@dminor:mozilla.org","id":"$7nvq59hZ59RxQpqOBKnGwydi5gYlRFDuzRscLLxT52M"},
{"content":{"body":"Personally, I don't care that much ðŸ™‚","msgtype":"m.text"},"ts":1717433742235,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$jZc7ldClW-FHosf8Mo_4Rc7yrQH50mHvHcQ_HxIXoP4"},
{"content":{"body":"i-c seems okay to me especially if we're going to put transformed tests from other engines there","msgtype":"m.text"},"ts":1717433780394,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$qD6J69RgdvmNui7DjXo5QEzQVX35UL4kQSOj7NesL9g"},
{"content":{"body":"I wouldn't have a problem with staging, either. You're right that the name suggests temporary, though","msgtype":"m.text"},"ts":1717433827517,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$fBIwm_W_R09EwhCEL2gS2DNMe1jHx72YJ450Xz1viaE"},
{"content":{"body":"I'll open a PR for i-c as that name seems closer to the intended use here. I'll open another PR to remove the current contents, as I believe we have consensus to move ahead with that.","m.mentions":{},"msgtype":"m.text"},"ts":1717433992020,"senderName":"dminor","senderId":"@dminor:mozilla.org","id":"$FYWr0NrAuVnSTz-sao2QBWbfifXproPhorXMVx02c5s"},
{"content":{"body":"dminor: thanks for doing the work for getting more tests in the commons","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@dminor:mozilla.org\">dminor</a>: thanks for doing the work for getting more tests in the commons","m.mentions":{"user_ids":["@dminor:mozilla.org"]},"msgtype":"m.text"},"ts":1717438733983,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$9wVAb4oQ9rywpe0Q6bF7HglW6_GXU3D9GvknFTlVn-M"},
{"content":{"body":"sorry i missed this here, before engaging on the PR","m.mentions":{},"msgtype":"m.text"},"ts":1717445229669,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$fwtq1ZLBGLswUEA0RxeI6i-TLZIPn-HBrHansCf4tM8"},
{"content":{"body":"i think that everything not in the main suite is temporary.","m.mentions":{},"msgtype":"m.text"},"ts":1717445253890,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$noWfYDIH-5QnZ6cqUfmkMy7mdlnGGsiRetMd21dtxVQ"},
{"content":{"body":" * i think that everything not in the main suite is temporary. it's just that the timeline may be long.","m.mentions":{},"m.new_content":{"body":"i think that everything not in the main suite is temporary. it's just that the timeline may be long.","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$noWfYDIH-5QnZ6cqUfmkMy7mdlnGGsiRetMd21dtxVQ","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1717445268451,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$XacaW7GE4dsnkS8nsUO-FmT84RzqHxbf_rsx47ZEGIw"}
]