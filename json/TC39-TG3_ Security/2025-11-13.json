[
{"content":{"body":"There are several that set internal slots:\n- https://tc39.es/ecma262/#sec-date.prototype.setdate (and all other `Date.setFoo()` methods)\n- https://tc39.es/ecma262/#sec-proxy.revocable 's `revoke()`\n\nIt will also still be an error after we clear out the held stack frames, and will still have the internal slot.","format":"org.matrix.custom.html","formatted_body":"<p>There are several that set internal slots:</p>\n<ul>\n<li>https://tc39.es/ecma262/#sec-date.prototype.setdate (and all other <code>Date.setFoo()</code> methods)</li>\n<li>https://tc39.es/ecma262/#sec-proxy.revocable 's <code>revoke()</code></li>\n</ul>\n<p>It will also still be an error after we clear out the held stack frames, and will still have the internal slot.</p>\n","m.mentions":{"user_ids":["@ljharb:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$7xPa_fFGUoF43n7ei7yf5HQiZjr9L25ucDLh6c0t37E"}},"msgtype":"m.text"},"ts":1762995523446,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$RWHBPH0gtPblFcb5QCl7x3aZJVVBlBRO2qAXexcR5DI"},
{"content":{"body":"As well as like every mutation method on Map/Set","m.mentions":{},"msgtype":"m.text"},"ts":1762995707372,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$JWICPBKmzyKh3Q5Y4SpDCcEBmML0tmiE_hIIjFtABF8"},
{"content":{"body":"While I agree some objects have internal slots with methods that mutate them, I don't consider error instances as having mutable state. A discussion we had for `Error.isError` was that errors can conceptually be considered pass-by-copy objects for which a membrane could create a new instance of. Map/Set/Date are all objects which are understood to contain mutable state (unfortunate for Date). I won't get into the horrible things Proxy let you do (and which is why we had brought up the stabilize proposal for them).","format":"org.matrix.custom.html","formatted_body":"While I agree some objects have internal slots with methods that mutate them, I don't consider error instances as having mutable state. A discussion we had for <code>Error.isError</code> was that errors can conceptually be considered pass-by-copy objects for which a membrane could create a new instance of. Map/Set/Date are all objects which are understood to contain mutable state (unfortunate for Date). I won't get into the horrible things Proxy let you do (and which is why we had brought up the stabilize proposal for them).","m.mentions":{},"msgtype":"m.text"},"ts":1763001923154,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$91MW9qU9h1VwCKh8DRtwiTtdVMwCw9o7qoAkCAJipFI"}
]