[
{"content":{"body":"While I might make some syntactic choices differently from Ron, as well as differently from the main pattern matching proposal, it feels like there is a lot in common between these various attempts and we just need to work out some agreeable details/slicing up of the space. There are a lot of options for the choice of which level(s) the “opt in” happens to the “new mode” of pattern matching as opposed to destructuring/switch, and it’s great that Ron is exploring the area.","msgtype":"m.text"},"ts":1663075848130,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$cPTI5uZUbedvRRr1942mc4dxb5LABKXZGNgFNPmzeOU"},
{"content":{"body":"Extractors seem like a great place to start; maybe preceding their invocation with some syntactic element indicating that we are switching into pattern matching mode is part of the solution.","msgtype":"m.text"},"ts":1663075925707,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$ibVPwjnl5YUfbYzwWGBAPeDppIFNcwyIYIUtb8Xrh38"},
{"content":{"body":"E.g. `let when Option.Some(x) = y`","format":"org.matrix.custom.html","formatted_body":"E.g. <code>let when Option.Some(x) = y</code>","msgtype":"m.text"},"ts":1663076244083,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$CKHSkoWo4vVqMYry5R8IAw_eOHHzcntr3pap_gnuis0"},
{"content":{"body":"IMO this is a post Stage 1 question ","format":"org.matrix.custom.html","formatted_body":"IMO this is a post Stage 1 question","msgtype":"m.text"},"ts":1663076256709,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$NMGN9CHySmriwnAFyQqaTdNE5-3tda8cCcNyV18yvH8"},
{"content":{"body":"`is` seems like a fine name for this keyword, as in Ron’s gist, or maybe `matches`","format":"org.matrix.custom.html","formatted_body":"<code>is</code> seems like a fine name for this keyword, as in Ron’s gist, or maybe <code>matches</code>","msgtype":"m.text"},"ts":1663076310008,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$6EORUPIXcrVibrbht31q-ij_0hTGfdOnZ3kgVnftUBU"},
{"content":{"body":"The question of how to match against variables like Infinity remains tricky; there are real downsides to everything proposed so far. It’s far from clear to me that a mode switch relates to the solution very much, since both destructuring and pattern matching bind variables. And special casing three variable names feels ad hoc, though maybe it’s a good compromise","msgtype":"m.text"},"ts":1663076530439,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$YRYN50LvNH2wrMQSLjkEhGeyouBTOWDcNNA7fLvYDzs"},
{"content":{"body":"* The question of how to match against variables like Infinity remains tricky; there are real downsides to everything proposed so far. It’s far from clear to me that a mode switch relates to the solution very much, since both destructuring and pattern matching bind variables. And special casing three variable names feels ad hoc, though maybe it’s a good compromise","m.new_content":{"body":"The question of how to match against variables like Infinity remains tricky; there are real downsides to everything proposed so far. It’s far from clear to me that a mode switch relates to the solution very much, since both destructuring and pattern matching bind variables. And special casing three variable names feels ad hoc, though maybe it’s a good compromise","msgtype":"m.text"},"m.relates_to":{"event_id":"$YRYN50LvNH2wrMQSLjkEhGeyouBTOWDcNNA7fLvYDzs","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1663076547647,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$A8Kh_M-WjDqyGVBiG_93jGCrvIgDUfLbVp8mXXFW_Qw"},
{"content":{"body":"I do think it's a good compromise; *nobody* actually binds to Infinity or undefined (or when they do bind to the latter, it's to set it to undefined); to a first approximation (and arguably a second) they're constants.","format":"org.matrix.custom.html","formatted_body":"I do think it's a good compromise; <em>nobody</em> actually binds to Infinity or undefined (or when they do bind to the latter, it's to set it to undefined); to a first approximation (and arguably a second) they're constants.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"I do think it's a good compromise; *nobody* actually binds to Infinity or undefined (or when they do bind to the latter, it's to set it to undefined); to a first approximation (and arguably a second) they're constants.","mimetype":"text/plain"},{"body":"I do think it's a good compromise; <em>nobody</em> actually binds to Infinity or undefined (or when they do bind to the latter, it's to set it to undefined); to a first approximation (and arguably a second) they're constants.","mimetype":"text/html"}]},"ts":1663104617101,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$zN-HXPK9x-ang98z762kBA63T6I4AcmwVJTwAvg6OtY"},
{"content":{"body":"That said, based on the last meeting we had with Yulia, we might moot the issue anyway, if we move binding to a different form and let plain idents work as custom matchers.","msgtype":"m.text","org.matrix.msc1767.text":"That said, based on the last meeting we had with Yulia, we might moot the issue anyway, if we move binding to a different form and let plain idents work as custom matchers."},"ts":1663104666855,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$wiAea46qnEa34j_quhNtcsN2P58B7-chVBLJjLlKBPg"},
{"content":{"body":"actually let me actually go file those issues","msgtype":"m.text","org.matrix.msc1767.text":"actually let me actually go file those issues"},"ts":1663104694112,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$Ng5VR99rdxRCu1o51sRR_qpZpUWsvNVJRh2zYK5uMlo"},
{"content":{"body":"I’m looking forward to seeing a description of that, since I don’t understand what you mean","msgtype":"m.text"},"ts":1663105150898,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$lhTO3DrtPBtsy4oKKPf1XyzikM-fCjLFa40zdxlzoDk"},
{"content":{"body":"> <@tabatkins:matrix.org> I do think it's a good compromise; *nobody* actually binds to Infinity or undefined (or when they do bind to the latter, it's to set it to undefined); to a first approximation (and arguably a second) they're constants.\n\nReally, this is a very small point and not at all central to the difference between Ron’s post and the pattern matching proposal, IMO ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!XyZDxqjPFLRXDgUzhD%3Amatrix.org/%24zN-HXPK9x-ang98z762kBA63T6I4AcmwVJTwAvg6OtY\">In reply to</a> <a href=\"https://matrix.to/#/@tabatkins:matrix.org\">@tabatkins:matrix.org</a><br>I do think it's a good compromise; <em>nobody</em> actually binds to Infinity or undefined (or when they do bind to the latter, it's to set it to undefined); to a first approximation (and arguably a second) they're constants.</blockquote></mx-reply>Really, this is a very small point and not at all central to the difference between Ron’s post and the pattern matching proposal, IMO","m.relates_to":{"m.in_reply_to":{"event_id":"$zN-HXPK9x-ang98z762kBA63T6I4AcmwVJTwAvg6OtY"}},"msgtype":"m.text"},"ts":1663105284265,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$07CiKc_e9tXWIH2SWKiykFgrJrxdNiztB1insO5APDY"},
{"content":{"body":"agreed","msgtype":"m.text","org.matrix.msc1767.text":"agreed"},"ts":1663105304510,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$l7BPN_9MfbJodfHStkBH3pozPK8F0asuV6xTRJFb54A"},
{"content":{"body":"Above I was just arguing against the \"do pattern matching within destructuring\", because there are too many ways that goes very wrong.","msgtype":"m.text","org.matrix.msc1767.text":"Above I was just arguing against the \"do pattern matching within destructuring\", because there are too many ways that goes very wrong."},"ts":1663105341277,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$XI2GxBiVclrao_bOnCSzaYwmcFjD38nqP5tpor-8REQ"},
{"content":{"body":"Hmm, do think the explicit keyword to set it off provides a good mitigation?","msgtype":"m.text"},"ts":1663105571039,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$oufXk1txCYKPm_vHagmrMdOWeBkW96omYdVCF2TALI8"},
{"content":{"body":"I guess I am having trouble understanding the ways it goes wrong","msgtype":"m.text"},"ts":1663105588440,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$ZdrMLUSmf9wim7e3ytHm_meT4xM_YjceU15_O30Bl3g"}
]