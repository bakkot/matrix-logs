[
{"content":{"body":"I do find it interesting that every conversation I've had with folks in the JS community about standardizing enums ends up with requests to consider ADT enums. ","msgtype":"m.text"},"ts":1637693581769,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$1wD4jEFdjlWqdcO15tow1m0NHs0egrpBCMK5EkswoQQ"},
{"content":{"body":"I've been asking folks on V8 to consider heuristics to improve ICs based on ADT-like discriminants for years, because code like TS's `Node` is essentially an ADT, but so much of our codebase is megamorphic despite the majority of megamorphic access being against a discriminant field (`kind`). My hope is that if ADT enums become a thing, that they could be optimized around the discriminant in ways that regular objects can't.","format":"org.matrix.custom.html","formatted_body":"I've been asking folks on V8 to consider heuristics to improve ICs based on ADT-like discriminants for years, because code like TS's <code>Node</code> is essentially an ADT, but so much of our codebase is megamorphic despite the majority of megamorphic access being against a discriminant field (<code>kind</code>). My hope is that if ADT enums become a thing, that they could be optimized around the discriminant in ways that regular objects can't.","msgtype":"m.text"},"ts":1637693961807,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$KIC6Q7bhsOk5AnD-krBrUKftcV7SscDE_NG-bN2j87s"}
]