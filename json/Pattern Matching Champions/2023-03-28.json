[
{"content":{"body":"TabAtkins: I posted a reply to your comment on #281 (https://github.com/tc39/proposal-pattern-matching/issues/281#issuecomment-1487092535), but think it might be better to go into more detail here. I have some concerns about the the proposed grammar in your gist. Some of it seems unnecessary and it is quite heavy-handed with the use of `when`. ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@tabatkins:matrix.org\">TabAtkins</a>: I posted a reply to your comment on #281 (https://github.com/tc39/proposal-pattern-matching/issues/281#issuecomment-1487092535), but think it might be better to go into more detail here. I have some concerns about the the proposed grammar in your gist. Some of it seems unnecessary and it is quite heavy-handed with the use of <code>when</code>.","msgtype":"m.text"},"ts":1680017603772,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$Pjoeu1WzwkE6h7HuWAS-G5EY6WBxRDMFnf6YBJS-YWY"},
{"content":{"body":"JS syntax is essentially designed to be read in a way that is a rough approximation of English grammar rules, so a phrase like:\n```\nif match(when(pattern) = expression) {\n}\n```\nReads like: \"If match when pattern equals expression, then ...\"\n\nWhile:\n```\nif (expression is pattern) {\n}\n```\nIs far easier to interpret as the English phrase \"If expression is pattern, then\"","format":"org.matrix.custom.html","formatted_body":"<p>JS syntax is essentially designed to be read in a way that is a rough approximation of English grammar rules, so a phrase like:</p>\n<pre><code>if match(when(pattern) = expression) {\n}\n</code></pre>\n<p>Reads like: &quot;If match when pattern equals expression, then ...&quot;</p>\n<p>While:</p>\n<pre><code>if (expression is pattern) {\n}\n</code></pre>\n<p>Is far easier to interpret as the English phrase &quot;If expression is pattern, then&quot;</p>\n","msgtype":"m.text"},"ts":1680017821820,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$0dTHfVq5QBuEXgz9qN5bijnXuu3w74T5JhTXsmYlpeM"},
{"content":{"body":"Yeah I'm drafting a response","msgtype":"m.text"},"ts":1680017951234,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$wCq7IbRpjnwhwWl0i9_y_blCpqoVYWtwwsNZ1Erw0BQ"},
{"content":{"body":"`match` works well as an expression form on its own since it also follows English grammar rules:\n\n```\nlet x = match (expression) {\n  when true: doA();\n  when false: doB();\n};\n```\nWhich can be read as: \"Let `x` [be the result of] match[ing] expression.\nWhen [`x` is] `true`, [then] `doA()`.\nWhen [`x` is] `false`, [then] `doB()`.\n[Otherwise, throw an error]\"","format":"org.matrix.custom.html","formatted_body":"<p><code>match</code> works well as an expression form on its own since it also follows English grammar rules:</p>\n<pre><code>let x = match (expression) {\n  when true: doA();\n  when false: doB();\n};\n</code></pre>\n<p>Which can be read as: &quot;Let <code>x</code> [be the result of] match[ing] expression.<br>When [<code>x</code> is] <code>true</code>, [then] <code>doA()</code>.<br>When [<code>x</code> is] <code>false</code>, [then] <code>doB()</code>.<br>[Otherwise, throw an error]&quot;</p>\n","msgtype":"m.text"},"ts":1680018010207,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$MTkgDDIKK-JdmTyq6FEob09xEgg2aBczv1GkM66ul8s"},
{"content":{"body":" * `match` works well as an expression form on its own since it also follows English grammar rules:\n\n```\nlet x = match (expression) {\n  when true: doA();\n  when false: doB();\n};\n```\n\nWhich can be read as: \"Let `x` \\[be the result of\\] match\\[ing\\] `expression`.\nWhen \\[`x` is\\] `true`, \\[then\\] `doA()`.\nWhen \\[`x` is\\] `false`, \\[then\\] `doB()`.\n\\[Otherwise, throw an error\\]\"","format":"org.matrix.custom.html","formatted_body":" * <p><code>match</code> works well as an expression form on its own since it also follows English grammar rules:</p>\n<pre><code>let x = match (expression) {\n  when true: doA();\n  when false: doB();\n};\n</code></pre>\n<p>Which can be read as: &quot;Let <code>x</code> [be the result of] match[ing] <code>expression</code>.<br>When [<code>x</code> is] <code>true</code>, [then] <code>doA()</code>.<br>When [<code>x</code> is] <code>false</code>, [then] <code>doB()</code>.<br>[Otherwise, throw an error]&quot;</p>\n","m.new_content":{"body":"`match` works well as an expression form on its own since it also follows English grammar rules:\n\n```\nlet x = match (expression) {\n  when true: doA();\n  when false: doB();\n};\n```\n\nWhich can be read as: \"Let `x` \\[be the result of\\] match\\[ing\\] `expression`.\nWhen \\[`x` is\\] `true`, \\[then\\] `doA()`.\nWhen \\[`x` is\\] `false`, \\[then\\] `doB()`.\n\\[Otherwise, throw an error\\]\"","format":"org.matrix.custom.html","formatted_body":"<p><code>match</code> works well as an expression form on its own since it also follows English grammar rules:</p>\n<pre><code>let x = match (expression) {\n  when true: doA();\n  when false: doB();\n};\n</code></pre>\n<p>Which can be read as: &quot;Let <code>x</code> [be the result of] match[ing] <code>expression</code>.<br>When [<code>x</code> is] <code>true</code>, [then] <code>doA()</code>.<br>When [<code>x</code> is] <code>false</code>, [then] <code>doB()</code>.<br>[Otherwise, throw an error]&quot;</p>\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$MTkgDDIKK-JdmTyq6FEob09xEgg2aBczv1GkM66ul8s","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1680018023607,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$nEBa7cQJfqXYLkz8QoK1zn5qecB31CpiDFirhavGq4o"},
{"content":{"body":"My biggest concern with your proposed syntax is that it isn't very \"grok\"-able, which was something yulia wanted to make sure we considered.","format":"org.matrix.custom.html","formatted_body":"My biggest concern with your proposed syntax is that it isn't very &quot;grok&quot;-able, which was something <a href=\"https://matrix.to/#/@yulia:mozilla.org\">yulia</a> wanted to make sure we considered.","msgtype":"m.text"},"ts":1680018083815,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$0y9nfziW_o6WPgSvqQjVI21g1alNEPvtk7rnhjXHSSU"},
{"content":{"body":"I've not had time to read that thread properly but I will say from a quick glance that `*if* match(*when*` did make me feel like \"well that won't work\"","format":"org.matrix.custom.html","formatted_body":"I've not had time to read that thread properly but I will say from a quick glance that <code>*if* match(*when*</code> did make me feel like &quot;well that won't work&quot;","msgtype":"m.text"},"ts":1680019449692,"senderName":"rkirsling","senderId":"@rkirsling:matrix.org","id":"$uDlsVyhOEHsPVlcoEDtGF-b05Y68OX2T-e9BPNCapJA"},
{"content":{"body":" * I've not had time to read that thread properly but I will say from a quick glance that *if* match(*when* did make me feel like \"well that won't work\"","format":"org.matrix.custom.html","formatted_body":" * I've not had time to read that thread properly but I will say from a quick glance that <em>if</em> match(<em>when</em> did make me feel like &quot;well that won't work&quot;","m.new_content":{"body":"I've not had time to read that thread properly but I will say from a quick glance that *if* match(*when* did make me feel like \"well that won't work\"","format":"org.matrix.custom.html","formatted_body":"I've not had time to read that thread properly but I will say from a quick glance that <em>if</em> match(<em>when</em> did make me feel like &quot;well that won't work&quot;","msgtype":"m.text"},"m.relates_to":{"event_id":"$uDlsVyhOEHsPVlcoEDtGF-b05Y68OX2T-e9BPNCapJA","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1680019463702,"senderName":"rkirsling","senderId":"@rkirsling:matrix.org","id":"$vFdcYeYg0yI8A6f6kwA3wZ4u3j0Sk8PIFMi_17Tt-AM"},
{"content":{"body":" * I've not had time to read that thread properly but I will say from a quick glance that \"**if** match **when**\" did make me feel like \"well that won't work\"","format":"org.matrix.custom.html","formatted_body":" * I've not had time to read that thread properly but I will say from a quick glance that &quot;<strong>if</strong> match <strong>when</strong>&quot; did make me feel like &quot;well that won't work&quot;","m.new_content":{"body":"I've not had time to read that thread properly but I will say from a quick glance that \"**if** match **when**\" did make me feel like \"well that won't work\"","format":"org.matrix.custom.html","formatted_body":"I've not had time to read that thread properly but I will say from a quick glance that &quot;<strong>if</strong> match <strong>when</strong>&quot; did make me feel like &quot;well that won't work&quot;","msgtype":"m.text"},"m.relates_to":{"event_id":"$uDlsVyhOEHsPVlcoEDtGF-b05Y68OX2T-e9BPNCapJA","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1680019471300,"senderName":"rkirsling","senderId":"@rkirsling:matrix.org","id":"$G-WqukqCRGFsoegVTe8IeZJap_TwSidr1kXYwy7_ec0"}
]