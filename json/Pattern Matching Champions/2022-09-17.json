[
{"content":{"body":"(that is to say, yes, we will need some sort of keyword to distinguish pattern-matching from destructuring in contexts like variable assignment, when we add pattern matching there. but that's not connected to the question of how irrefutable matchers are spelled, afaict?)","msgtype":"m.text","org.matrix.msc1767.text":"(that is to say, yes, we will need some sort of keyword to distinguish pattern-matching from destructuring in contexts like variable assignment, when we add pattern matching there. but that's not connected to the question of how irrefutable matchers are spelled, afaict?)"},"ts":1663376071789,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$EAHKmA1IYMyI_gNSRwGqSiPRsFiTAaToTPgx8-lxXak"},
{"content":{"body":"> <@tabatkins:matrix.org> Oh gosh and \"reuse destructuring\" means that `{x:Infinity}` gets us the no-op binding (technically binds to `Infinity`, but that doesn't actually accomplish anything), but `{x:-Infinity}` gets us a value test (since it's an invalid destructuring pattern). Yeah this is just completely and totally a no-go.\n\nI completely agree, but it was worth investigating to show exactly how bad the situation is. I'm firmly in the camp of \"don't try to shoehorn pattern matching into existing destructuring syntax\".","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!XyZDxqjPFLRXDgUzhD:matrix.org/$oyZqXHs2Pq082QqWXUB4o_Ah-U5gMZTJHOFmxqA0sE8?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@tabatkins:matrix.org\">@tabatkins:matrix.org</a><br>Oh gosh and \"reuse destructuring\" means that <code>{x:Infinity}</code> gets us the no-op binding (technically binds to <code>Infinity</code>, but that doesn't actually accomplish anything), but <code>{x:-Infinity}</code> gets us a value test (since it's an invalid destructuring pattern). Yeah this is just completely and totally a no-go.</blockquote></mx-reply>I completely agree, but it was worth investigating to show exactly how bad the situation is. I'm firmly in the camp of &quot;don't try to shoehorn pattern matching into existing destructuring syntax&quot;.","m.relates_to":{"m.in_reply_to":{"event_id":"$oyZqXHs2Pq082QqWXUB4o_Ah-U5gMZTJHOFmxqA0sE8"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@tabatkins:matrix.org> Oh gosh and \"reuse destructuring\" means that `{x:Infinity}` gets us the no-op binding (technically binds to `Infinity`, but that doesn't actually accomplish anything), but `{x:-Infinity}` gets us a value test (since it's an invalid destructuring pattern). Yeah this is just completely and totally a no-go.\n\nI completely agree, but it was worth investigating to show exactly how bad the situation is. I'm firmly in the camp of \"don't try to shoehorn pattern matching into existing destructuring syntax\".","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!XyZDxqjPFLRXDgUzhD:matrix.org/$oyZqXHs2Pq082QqWXUB4o_Ah-U5gMZTJHOFmxqA0sE8?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@tabatkins:matrix.org\">@tabatkins:matrix.org</a><br>Oh gosh and \"reuse destructuring\" means that <code>{x:Infinity}</code> gets us the no-op binding (technically binds to <code>Infinity</code>, but that doesn't actually accomplish anything), but <code>{x:-Infinity}</code> gets us a value test (since it's an invalid destructuring pattern). Yeah this is just completely and totally a no-go.</blockquote></mx-reply>I completely agree, but it was worth investigating to show exactly how bad the situation is. I'm firmly in the camp of &quot;don't try to shoehorn pattern matching into existing destructuring syntax&quot;.","mimetype":"text/html"}]},"ts":1663390618359,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$loy1gekp4paQuegqGZVGui6u4g0rMx5FWZg7fifQjWA"}
]