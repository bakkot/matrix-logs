[
{"content":{"body":"> <@ljharb:matrix.org> `{ length: 0 }` needs to match an empty string, for example\n\nWe don't do type coerce, but do we need to do primitive boxing?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!XyZDxqjPFLRXDgUzhD:matrix.org/$96EhvX3rIA5zLi51nM05LeJu-tI5OFykma6St1Q6X8s?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@ljharb:matrix.org\">@ljharb:matrix.org</a><br><code>{ length: 0 }</code> needs to match an empty string, for example</blockquote></mx-reply>We don't do type coerce, but do we need to do primitive boxing?","m.mentions":{"user_ids":["@ljharb:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$96EhvX3rIA5zLi51nM05LeJu-tI5OFykma6St1Q6X8s"}},"msgtype":"m.text"},"ts":1712631429263,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$8SwfIXO3EbFemmHCsgwjVJlC--kQW335lVQ6IZLF-ww"},
{"content":{"body":"i mean, we could decide not to. but that would be a radical departure from the rest of the language.","m.mentions":{},"msgtype":"m.text"},"ts":1712631455693,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$JM1Xi037Xl3F2ks8e3lKTWe17IC4VncI0OTH9C6a0AM"},
{"content":{"body":"if you can do `x.length` on it, and you can do `const { length } = x` on it, you should be able to `{ length }` pattern match on it","format":"org.matrix.custom.html","formatted_body":"if you can do <code>x.length</code> on it, and you can do <code>const { length } = x</code> on it, you should be able to <code>{ length }</code> pattern match on it","m.mentions":{},"msgtype":"m.text"},"ts":1712631478090,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$wWuSrW965Sk-sqpQ42y41-oQvbs-JeQmN4styuyqKuw"},
{"content":{"body":"so i think \"consistency with destructuring\" forces us to do boxing, full stop","m.mentions":{},"msgtype":"m.text"},"ts":1712631490410,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$xIeWpgq64g-0Xbfi-qVcrY1IUowsHG4Gyug-djcSfVc"},
{"content":{"body":"let's decide it next group meeting","m.mentions":{},"msgtype":"m.text"},"ts":1712631610273,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$wNWLyL-wJfX2DVF6fA77f7QQn7qF-4IisbQaWrF5Z9I"},
{"content":{"body":"sure, that's fine, but i'm not clear on what possible argument could justify \"different from destructuring\"","m.mentions":{},"msgtype":"m.text"},"ts":1712631638329,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$IAhXWtC05U_4LstHMQ9UN6WMtwjflzsghggqreH2mx8"},
{"content":{"body":"> <@rbuckton:matrix.org> Probably still a little too early for a thorough review of the spec, but I noticed that https://tc39.es/proposal-pattern-matching/#sec-match-expression-clauses-runtime-semantics-evaluation only cares about ECMAScript language values rather than completion values, which doesn't work as it prevents ThrowCompletion from bubbling out of match (or `return`/`break`/`continue` in the event `do` expressions are supported).\n\nreturns either a normal completion containing either an ECMAScript language value or not-matched, or an abrupt completion","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!XyZDxqjPFLRXDgUzhD:matrix.org/$Bpc1iurBfj2fQQA4LDMjbD-GfXwU0eoB_SpUI1Aw8d8?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@rbuckton:matrix.org\">@rbuckton:matrix.org</a><br>Probably still a little too early for a thorough review of the spec, but I noticed that https://tc39.es/proposal-pattern-matching/#sec-match-expression-clauses-runtime-semantics-evaluation only cares about ECMAScript language values rather than completion values, which doesn't work as it prevents ThrowCompletion from bubbling out of match (or <code>return</code>/<code>break</code>/<code>continue</code> in the event <code>do</code> expressions are supported).</blockquote></mx-reply>returns either a normal completion containing either an ECMAScript language value or not-matched, or an abrupt completion","m.mentions":{"user_ids":["@rbuckton:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$Bpc1iurBfj2fQQA4LDMjbD-GfXwU0eoB_SpUI1Aw8d8"}},"msgtype":"m.text"},"ts":1712631660825,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$1YBmUNVOg1_9T9Ovf52TUzs5NAzGDhAQpWO4K3hFrTc"},
{"content":{"body":"also MM just posted an issue moments ago, and i'm not sure i understand it, but it seems like it's in direct conflict with the \"bindings by default\" change we made in response to yulia's feedback","m.mentions":{},"msgtype":"m.text"},"ts":1712631671351,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$XIDE1JyYGzGQ0L_u5uBnfehn2YGYmJeugyKGC1HgJ0s"},
{"content":{"body":"Why do you say so? It contains Abrupt Completion","m.mentions":{},"msgtype":"m.text"},"ts":1712631672910,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$yQCIu-kIe7gf5P8f14mc6tndXXhaEk_kIlkVPcE6JoA"}
]