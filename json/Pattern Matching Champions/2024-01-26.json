[
{"content":{"body":"Jack Works: I also don't think we actually need the note about `document.all` there in InvokeCustomMatcher; it's a bizarre legacy piece of the web platform that produces weird behavior *everywhere*. We're not particularly special here. ^_^","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jackworks:matrix.org\">Jack Works</a>: I also don't think we actually need the note about <code>document.all</code> there in InvokeCustomMatcher; it's a bizarre legacy piece of the web platform that produces weird behavior <em>everywhere</em>. We're not particularly special here. ^_^","m.mentions":{"user_ids":["@jackworks:matrix.org"]},"msgtype":"m.text"},"ts":1706227544370,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$RV1sRxQLNk1BAB2vpLFkSh8Kigxsj8PgMOB0RRFj9hs"},
{"content":{"body":"(Tho also, in that example the second `if()` will only match if you write `null is f(let html, ...)`, since there will be more elements in the iterator than just the html element.)","format":"org.matrix.custom.html","formatted_body":"(Tho also, in that example the second <code>if()</code> will only match if you write <code>null is f(let html, ...)</code>, since there will be more elements in the iterator than just the html element.)","m.mentions":{},"msgtype":"m.text"},"ts":1706227609125,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$lZQrEhct3VpvPDMSZu1p5-3V6feRHNT3xGLk22ipGcg"},
{"content":{"body":"> <@rbuckton:matrix.org> What is the purpose of `receiver` in a custom matcher? \n\nthis is required to make dotted custom matchers working correctly.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!XyZDxqjPFLRXDgUzhD:matrix.org/$TL581_dIUR49BuPkZmm5u1vyKPI0OO7JBRYNBOArD5Q?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@rbuckton:matrix.org\">@rbuckton:matrix.org</a><br />What is the purpose of <code>receiver</code> in a custom matcher?</blockquote></mx-reply>this is required to make dotted custom matchers working correctly.","m.relates_to":{"m.in_reply_to":{"event_id":"$TL581_dIUR49BuPkZmm5u1vyKPI0OO7JBRYNBOArD5Q"}},"msgtype":"m.text"},"ts":1706234837039,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$w9yieBPPJ0Kjg65xe9MKMYpnPOnUqDWbNsTGgXcQvXo"},
{"content":{"body":"for code `when A.B(let c):`, we do `let receiver = A.B; let matcher = Get(receiver, Symbol.customMatcher)`, then `Call(matcher, receiver, args)`. If we don't have receiver, all custom matchers will be called without `this`.","format":"org.matrix.custom.html","formatted_body":"for code <code>when A.B(let c):</code>, we do <code>let receiver = A.B; let matcher = Get(receiver, Symbol.customMatcher)</code>, then <code>Call(matcher, receiver, args)</code>. If we don't have receiver, all custom matchers will be called without <code>this</code>.","m.mentions":{},"msgtype":"m.text"},"ts":1706234982572,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$oUvBktev4zQ-8BPgzC6hOuxVVur5xLVC9Vw5dAbNGwI"}
]