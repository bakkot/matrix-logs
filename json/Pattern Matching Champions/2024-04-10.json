[
{"content":{"body":"It occurred to me while responding to https://github.com/tc39/proposal-pattern-matching/issues/322 that we could potentially simplify a pattern like `Number and let x` as `Number x`, i.e., treat `Pattern identifer` as `Pattern and let identifier`. You still need `let` for cases where you don't need some other pattern, but it would cut down on repetition in other places:\n\n```js\nmatch (command) {\n  [(\"up\" | \"down\" | \"left\" | \"right\") and let direction, Number and let steps]: handleMove(direction, steps);\n  [\"jump\", Number and let howHigh]: jump(howHigh);\n}\n```\n\nCould be simplified to\n```js\nmatch (command) {\n  [(\"up\" | \"down\" | \"left\" | \"right\") direction, Number steps]: handleMove(direction, steps);\n  [\"jump\", Number howHigh]: jump(howHigh);\n}\n```\n\nThough if we did want to support that, I'd almost want it to be a follow on so the community would have time to understand how `let`/`const` patterns work first.","format":"org.matrix.custom.html","formatted_body":"<p>It occurred to me while responding to https://github.com/tc39/proposal-pattern-matching/issues/322 that we could potentially simplify a pattern like <code>Number and let x</code> as <code>Number x</code>, i.e., treat <code>Pattern identifer</code> as <code>Pattern and let identifier</code>. You still need <code>let</code> for cases where you don't need some other pattern, but it would cut down on repetition in other places:</p>\n<pre><code class=\"language-js\">match (command) {\n  [(\"up\" | \"down\" | \"left\" | \"right\") and let direction, Number and let steps]: handleMove(direction, steps);\n  [\"jump\", Number and let howHigh]: jump(howHigh);\n}\n</code></pre>\n<p>Could be simplified to</p>\n<pre><code class=\"language-js\">match (command) {\n  [(\"up\" | \"down\" | \"left\" | \"right\") direction, Number steps]: handleMove(direction, steps);\n  [\"jump\", Number howHigh]: jump(howHigh);\n}\n</code></pre>\n<p>Though if we did want to support that, I'd almost want it to be a follow on so the community would have time to understand how <code>let</code>/<code>const</code> patterns work first.</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1712712793268,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$NdRZdxV3oaDKvqVmkDYWB4ujhI1e8Wfin8hl3VvSY4Q"},
{"content":{"body":"I should note that this is actually somewhat similar to C# variable patterns as well, since C# variable patterns are actually `type identifier`, where `var` is a keyword that means \"infer the type\".","format":"org.matrix.custom.html","formatted_body":"I should note that this is actually somewhat similar to C# variable patterns as well, since C# variable patterns are actually <code>type identifier</code>, where <code>var</code> is a keyword that means \"infer the type\".","m.mentions":{},"msgtype":"m.text"},"ts":1712712872950,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$wxfkertytRQId7cDetNOz3vC88yOyKQ3OYYzZDFigJw"}
]