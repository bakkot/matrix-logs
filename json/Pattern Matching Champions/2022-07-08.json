[
{"content":{"body":"i filed https://github.com/tc39/proposal-pattern-matching/pull/263 - i'm going to merge it later this evening if anyone wants to comment in the meantime, and then i'll file the relevant issues and add the agenda item for stage 2. (we can always retract the request later)","msgtype":"m.text","org.matrix.msc1767.text":"i filed https://github.com/tc39/proposal-pattern-matching/pull/263 - i'm going to merge it later this evening if anyone wants to comment in the meantime, and then i'll file the relevant issues and add the agenda item for stage 2. (we can always retract the request later)"},"ts":1657251896556,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$RxQkRAFkIWgRwblJm1Fbje9y8YDvti0pK2Cz6M-C7-w"},
{"content":{"body":"ok - i've merged that PR, and updated https://github.com/tc39/proposal-pattern-matching/issues/175 to point to the 5 open questions, all of which i consider stage 2 concerns. there's 3 spec TODO comments for me that i'll get to in the coming days. If there's additional TODOs, please file an issue, or, push up an editor's emu-note with a TODO in it.\n\ni've also added \"pattern matching for stage 2\" to the agenda with a 60 minute timebox, with me to present. Please directly push up a change to the agenda if you'd like to help me present, and please discuss here if the timebox should be longer or shorter.","msgtype":"m.text","org.matrix.msc1767.text":"ok - i've merged that PR, and updated https://github.com/tc39/proposal-pattern-matching/issues/175 to point to the 5 open questions, all of which i consider stage 2 concerns. there's 3 spec TODO comments for me that i'll get to in the coming days. If there's additional TODOs, please file an issue, or, push up an editor's emu-note with a TODO in it.\n\ni've also added \"pattern matching for stage 2\" to the agenda with a 60 minute timebox, with me to present. Please directly push up a change to the agenda if you'd like to help me present, and please discuss here if the timebox should be longer or shorter."},"ts":1657257755397,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$VkI2_pi5ve-8XKmwo8rUk6wa1JQV-G39LMfFhQf7hWk"},
{"content":{"body":"anyone who wants to volunteer to make the slides would also help me out; i'm much better at battledecks then i am at making content :-) (cc mpcsh)","format":"org.matrix.custom.html","formatted_body":"anyone who wants to volunteer to make the slides would also help me out; i'm much better at battledecks then i am at making content :-) (cc <a href=\"https://matrix.to/#/@mpcsh_:matrix.org\">mpcsh</a>)","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"anyone who wants to volunteer to make the slides would also help me out; i'm much better at battledecks then i am at making content :-) (cc mpcsh)","mimetype":"text/plain"},{"body":"anyone who wants to volunteer to make the slides would also help me out; i'm much better at battledecks then i am at making content :-) (cc <a href=\"https://matrix.to/#/@mpcsh_:matrix.org\">mpcsh</a>)","mimetype":"text/html"}]},"ts":1657257795488,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$RqaQHbIz1HQoz6WnrTca8Cw80qhkr_8hGIfqrN0KfGE"},
{"content":{"body":"> <@ljharb:matrix.org> i filed https://github.com/tc39/proposal-pattern-matching/pull/263 - i'm going to merge it later this evening if anyone wants to comment in the meantime, and then i'll file the relevant issues and add the agenda item for stage 2. (we can always retract the request later)\n\nI see the new spec it's better!","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!XyZDxqjPFLRXDgUzhD:matrix.org/$RxQkRAFkIWgRwblJm1Fbje9y8YDvti0pK2Cz6M-C7-w?via=matrix.org&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@ljharb:matrix.org\">@ljharb:matrix.org</a><br>i filed https://github.com/tc39/proposal-pattern-matching/pull/263 - i&#39;m going to merge it later this evening if anyone wants to comment in the meantime, and then i&#39;ll file the relevant issues and add the agenda item for stage 2. (we can always retract the request later)</blockquote></mx-reply>I see the new spec it's better!","m.relates_to":{"m.in_reply_to":{"event_id":"$RxQkRAFkIWgRwblJm1Fbje9y8YDvti0pK2Cz6M-C7-w"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@ljharb:matrix.org> i filed https://github.com/tc39/proposal-pattern-matching/pull/263 - i'm going to merge it later this evening if anyone wants to comment in the meantime, and then i'll file the relevant issues and add the agenda item for stage 2. (we can always retract the request later)\n\nI see the new spec it's better!","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!XyZDxqjPFLRXDgUzhD:matrix.org/$RxQkRAFkIWgRwblJm1Fbje9y8YDvti0pK2Cz6M-C7-w?via=matrix.org&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@ljharb:matrix.org\">@ljharb:matrix.org</a><br>i filed https://github.com/tc39/proposal-pattern-matching/pull/263 - i&#39;m going to merge it later this evening if anyone wants to comment in the meantime, and then i&#39;ll file the relevant issues and add the agenda item for stage 2. (we can always retract the request later)</blockquote></mx-reply>I see the new spec it's better!","mimetype":"text/html"}]},"ts":1657260449811,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$txWmaZkGy58wXXjcU8SMZQroFUhcwhE65B8m-43RjkI"},
{"content":{"body":"awesome, thanks!","msgtype":"m.text","org.matrix.msc1767.text":"awesome, thanks!"},"ts":1657261356186,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$L5zWUy2iEiFyPccNCaU61fg9IXa9PwB7sePNXX8YODw"},
{"content":{"body":"I think we can reuse the slide last presented","msgtype":"m.text","org.matrix.msc1767.text":"I think we can reuse the slide last presented"},"ts":1657262843123,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$XWRLaaAmHZIJzYvaw978XF86A0D1QttksNAkiDFGa4E"},
{"content":{"body":"i was hoping so, with minor edits, and Iâ€™ll do that if nobody gives me anything better :-)","msgtype":"m.text"},"ts":1657264526558,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$JxIPnoidz5ySfcDYJJydV7CdazifhJe6pRLhz0ESHgE"},
{"content":{"body":"Jack Works: does https://tc39.es/proposal-pattern-matching/#prod-MatchPropertyList (and MatchElementList) allow for an optional trailing comma?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jackworks:matrix.org\">Jack Works</a>: does https://tc39.es/proposal-pattern-matching/#prod-MatchPropertyList (and MatchElementList) allow for an optional trailing comma?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Jack Works: does https://tc39.es/proposal-pattern-matching/#prod-MatchPropertyList (and MatchElementList) allow for an optional trailing comma?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@jackworks:matrix.org\">Jack Works</a>: does https://tc39.es/proposal-pattern-matching/#prod-MatchPropertyList (and MatchElementList) allow for an optional trailing comma?","mimetype":"text/html"}]},"ts":1657304154228,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$WIpAdbYyazt2GY9JGHbFEe9sGKQdSpoeM5MKfd-1yq0"},
{"content":{"body":" * Jack Works: does https://tc39.es/proposal-pattern-matching/#prod-MatchPropertyList (and MatchElementList) allow for an optional trailing comma?","format":"org.matrix.custom.html","formatted_body":" * <a href=\"https://matrix.to/#/@jackworks:matrix.org\">Jack Works</a>: does https://tc39.es/proposal-pattern-matching/#prod-MatchPropertyList (and MatchElementList) allow for an optional trailing comma?","m.new_content":{"body":"Jack Works: does https://tc39.es/proposal-pattern-matching/#prod-MatchPropertyList (and MatchElementList) allow for an optional trailing comma?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jackworks:matrix.org\">Jack Works</a>: does https://tc39.es/proposal-pattern-matching/#prod-MatchPropertyList (and MatchElementList) allow for an optional trailing comma?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Jack Works: does https://tc39.es/proposal-pattern-matching/#prod-MatchPropertyList (and MatchElementList) allow for an optional trailing comma?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@jackworks:matrix.org\">Jack Works</a>: does https://tc39.es/proposal-pattern-matching/#prod-MatchPropertyList (and MatchElementList) allow for an optional trailing comma?","mimetype":"text/html"}]},"m.relates_to":{"event_id":"$WIpAdbYyazt2GY9JGHbFEe9sGKQdSpoeM5MKfd-1yq0","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":" * Jack Works: does https://tc39.es/proposal-pattern-matching/#prod-MatchPropertyList (and MatchElementList) allow for an optional trailing comma?","mimetype":"text/plain"},{"body":" * <a href=\"https://matrix.to/#/@jackworks:matrix.org\">Jack Works</a>: does https://tc39.es/proposal-pattern-matching/#prod-MatchPropertyList (and MatchElementList) allow for an optional trailing comma?","mimetype":"text/html"}]},"ts":1657304168659,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$mqf23WZ4RtQFKzeUMGX6m7cZbKqBvtkglbBO7o-wxY4"},
{"content":{"body":"> <@ljharb:matrix.org> Jack Works: does https://tc39.es/proposal-pattern-matching/#prod-MatchPropertyList (and MatchElementList) allow for an optional trailing comma?\n\nI copied the spec of deconstructing, so it should be the same","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!XyZDxqjPFLRXDgUzhD:matrix.org/$WIpAdbYyazt2GY9JGHbFEe9sGKQdSpoeM5MKfd-1yq0?via=matrix.org&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@ljharb:matrix.org\">ljharb</a><br /><a href=\"https://matrix.to/#/@jackworks:matrix.org\">Jack Works</a>: does https://tc39.es/proposal-pattern-matching/#prod-MatchPropertyList (and MatchElementList) allow for an optional trailing comma?</blockquote></mx-reply>I copied the spec of deconstructing, so it should be the same","msgtype":"m.text","m.relates_to":{"m.in_reply_to":{"event_id":"$WIpAdbYyazt2GY9JGHbFEe9sGKQdSpoeM5MKfd-1yq0"}}},"ts":1657304740421,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$Zj3wVabTDvYVlS0HSxtBXRkTjC482FmIqf0HfjbB1FY"},
{"content":{"body":"* I copied the spec of deconstructing, so it should be the same","m.new_content":{"body":"> <@ljharb:matrix.org> Jack Works: does https://tc39.es/proposal-pattern-matching/#prod-MatchPropertyList (and MatchElementList) allow for an optional trailing comma?\n\nI copied the spec of deconstructing, so it should be the same","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!XyZDxqjPFLRXDgUzhD:matrix.org/$WIpAdbYyazt2GY9JGHbFEe9sGKQdSpoeM5MKfd-1yq0?via=matrix.org&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@ljharb:matrix.org\">ljharb</a><br /><a href=\"https://matrix.to/#/@jackworks:matrix.org\">Jack Works</a>: does https://tc39.es/proposal-pattern-matching/#prod-MatchPropertyList (and MatchElementList) allow for an optional trailing comma?</blockquote></mx-reply>I copied the spec of deconstructing, so it should be the same","msgtype":"m.text"},"m.relates_to":{"event_id":"$Zj3wVabTDvYVlS0HSxtBXRkTjC482FmIqf0HfjbB1FY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1657304763977,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$i3HZrRYscBnLLjYliRSl8MKmnb3squerlHYf1VOb1B8"},
{"content":{"body":"hm, k","msgtype":"m.text","org.matrix.msc1767.text":"hm, k"},"ts":1657304876102,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$AJ5F3AYxMX4-VuMcRrI3tuUduPch2vdGEAnUG0zc9h8"},
{"content":{"body":"i see the unobservable WeakMap and Set - any reason that's not a Record of Lists?","msgtype":"m.text","org.matrix.msc1767.text":"i see the unobservable WeakMap and Set - any reason that's not a Record of Lists?"},"ts":1657305019671,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$-6wUwBdF60j_hb8dQsjp6rOxNXt4eR4_ONYZOTVBX_E"},
{"content":{"body":"It's easier to express the semantics. Because I need a prop-value cache which might not be simple to specify using Record/List","msgtype":"m.text"},"ts":1657305267606,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$YiV3LKz76jy5ziyKG0HhVBZvMU24u0bZ6BzDQLk4dsQ"},
{"content":{"body":"is SameValue the right cache key to use tho?","msgtype":"m.text","org.matrix.msc1767.text":"is SameValue the right cache key to use tho?"},"ts":1657305817100,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$5fbixhLh87rBIq33TmrTj-txQ-SlrtclnzqWqTNIuUA"},
{"content":{"body":"for properties, it's just strings and symbols, and for iterables, if it yields the same thing twice it should still appear twice","msgtype":"m.text","org.matrix.msc1767.text":"for properties, it's just strings and symbols, and for iterables, if it yields the same thing twice it should still appear twice"},"ts":1657305839828,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$eitQ46K4mQ4zj6hXWkoB6674fyGkJu8bIQHYlB1ZtEI"},
{"content":{"body":"i totally get why you'd use a weakmap ofc, just wondering if it'd work almost as easily to use a Record","msgtype":"m.text","org.matrix.msc1767.text":"i totally get why you'd use a weakmap ofc, just wondering if it'd work almost as easily to use a Record"},"ts":1657305898217,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$6tttqBIxjEDRv2zmE6a3WrNCwAB1cYuhKb8Kmt_kXpc"},
{"content":{"body":"same question with IteratedItems, why an array instead of a List","msgtype":"m.text","org.matrix.msc1767.text":"same question with IteratedItems, why an array instead of a List"},"ts":1657306063831,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$oi1PwWfVO2ZWhtBzmJsOB7r3LBbB3MC0csOPzdBsmSE"},
{"content":{"body":"> <@ljharb:matrix.org> same question with IteratedItems, why an array instead of a List\n\nBecause I cannot store a spec list on a ECMAScript object ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!XyZDxqjPFLRXDgUzhD:matrix.org/$oi1PwWfVO2ZWhtBzmJsOB7r3LBbB3MC0csOPzdBsmSE?via=matrix.org&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@ljharb:matrix.org\">@ljharb:matrix.org</a><br />same question with IteratedItems, why an array instead of a List</blockquote></mx-reply>Because I cannot store a spec list on a ECMAScript object","m.relates_to":{"m.in_reply_to":{"event_id":"$oi1PwWfVO2ZWhtBzmJsOB7r3LBbB3MC0csOPzdBsmSE"}},"msgtype":"m.text"},"ts":1657306119433,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$dmUqHiaDDTPQnHuYOCNbRgvvPI4ahDg1aY_m1-qnsJg"},
{"content":{"body":"And for every matchable it will have its own cache (to keep track of iterable/property access), so (to be stored in a WeakMap) the cache is an ES value too","msgtype":"m.text"},"ts":1657306210434,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$I-o3-7OWo5N4N21t9J6KgQOWRm0ifaBm1WschtGDaIw"},
{"content":{"body":"* And for every matchable it will have its own cache (to keep track of iterable/property access), so (to be stored in a WeakMap) the cache is an ES value too","m.new_content":{"body":"And for every matchable it will have its own cache (to keep track of iterable/property access), so (to be stored in a WeakMap) the cache is an ES value too","msgtype":"m.text"},"m.relates_to":{"event_id":"$I-o3-7OWo5N4N21t9J6KgQOWRm0ifaBm1WschtGDaIw","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1657306243814,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$hKOJjNw7I5p6mnj8p9m2epLEz9yVaFIJXlKeMB8yLOU"},
{"content":{"body":"ahh i see, so you want the ES object keyed, and Records can't do that","msgtype":"m.text","org.matrix.msc1767.text":"ahh i see, so you want the ES object keyed, and Records can't do that"},"ts":1657306584414,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$2wbwRf6MypxM0E6tnhxpp4z_QD0kCD_-M3IapkxK7jA"},
{"content":{"body":"and once you have a weakmap, you can't put spec values there.","msgtype":"m.text","org.matrix.msc1767.text":"and once you have a weakmap, you can't put spec values there."},"ts":1657306595579,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$Wxyq8KXGf60uyBgh0aM7nafRDEhmiI8k1hJ8869uA0M"},
{"content":{"body":"makes sense","msgtype":"m.text","org.matrix.msc1767.text":"makes sense"},"ts":1657306596207,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$fvYgi52VL3CKXtk25zWKXvM8Uee3mHGXTqUQivl3QRs"},
{"content":{"body":"I can make a new ES object with an internal slot that stores Record, but it seems unnecessary since there are already so many ES values","msgtype":"m.text"},"ts":1657306699492,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$2axCisUQlUq5mZ-e5yqkca3PJuxRQW59ZzVuX-nYDR0"},
{"content":{"body":"yeah i agree","msgtype":"m.text","org.matrix.msc1767.text":"yeah i agree"},"ts":1657307209244,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$dcmvJmboFf8wuP0RzA3h-rv-3g8y-f-J4u4zXdnf_1I"},
{"content":{"body":"a spec Map that can key on ES values would work, but that's also a lot","msgtype":"m.text","org.matrix.msc1767.text":"a spec Map that can key on ES values would work, but that's also a lot"},"ts":1657307223600,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$3kiA8_okzu0OXsD0dt6wfYnpXG2aRHFu0IWa8g9ZW6g"}
]