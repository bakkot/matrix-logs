[
{"content":{"body":"do we have if pattern?","msgtype":"m.text"},"ts":1694519761222,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$NZuZdJzhdv1X0L8wPuypNTi5ZlGxGLzkKZdfprH6ijk"},
{"content":{"body":"if we have if pattern, some structure can be composed with it","msgtype":"m.text"},"ts":1694519858461,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$YVOKrLRhUxxJiCSWLTxiu40NWmtf7J6FP1G0azMfdw4"},
{"content":{"body":"* ```\n// before\nwhen pattern if (expr): expr // match with guard\n// after\nwhen pattern and if (expr): expr // the whole thing is a pattern, no need special syntax for match + guard\n```","m.new_content":{"body":"```\n// before\nwhen pattern if (expr): expr // match with guard\n// after\nwhen pattern and if (expr): expr // the whole thing is a pattern, no need special syntax for match + guard\n```","msgtype":"m.text"},"m.relates_to":{"event_id":"$rq3zy2jSktiFYt_gifdNea5uyXT0XDUFM9Jh4EeU8DY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1694519949004,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$lHHhhIjhgCGAWvLtmsi6o_1anhf-lYRhVYl0_pLYzBg"},
{"content":{"body":"* ```js\n// before\nwhen pattern if (expr): expr // match with guard\n// after\nwhen pattern and if (expr): expr // the whole thing is a pattern, no need special syntax for match + guard\n```","m.new_content":{"body":"```js\n// before\nwhen pattern if (expr): expr // match with guard\n// after\nwhen pattern and if (expr): expr // the whole thing is a pattern, no need special syntax for match + guard\n```","msgtype":"m.text"},"m.relates_to":{"event_id":"$rq3zy2jSktiFYt_gifdNea5uyXT0XDUFM9Jh4EeU8DY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1694519954806,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$Gh1G3T09HneXrHtFkwxBE1vjJrAOxU0mzhyK3F5qtXI"},
{"content":{"body":"```js\n// before\nwhen pattern if (expr): expr // match with guard\n// after\nwhen pattern and if (expr): expr // the whole thing is a pattern, no need special syntax for match + guard\n```","msgtype":"m.text"},"ts":1694519969714,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$yUKhX3CRM1B16dKvXdQw5Lj86Y2odA3rkKBu7DjZD2c"},
{"content":{"body":"* <code>\n// before\nwhen pattern if (expr): expr // match with guard\n// after\nwhen pattern and if (expr): expr // the whole thing is a pattern, no need special syntax for match + guard\n</code>","m.new_content":{"body":"<code>\n// before\nwhen pattern if (expr): expr // match with guard\n// after\nwhen pattern and if (expr): expr // the whole thing is a pattern, no need special syntax for match + guard\n</code>","msgtype":"m.text"},"m.relates_to":{"event_id":"$yUKhX3CRM1B16dKvXdQw5Lj86Y2odA3rkKBu7DjZD2c","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1694519994686,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$fH_ZFnsxQNc8PEoP8R4aHaWnJiovfnSFkYHJRl0X6Rw"},
{"content":{"body":"* `// before\nwhen pattern if (expr): expr // match with guard\n// after\nwhen pattern and if (expr): expr // the whole thing is a pattern, no need special syntax for match + guard`","m.new_content":{"body":"`// before\nwhen pattern if (expr): expr // match with guard\n// after\nwhen pattern and if (expr): expr // the whole thing is a pattern, no need special syntax for match + guard`","msgtype":"m.text"},"m.relates_to":{"event_id":"$yUKhX3CRM1B16dKvXdQw5Lj86Y2odA3rkKBu7DjZD2c","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1694520016442,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$cXsdObQI8s4SkC8QHZ7jDR0q5aRMvrp6jcE33iLGcSQ"},
{"content":{"body":"* // before\nwhen pattern if (expr): expr\n// match with guard\n\n// after\nwhen pattern and if (expr): expr\n// the whole thing is a pattern, no need special syntax for match + guard\n","m.new_content":{"body":"// before\nwhen pattern if (expr): expr\n// match with guard\n\n// after\nwhen pattern and if (expr): expr\n// the whole thing is a pattern, no need special syntax for match + guard\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$yUKhX3CRM1B16dKvXdQw5Lj86Y2odA3rkKBu7DjZD2c","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1694520033486,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$tA8RfpgxNPflNkNvIdQWou8g2dFhe-fTz_TatHIKwsg"},
{"content":{"body":"// before\nmatch (...) {\n...\nif (expr): ...\n}\n\n// after\nmatch (...) {\n...\nwhen if (expr): ...\n}","msgtype":"m.text"},"ts":1694520102271,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$kHZ7cOakuUX14cTvRMZkid-CDSeqZ8T1kp7TjMawC3c"},
{"content":{"body":"i think we still need it","msgtype":"m.text"},"ts":1694528772270,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$std_N0em6LFnzrj7Pj6sVQMe9dSnW7LUNNmlN55YUIU"},
{"content":{"body":"Jack Works: is your question \"Do we still have a form of `if` in `match`?\" or is it \"Do we have an `if` _pattern_ that can be placed anywhere in a pattern, or an `if` _clause_ that must come after the pattern?\"? While I like the idea of an `if` _pattern_, that would have ramifications on how `let` patterns are initialized. \nMy intent for `let`/`const` patterns was for the bindings to be initialized only once after an entire pattern has matched successfully. That doesn't quite work if `if` is a _pattern_, since they would need to be initialized immediately.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jackworks:matrix.org\">Jack Works</a>: is your question \"Do we still have a form of <code>if</code> in <code>match</code>?\" or is it \"Do we have an <code>if</code> <em>pattern</em> that can be placed anywhere in a pattern, or an <code>if</code> <em>clause</em> that must come after the pattern?\"? While I like the idea of an <code>if</code> <em>pattern</em>, that would have ramifications on how <code>let</code> patterns are initialized.<br>My intent for <code>let</code>/<code>const</code> patterns was for the bindings to be initialized only once after an entire pattern has matched successfully. That doesn't quite work if <code>if</code> is a <em>pattern</em>, since they would need to be initialized immediately.","msgtype":"m.text"},"ts":1694529416121,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$7ZHXZS_kNG9clf26GCJ5Rry3KISQnad0fWEm2ZhwluI"}
]