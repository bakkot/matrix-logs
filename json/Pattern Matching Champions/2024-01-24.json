[
{"content":{"body":"> <@jackworks:matrix.org> hello, rbuckton will you consider update how customMatchers are written in https://onedrive.live.com/view.aspx?resid=934F1675ED4C1638%21299428&authkey=!AEyZcVuri5fJLbQ (page 17)? It does not match what pattern matching using now in raw.githack.com/tc39/proposal-pattern-matching/new-spec/index.html\n\nWhat is the purpose of `receiver` in a custom matcher? ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!XyZDxqjPFLRXDgUzhD:matrix.org/$fhj0z9ktZ8CUQduZAFtD_aiRjuZRfFwvF7WGiDdm7-c?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@jackworks:matrix.org\">@jackworks:matrix.org</a><br>hello, <a href=\"https://matrix.to/#/@rbuckton:matrix.org\">rbuckton</a> will you consider update how customMatchers are written in https://onedrive.live.com/view.aspx?resid=934F1675ED4C1638%21299428&amp;authkey=!AEyZcVuri5fJLbQ (page 17)? It does not match what pattern matching using now in raw.githack.com/tc39/proposal-pattern-matching/new-spec/index.html</blockquote></mx-reply>What is the purpose of <code>receiver</code> in a custom matcher?","m.mentions":{"user_ids":["@jackworks:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$fhj0z9ktZ8CUQduZAFtD_aiRjuZRfFwvF7WGiDdm7-c"}},"msgtype":"m.text"},"ts":1706137090639,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$TL581_dIUR49BuPkZmm5u1vyKPI0OO7JBRYNBOArD5Q"},
{"content":{"body":"I'm not sure I'm a fan of how InvokeCustomMatcher makes custom matcher implementations more complicated.","m.mentions":{},"msgtype":"m.text"},"ts":1706137364750,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$HWHF4_AprNKgol_co7kP6MPXubGKswb8nk_q1WDHykA"},
{"content":{"body":"In the slide you point to, I have to add a number of extra conditions around return values to align with `InvokeCustomMatcher` just doing a ToBoolean on the result when the hint is boolean, and I'm not a huge fan of return type inconsistency.","format":"org.matrix.custom.html","formatted_body":"In the slide you point to, I have to add a number of extra conditions around return values to align with <code>InvokeCustomMatcher</code> just doing a ToBoolean on the result when the hint is boolean, and I'm not a huge fan of return type inconsistency.","m.mentions":{},"msgtype":"m.text"},"ts":1706137490158,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$3V4K2HX-65smJ8mkc7bT_xwFh9_jSXB3Rx6ZBv0oCSs"},
{"content":{"body":"In my opinion, a \"hint\" should primarily inform the method as to whether it does or does not need to perform additional computation/allocation when it isn't necessary. Having to check `hint` to ensure my `return { match: false }` isn't interpreted as `true` doesn't really match with the idea of a hint.","format":"org.matrix.custom.html","formatted_body":"In my opinion, a \"hint\" should primarily inform the method as to whether it does or does not need to perform additional computation/allocation when it isn't necessary. Having to check <code>hint</code> to ensure my <code>return { match: false }</code> isn't interpreted as <code>true</code> doesn't really match with the idea of a hint.","m.mentions":{},"msgtype":"m.text"},"ts":1706137874989,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$v_MnSx_1UgwBSzsCV5oty7NB4B4kPuOVmKLCnnsJJQU"},
{"content":{"body":"Is there a reason we consider anything other than `MatchResult | boolean | undefined` to be a valid result? If we restricted the result to just those cases, then we can have simpler custom matcher bodies that only need to elide the `value` portion if it won't be used.","format":"org.matrix.custom.html","formatted_body":"Is there a reason we consider anything other than <code>MatchResult | boolean | undefined</code> to be a valid result? If we restricted the result to just those cases, then we can have simpler custom matcher bodies that only need to elide the <code>value</code> portion if it won't be used.","m.mentions":{},"msgtype":"m.text"},"ts":1706138006109,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$p3Nlkac-guKPolgRa06_nelKgZduiA9afRhgoo2kkB4"}
]