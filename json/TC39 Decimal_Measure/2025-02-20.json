[
{"content":{"body":"one thing that's unclear to me is what operations FullDecimal (I don't like the name but work with me) should support","m.mentions":{},"msgtype":"m.text"},"ts":1740010083739,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$SMIThoWvQ21EGDsp3n9JMPCYRJZk6NrVY5ape286SJA"},
{"content":{"body":"should it have comparison?","m.mentions":{},"msgtype":"m.text"},"ts":1740010097230,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$QncwxWfSXOcV1CqsXNkNNoNydS9-Osit0HlAm4EqE6c"},
{"content":{"body":"I think we agree that FullDecimal should't do arithmetic","m.mentions":{},"msgtype":"m.text"},"ts":1740010120015,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$-P7H3uoM8_tOIOx1dOmInMj9Ul4Rz2JZf708xevbAVQ"},
{"content":{"body":"but I wonder if we need comparison(s)","m.mentions":{},"msgtype":"m.text"},"ts":1740010127269,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$9ddH6wJnXjkQkpOVW08CEu7WhtYnHKV00uoEK4yZnSo"},
{"content":{"body":"If I'm the only one that liked the FullDecimal idea I'm happy to drop it, I just liked having \"incrementally more information\" on these numeric objects rather than \"all or nothing\", but I have no concrete use cases. It's more of a language purity thing","msgtype":"m.text"},"ts":1740010146491,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$P_fgoAqUPumhtt87zC7KzTQawAYojB-jNa4ostL4w-M"},
{"content":{"body":"I'm not opposed to it","m.mentions":{},"msgtype":"m.text"},"ts":1740010178742,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$Ag55977XaIfjFswoh5Z2QBLSH289-HpfFXx1XJIjXNE"},
{"content":{"body":"that's my only (weak) objection -- no clear use cases, it exists mainly for the purpose of abstract language niceness","m.mentions":{},"msgtype":"m.text"},"ts":1740010217143,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$EzQUlT4f5O1Q_jRvNs8znKhFv8f-5PG-XkO1Ur3y1Ic"},
{"content":{"body":"But yes if we have it, I would expect it to have comparison that also checks the precision","m.mentions":{},"msgtype":"m.text"},"ts":1740010222475,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$BjTth2EugqCpD9MwscAClOExG8z6kkvz-jSGy4UGeXs"},
{"content":{"body":"IEEE 754 has a comparison that respects the precision (quantum) but it's really weird","m.mentions":{},"msgtype":"m.text"},"ts":1740010251784,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$vVDUwxgPjhj89VfQt-LNtZGa5UQ0MrfP1oYrcsudZKU"},
{"content":{"body":"I don't want FullDecimal to be a focus of the presentation. But we should probably be prepared for some of these questions given that delegates will nitpick about them.","m.mentions":{},"msgtype":"m.text"},"ts":1740010268426,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$2EEeVJ_Ha4TkTjmfKmMXhRxWif3D61ViGcIfddO0tPY"},
{"content":{"body":"equals and less-than are supposed to work with mathematical value (iow ignore precisiopn)","m.mentions":{},"msgtype":"m.text"},"ts":1740010269645,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$fGrPB_kigGRsoyWNGrD2UVZDmcpw31OJjF6mRPf2esk"},
{"content":{"body":"yeah it's very weird to compare precision","m.mentions":{},"msgtype":"m.text"},"ts":1740010270363,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$ws73lBDP59Glhn31XCA0j_qcjsmiaCRx5zLeiJWifRo"},
{"content":{"body":"But what if you explicitly have an object that is \"number + precision\"... you care about the precision, otherwise you'd just have the number","m.mentions":{"user_ids":["@ljharb:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$ws73lBDP59Glhn31XCA0j_qcjsmiaCRx5zLeiJWifRo"}},"msgtype":"m.text"},"ts":1740010312660,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$C7_qh7epgmVDSzaIUvCEEMoGdeS3qDcXCGIvEaU7Us0"},
{"content":{"body":"you can detect that two values are mathematically equal but distinct if you have toString","m.mentions":{},"msgtype":"m.text"},"ts":1740010313484,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$QOxzCf9sc5Mk6yf7FHu35ODp9IquX_HfuyDMBy6nOQQ"},
{"content":{"body":"and equals","m.mentions":{},"msgtype":"m.text"},"ts":1740010317831,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$swI71eigNBc1NQAHe7tNTtBUIU1SltL3g83zwlTpGtU"},
{"content":{"body":"then they're incomparable","m.mentions":{},"msgtype":"m.text"},"ts":1740010347621,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$6LKBnoKyAsF7zRAJyavP0nhFt3HFLsDnyTZCc877hNY"},
{"content":{"body":"I think FullDecimal should either do a total comparison or it should not have an equals function","m.mentions":{},"msgtype":"m.text"},"ts":1740010354739,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$elV_mtNZ_M-SRi6sAiW2vyR1DE9cAnjiehm7qb41IGs"},
{"content":{"body":"(sorry for this, maybe I should stop since FullDecimal isn't a focus of the presentation)","m.mentions":{},"msgtype":"m.text"},"ts":1740010423312,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$hRvIJxNvGPjHwVSLP1h42EuJPKP4_Uvmu8kwGsxdxUw"},
{"content":{"body":"I wonder if we should have a converter from FullDecimal to Decimal","m.mentions":{},"msgtype":"m.text"},"ts":1740010433818,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$CXeX52bBK6Jz7fjvlxBxa83F9GiT-VTl-mVGW4Ea0BU"},
{"content":{"body":"(which of course does have less-than, equals)","m.mentions":{},"msgtype":"m.text"},"ts":1740010444699,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$t2nnW1LDdzLuvcQ7ckuWhaKX1Xaao5JvgldQ5bihsnk"},
{"content":{"body":"this feels very temporal-y to me","m.mentions":{},"msgtype":"m.text"},"ts":1740010470684,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$4mnnMMiUX7jJiHaOG7N8W72lApQ3lKX6Ohf3e2_Ew7Q"},
{"content":{"body":"Yes, if we have the three classes I'd expect you to move up and down the hierarchy","m.mentions":{"user_ids":["@jesse:igalia.com"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$CXeX52bBK6Jz7fjvlxBxa83F9GiT-VTl-mVGW4Ea0BU"}},"msgtype":"m.text"},"ts":1740010476363,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$5aRmU_BNn3mAWC4R4qqUOBFDpTIZ4GXbsFrX_PgJKmg"},
{"content":{"body":"* Yes, if we have the three classes I'd expect you to be able to move up and down the hierarchy","m.mentions":{},"m.new_content":{"body":"Yes, if we have the three classes I'd expect you to be able to move up and down the hierarchy","m.mentions":{"user_ids":["@jesse:igalia.com"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$5aRmU_BNn3mAWC4R4qqUOBFDpTIZ4GXbsFrX_PgJKmg","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1740010486622,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$9iICF0m6nBFowpM5Y0jRo2EVoTyOJHLFJtoDJCcLp6Y"},
{"content":{"body":"like, comparison just *does not exist* in FullDecimal. you have to explicitly move to another class to do that","format":"org.matrix.custom.html","formatted_body":"like, comparison just <em>does not exist</em> in FullDecimal. you have to explicitly move to another class to do that","m.mentions":{},"msgtype":"m.text"},"ts":1740010489247,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$N6zEfwSAo5TsK8Cs5gfbJ6NE39o-adiBcNTf9-B3bQY"},
{"content":{"body":"I renamed it to \"DecimalWithPrecision\" in the two places it is referenced in the slides","m.mentions":{},"msgtype":"m.text"},"ts":1740010680388,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$BKueJC1wh6snev35_5WcLD6TucTl3wTtDN1nK1c4tqQ"},
{"content":{"body":"what does DecimalWithPrecision add besides just being a place to hold a precision value?","m.mentions":{},"msgtype":"m.text"},"ts":1740010755227,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$VSuUMXi95hMUoLjLsE3pRntNNvv9fRsFjs6IcLgQ3kg"},
{"content":{"body":"one benefit I can see is that `toString` might have some good use cases","format":"org.matrix.custom.html","formatted_body":"one benefit I can see is that <code>toString</code> might have some good use cases","m.mentions":{},"msgtype":"m.text"},"ts":1740010829053,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$3xcrHMS0EhUzZhWUge-SK1UJmqxLtGMTGMK_0K7oB4M"},
{"content":{"body":"exposing the extra precision data","m.mentions":{},"msgtype":"m.text"},"ts":1740010837248,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$zKcgCma22feirloO6QKwS__giTpjYB0P-nK_GZ9DEnQ"},
{"content":{"body":"though tbh that's kinda what `toString` already does with (canonicalized) decimals","format":"org.matrix.custom.html","formatted_body":"though tbh that's kinda what <code>toString</code> already does with (canonicalized) decimals","m.mentions":{},"msgtype":"m.text"},"ts":1740010865358,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$tWuXAyRu9rh71rgfMrwv1khwpAokbHnZvl0RjNa5da4"},
{"content":{"body":"ok so it's a bucket, to contain a decimal, a precision integer, and a toString function?","m.mentions":{},"msgtype":"m.text"},"ts":1740010866274,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$mY6vdTuH6GB3RDG8l_Dun6ufsXPD75H4JQQ-rFuCOEA"},
{"content":{"body":"sorry `toFixed`","format":"org.matrix.custom.html","formatted_body":"sorry <code>toFixed</code>","m.mentions":{},"msgtype":"m.text"},"ts":1740010871294,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$IiekQC4dDInYzzPlb64FjIN0jbn5wmZOgOua0e4Fj_U"},
{"content":{"body":"because if that's all it is, why not just have a toFixed on Decimal.prototype","m.mentions":{},"msgtype":"m.text"},"ts":1740010884935,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$PAM4DSWEevO3j7HPoSQ_y8M4DkUv1WwkVZQmNiLIaFM"},
{"content":{"body":"it essentially imputes a precision to the numeric value","m.mentions":{},"msgtype":"m.text"},"ts":1740010886842,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$ccni4cEbEpkDNfju3nzapOr2fTdLkBPac-w_mEsvUrk"},
{"content":{"body":"there is a toFixed","m.mentions":{},"msgtype":"m.text"},"ts":1740010895856,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$Jt43s2c56H4MuEeNw4m3mz60eSP4WI0eLI44BhK5Fkg"},
{"content":{"body":"`[d, precision]` â†’ `d.toFixed(precision)` when i want the combo?","format":"org.matrix.custom.html","formatted_body":"<code>[d, precision]</code> â†’ <code>d.toFixed(precision)</code> when i want the combo?","m.mentions":{},"msgtype":"m.text"},"ts":1740010913858,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$3fJUO_I6CMcmjQ7NIKTEJWDKgceiYrEyclE58eW5EPg"},
{"content":{"body":"Yes, it's exactly that to have the value and the precision as a single thing rather than having to track them individually","m.mentions":{},"msgtype":"m.text"},"ts":1740010937525,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$JsHequJhkbCsZ29szCTRePJy5dmoGIq-2ESF4-LOegI"},
{"content":{"body":"* Yes, it's exactly that to have the value and the precision as a single thing rather than having to track them individually in parallel","m.mentions":{},"m.new_content":{"body":"Yes, it's exactly that to have the value and the precision as a single thing rather than having to track them individually in parallel","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$JsHequJhkbCsZ29szCTRePJy5dmoGIq-2ESF4-LOegI","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1740010944500,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$zlRHBXMr1vnDFg-ax7VSCpTEy6hd_k6Emlc0q6kna-M"},
{"content":{"body":"i totally get why that's beneficial, but that is a very very small value prop to add a Whole New Class","m.mentions":{},"msgtype":"m.text"},"ts":1740010969252,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$VDQ8nnZxaMa_TC0BCkBYnVUuGoUthSU4NlOdg7r-a2U"},
{"content":{"body":"especially when `Object.assign(Object(decimal), { precision })` also covers that","format":"org.matrix.custom.html","formatted_body":"especially when <code>Object.assign(Object(decimal), { precision })</code> also covers that","m.mentions":{},"msgtype":"m.text"},"ts":1740010993216,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$vkPkIrwX0JV7VRYd61Hv7bBUnUfi43iY43AnHL48GjU"},
{"content":{"body":"I worry a bit about developer confusion, too","m.mentions":{},"msgtype":"m.text"},"ts":1740010995803,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$Gko7j__TfQeujTSJuL3BDbMpy2E0JzJ013v0TTiqCqs"},
{"content":{"body":"(if we had the two decimal classes)","m.mentions":{},"msgtype":"m.text"},"ts":1740011002582,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$Z3vQMthI0N-ll5GpfnOWbB8Rp2C8LPKIJsSIG9iDLeM"},
{"content":{"body":"nobody should be trying to java-ize JS by Nouning up all the things","m.mentions":{},"msgtype":"m.text"},"ts":1740011015852,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$fczO5XroHcRoqbCooJg01DgVvZ3T7RvPye2HXMwOKks"},
{"content":{"body":"there needs to be sufficient rationale for stuff","m.mentions":{},"msgtype":"m.text"},"ts":1740011023711,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$8lMmbx4e42SvMjutZYtGKYgE2q5hhUEiW3WVQhSrTSw"},
{"content":{"body":"Well we even have classes like SetIterator ðŸ˜›","m.mentions":{},"msgtype":"m.text"},"ts":1740011031306,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$gHr-e1M_YuCWYyyiAyBohDOXF-X7KiCLAYTTHtiRGtM"},
{"content":{"body":"yes, and that's absurd","m.mentions":{},"msgtype":"m.text"},"ts":1740011036668,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$qe4891XKylzEiIAgW5PZRzrDXPin_k0FJGlGfH8ImmU"},
{"content":{"body":"Do you have a suggestion about how `decimal.toFixed(5).withUnit(\"meter\")` would work without the intermediate type","format":"org.matrix.custom.html","formatted_body":"Do you have a suggestion about how <code>decimal.toFixed(5).withUnit(\"meter\")</code> would work without the intermediate type","m.mentions":{},"msgtype":"m.text"},"ts":1740011040995,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$4I_o6gOFToE1fsQIY8etRgVOUufa5ZVyNi2VLWUtvnU"},
{"content":{"body":"But I do not necessarily disagree","m.mentions":{},"msgtype":"m.text"},"ts":1740011042315,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$EZ3kjcmvrXQn04VdRQUzc1AvMHkRn57xd_D2iQSo4b0"},
{"content":{"body":"we shouldn't have ever had any of the iterator classes","m.mentions":{},"msgtype":"m.text"},"ts":1740011043416,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$xR2LQfBJMVG9V5RLwOwcWpxKlKxODRlBa0R-o3j42NU"},
{"content":{"body":"I guess without the intermediate type you'd do `decimal.toAmount({ precision, unit })`","format":"org.matrix.custom.html","formatted_body":"I guess without the intermediate type you'd do <code>decimal.toAmount({ precision, unit })</code>","m.mentions":{"user_ids":["@sffc:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$4I_o6gOFToE1fsQIY8etRgVOUufa5ZVyNi2VLWUtvnU"}},"msgtype":"m.text"},"ts":1740011064362,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$Ewzm5zlkraGFtjGHwYjnNnAF_QfmtQBKd1Fh_sK54oQ"},
{"content":{"body":"`(d) => d.toFixed(5).withUnit(\"meter\")`?","format":"org.matrix.custom.html","formatted_body":"<code>(d) =&gt; d.toFixed(5).withUnit(\"meter\")</code>?","m.mentions":{"user_ids":["@sffc:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$4I_o6gOFToE1fsQIY8etRgVOUufa5ZVyNi2VLWUtvnU"}},"msgtype":"m.text"},"ts":1740011067173,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$yK5tPfyK4MDOpw_jEQFohZcRIJR9ii28TX_CPoYk_2o"},
{"content":{"body":"I might suggest `decimal.asMeasure({unit: \"meter\", precision: 5 })`","format":"org.matrix.custom.html","formatted_body":"I might suggest <code>decimal.asMeasure({unit: \"meter\", precision: 5 })</code>","m.mentions":{},"msgtype":"m.text"},"ts":1740011077624,"senderName":"Jesse (TC39 ðŸ‡ºðŸ‡¸)","senderId":"@jesse:igalia.com","id":"$N2edOvon2AQPQQ47PUNIda1DgDcIc6C-Ed--2pjYTgY"},
{"content":{"body":"like, it's already a solved problem how to carry multiple values around together (and there's multiple solutions, including an object, an array, a closure, etc)","m.mentions":{},"msgtype":"m.text"},"ts":1740011095134,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$dAd0YRhc1TkwyYmobNyTSnOvs5a46ZGAUj5Cdyey4xg"},
{"content":{"body":"(possibly composite keys one day)","m.mentions":{},"msgtype":"m.text"},"ts":1740011101160,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$xgomT4KCce9uZDUYf2RE7304qa5TsHT3EITGxFvo1y4"}
]