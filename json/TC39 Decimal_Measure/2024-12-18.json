[
{"content":{"body":"> <@sffc:mozilla.org> I think in Temporal we ended up with the right data model, and we worked out a way to make it not be too \"noisy\"\n\nthat’s because everything is only objects there - numbers ideally would eventually be primitives, and we should be designing with that goal in mind.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!NnKyFxSjabKpyjbPcL%3Amatrix.org/%24a-iHE2HAi5hiZMZ6KX64q1H_nNWhfqGpzR5OHbW6yqo\">In reply to</a> <a href=\"https://matrix.to/#/@sffc:mozilla.org\">@sffc:mozilla.org</a><br>I think in Temporal we ended up with the right data model, and we worked out a way to make it not be too \"noisy\"</blockquote></mx-reply>that’s because everything is only objects there - numbers ideally would eventually be primitives, and we should be designing with that goal in mind.","m.relates_to":{"m.in_reply_to":{"event_id":"$a-iHE2HAi5hiZMZ6KX64q1H_nNWhfqGpzR5OHbW6yqo"}},"msgtype":"m.text"},"ts":1734482007307,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$zyxO1pUg5ZM3L-p5HT9ctPLljydOkXhxwfcU98ffsbo"},
{"content":{"body":"> <@ljharb:matrix.org> that’s because everything is only objects there - numbers ideally would eventually be primitives, and we should be designing with that goal in mind.\n\nIs there anything in the design that we described that wouldn’t work well with that?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!NnKyFxSjabKpyjbPcL%3Amatrix.org/%24zyxO1pUg5ZM3L-p5HT9ctPLljydOkXhxwfcU98ffsbo\">In reply to</a> <a href=\"https://matrix.to/#/@ljharb:matrix.org\">@ljharb:matrix.org</a><br>that’s because everything is only objects there - numbers ideally would eventually be primitives, and we should be designing with that goal in mind.</blockquote></mx-reply>Is there anything in the design that we described that wouldn’t work well with that?","m.relates_to":{"m.in_reply_to":{"event_id":"$zyxO1pUg5ZM3L-p5HT9ctPLljydOkXhxwfcU98ffsbo"}},"msgtype":"m.text"},"ts":1734484333678,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$g_IslaNapMW0e8AcZNw27mz54dN8xpFG6oLlHXyf_IE"},
{"content":{"body":"If only the decimal is primitive, and measure is always object","msgtype":"m.text"},"ts":1734484362537,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$DdK5qJ8jEYHXYdqa2uqUFtSbmHxLct3r4Q-AC5kVXYs"},
{"content":{"body":"no that would work fine","msgtype":"m.text"},"ts":1734484373304,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$Z5uk_iyMMqMfa1sNTcCDu1xLl6xrh7IZdZsiQiwlsfE"},
{"content":{"body":"> <@littledan:matrix.org> If only the decimal is primitive, and measure is always object\n\nThis being the future state, and the initial proposal focusing on the wrappers","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!NnKyFxSjabKpyjbPcL%3Amatrix.org/%24DdK5qJ8jEYHXYdqa2uqUFtSbmHxLct3r4Q-AC5kVXYs\">In reply to</a> <a href=\"https://matrix.to/#/@littledan:matrix.org\">@littledan:matrix.org</a><br>If only the decimal is primitive, and measure is always object</blockquote></mx-reply>This being the future state, and the initial proposal focusing on the wrappers","m.relates_to":{"m.in_reply_to":{"event_id":"$DdK5qJ8jEYHXYdqa2uqUFtSbmHxLct3r4Q-AC5kVXYs"}},"msgtype":"m.text"},"ts":1734484402289,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$_dC4281h4kiDwKoeYFPUbACbPRM3QIVsGS_8RyEWajs"},
{"content":{"body":"(because most people wouldn’t likely use measure except to handle formatting with intl)","msgtype":"m.text"},"ts":1734484405972,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$7-dNJy6ZKN8YEpDyQudmGvO8gnTxLyRnvhpYmyimvL0"},
{"content":{"body":"> <@ljharb:matrix.org> (because most people wouldn’t likely use measure except to handle formatting with intl)\n\nArguably people should be doing unit-ed computations all over the place, but I think that is beyond the scope of measure (initially)","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!NnKyFxSjabKpyjbPcL%3Amatrix.org/%247-dNJy6ZKN8YEpDyQudmGvO8gnTxLyRnvhpYmyimvL0\">In reply to</a> <a href=\"https://matrix.to/#/@ljharb:matrix.org\">@ljharb:matrix.org</a><br>(because most people wouldn’t likely use measure except to handle formatting with intl)</blockquote></mx-reply>Arguably people should be doing unit-ed computations all over the place, but I think that is beyond the scope of measure (initially)","m.relates_to":{"m.in_reply_to":{"event_id":"$7-dNJy6ZKN8YEpDyQudmGvO8gnTxLyRnvhpYmyimvL0"}},"msgtype":"m.text"},"ts":1734484447435,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$h4dtgbGLQjY-Uh-3XScd4mJmi2mbKDKgCmSgbE0pQtE"},
{"content":{"body":"Also that isn’t really demonstrated in any other mainstream programming language ","format":"org.matrix.custom.html","formatted_body":"Also that isn’t really demonstrated in any other mainstream programming language","msgtype":"m.text"},"ts":1734484473317,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$g2Bv6HRRzbrS2tKabV6NAIK3L5lhCq6gG7ZXVRz14b4"},
{"content":{"body":"Our destiny in TC39 is to be followers, not leaders","msgtype":"m.text"},"ts":1734484552123,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$OhIT_1xUTVaYdzk36rQxRDkRVk-dg3mBWt3eCCYY5o4"},
{"content":{"body":"> <@littledan:matrix.org> This being the future state, and the initial proposal focusing on the wrappers\n\nLjharb: just wanted to check, does this caveat weaken things?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!NnKyFxSjabKpyjbPcL%3Amatrix.org/%24_dC4281h4kiDwKoeYFPUbACbPRM3QIVsGS_8RyEWajs\">In reply to</a> <a href=\"https://matrix.to/#/@littledan:matrix.org\">@littledan:matrix.org</a><br>This being the future state, and the initial proposal focusing on the wrappers</blockquote></mx-reply>Ljharb: just wanted to check, does this caveat weaken things?","m.relates_to":{"m.in_reply_to":{"event_id":"$_dC4281h4kiDwKoeYFPUbACbPRM3QIVsGS_8RyEWajs"}},"msgtype":"m.text"},"ts":1734484579778,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$FCJi5his1DWvyMj6Jxuq6_a7TCglvpp5mCbX8Wm0FcY"},
{"content":{"body":"(Within the context of, decimals are canonicalized)","msgtype":"m.text"},"ts":1734484604088,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$M85EKpUfWcPgc3rqnPUY5KMVTrERkwq3OML6LAe1Aag"},
{"content":{"body":"which, the primitives later? I’m def still unconvinced advancing anything without primitives is worth it, but it at least removes my objection on the basis of blocking primitives","msgtype":"m.text"},"ts":1734484653234,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$MyOmy6YnwdaHU8gI0ctPzgAljbNkRnJdk91IzOYGQtw"},
{"content":{"body":"Seems like we are at a point of common understanding, which is good","msgtype":"m.text"},"ts":1734484704561,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$MNuxzUCfhtgVrpdmorCoPdleF6S9ARQdbvqQJrdRrPQ"},
{"content":{"body":"Even if we differ on tradeoffs","msgtype":"m.text"},"ts":1734484728790,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$G88ZelIHn4yVbXb5eBf9tPFq5lz1AwPUCXfSMyXoZc0"},
{"content":{"body":"Eemeli: do you have remaining concerns about introducing classes as opposed to just using strings or something?","msgtype":"m.text"},"ts":1734485819195,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$XpsEfaeUl6O2kH46qXxG6PiNa360l6B4y2b4cpVs4Y4"},
{"content":{"body":"I don't see how \"just using strings\" is a viable option for communicating precision, because we already assign meaning to formatting string values:\n```\nnew Intl.NumberFormat('en').format('1.8000') === '1.8'\nnew Intl.NumberFormat('en').format({ toString: () => '1.9000' }) === '1.9'\n```\nOr did you mean something else?\n\nI do not have any qualms about introducing a Measure class. If we do, I think it could well serve many of the use cases presented for Decimal as well.","format":"org.matrix.custom.html","formatted_body":"<p>I don't see how \"just using strings\" is a viable option for communicating precision, because we already assign meaning to formatting string values:</p>\n<pre><code>new Intl.NumberFormat('en').format('1.8000') === '1.8'\nnew Intl.NumberFormat('en').format({ toString: () =&gt; '1.9000' }) === '1.9'\n</code></pre>\n<p>Or did you mean something else?</p>\n<p>I do not have any qualms about introducing a Measure class. If we do, I think it could well serve many of the use cases presented for Decimal as well.</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1734509289250,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$sXuzHZMzdc_l_oMPAMuKQMH3VOeqg1XyKAtfzOwNths"},
{"content":{"body":"Because Measure doesn't exist, we could (should?) of course define its handling of string values to retain precision, so we'd end up with:\n```\nnew Intl.NumberFormat('en').format(new Measure('1.8000')) === '1.8000'\n```","format":"org.matrix.custom.html","formatted_body":"<p>Because Measure doesn't exist, we could (should?) of course define its handling of string values to retain precision, so we'd end up with:</p>\n<pre><code>new Intl.NumberFormat('en').format(new Measure('1.8000')) === '1.8000'\n</code></pre>\n","m.mentions":{},"msgtype":"m.text"},"ts":1734509380100,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$WxqncW_oDwAAF3ZF-GREHIiOmPoku4xWzleuZGanbWo"},
{"content":{"body":"that looks good -- that matches what I had in mind for measure & NF","m.mentions":{},"msgtype":"m.text"},"ts":1734509475229,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$7b2ku2lsvo6UVlixaloHN-kg7uT0hXyhozTMYLWeWIk"},
{"content":{"body":"also, measure should work with any additional specifiers, such as num-significant-digits or num-fractional-digits, as it works today with strings","m.mentions":{},"msgtype":"m.text"},"ts":1734509561122,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$1Q8CnXNmGaNq3A2iHI--klCAE-75kPcZ0A9naCZAXJU"}
]