[
{"content":{"body":"Tell WH that the spec is meant to contain accessors, it's an oversight if it doesn't contain them?","m.mentions":{},"msgtype":"m.text"},"ts":1753825723695,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$l1xR09ShjHVPE0ekVZcKAbcjcpeRlUNUaS4G9qEKGqI"},
{"content":{"body":"If we do infinities, could we say that the fractional and significant digits always show up as 0?","m.mentions":{},"msgtype":"m.text"},"ts":1753826505191,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$sd5cdkdTANthRofZ_jB-gRM1u0VQWK8-zbmxYCNWJQ0"},
{"content":{"body":"My main problem with infinities is that I don't know what precision means for them","m.mentions":{},"msgtype":"m.text"},"ts":1753826519293,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$-U-QIn66T4qNPniR07glgpwwtHf4vQQm_Agt3HcHGRk"},
{"content":{"body":"NaN, obv","m.mentions":{},"msgtype":"m.text"},"ts":1753826520001,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$iJLguDWwpr1hXtdXXFHWUFkx9wFeX4UUBzuT20xysm4"},
{"content":{"body":"Maybe","m.mentions":{},"msgtype":"m.text"},"ts":1753826524631,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$QMR1Q00FnAUF5PIqCPc1qjx1MZCScq_L9O_0TukPfRs"},
{"content":{"body":"But we shouldn't round non-inifnities to infinity, you should only get infinity if you actually pass infinity in","m.mentions":{},"msgtype":"m.text"},"ts":1753826581549,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$Y0qLo8QfHZt-pXCUFrUEtDOiwZSdlXQwxM_uEcL7YZY"},
{"content":{"body":"It seems like Kevin was unconvinced, but overall there was enough support that we would have gotten to stage 2 if we had time to think about infinity ","msgtype":"m.text"},"ts":1753826639277,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$EcAaEo6NcwwLT4ttl2aN0S7X98NzuAELiS0JJHnxVYc"},
{"content":{"body":"Happy that we settled when rounding happens","msgtype":"m.text"},"ts":1753826666063,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$kceAHssM-HZ4bQyD9x1VMuiZ0O9d-AR1MmhBC2PZA1M"},
{"content":{"body":"The infinity thing seems like a minor issue to hold up Stage 2 for resolving. I don't know if we had moved forward with the request for Stage 2 if more people than Kevin would have come out of the woodwork to share his concern. But, it seems that there was some additional explicit support in the Delegates channel, which is positive.","m.mentions":{},"msgtype":"m.text"},"ts":1753826744444,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$REOCaPsWkz82RtvLW0nEgVqrzPLAdecGT61oPEjppp0"},
{"content":{"body":"I see infinities and limits as tightly coupled. If you pass in a number over the limit, you get an infinite Amount. This is how ToIntlMV works.","m.mentions":{},"msgtype":"m.text"},"ts":1753826879779,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$PNkYK0zzaCInPpYeRN5C4GLIcbAYy_cFnHStJqe79pU"},
{"content":{"body":"My initial sense is that Amount would be more valuable if it could guarantee its value to be finite.","m.mentions":{},"msgtype":"m.text"},"ts":1753827019690,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$M1ydYqhf2_urAEAsHKnjV3sNpldvsnCUoGGivuGuRjM"},
{"content":{"body":"And that specifically supporting NaN would almost certainly be a mistake.","m.mentions":{},"msgtype":"m.text"},"ts":1753827034142,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$3QV0cx7uQS4iMl62TYbVNobOkL2v5MhR0ANpscSNDd0"},
{"content":{"body":"I'm surprised that Waldemar didn't seem to realize how ToIntlMV worked, because it was in NumberFormatV3 for which I think he was a reviewer. But it might have been a change we added relatively late in the process.","m.mentions":{},"msgtype":"m.text"},"ts":1753827051973,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$s8X0he84KJGt_2jsbXBehqH_7kuh6wg80fu7c9rRGbc"},
{"content":{"body":"I don't think guaranteeing a finite value is any more valuable than, say, guaranteeing that the value has a unit, and we decided that it was okay for units to be a runtime thing, not part of the type signature.","m.mentions":{"user_ids":["@eemeli:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$M1ydYqhf2_urAEAsHKnjV3sNpldvsnCUoGGivuGuRjM"}},"msgtype":"m.text"},"ts":1753827135016,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$dauo_pJUVAWBze1whwS9YfSlrgBrKB0a-Fg4JglO9N8"},
{"content":{"body":"> <@eemeli:mozilla.org> And that specifically supporting NaN would almost certainly be a mistake.\n\nYeah I'd prefer to still disallow NaN if Waldemar would be willing to accept it","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!NnKyFxSjabKpyjbPcL:matrix.org/$3QV0cx7uQS4iMl62TYbVNobOkL2v5MhR0ANpscSNDd0?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@eemeli:mozilla.org\">@eemeli:mozilla.org</a><br />And that specifically supporting NaN would almost certainly be a mistake.</blockquote></mx-reply>Yeah I'd prefer to still disallow NaN if Waldemar would be willing to accept it","m.relates_to":{"m.in_reply_to":{"event_id":"$3QV0cx7uQS4iMl62TYbVNobOkL2v5MhR0ANpscSNDd0"}},"msgtype":"m.text"},"ts":1753827229289,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$Dd01XlsWSRPPiJqQ7nKSDrWZdbhr2TAW_1M14uNWgvw"},
{"content":{"body":"In my own thinking, the Amount value is effectively the JSON number value. That doesn't work if it's not finite.","m.mentions":{},"msgtype":"m.text"},"ts":1753827244131,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$WcFMbQBmS12DhRx0RtXH3uM_ojMwySc8ofZJdgWNnSU"},
{"content":{"body":"Didn't think of that analogy before just now, otherwise I'd have included it in the presentation.","m.mentions":{},"msgtype":"m.text"},"ts":1753827300154,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$VtkMtLabs0g8IOhN-Abcj4XYMweoBRBOfE5IImIlvvY"},
{"content":{"body":"my own preference is for finite values only, but we could consider infinities","m.mentions":{},"msgtype":"m.text"},"ts":1753827335627,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$XOLmb-D2p_gyRe-PEqvbnOqAbWmUybv1wUr0UsMFidg"},
{"content":{"body":"> <@eemeli:mozilla.org> In my own thinking, the Amount value is effectively the JSON number value. That doesn't work if it's not finite.\n\nJSON doesn't support infinities??? ðŸ˜±","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!NnKyFxSjabKpyjbPcL:matrix.org/$WcFMbQBmS12DhRx0RtXH3uM_ojMwySc8ofZJdgWNnSU?via=matrix.org&via=igalia.com&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@eemeli:mozilla.org\">@eemeli:mozilla.org</a><br />In my own thinking, the Amount value is effectively the JSON number value. That doesn't work if it's not finite.</blockquote></mx-reply>JSON doesn't support infinities??? ðŸ˜±","m.relates_to":{"m.in_reply_to":{"event_id":"$WcFMbQBmS12DhRx0RtXH3uM_ojMwySc8ofZJdgWNnSU"}},"msgtype":"m.text"},"ts":1753827346927,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$W6FEW-z9nJKSWHUbr7-VTyahsUOifAbxYYVkXCdsI_Q"},
{"content":{"body":"since we don't do arithmetic, and hence don't aim to align with IEEE 754, I don't see why we should include NaN or -0","m.mentions":{},"msgtype":"m.text"},"ts":1753827364664,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$CJcmTLa6mUnOZ3nNotYG8PWYYF9-hZpGuMbgQHe-xvI"},
{"content":{"body":"JSON numbers are unquoted decimal strings. No infinities.","m.mentions":{},"msgtype":"m.text"},"ts":1753827422189,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$iR6_KM-tcRG7CJCOfteHsS6yaxcG5guMAXqbakS2TEE"},
{"content":{"body":"if we settle on an unlimited range for finite values (at least in the spec), should we also have infinite values?","m.mentions":{"user_ids":["@sffc:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$PNkYK0zzaCInPpYeRN5C4GLIcbAYy_cFnHStJqe79pU"}},"msgtype":"m.text"},"ts":1753827454536,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$KBgN9TO-wqGQxhJEJMnZ7Qik7KsOQJL4l_hdSr-jhR8"},
{"content":{"body":"We round Infinity to the smallest MV then when cast to a float gives infinity? :)","msgtype":"m.text"},"ts":1753827524260,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$b3knWC4pWD4U_ZtcKmDZgP50muwVnhQ7fTmI49acSE4"},
{"content":{"body":"* We round Infinity to the smallest MV that when cast to a float gives infinity? :)","m.new_content":{"body":"We round Infinity to the smallest MV that when cast to a float gives infinity? :)","msgtype":"m.text"},"m.relates_to":{"event_id":"$b3knWC4pWD4U_ZtcKmDZgP50muwVnhQ7fTmI49acSE4","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1753827550526,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$9YdT6hwV1BIyMsbAksCQYjcCK6K-hSInzo393IlhUxM"},
{"content":{"body":"On keep-trailing-zeros, I think we might still get 2.7 at this meeting, If Shane has time to review it? I understood Waldemar's blocking concern to have been identified as being beyond its scope.","m.mentions":{},"msgtype":"m.text"},"ts":1753827719157,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$_kAecV61Fmtd7ElYiNkZIvDq7EgIaPQmyjewn9TTf7M"},
{"content":{"body":"my understanding was that he either has a concern with Intl.NF as it exists today, or maybe a concern with the decimal spec text not updating Intl.NF","m.mentions":{},"msgtype":"m.text"},"ts":1753827771516,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$O1SaqufDrKVz7wGK6r8BXS3nf88K_08UFrec1pEfOG8"},
{"content":{"body":"Yeah I didn't have it on my to-do list to review keep-trailing-zeros for 2.7 for some reason (I've been spending most of my time on intl-era-monthcode) but I'll get it in before tomorrow's meeting","m.mentions":{},"msgtype":"m.text"},"ts":1753827827771,"senderName":"sffc","senderId":"@sffc:mozilla.org","id":"$YbZyDMzwaV_KqfmhxFRHZK9NQILaIyg1G_ESFwq9Byk"}
]