[
{"content":{"body":"taking a look at the issue of the Amount spec text not yet handling Intl.NumberFormat, it seems to me that no spec text is needed (!) provided that keep-trailing-zero is merged in","m.mentions":{},"msgtype":"m.text"},"ts":1751542873609,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$GgfrckcmwBP982YqIjJA0U3Xkq9C49_lE54Rf-0cHsM"},
{"content":{"body":"the `FormatNumeric` AO seems to be doing the heavy lifting in NumberFormat; and given that the `ToPrimitive` AO will result in a call to `toString` on Amount objects (because there won't be a `.valueOf` method), it seems to me that, with Eemeli's bugfix, NumberFormat should work out-of-the-box with Amounts","format":"org.matrix.custom.html","formatted_body":"the <code>FormatNumeric</code> AO seems to be doing the heavy lifting in NumberFormat; and given that the <code>ToPrimitive</code> AO will result in a call to <code>toString</code> on Amount objects (because there won't be a <code>.valueOf</code> method), it seems to me that, with Eemeli's bugfix, NumberFormat should work out-of-the-box with Amounts","m.mentions":{},"msgtype":"m.text"},"ts":1751543060605,"senderName":"Jesse","senderId":"@jesse:igalia.com","id":"$_0NlDd68kzQ0w8MLLe_LG4K32V2UB_1CxPZluR2y-hs"},
{"content":{"body":"Well, not with Amounts that include a unit or currency. For those, the toString() output will not be parseable as a number, and the currency or unit in the Amount will be discarded.","m.mentions":{},"msgtype":"m.text"},"ts":1751561581307,"senderName":"eemeli","senderId":"@eemeli:mozilla.org","id":"$SDobP71yM4hjy6k9pTeVUOnnqZfUpHnQtNGMlpW4wNc"},
{"content":{"body":"color me sniped: https://gist.github.com/gibson042/180b7147f84e17e4d55d2893f28719a2","m.mentions":{"user_ids":["@eemeli:mozilla.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$OTciV_P8-MxtT4JiI-kcvRplOwkbVUt6Sga1hTciM8g"}},"msgtype":"m.text"},"ts":1751576521697,"senderName":"Richard Gibson","senderId":"@gibson042:matrix.org","id":"$uZnJmjS55L_5-mMEDmSBq-l26ac0bxcCuwYzuneSPEY"}
]