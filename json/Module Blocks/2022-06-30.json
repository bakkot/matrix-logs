[
{"content":{"body":"maybe the proposed constraint implicitly something like \"if we don't consider HTML because we consider the web to be legacy and bad\" -- I feel like that's the subtext for a lot of conversations in TC39, and I have trouble empathizing with it since my work includes the web.","msgtype":"m.text","org.matrix.msc1767.text":"maybe the proposed constraint implicitly something like \"if we don't consider HTML because we consider the web to be legacy and bad\" -- I feel like that's the subtext for a lot of conversations in TC39, and I have trouble empathizing with it since my work includes the web."},"ts":1656601835985,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$ZczsU12id-j6zFE6vPPZRDZwWNIbfN-1Jcfz1zL4A6w"},
{"content":{"body":"by the proposed constraint I'm referring to Jordan's idea that each module should have a distinct import.meta.url which identifies it","msgtype":"m.text","org.matrix.msc1767.text":"by the proposed constraint I'm referring to Jordan's idea that each module should have a distinct import.meta.url which identifies it"},"ts":1656605795275,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$9brW8HFpfOl-hPwYRd9wDdz_ozHRYWSwl6KCF5-zBmQ"},
{"content":{"body":"the way this isn't true for script tags is exactly the same way as it wouldn't be true for module blocks and fragments","msgtype":"m.text","org.matrix.msc1767.text":"the way this isn't true for script tags is exactly the same way as it wouldn't be true for module blocks and fragments"},"ts":1656605824261,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$_Y0Kq8E3QlORldafZPbz1ZCE8DYhqNxAh6V79aANWQk"},
{"content":{"body":"in practice tho, it is true for script tags, because the same script is loaded, even if there's more than one evaluation of it","msgtype":"m.text","org.matrix.msc1767.text":"in practice tho, it is true for script tags, because the same script is loaded, even if there's more than one evaluation of it"},"ts":1656607004427,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$8x9JBpakSV18-JGk1lLnoGshkcNl_re_k0YW0Gsm8T0"},
{"content":{"body":"If you have multiple inline script tags, they are different scripts","msgtype":"m.text"},"ts":1656607042221,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$F5M9o8tNqo5_jLzEues7bo7urj1wUiDWZWwTL9LtAo0"},
{"content":{"body":"I'm not sure if we're talking about the same thing. If you have multiple inline script tags with different contents, it is a different script","msgtype":"m.text","org.matrix.msc1767.text":"I'm not sure if we're talking about the same thing. If you have multiple inline script tags with different contents, it is a different script"},"ts":1656607063885,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$HndB5o9l5GpX4mDGpwhb9ksksUU9ExGMVXooF7II7PE"},
{"content":{"body":"(we = Jordan and me, I think Nicolo and I are referring to the same thing)","msgtype":"m.text","org.matrix.msc1767.text":"(we = Jordan and me, I think Nicolo and I are referring to the same thing)"},"ts":1656607080417,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$R8bY53XB3dGd1NWP7rAeP9lWoYMIB0rJX_uBLrDrOaQ"},
{"content":{"body":" * I'm not sure if we're talking about the same thing. If you have multiple inline script tags with different contents, it is a different script","m.new_content":{"body":"I'm not sure if we're talking about the same thing. If you have multiple inline script tags with different contents, it is a different script","msgtype":"m.text","org.matrix.msc1767.text":"I'm not sure if we're talking about the same thing. If you have multiple inline script tags with different contents, it is a different script"},"m.relates_to":{"event_id":"$HndB5o9l5GpX4mDGpwhb9ksksUU9ExGMVXooF7II7PE","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * I'm not sure if we're talking about the same thing. If you have multiple inline script tags with different contents, it is a different script"},"ts":1656607125958,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$uBAI3N_aCQuqUWbul4PPY5mIeCtXHF9S_8vDoJVEw5A"},
{"content":{"body":"sorry fixed an error above","msgtype":"m.text","org.matrix.msc1767.text":"sorry fixed an error above"},"ts":1656607132563,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$cp16zL4hnfLJ9hrJhsb2THQtQnCQvwHv8b_qGM14oVM"},
{"content":{"body":"yes, i realize that","msgtype":"m.text","org.matrix.msc1767.text":"yes, i realize that"},"ts":1656607142061,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$puuJAd-Vpwa9M29j9XXqjkX71qvVuSPRCHL27iX1d24"},
{"content":{"body":"but it's *conceptually* the same thing","format":"org.matrix.custom.html","formatted_body":"but it's <em>conceptually</em> the same thing","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"but it's *conceptually* the same thing","mimetype":"text/plain"},{"body":"but it's <em>conceptually</em> the same thing","mimetype":"text/html"}]},"ts":1656607145979,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$Ez8Ef6OUDQXEWsifozPAube0ERNPVOeb8rDJnuPephQ"},
{"content":{"body":"I don't follow","msgtype":"m.text","org.matrix.msc1767.text":"I don't follow"},"ts":1656607151791,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$4C_kaChBTtcxAIBKckTTKgF4wTquYnZJPo1a_8RcMtk"},
{"content":{"body":"regular script tags are basically always side-effecting, so it's not the best analogy","msgtype":"m.text","org.matrix.msc1767.text":"regular script tags are basically always side-effecting, so it's not the best analogy"},"ts":1656607158363,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$P4XeiIZAtQqZB-S96wlPEHvMcKf8tmShG8Bk-h3Dz4A"},
{"content":{"body":"since modules usually *aren't* side-effecting","format":"org.matrix.custom.html","formatted_body":"since modules usually <em>aren't</em> side-effecting","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"since modules usually *aren't* side-effecting","mimetype":"text/plain"},{"body":"since modules usually <em>aren't</em> side-effecting","mimetype":"text/html"}]},"ts":1656607164461,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$tMPK2CPzld_xzUX3ThorLdK8qI8qwJrNWw3Cy1g2ihQ"},
{"content":{"body":"what i mean is, if i have 2 script tags that load the same version of, say, react, i end up with one copy of react on the page","msgtype":"m.text","org.matrix.msc1767.text":"what i mean is, if i have 2 script tags that load the same version of, say, react, i end up with one copy of react on the page"},"ts":1656607187558,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$Lwz-y2_uNEOvQ8RO_iYlwxerUKBySiXkb5ckcT6M9ag"},
{"content":{"body":"sure, sounds like you aren't talking about the multiple inline script tag case","msgtype":"m.text","org.matrix.msc1767.text":"sure, sounds like you aren't talking about the multiple inline script tag case"},"ts":1656607225689,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$5EEA132iZNc5QsRDu5yinHAmsXy8414yeJ_iEIJopaI"},
{"content":{"body":"maybe not","msgtype":"m.text","org.matrix.msc1767.text":"maybe not"},"ts":1656607229107,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$UI9m_oi54RSfNVkGeb2ZQ08jwiRwwbBfInBQnwuctBA"},
{"content":{"body":"i mean like how `function () {}` and `function () {}` are two different functions, but are conceptually the same function","format":"org.matrix.custom.html","formatted_body":"i mean like how <code>function () {}</code> and <code>function () {}</code> are two different functions, but are conceptually the same function","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"i mean like how `function () {}` and `function () {}` are two different functions, but are conceptually the same function","mimetype":"text/plain"},{"body":"i mean like how <code>function () {}</code> and <code>function () {}</code> are two different functions, but are conceptually the same function","mimetype":"text/html"}]},"ts":1656607241408,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$PsrRAh2IE3SOeNxXZBD6gAISXrPqAYeRku3CVpVWpNA"},
{"content":{"body":"because you can't import an inline script tag","msgtype":"m.text","org.matrix.msc1767.text":"because you can't import an inline script tag"},"ts":1656607244156,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$4uiqgpBmoM4IRwnOBHlXIgbdhFVTi_O1jVUn8hmGhhw"},
{"content":{"body":"right, that's why it's not really analogous","msgtype":"m.text","org.matrix.msc1767.text":"right, that's why it's not really analogous"},"ts":1656607256690,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$ykOtq0E3pE7hmnLzHwtVJG7leW4Se_FBw8u8OIiPE64"},
{"content":{"body":"so, the claim is, things that are imported should have an import.meta.url that you can use to import them?","msgtype":"m.text","org.matrix.msc1767.text":"so, the claim is, things that are imported should have an import.meta.url that you can use to import them?"},"ts":1656607295894,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$Ne_c02CZDHsY6RmKv3ivjPZP_8ut5smXrMj2THzosP0"},
{"content":{"body":"yes","msgtype":"m.text","org.matrix.msc1767.text":"yes"},"ts":1656607303219,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$PotPLTnfRmnWscALwPm37wGecaU8vmJc_yyoVog9M2A"},
{"content":{"body":"and this is why it doesn't apply to inline script tags?","msgtype":"m.text","org.matrix.msc1767.text":"and this is why it doesn't apply to inline script tags?"},"ts":1656607304263,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$qPhGf0MIDtRQ7d1gzNXFbQJ0ii_nT0tGutbbTjsZyXc"},
{"content":{"body":"yes","msgtype":"m.text","org.matrix.msc1767.text":"yes"},"ts":1656607307433,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$-Spw-GkqnQsqD1x50V06GHnkKUSPpr-6NZCFRA3Huvw"},
{"content":{"body":"maybe we want to split up import.meta.url into two things, one which exposes the base for resolution and the other which is the resolved module specifier","msgtype":"m.text","org.matrix.msc1767.text":"maybe we want to split up import.meta.url into two things, one which exposes the base for resolution and the other which is the resolved module specifier"},"ts":1656607337294,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$TgJh26SIrOBZDKlyDHpGvF5l6in-pHZchqu_TkE9qXI"},
{"content":{"body":" * maybe we want to split up import.meta.url into two things, one which exposes the base for resolution and the other which is the resolved module specifier","m.new_content":{"body":"maybe we want to split up import.meta.url into two things, one which exposes the base for resolution and the other which is the resolved module specifier","msgtype":"m.text","org.matrix.msc1767.text":"maybe we want to split up import.meta.url into two things, one which exposes the base for resolution and the other which is the resolved module specifier"},"m.relates_to":{"event_id":"$TgJh26SIrOBZDKlyDHpGvF5l6in-pHZchqu_TkE9qXI","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * maybe we want to split up import.meta.url into two things, one which exposes the base for resolution and the other which is the resolved module specifier"},"ts":1656607355676,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$vsbF2Oh_Et4asEVhRlqlYM5ey1APgs_AYyJM83UeWE8"},
{"content":{"body":"also `import.meta.resolve` is a thing now in the web","format":"org.matrix.custom.html","formatted_body":"also <code>import.meta.resolve</code> is a thing now in the web","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"also `import.meta.resolve` is a thing now in the web","mimetype":"text/plain"},{"body":"also <code>import.meta.resolve</code> is a thing now in the web","mimetype":"text/html"}]},"ts":1656607358106,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$_ATfNN6ilDLnXLCaZM3aXMUW9RNzIYyWalki1ZgrqO8"},
{"content":{"body":"so what does `import.meta.resolve(moduleBlock)` do?","format":"org.matrix.custom.html","formatted_body":"so what does <code>import.meta.resolve(moduleBlock)</code> do?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"so what does `import.meta.resolve(moduleBlock)` do?","mimetype":"text/plain"},{"body":"so what does <code>import.meta.resolve(moduleBlock)</code> do?","mimetype":"text/html"}]},"ts":1656607366280,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$gejLE4TblkknoQFske9-OEArRQJLot4rahcaAYE5iwQ"},
{"content":{"body":"my assumption is it'd produce something related to `import.meta.url` inside moduleBlock","format":"org.matrix.custom.html","formatted_body":"my assumption is it'd produce something related to <code>import.meta.url</code> inside moduleBlock","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"my assumption is it'd produce something related to `import.meta.url` inside moduleBlock","mimetype":"text/plain"},{"body":"my assumption is it'd produce something related to <code>import.meta.url</code> inside moduleBlock","mimetype":"text/html"}]},"ts":1656607380860,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$dTjyhe8A_GioIf9dzanF2twy3rU7RDRVHd0_nnXiknU"},
{"content":{"body":"why would we expect it to work at all? sorry","msgtype":"m.text","org.matrix.msc1767.text":"why would we expect it to work at all? sorry"},"ts":1656607391246,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$CDCj5KckPDozBevfuVEFGxH1lLwXDDfCgus5RQqdQhI"},
{"content":{"body":"yeah I could see the argument that import.meta.url should instead be the full module specifier, now that we have import.meta.resolve","msgtype":"m.text","org.matrix.msc1767.text":"yeah I could see the argument that import.meta.url should instead be the full module specifier, now that we have import.meta.resolve"},"ts":1656607427908,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$5vv7vxkLW7wfmrEBwIj7v1EcnuYNmjw-H7dUtZuPUfA"},
{"content":{"body":"so for a module block it'd be that block","msgtype":"m.text","org.matrix.msc1767.text":"so for a module block it'd be that block"},"ts":1656607434452,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$7YHeMlZeH9rR9Kp8u09q2JC9ihCAQK8A0h7Iv_hnXaE"},
{"content":{"body":"I haven't been tracking how broad buy-in import.meta.resolve has","msgtype":"m.text","org.matrix.msc1767.text":"I haven't been tracking how broad buy-in import.meta.resolve has"},"ts":1656607460133,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$UvSjnalzSMsRRN9RaDhRrmKHW6w7fqAVergqYQec-OI"},
{"content":{"body":"i think the HTML PR got merged this week","msgtype":"m.text","org.matrix.msc1767.text":"i think the HTML PR got merged this week"},"ts":1656607472052,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$ykuGzYuzCqUzpPXpVDwZBOssHN7KLu5c-6oRLeT19YY"},
{"content":{"body":"sure that's not the complete story","msgtype":"m.text","org.matrix.msc1767.text":"sure that's not the complete story"},"ts":1656607482188,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$VSxj93kToP9g7RfN6Dbce1CmTbr_xDIMbdD3d_G_ZDc"},
{"content":{"body":"fair","msgtype":"m.text","org.matrix.msc1767.text":"fair"},"ts":1656607488731,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$Umm8yPy46VMfHPZqZngwhz-YMJ80-XToq7kkUWFrsaA"},
{"content":{"body":"it's just an example tho of how i expect module URLs to work on the web","msgtype":"m.text","org.matrix.msc1767.text":"it's just an example tho of how i expect module URLs to work on the web"},"ts":1656607503119,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$DRfZ4KIPRZNWTHhajzDs83IAUYCWcGNsevQ4VOI6nJk"},
{"content":{"body":"I mean sometimes HTML PRs are merged for things which have support but not implementations from multiple browsers (this happened to JSON modules!)","msgtype":"m.text","org.matrix.msc1767.text":"I mean sometimes HTML PRs are merged for things which have support but not implementations from multiple browsers (this happened to JSON modules!)"},"ts":1656607504109,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$XtU2o5q3sDXHm1nzlkof-SyryrCEXYqe-NXx6d63noQ"}
]