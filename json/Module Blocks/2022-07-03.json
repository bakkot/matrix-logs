[
{"content":{"body":"> <@littledan:matrix.org> I don't think it's relaxed in practice. HTML may do two fetches but definitely not evaluate the same JS code twice\n\nDo you mean, the first import without assertion, and the second import with assertion so the browser needs to fetch the source again to check if  assertion succeed? ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!QDrcqyQBnPJSClvYwJ:matrix.org/$_-Kww5NIfrZClcUujc6cajTorzsfFAUec1LOcIn_1aI?via=matrix.org\">In reply to</a> <a href=\"https://matrix.to/#/@littledan:matrix.org\">@littledan:matrix.org</a><br />I don't think it's relaxed in practice. HTML may do two fetches but definitely not evaluate the same JS code twice</blockquote></mx-reply>Do you mean, the first import without assertion, and the second import with assertion so the browser needs to fetch the source again to check if  assertion succeed?","m.relates_to":{"m.in_reply_to":{"event_id":"$_-Kww5NIfrZClcUujc6cajTorzsfFAUec1LOcIn_1aI"}},"msgtype":"m.text"},"ts":1656857986357,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$iVX0j5BCM9Doaj269oh5MxSFjnOoKcai1N-wgQttIAg"},
{"content":{"body":"> <@lucacasonato:matrix.org> I know for a fact that Chrome only fetched each specifier once per realm.\n\nðŸ‘€ What if import(\"/a\") then import(\"/b\") but /b redirects to /a? does \"/a\" execute twice?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!QDrcqyQBnPJSClvYwJ:matrix.org/$N8Di8TQh8XKWfW8T9VGPTGYT8o7-V9wgm-AXWZAqUSQ?via=matrix.org\">In reply to</a> <a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">@lucacasonato:matrix.org</a><br>I know for a fact that Chrome only fetched each specifier once per realm.</blockquote></mx-reply>ðŸ‘€ What if import(&quot;/a&quot;) then import(&quot;/b&quot;) but /b redirects to /a? does &quot;/a&quot; execute twice?","m.relates_to":{"m.in_reply_to":{"event_id":"$N8Di8TQh8XKWfW8T9VGPTGYT8o7-V9wgm-AXWZAqUSQ"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@lucacasonato:matrix.org> I know for a fact that Chrome only fetched each specifier once per realm.\n\nðŸ‘€ What if import(\"/a\") then import(\"/b\") but /b redirects to /a? does \"/a\" execute twice?","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!QDrcqyQBnPJSClvYwJ:matrix.org/$N8Di8TQh8XKWfW8T9VGPTGYT8o7-V9wgm-AXWZAqUSQ?via=matrix.org\">In reply to</a> <a href=\"https://matrix.to/#/@lucacasonato:matrix.org\">@lucacasonato:matrix.org</a><br>I know for a fact that Chrome only fetched each specifier once per realm.</blockquote></mx-reply>ðŸ‘€ What if import(&quot;/a&quot;) then import(&quot;/b&quot;) but /b redirects to /a? does &quot;/a&quot; execute twice?","mimetype":"text/html"}]},"ts":1656858619879,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$6ClbzNPxwtCMkAIiqDiaRUFMi2puQLoT_Dyw1Vj7_Yg"},
{"content":{"body":"> <@jackworks:matrix.org> ðŸ‘€ What if import(\"/a\") then import(\"/b\") but /b redirects to /a? does \"/a\" execute twice?\n\nNo","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!QDrcqyQBnPJSClvYwJ%3Amatrix.org/%246ClbzNPxwtCMkAIiqDiaRUFMi2puQLoT_Dyw1Vj7_Yg\">In reply to</a> <a href=\"https://matrix.to/#/@jackworks:matrix.org\">@jackworks:matrix.org</a><br>ðŸ‘€ What if import(&quot;/a&quot;) then import(&quot;/b&quot;) but /b redirects to /a? does &quot;/a&quot; execute twice?</blockquote></mx-reply>No","m.relates_to":{"m.in_reply_to":{"event_id":"$6ClbzNPxwtCMkAIiqDiaRUFMi2puQLoT_Dyw1Vj7_Yg"}},"msgtype":"m.text"},"ts":1656858782168,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$TmTRITLjhaPjbG64O54HiTYLxsYsdgoh_IVcf3HwMvs"},
{"content":{"body":"That case very much does execute twice in browsers, even if it only fetches /a once","msgtype":"m.text","org.matrix.msc1767.text":"That case very much does execute twice in browsers, even if it only fetches /a once"},"ts":1656883722994,"senderName":"guybedford","senderId":"@guybedford:matrix.org","id":"$G7MgD_a9n_zJiATwsDfe8p6lBoVGF0pfuRLPlIHhZaY"},
{"content":{"body":"Huh, I am confused now... I remember this working differently","msgtype":"m.text","org.matrix.msc1767.text":"Huh, I am confused now... I remember this working differently"},"ts":1656887858846,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$zuHNkObkjbdDOp0xqAZqyUYcDTSzc1pOh9j796kPCJg"},
{"content":{"body":"I dug through this all a year or two ago for the Deno module loader.","msgtype":"m.text","org.matrix.msc1767.text":"I dug through this all a year or two ago for the Deno module loader."},"ts":1656887892148,"senderName":"Luca Casonato","senderId":"@lucacasonato:matrix.org","id":"$G2DTW75Ak8CxUAYSnQmHMiNM4Hhor7VmYUNdNu9fnG0"}
]