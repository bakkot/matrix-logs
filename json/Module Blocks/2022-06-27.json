[
{"content":{"body":"Surma  I opened https://github.com/tc39/proposal-js-module-blocks/pull/65 to define a spec text we can iterate on to clearly define caching semantics. That PR does not aim at choosing a \"definitive caching strategy\" (I don't like how it behaves with `import(aModuleBlockFromAnotherRealm)`), but they are the simplest consistent semantics that I could write.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@surma:matrix.org\">Surma</a>  I opened https://github.com/tc39/proposal-js-module-blocks/pull/65 to define a spec text we can iterate on to clearly define caching semantics. That PR does not aim at choosing a &quot;definitive caching strategy&quot; (I don't like how it behaves with <code>import(aModuleBlockFromAnotherRealm)</code>), but they are the simplest consistent semantics that I could write.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Surma  I opened https://github.com/tc39/proposal-js-module-blocks/pull/65 to define a spec text we can iterate on to clearly define caching semantics. That PR does not aim at choosing a \"definitive caching strategy\" (I don't like how it behaves with `import(aModuleBlockFromAnotherRealm)`), but they are the simplest consistent semantics that I could write.","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@surma:matrix.org\">Surma</a>  I opened https://github.com/tc39/proposal-js-module-blocks/pull/65 to define a spec text we can iterate on to clearly define caching semantics. That PR does not aim at choosing a &quot;definitive caching strategy&quot; (I don't like how it behaves with <code>import(aModuleBlockFromAnotherRealm)</code>), but they are the simplest consistent semantics that I could write.","mimetype":"text/html"}]},"ts":1656335274940,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$7uHNQ4vY_pCtcO8pZbk6nvID-HL1zHdEMS4KCi5ml10"},
{"content":{"body":"interesting to not go through the host; this should reduce a lot of the complexity that I was imagining","msgtype":"m.text","org.matrix.msc1767.text":"interesting to not go through the host; this should reduce a lot of the complexity that I was imagining"},"ts":1656340567124,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$y3kp8zabUwq8qx9H6DdfeAmkO01Y-7GEhOTTqHE4hmA"},
{"content":{"body":"Surma and I had worked on https://github.com/whatwg/html/pull/7009 which takes a different approach, probably worse","msgtype":"m.text","org.matrix.msc1767.text":"Surma and I had worked on https://github.com/whatwg/html/pull/7009 which takes a different approach, probably worse"},"ts":1656340619192,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$v1SLi70q2EXs8o2xOM51SVhiMk9hq796GYTewZXPgWw"},
{"content":{"body":"anyway there's a very nice symmetry between not calling host hooks and not calling compartment hooks for this kind of thing!","msgtype":"m.text","org.matrix.msc1767.text":"anyway there's a very nice symmetry between not calling host hooks and not calling compartment hooks for this kind of thing!"},"ts":1656340641462,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$OFhwo-MyUoMAAjZzpgzpYf4eb8MZoAS0eYwO29V89CE"},
{"content":{"body":"> <@littledan:matrix.org> Surma and I had worked on https://github.com/whatwg/html/pull/7009 which takes a different approach, probably worse\n\nThanks for the link!","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!QDrcqyQBnPJSClvYwJ:matrix.org/$v1SLi70q2EXs8o2xOM51SVhiMk9hq796GYTewZXPgWw?via=matrix.org\">In reply to</a> <a href=\"https://matrix.to/#/@littledan:matrix.org\">@littledan:matrix.org</a><br>Surma and I had worked on https://github.com/whatwg/html/pull/7009 which takes a different approach, probably worse</blockquote></mx-reply>Thanks for the link!","m.relates_to":{"m.in_reply_to":{"event_id":"$v1SLi70q2EXs8o2xOM51SVhiMk9hq796GYTewZXPgWw"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@littledan:matrix.org> Surma and I had worked on https://github.com/whatwg/html/pull/7009 which takes a different approach, probably worse\n\nThanks for the link!","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!QDrcqyQBnPJSClvYwJ:matrix.org/$v1SLi70q2EXs8o2xOM51SVhiMk9hq796GYTewZXPgWw?via=matrix.org\">In reply to</a> <a href=\"https://matrix.to/#/@littledan:matrix.org\">@littledan:matrix.org</a><br>Surma and I had worked on https://github.com/whatwg/html/pull/7009 which takes a different approach, probably worse</blockquote></mx-reply>Thanks for the link!","mimetype":"text/html"}]},"ts":1656340654627,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$3UG3jZbnuyQkBzRIEoynh0BAoDqcIg0pmBFn0-x6VsY"},
{"content":{"body":"Yup, in my mind \"hosts\" are just \"compartments one level below\" (when it comes to modules)","format":"org.matrix.custom.html","formatted_body":"Yup, in my mind &quot;hosts&quot; are just &quot;compartments one level below&quot; (when it comes to modules)","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Yup, in my mind \"hosts\" are just \"compartments one level below\" (when it comes to modules)","mimetype":"text/plain"},{"body":"Yup, in my mind &quot;hosts&quot; are just &quot;compartments one level below&quot; (when it comes to modules)","mimetype":"text/html"}],"m.relates_to":{"m.in_reply_to":{"event_id":"$OFhwo-MyUoMAAjZzpgzpYf4eb8MZoAS0eYwO29V89CE"}}},"ts":1656340702338,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$2PUiwA4qi20_f7mrookODl0y8tt06630h0o_GCBOBl0"},
{"content":{"body":"Note that _if we want to do it_ it would still be possible to add back some host hooks in the future","format":"org.matrix.custom.html","formatted_body":"Note that <em>if we want to do it</em> it would still be possible to add back some host hooks in the future","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Note that _if we want to do it_ it would still be possible to add back some host hooks in the future","mimetype":"text/plain"},{"body":"Note that <em>if we want to do it</em> it would still be possible to add back some host hooks in the future","mimetype":"text/html"}]},"ts":1656340733571,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$xSILlSrfR5QvOD-DyMxmOAB2tf65IgVEmWx0Wu7yV6w"},
{"content":{"body":"> <@littledan:matrix.org> anyway there's a very nice symmetry between not calling host hooks and not calling compartment hooks for this kind of thing!\n\n * Yup, in my mind \"hosts\" are just \"compartments one level below\" (when it comes to modules)","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!QDrcqyQBnPJSClvYwJ:matrix.org/$OFhwo-MyUoMAAjZzpgzpYf4eb8MZoAS0eYwO29V89CE?via=matrix.org\">In reply to</a> <a href=\"https://matrix.to/#/@littledan:matrix.org\">@littledan:matrix.org</a><br>anyway there's a very nice symmetry between not calling host hooks and not calling compartment hooks for this kind of thing!</blockquote></mx-reply> * Yup, in my mind &quot;hosts&quot; are just &quot;compartments one level below&quot; (when it comes to modules)","m.new_content":{"body":"Yup, in my mind \"hosts\" are just \"compartments one level below\" (when it comes to modules)","format":"org.matrix.custom.html","formatted_body":"Yup, in my mind &quot;hosts&quot; are just &quot;compartments one level below&quot; (when it comes to modules)","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Yup, in my mind \"hosts\" are just \"compartments one level below\" (when it comes to modules)","mimetype":"text/plain"},{"body":"Yup, in my mind &quot;hosts&quot; are just &quot;compartments one level below&quot; (when it comes to modules)","mimetype":"text/html"}]},"m.relates_to":{"event_id":"$2PUiwA4qi20_f7mrookODl0y8tt06630h0o_GCBOBl0","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@littledan:matrix.org> anyway there's a very nice symmetry between not calling host hooks and not calling compartment hooks for this kind of thing!\n\n * Yup, in my mind \"hosts\" are just \"compartments one level below\" (when it comes to modules)","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!QDrcqyQBnPJSClvYwJ:matrix.org/$OFhwo-MyUoMAAjZzpgzpYf4eb8MZoAS0eYwO29V89CE?via=matrix.org\">In reply to</a> <a href=\"https://matrix.to/#/@littledan:matrix.org\">@littledan:matrix.org</a><br>anyway there's a very nice symmetry between not calling host hooks and not calling compartment hooks for this kind of thing!</blockquote></mx-reply> * Yup, in my mind &quot;hosts&quot; are just &quot;compartments one level below&quot; (when it comes to modules)","mimetype":"text/html"}]},"ts":1656340747069,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$KMrxznSqzJVAx5ook9iRDiFqyj6AgbDMTe7Zoemf864"},
{"content":{"body":"yeah compartments are sort of like a cleaned up version of host hooks for modules, I think","msgtype":"m.text","org.matrix.msc1767.text":"yeah compartments are sort of like a cleaned up version of host hooks for modules, I think"},"ts":1656340774654,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$zOci0WwT1xQ9SdQS_10KBGgsJGqS05-KF_HhfTkrT9w"},
{"content":{"body":"if we do our job very well, maybe making them actually match would be a nice refactoring for the modules host hooks. The logic right now is a bit confusing.","msgtype":"m.text","org.matrix.msc1767.text":"if we do our job very well, maybe making them actually match would be a nice refactoring for the modules host hooks. The logic right now is a bit confusing."},"ts":1656340800223,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$gddpeI4Y-C6qlcf07O2OsqL80_396g8FZq1sYyxJmoo"}
]