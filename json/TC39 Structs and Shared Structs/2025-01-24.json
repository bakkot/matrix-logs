[
{"content":{"body":"> <@kriskowal:aelf.land> I’ve captured my reasoning about shared struct constructor and prototype registration, as I understand nicolo-ribaudo’s revelation, and how we expect shared struct semantics to compose or intersect with modules and evaluators, which would give users a level to designate a cohort of shared structs for purposes of evaluating some set of modules. https://gist.github.com/kriskowal/7f56e3bd5a634f1ca828fb3e571e3c7b\n\n\"// tangentially, because these primitives are bytewise equal\nnew alfa() === new bravo();\"\n\nsurprised me, they are separately mutable so their bytes can diverge ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!fmLqwwrfASaCrzNjAk%3Amatrix.org/%2466VszgZpjCQY7z7qkNsM0qcXi4wNWBQBpnIQK2o9ank\">In reply to</a> <a href=\"https://matrix.to/#/@kriskowal:aelf.land\">@kriskowal:aelf.land</a><br>I’ve captured my reasoning about shared struct constructor and prototype registration, as I understand <a href=\"https://matrix.to/#/@nicolo-ribaudo:matrix.org\">nicolo-ribaudo</a>’s revelation, and how we expect shared struct semantics to compose or intersect with modules and evaluators, which would give users a level to designate a cohort of shared structs for purposes of evaluating some set of modules. https://gist.github.com/kriskowal/7f56e3bd5a634f1ca828fb3e571e3c7b</blockquote></mx-reply>\"// tangentially, because these primitives are bytewise equal<br />new alfa() === new bravo();\"<br /><br />surprised me, they are separately mutable so their bytes can diverge ","m.relates_to":{"m.in_reply_to":{"event_id":"$66VszgZpjCQY7z7qkNsM0qcXi4wNWBQBpnIQK2o9ank"}},"msgtype":"m.text"},"ts":1737731849141,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$yvgtMhPeEjN8qfycL1PKNaFvNSBpoWnZt5yZTgAh91w"},
{"content":{"body":"That’s a thing I don’t know but suspected and expect to be corrected if inaccurate.","m.mentions":{},"msgtype":"m.text"},"ts":1737733369670,"senderName":"kriskowal","senderId":"@kriskowal:aelf.land","id":"$l6DY7wAqhKxFf3XMZzSZEI5CjCGJe48UQXPruMmpubA"},
{"content":{"body":"hmm, it is probably important for compatibility that primitive (i.e., `typeof x !== \"object\" && x !== null`) ⇒ immutable, and even more important that strict (in)equality is time-invariant","format":"org.matrix.custom.html","formatted_body":"hmm, it is probably important for compatibility that primitive (i.e., <code>typeof x !== \"object\" &amp;&amp; x !== null</code>) ⇒ immutable, and even more important that strict (in)equality is time-invariant","m.mentions":{},"msgtype":"m.text"},"ts":1737740878239,"senderName":"Richard Gibson","senderId":"@gibson042:matrix.org","id":"$T0TE9pr2cl7IOrhf4KqKm13PVa-dcLqv6ei5I3EDvDc"},
{"content":{"body":"yeah i wouldn't say shared structs are primitives, but exotic","m.mentions":{},"msgtype":"m.text"},"ts":1737741090487,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$qD_gh44stDN_W5hhYAXnuyaWbmEISg05MTXLWEU3jJ8"},
{"content":{"body":"their prototype behavior is very similar to the prototype behavior of primitives","m.mentions":{},"msgtype":"m.text"},"ts":1737741102110,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$bRWw1vRLraF1iFS3LtuwQ-JRy2uPCwdcnvPWjGvIhxA"},
{"content":{"body":"but that doesn't imply that they are primitives","m.mentions":{},"msgtype":"m.text"},"ts":1737741108047,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$laZO9BOT9bjXvFLGT0Or-JStv-5nU4I6GVZBib0hOKw"},
{"content":{"body":"* hmm, it is probably important for compatibility that primitive (i.e., `typeof x !== \"object\" || x !== null`) ⇒ immutable, and even more important that strict (in)equality is time-invariant","format":"org.matrix.custom.html","formatted_body":"* hmm, it is probably important for compatibility that primitive (i.e., <code>typeof x !== \"object\" || x !== null</code>) ⇒ immutable, and even more important that strict (in)equality is time-invariant","m.mentions":{},"m.new_content":{"body":"hmm, it is probably important for compatibility that primitive (i.e., `typeof x !== \"object\" || x !== null`) ⇒ immutable, and even more important that strict (in)equality is time-invariant","format":"org.matrix.custom.html","formatted_body":"hmm, it is probably important for compatibility that primitive (i.e., <code>typeof x !== \"object\" || x !== null</code>) ⇒ immutable, and even more important that strict (in)equality is time-invariant","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$T0TE9pr2cl7IOrhf4KqKm13PVa-dcLqv6ei5I3EDvDc","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1737741535242,"senderName":"Richard Gibson","senderId":"@gibson042:matrix.org","id":"$8QQrBLasO_qtYTnaoM3Zm-HUXhbTl7XERd32VJ5XPDQ"}
]