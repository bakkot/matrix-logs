[
{"content":{"body":"Mathieu Hofman: so i don't see how SABs are normative optional","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@mhofman:matrix.org\">Mathieu Hofman</a>: so i don't see how SABs are normative optional","m.mentions":{"user_ids":["@mhofman:matrix.org"]},"msgtype":"m.text"},"ts":1708036272591,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$WAp9bB0OXrpvXLYhHA5VqnmCrdpkWY_rzSbyIjw-1II"},
{"content":{"body":"mark made that claim earlier today in the call","m.mentions":{},"msgtype":"m.text"},"ts":1708036278551,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$49f7-pNOhitB9q2SVk7fP6zif62kCRv9Z6h2iFJy1Os"},
{"content":{"body":"there's the line \"Whenever a host does not provide concurrent access to SharedArrayBuffers it may omit the \"SharedArrayBuffer\" property of the global object.\"","m.mentions":{},"msgtype":"m.text"},"ts":1708036310664,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$v_28oMPMlRDK-HndM28P2cOKOPV7lkBg0XS8z8GPxdQ"},
{"content":{"body":"but that's slightly different by normative optional","m.mentions":{},"msgtype":"m.text"},"ts":1708036321410,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$v-FYI2EjLeDorPGH0_He0BrrNHpTOCf2IFe2Ah9_2Cw"},
{"content":{"body":"i guess mark just meant it's optional in the layman sense?","m.mentions":{},"msgtype":"m.text"},"ts":1708036328022,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$xhMfehUHqVYT1z2DbwLifeXejd0vqI0QP8eYaLqjD_8"},
{"content":{"body":"How is it different?","m.mentions":{},"msgtype":"m.text"},"ts":1708036346803,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$1lfsFbRQhMvuoI94aGFNCHNTNuCzJaG-YAfjbyKd3jE"},
{"content":{"body":"Richard opened https://github.com/tc39/ecma262/issues/3280 today","m.mentions":{},"msgtype":"m.text"},"ts":1708036360120,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$txZ0ln5f6ZKPmCfwau_4y31z0mYbvVD4G6lecEwqh48"},
{"content":{"body":"it's normative optional because it doesn't have to be present for the environment to be spec-compliant","m.mentions":{},"msgtype":"m.text"},"ts":1708036363845,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$ur6BXPeKwj1tx2Kp92Q7Et0SewNY5vTj2ZY7ScJqJc4"},
{"content":{"body":"anything that's omittable is normative optional","m.mentions":{},"msgtype":"m.text"},"ts":1708036373041,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$pA-tg1dvrJ3673GtnuOnQ1W9Yk70c8OWzZC-QuxJODY"},
{"content":{"body":"so the SAB section is not normative optional","m.mentions":{},"msgtype":"m.text"},"ts":1708036389027,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$DX1Pn9BxmCf739z1ffJYEGtRW7ZwM-42Z47ARVPh8t0"},
{"content":{"body":"I believe the normative optional annotation didn't exist back then","m.mentions":{},"msgtype":"m.text"},"ts":1708036394386,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$JYfqGentVunjlQLXoQ1c4Qy89r7TaqtMUXVVTjQ7RMI"},
{"content":{"body":"the thing that's omittable is the `SharedArrayBuffer` property on the global","format":"org.matrix.custom.html","formatted_body":"the thing that's omittable is the <code>SharedArrayBuffer</code> property on the global","m.mentions":{},"msgtype":"m.text"},"ts":1708036399075,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$rD4tme84Qb_4rYxtLldTQCkuHmUH35JvBs7oqy5uGCc"},
{"content":{"body":"right, the constructor is, exactly","m.mentions":{},"msgtype":"m.text"},"ts":1708036405139,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$ZQ80W77rvxeqhydQ6_GNV0pVZLIDx-7ktXfBv3eMdp8"},
{"content":{"body":"and it's not accessible to JS code otherwise, right?","m.mentions":{},"msgtype":"m.text"},"ts":1708036414794,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$oI8lZLUDUW86hPQ8dIqqBM8vIFb0AvHukgs07ZM_Xrw"},
{"content":{"body":"even on a host that does not provide concurrent access to SABs, you can get it by making a Wasm linear memory that's shared","m.mentions":{},"msgtype":"m.text"},"ts":1708036416243,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$OaVkdEUk1FY9Mezk70edWtj-qDT-JuYyf1AlzHmM1oY"},
{"content":{"body":"and that still has all the right prototypes and methods","m.mentions":{},"msgtype":"m.text"},"ts":1708036424587,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$TO1MYox25AX4FH_pZ-h3qFKT8-y1y2xqRUuL351tCzg"},
{"content":{"body":"ahhh right, ok, gotcha","m.mentions":{},"msgtype":"m.text"},"ts":1708036427564,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$AmmqxL3NIBJ9GFHSGz-g2M2FDTuSWFBrK7BiesDvTq8"},
{"content":{"body":"ok well that's fair. but hosts don't have to have wasm either","m.mentions":{},"msgtype":"m.text"},"ts":1708036438575,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$tSsrVQBgb1Lfuu3fURe6aeZmF4ZAbtNi5_ojBlHfZqk"},
{"content":{"body":"Right, only the constructor is normative optional","m.mentions":{},"msgtype":"m.text"},"ts":1708036443342,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$hgiyTPj01v3QS0VhkvZQEtgk7h4i5Ry6M3dCberIo1A"},
{"content":{"body":" * ok well that's fair. but non-web hosts don't have to have wasm either.","m.mentions":{},"m.new_content":{"body":"ok well that's fair. but non-web hosts don't have to have wasm either.","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$tSsrVQBgb1Lfuu3fURe6aeZmF4ZAbtNi5_ojBlHfZqk","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1708036443562,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$8AYfHjwDGqipFHrdHLlC5tCLOtxGmmdmQusGTGwwedY"},
{"content":{"body":"correct","m.mentions":{},"msgtype":"m.text"},"ts":1708036443738,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$7DmP52Psud2WYlDNYvsSkDvQEiTUq0Pev6q04PIJIYg"},
{"content":{"body":"it's still optional in the layman sense","m.mentions":{},"msgtype":"m.text"},"ts":1708036452747,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$xvci441TOx34T4b8MpvVaglWZ_J1ba0rPc8C47Bxr4g"},
{"content":{"body":"so in browsers, it's just the constructor property. but anywhere else, it's effectively the entire thing as long as wasm is not provided, right?","m.mentions":{},"msgtype":"m.text"},"ts":1708036464855,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$yjpAEp28eeIM0Aqxhq_er91nVMdzRRvrH2J9o7NFC7A"},
{"content":{"body":"right, if there's no other host-provided special way to get one of those things","m.mentions":{},"msgtype":"m.text"},"ts":1708036477883,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$rKaC0buzPsceTePGBD4R2Qzkq5K1FhbJkzXF0wKk9tU"}
]