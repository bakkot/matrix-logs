[
{"content":{"body":"rbuckton: we should figure out how to get builds of node with tip-of-tree V8. your indexed property woes seems to have been long fixed, but the V8 version that your version of node uses hasn't picked it up","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@rbuckton:matrix.org\">rbuckton</a>: we should figure out how to get builds of node with tip-of-tree V8. your indexed property woes seems to have been long fixed, but the V8 version that your version of node uses hasn't picked it up","msgtype":"m.text"},"ts":1694465693035,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$flr8Bl_piaDYmucMg9ExHpy2wqigjGFy2tOb70GDlw8"},
{"content":{"body":"```\n~/v8/v8 $ out/x64.debug/d8 --harmony-struct ./test-shared-struct-elements-own-prop.js \nV8 is running with experimental features enabled. Stability and security will suffer.\n0,1\n{\"writable\":true,\"enumerable\":true,\"configurable\":false}\n\n~/v8/v8 $ cat ./test-shared-struct-elements-own-prop.js \nvar t = new SharedStructType([\"0\", \"1\"]);\nvar s = new t();\nprint(Object.keys(s));\nprint(JSON.stringify(Object.getOwnPropertyDescriptor(s, \"0\")));\n```","format":"org.matrix.custom.html","formatted_body":"<pre><code>~/v8/v8 $ out/x64.debug/d8 --harmony-struct ./test-shared-struct-elements-own-prop.js \nV8 is running with experimental features enabled. Stability and security will suffer.\n0,1\n{\"writable\":true,\"enumerable\":true,\"configurable\":false}\n\n~/v8/v8 $ cat ./test-shared-struct-elements-own-prop.js \nvar t = new SharedStructType([\"0\", \"1\"]);\nvar s = new t();\nprint(Object.keys(s));\nprint(JSON.stringify(Object.getOwnPropertyDescriptor(s, \"0\")));\n</code></pre>\n","msgtype":"m.text"},"ts":1694465716170,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$rgOJzr5kUEUsCzSj6RR98y0shobMbqOeMg6KTGqVJ64"},
{"content":{"body":"I'll have to take some time next week to spin up a NodeJS build environment","msgtype":"m.text"},"ts":1694475156304,"senderName":"rbuckton","senderId":"@rbuckton:matrix.org","id":"$LQYUC5RpQn97TOvYTo0okGXs797gQP5lVeyj3KEFqvo"}
]