[
{"content":{"body":"ah","msgtype":"m.text","org.matrix.msc1767.text":"ah"},"ts":1652227332150,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$2zjUIHfLwo5KwxaZ0UjltTkE8NzisbN8Z5lgU0Ybq1M"},
{"content":{"body":"the problem specifically being that Promise.prototype.then does the SpeciesConstructor stuff, I suppose","msgtype":"m.text","org.matrix.msc1767.text":"the problem specifically being that Promise.prototype.then does the SpeciesConstructor stuff, I suppose"},"ts":1652227353721,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ZRSsbkxXI78zhYP9wmQl9kstn0Dala09KWLX565W19c"},
{"content":{"body":"otherwise you could just use `Promise.prototype.then.call(val)` as your test","format":"org.matrix.custom.html","formatted_body":"otherwise you could just use <code>Promise.prototype.then.call(val)</code> as your test","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"otherwise you could just use `Promise.prototype.then.call(val)` as your test","mimetype":"text/plain"},{"body":"otherwise you could just use <code>Promise.prototype.then.call(val)</code> as your test","mimetype":"text/html"}]},"ts":1652227429244,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$U1whPL6GiGFXtJ3me23vzpenTTBHuKIXwpG7KQ9aOIc"},
{"content":{"body":"and Promise.resolve, yes","msgtype":"m.text","org.matrix.msc1767.text":"and Promise.resolve, yes"},"ts":1652227432530,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$EVGdisP6y0GVIuYJ_dY71AVzog8q324UPM6FjYyoulc"},
{"content":{"body":"There is no place in the spec that does `IsPromise` without also poking at `.constructor` or `.then` on the object.","format":"org.matrix.custom.html","formatted_body":"There is no place in the spec that does <code>IsPromise</code> without also poking at <code>.constructor</code> or <code>.then</code> on the object.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"There is no place in the spec that does `IsPromise` without also poking at `.constructor` or `.then` on the object.","mimetype":"text/plain"},{"body":"There is no place in the spec that does <code>IsPromise</code> without also poking at <code>.constructor</code> or <code>.then</code> on the object.","mimetype":"text/html"}]},"ts":1652227514686,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$8uvQnbwY0PpSXDUs7p42BT5bBlT_WAe1oCLOAB6Jt5M"},
{"content":{"body":"perhaps we will manage to remove Symbol.species instead","msgtype":"m.text","org.matrix.msc1767.text":"perhaps we will manage to remove Symbol.species instead"},"ts":1652227565971,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$k4_yUblUqGfKZH-L-pM8eKagHt_fIbZrnFZZhALTYTQ"},
{"content":{"body":"I don't think it'll help. `.constructor` based species is not slated for removal from what I recall","format":"org.matrix.custom.html","formatted_body":"I don't think it'll help. <code>.constructor</code> based species is not slated for removal from what I recall","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"I don't think it'll help. `.constructor` based species is not slated for removal from what I recall","mimetype":"text/plain"},{"body":"I don't think it'll help. <code>.constructor</code> based species is not slated for removal from what I recall","mimetype":"text/html"}]},"ts":1652227616900,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$S-3_npOgf0i2nzuXb9chFSYYV45pTLtElDs9vRiuhDE"},
{"content":{"body":"that's Type II in the taxonomy in the proposal, and it is proposed to be removed per https://github.com/tc39/proposal-rm-builtin-subclassing#proposed-new-old-semantics","msgtype":"m.text","org.matrix.msc1767.text":"that's Type II in the taxonomy in the proposal, and it is proposed to be removed per https://github.com/tc39/proposal-rm-builtin-subclassing#proposed-new-old-semantics"},"ts":1652227753314,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$7JcmOy23i1wWk-PkazZx7eB3JEzSkUctLW23qWPgNPg"},
{"content":{"body":"I don't think we'll actually manage it but I live in hope","msgtype":"m.text","org.matrix.msc1767.text":"I don't think we'll actually manage it but I live in hope"},"ts":1652227762128,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$qUAexuHSh_fBDSp771ZxytaK-a9HAIdWXlLK9-KVC74"},
{"content":{"body":"I'm curious if there would be any opposition to basically have a `Promise.isPromise(x)` which basically does `IsPromise(x)`. I know it'd solve my problem","format":"org.matrix.custom.html","formatted_body":"I'm curious if there would be any opposition to basically have a <code>Promise.isPromise(x)</code> which basically does <code>IsPromise(x)</code>. I know it'd solve my problem","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"I'm curious if there would be any opposition to basically have a `Promise.isPromise(x)` which basically does `IsPromise(x)`. I know it'd solve my problem","mimetype":"text/plain"},{"body":"I'm curious if there would be any opposition to basically have a <code>Promise.isPromise(x)</code> which basically does <code>IsPromise(x)</code>. I know it'd solve my problem","mimetype":"text/html"}]},"ts":1652227825969,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$kDfktMt3KQTUJeX5WijxR1UYNQP3mo4-58WCH4RgvrU"},
{"content":{"body":"I think there would need to be more motivation than your very narrow use case","msgtype":"m.text","org.matrix.msc1767.text":"I think there would need to be more motivation than your very narrow use case"},"ts":1652227911197,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$IPctG4pYavBLNCDFugEiHVIbGxrgP_c-QKyEB7GsEDM"},
{"content":{"body":"and I'd be hard pressed to come up with such motivation given that the actual thing one usually cares about is \"is thenable\"","msgtype":"m.text","org.matrix.msc1767.text":"and I'd be hard pressed to come up with such motivation given that the actual thing one usually cares about is \"is thenable\""},"ts":1652227941079,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$RUgKuYgmmrbTbf0dypqrJSnTaHpyI8Uej6BBddjahfk"},
{"content":{"body":"The thing is that it's impossible to workaround currently, and I fail to see how exposing something that already exists as a new namespaced API has much complexity.","msgtype":"m.text","org.matrix.msc1767.text":"The thing is that it's impossible to workaround currently, and I fail to see how exposing something that already exists as a new namespaced API has much complexity."},"ts":1652228032050,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$zz6Lh1Qwgky4lhLRGSkNSk9wSOkUohp4jv_h-woWyAk"},
{"content":{"body":"I am sure ljharb would love a clean way to brand check a promise for his libraries ;)","format":"org.matrix.custom.html","formatted_body":"I am sure <a href=\"https://matrix.to/#/@ljharb:matrix.org\">ljharb</a> would love a clean way to brand check a promise for his libraries ;)","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"I am sure ljharb would love a clean way to brand check a promise for his libraries ;)","mimetype":"text/plain"},{"body":"I am sure <a href=\"https://matrix.to/#/@ljharb:matrix.org\">ljharb</a> would love a clean way to brand check a promise for his libraries ;)","mimetype":"text/html"}]},"ts":1652228117758,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$_UtQ0Sg23VYsn8pWg1amTSCFpiKNmuaJrq5vTXW2n7o"},
{"content":{"body":"People would use it instead of \"is thenable\" and be confused","msgtype":"m.text","org.matrix.msc1767.text":"People would use it instead of \"is thenable\" and be confused"},"ts":1652228132434,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$MiYY4IqADrNUply4KrSHgEs2qfegezK42tVHYKRkdaw"},
{"content":{"body":"\"is promise\" is almost never the test anyone actually wants; you and ljharb have extremely unusual use cases","msgtype":"m.text","org.matrix.msc1767.text":"\"is promise\" is almost never the test anyone actually wants; you and ljharb have extremely unusual use cases"},"ts":1652228192554,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$nCLMP9t_gafjfiOhSs2cyTHPE4JD2rZ6Au8lhuj-QJQ"},
{"content":{"body":"but it _looks_ like a thing you might want, so people will use it in other cases, and that's bad","format":"org.matrix.custom.html","formatted_body":"but it <em>looks</em> like a thing you might want, so people will use it in other cases, and that's bad","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"but it _looks_ like a thing you might want, so people will use it in other cases, and that's bad","mimetype":"text/plain"},{"body":"but it <em>looks</em> like a thing you might want, so people will use it in other cases, and that's bad","mimetype":"text/html"}]},"ts":1652228218968,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$VHyuJ-3OJeVS9jaYU6WmGXUssd3HWORNU8gx1IfeXaQ"},
{"content":{"body":"Do you have any suggestion to make it more obvious what this does, or less likely to be misused?","msgtype":"m.text","org.matrix.msc1767.text":"Do you have any suggestion to make it more obvious what this does, or less likely to be misused?"},"ts":1652228353557,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$CRwGZwSTm_WexhaAoLYprmfIny8WZhQVr-yOSUhibeA"},
{"content":{"body":"I’m sure there’s a way to express the brand-check that would be clear and sufficiently out of reach.","msgtype":"m.text","org.matrix.msc1767.text":"I’m sure there’s a way to express the brand-check that would be clear and sufficiently out of reach."},"ts":1652228354494,"senderName":"Kris Kowal","senderId":"@kriskowal:matrix.org","id":"$GXseNIWeljLjghMPc5MxtkbvGP4jrwB40C0Gs9hiIZk"}
]