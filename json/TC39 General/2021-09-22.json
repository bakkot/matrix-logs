[
{"content":{"body":"In Chrome:\n\n```\nconsole.log((new class {\n  #id;\n  \n  test(a,b) {\n    return a << #id in b\n  }\n}).test(0, {}))\n```\n\nParses without a SyntaxError and results with 'Uncaught TypeError: Cannot convert a Symbol value to a number'  when it does `(a << #id)`\nCould someone confirm if this is expected?","format":"org.matrix.custom.html","formatted_body":"<p>In Chrome:</p>\n<pre><code>console.log((new class {\n  #id;\n  \n  test(a,b) {\n    return a &lt;&lt; #id in b\n  }\n}).test(0, {}))\n</code></pre>\n<p>Parses without a SyntaxError and results with 'Uncaught TypeError: Cannot convert a Symbol value to a number'  when it does <code>(a &lt;&lt; #id)</code><br>Could someone confirm if this is expected?</p>\n","msgtype":"m.text"},"ts":1632319396325,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$m3jVyNylQmMpOyZXes6EMqP7YbTqVdj_6qKP9ygGO-o"},
{"content":{"body":"It should be a parse error, we had the same bug in Babel","msgtype":"m.text"},"ts":1632319463774,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$mN-reMmTzl-5HNXSOKVR6qYC7kuh_fHaz3BvrNObWhM"},
{"content":{"body":" * It should be a parser error, we had the same bug in Babel","m.new_content":{"body":"It should be a parser error, we had the same bug in Babel","msgtype":"m.text"},"m.relates_to":{"event_id":"$mN-reMmTzl-5HNXSOKVR6qYC7kuh_fHaz3BvrNObWhM","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1632319469650,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$lO7hIHxQs2QWnaP342ShDOkozrj9_EGg6LeadwQgnes"},
{"content":{"body":"Thanks nicolo-ribaudo - yes Babel emits a parser error as you say","format":"org.matrix.custom.html","formatted_body":"Thanks <a href=\"https://matrix.to/#/@nicolo-ribaudo:matrix.org\">nicolo-ribaudo</a> - yes Babel emits a parser error as you say","msgtype":"m.text"},"ts":1632319518629,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$_1BDWch4-cG04H53D3XudRbGZ-CwYLyp5Jx23Uscjvw"},
{"content":{"body":"I've just realized that I'm making the same mistake in the TypeScript parser","msgtype":"m.text"},"ts":1632319566103,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$wKPSwcCW9tGNC3dWtCOjB0sXz73x2LM9Hew00Lp1vhc"},
{"content":{"body":"It looks like JSC has the same bug:\n```\n➜ eshost -e \"class C { #x; test() { 0 << #x in {} } }\" -t\n┌────────────────┬──────────────────────────────────────────────────────────┐\n│ ChakraCore     │                                                          │\n│                │ SyntaxError: Invalid character                           │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ Hermes         │                                                          │\n│                │ SyntaxError: invalid expression                          │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ JavaScriptCore │ class C { #x; test() { 0 << #x in {} } }                 │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ Moddable XS    │                                                          │\n│                │ SyntaxError: missing expression                          │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ SpiderMonkey   │                                                          │\n│                │ SyntaxError: private names aren't valid in this context: │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ V8             │ class C { #x; test() { 0 << #x in {} } }                 │\n└────────────────┴──────────────────────────────────────────────────────────┘\n\n```","format":"org.matrix.custom.html","formatted_body":"<p>It looks like JSC has the same bug:</p>\n<pre><code>➜ eshost -e &quot;class C { #x; test() { 0 &lt;&lt; #x in {} } }&quot; -t\n┌────────────────┬──────────────────────────────────────────────────────────┐\n│ ChakraCore     │                                                          │\n│                │ SyntaxError: Invalid character                           │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ Hermes         │                                                          │\n│                │ SyntaxError: invalid expression                          │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ JavaScriptCore │ class C { #x; test() { 0 &lt;&lt; #x in {} } }                 │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ Moddable XS    │                                                          │\n│                │ SyntaxError: missing expression                          │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ SpiderMonkey   │                                                          │\n│                │ SyntaxError: private names aren't valid in this context: │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ V8             │ class C { #x; test() { 0 &lt;&lt; #x in {} } }                 │\n└────────────────┴──────────────────────────────────────────────────────────┘\n\n</code></pre>\n","msgtype":"m.text"},"ts":1632319745875,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$MCMQRTdaye7TNKHiAeS_6R2k0cite7RFMWmaw2iY43w"},
{"content":{"body":" * It looks like JSC has the same bug:\n```\n➜ eshost -e \"class C { #x; test() { 0 << #x in {} } }\" -t\n┌────────────────┬──────────────────────────────────────────────────────────┐\n│ ChakraCore     │                                                          │\n│                │ SyntaxError: Invalid character                           │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ Hermes         │                                                          │\n│                │ SyntaxError: invalid expression                          │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ JavaScriptCore │ class C { #x; test() { 0 << #x in {} } }                 │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ Moddable XS    │                                                          │\n│                │ SyntaxError: missing expression                          │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ SpiderMonkey   │                                                          │\n│                │ SyntaxError: private names aren't valid in this context: │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ V8             │ class C { #x; test() { 0 << #x in {} } }                 │\n└────────────────┴──────────────────────────────────────────────────────────┘\n```","format":"org.matrix.custom.html","formatted_body":" * <p>It looks like JSC has the same bug:</p>\n<pre><code>➜ eshost -e &quot;class C { #x; test() { 0 &lt;&lt; #x in {} } }&quot; -t\n┌────────────────┬──────────────────────────────────────────────────────────┐\n│ ChakraCore     │                                                          │\n│                │ SyntaxError: Invalid character                           │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ Hermes         │                                                          │\n│                │ SyntaxError: invalid expression                          │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ JavaScriptCore │ class C { #x; test() { 0 &lt;&lt; #x in {} } }                 │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ Moddable XS    │                                                          │\n│                │ SyntaxError: missing expression                          │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ SpiderMonkey   │                                                          │\n│                │ SyntaxError: private names aren't valid in this context: │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ V8             │ class C { #x; test() { 0 &lt;&lt; #x in {} } }                 │\n└────────────────┴──────────────────────────────────────────────────────────┘\n</code></pre>\n","m.new_content":{"body":"It looks like JSC has the same bug:\n```\n➜ eshost -e \"class C { #x; test() { 0 << #x in {} } }\" -t\n┌────────────────┬──────────────────────────────────────────────────────────┐\n│ ChakraCore     │                                                          │\n│                │ SyntaxError: Invalid character                           │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ Hermes         │                                                          │\n│                │ SyntaxError: invalid expression                          │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ JavaScriptCore │ class C { #x; test() { 0 << #x in {} } }                 │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ Moddable XS    │                                                          │\n│                │ SyntaxError: missing expression                          │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ SpiderMonkey   │                                                          │\n│                │ SyntaxError: private names aren't valid in this context: │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ V8             │ class C { #x; test() { 0 << #x in {} } }                 │\n└────────────────┴──────────────────────────────────────────────────────────┘\n```","format":"org.matrix.custom.html","formatted_body":"<p>It looks like JSC has the same bug:</p>\n<pre><code>➜ eshost -e &quot;class C { #x; test() { 0 &lt;&lt; #x in {} } }&quot; -t\n┌────────────────┬──────────────────────────────────────────────────────────┐\n│ ChakraCore     │                                                          │\n│                │ SyntaxError: Invalid character                           │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ Hermes         │                                                          │\n│                │ SyntaxError: invalid expression                          │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ JavaScriptCore │ class C { #x; test() { 0 &lt;&lt; #x in {} } }                 │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ Moddable XS    │                                                          │\n│                │ SyntaxError: missing expression                          │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ SpiderMonkey   │                                                          │\n│                │ SyntaxError: private names aren't valid in this context: │\n├────────────────┼──────────────────────────────────────────────────────────┤\n│ V8             │ class C { #x; test() { 0 &lt;&lt; #x in {} } }                 │\n└────────────────┴──────────────────────────────────────────────────────────┘\n</code></pre>\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$MCMQRTdaye7TNKHiAeS_6R2k0cite7RFMWmaw2iY43w","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1632319767126,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$vN0pcm2poffVpsCY56KIYzhaDK0xU_tMrWK_8GzcZ2A"}
]