[
{"content":{"body":"> <@bakkot:matrix.org> Having `.next` call `.throw` on the generator would be kind of weird - that would inject the throw completion into the async generator at a point unrelated to the place that produced the rejected promise.\n\nHow so? It'd inject at the `yield` that gave the promise. It should be the same if you're waiting on the `next()`'s return promise to settle ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$UvELzynISy8YzfL9LHQp-cSzcgQr8e1Mf6EtDaGXb7Q?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">@bakkot:matrix.org</a><br>Having <code>.next</code> call <code>.throw</code> on the generator would be kind of weird - that would inject the throw completion into the async generator at a point unrelated to the place that produced the rejected promise.</blockquote></mx-reply>How so? It'd inject at the <code>yield</code> that gave the promise. It should be the same if you're waiting on the <code>next()</code>'s return promise to settle","m.relates_to":{"m.in_reply_to":{"event_id":"$UvELzynISy8YzfL9LHQp-cSzcgQr8e1Mf6EtDaGXb7Q"}},"msgtype":"m.text"},"ts":1674781332097,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$pMppc-e2K-BTNdTuYojg7GN1YcDzt25Quh4y34MXxvo"},
{"content":{"body":"You _could_ advance the generator body by manually calling `next()` again before the settlement, but that's the exact use case I'm trying to enable","format":"org.matrix.custom.html","formatted_body":"You <em>could</em> advance the generator body by manually calling <code>next()</code> again before the settlement, but that's the exact use case I'm trying to enable","msgtype":"m.text"},"ts":1674781396376,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$NhAdtSI-2q4wYhz1Z4ADYluU3-Qp65-hYFxHacSQQK4"},
{"content":{"body":"Justin Ridgewell: right, but that's kind of the point - if you've manually advanced the generator before settlement, then the throw completion will be injected at the wrong point","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jridgewell:matrix.org\">Justin Ridgewell</a>: right, but that's kind of the point - if you've manually advanced the generator before settlement, then the throw completion will be injected at the wrong point","msgtype":"m.text"},"ts":1674781453533,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$3ECL1vPf3UCBgx69PYEJirvraQzUJ6Ku_7qw9B_hMU0"}
]