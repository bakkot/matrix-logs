[
{"content":{"body":"I think this is a Node.js bug: a Proxy with `get(target, property, receiver) { return Reflect.get(target, property, receiver); }` should not cause different behavior than one with no handlers. Even if that Proxy is being used as a global object. But I would love it if an ECMAScript expert was able to weigh in on the thread and confirm.","format":"org.matrix.custom.html","formatted_body":"I think this is a Node.js bug: a Proxy with <code>get(target, property, receiver) { return Reflect.get(target, property, receiver); }</code> should not cause different behavior than one with no handlers. Even if that Proxy is being used as a global object. But I would love it if an ECMAScript expert was able to weigh in on the thread and confirm.","m.mentions":{},"msgtype":"m.text"},"ts":1724566713589,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$WOMLJy7LP_ei8mlX1Vh5Xx_rFArpeiDnqDG3fLM5Tm4"},
{"content":{"body":"Where is the Node Proxy thread?","msgtype":"m.text"},"ts":1724574413560,"senderName":"Rob Palmer","senderId":"@robpalme:matrix.org","id":"$DrSwW5kI4BIhib_a3HaA4q0GZZgJSm3tPBKAYzDEatE"},
{"content":{"body":"Wow, sorry, totally forgot the actual link... https://github.com/nodejs/node/issues/54550","m.mentions":{},"msgtype":"m.text"},"ts":1724575898690,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$xQDo6inlHMCp62HznwOUT4-OPX3ENYeP9GLjj3cJ6Pg"},
{"content":{"body":"> <@domenicdenicola:matrix.org> Wow, sorry, totally forgot the actual link... https://github.com/nodejs/node/issues/54550\n\ni also noticed the TypeError vs ReferenceError thing recently while implementing node:vm in deno and i believe it has to do with v8 interceptors more than proxies or js spec behavior","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$xQDo6inlHMCp62HznwOUT4-OPX3ENYeP9GLjj3cJ6Pg?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@domenicdenicola:matrix.org\">@domenicdenicola:matrix.org</a><br>Wow, sorry, totally forgot the actual link... https://github.com/nodejs/node/issues/54550</blockquote></mx-reply>i also noticed the TypeError vs ReferenceError thing recently while implementing node:vm in deno and i believe it has to do with v8 interceptors more than proxies or js spec behavior","m.mentions":{"user_ids":["@domenicdenicola:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$xQDo6inlHMCp62HznwOUT4-OPX3ENYeP9GLjj3cJ6Pg"}},"msgtype":"m.text"},"ts":1724626022795,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$7YNzFxhzWN5CztYd7BZOrps9DjYW89-IAgZjSWbOw30"},
{"content":{"body":"i also found some bugs in v8 and those fixes might not have made it to versions of node you're using yet","m.mentions":{},"msgtype":"m.text"},"ts":1724626054763,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$yMARIflqvXRTCCc73o6oqSiVvormQcTRENZCpYR8IfE"},
{"content":{"body":"or any versions of node, they track upstream v8 a lot more slowly","m.mentions":{},"msgtype":"m.text"},"ts":1724626061315,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$_6peJ1zwrZ7g2UYzSQ4PDjlISXtI1u6_DvXKsSLL2jo"},
{"content":{"body":"i guess more concretely, introducing an object environment record using `with` and the proxy in your issue does not behave strangely in v8, its only the vm code that uses interceptors that is weird.","format":"org.matrix.custom.html","formatted_body":"i guess more concretely, introducing an object environment record using <code>with</code> and the proxy in your issue does not behave strangely in v8, its only the vm code that uses interceptors that is weird.","m.mentions":{},"msgtype":"m.text"},"ts":1724627308883,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$D1h-w1kSupn9zdV_n-NTxxow-s8PC2t-3lq_4YkBROI"}
]