[
{"content":{"body":"Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?\n\nLike, I know the language is intentionally underspecified, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if `Intl` formatting is used in documents where a `document.documentElement.lang` is specified and doesn't match the chrome's settings.","format":"org.matrix.custom.html","formatted_body":"<p>Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?</p>\n<p>Like, I know the language is intentionally underspecified, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if <code>Intl</code> formatting is used in documents where a <code>document.documentElement.lang</code> is specified and doesn't match the chrome's settings.</p>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?\n\nLike, I know the language is intentionally underspecified, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if `Intl` formatting is used in documents where a `document.documentElement.lang` is specified and doesn't match the chrome's settings.","mimetype":"text/plain"},{"body":"<p>Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?</p>\n<p>Like, I know the language is intentionally underspecified, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if <code>Intl</code> formatting is used in documents where a <code>document.documentElement.lang</code> is specified and doesn't match the chrome's settings.</p>\n","mimetype":"text/html"}]},"ts":1668081384072,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$2a1YiHWHOdmlLMpwY0ac8EHgQgyUTI3MnwzYYchgF-0"},
{"content":{"body":"on Firefox it ignores the document language *even if* it's present in `navigator.languages`; only the primary `navigator.language` is ever used","format":"org.matrix.custom.html","formatted_body":"on Firefox it ignores the document language <em>even if</em> it's present in <code>navigator.languages</code>; only the primary <code>navigator.language</code> is ever used","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"on Firefox it ignores the document language *even if* it's present in `navigator.languages`; only the primary `navigator.language` is ever used","mimetype":"text/plain"},{"body":"on Firefox it ignores the document language <em>even if</em> it's present in <code>navigator.languages</code>; only the primary <code>navigator.language</code> is ever used","mimetype":"text/html"}]},"ts":1668081446938,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$u8Oyqg4orqyDWT-JLONds5oF08aXo9Z6kyulVWNUrU0"},
{"content":{"body":"this is kind of a blocker on me using `Intl.DateTimeFormat` without very careful wrapping ðŸ˜…","format":"org.matrix.custom.html","formatted_body":"this is kind of a blocker on me using <code>Intl.DateTimeFormat</code> without very careful wrapping ðŸ˜…","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"this is kind of a blocker on me using `Intl.DateTimeFormat` without very careful wrapping ðŸ˜…","mimetype":"text/plain"},{"body":"this is kind of a blocker on me using <code>Intl.DateTimeFormat</code> without very careful wrapping ðŸ˜…","mimetype":"text/html"}]},"ts":1668081653296,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$FhtyN9swhQmI-HnnsjH8wD-7-e3Ly6q4-8iSZF6Ag3M"},
{"content":{"body":" * Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?\n\nLike, I know the spec language is intentionally underspecified here, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if `Intl` formatting is used in documents where a `document.documentElement.lang` is specified and doesn't match the chrome's settings.","format":"org.matrix.custom.html","formatted_body":" * <p>Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?</p>\n<p>Like, I know the spec language is intentionally underspecified here, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if <code>Intl</code> formatting is used in documents where a <code>document.documentElement.lang</code> is specified and doesn't match the chrome's settings.</p>\n","m.new_content":{"body":"Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?\n\nLike, I know the spec language is intentionally underspecified here, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if `Intl` formatting is used in documents where a `document.documentElement.lang` is specified and doesn't match the chrome's settings.","format":"org.matrix.custom.html","formatted_body":"<p>Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?</p>\n<p>Like, I know the spec language is intentionally underspecified here, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if <code>Intl</code> formatting is used in documents where a <code>document.documentElement.lang</code> is specified and doesn't match the chrome's settings.</p>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?\n\nLike, I know the spec language is intentionally underspecified here, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if `Intl` formatting is used in documents where a `document.documentElement.lang` is specified and doesn't match the chrome's settings.","mimetype":"text/plain"},{"body":"<p>Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?</p>\n<p>Like, I know the spec language is intentionally underspecified here, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if <code>Intl</code> formatting is used in documents where a <code>document.documentElement.lang</code> is specified and doesn't match the chrome's settings.</p>\n","mimetype":"text/html"}]},"m.relates_to":{"event_id":"$2a1YiHWHOdmlLMpwY0ac8EHgQgyUTI3MnwzYYchgF-0","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":" * Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?\n\nLike, I know the spec language is intentionally underspecified here, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if `Intl` formatting is used in documents where a `document.documentElement.lang` is specified and doesn't match the chrome's settings.","mimetype":"text/plain"},{"body":" * <p>Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?</p>\n<p>Like, I know the spec language is intentionally underspecified here, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if <code>Intl</code> formatting is used in documents where a <code>document.documentElement.lang</code> is specified and doesn't match the chrome's settings.</p>\n","mimetype":"text/html"}]},"ts":1668081724310,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$hYYwcnA6yyy0ccSW5yFTsn9uUTQX6vo3JL4PCsQD7-c"},
{"content":{"body":"(on the other hand this gets into trouble with SSR because there's no document language during SSR so I guess my problem formulation is incomplete)","msgtype":"m.text","org.matrix.msc1767.text":"(on the other hand this gets into trouble with SSR because there's no document language during SSR so I guess my problem formulation is incomplete)"},"ts":1668081823935,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$EmW_a51wIrzbF-ERJA_wmx6ObDOfxbfgGDISRrpZ7v4"},
{"content":{"body":"\"host environment's current locale\" seems kinda bogus","msgtype":"m.text","org.matrix.msc1767.text":"\"host environment's current locale\" seems kinda bogus"},"ts":1668083677279,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Wqkll8TcYJAy3G60rWyVlP9VHtXtilXiAl4phdMExX8"},
{"content":{"body":"Well, I guess it's good enough, but I haven't seen a PR for HTML that maps \"current locale\" to `navigator.language`'s underlying primitive.","format":"org.matrix.custom.html","formatted_body":"Well, I guess it's good enough, but I haven't seen a PR for HTML that maps &quot;current locale&quot; to <code>navigator.language</code>'s underlying primitive.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Well, I guess it's good enough, but I haven't seen a PR for HTML that maps \"current locale\" to `navigator.language`'s underlying primitive.","mimetype":"text/plain"},{"body":"Well, I guess it's good enough, but I haven't seen a PR for HTML that maps &quot;current locale&quot; to <code>navigator.language</code>'s underlying primitive.","mimetype":"text/html"}]},"ts":1668083788621,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Ef95TXetHrSManvhvhpuTqMWF72Oc-wsYAGqU6Q-hSs"},
{"content":{"body":"(Using the language of a document wouldn't work in quite a few environments, e.g., all workers, worklets. And it's not necessarily declared on the root element all of the time either, although it kinda ought to be. So if you want to write portable code you probably want that to be a separate input from the end user locale.)","msgtype":"m.text","org.matrix.msc1767.text":"(Using the language of a document wouldn't work in quite a few environments, e.g., all workers, worklets. And it's not necessarily declared on the root element all of the time either, although it kinda ought to be. So if you want to write portable code you probably want that to be a separate input from the end user locale.)"},"ts":1668083935747,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$_lm-NxnloZYijpHJyoq_svtNswIcrf2iMwfS4bAo6eg"}
]