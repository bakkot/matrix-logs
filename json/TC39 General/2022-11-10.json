[
{"content":{"body":"Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?\n\nLike, I know the language is intentionally underspecified, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if `Intl` formatting is used in documents where a `document.documentElement.lang` is specified and doesn't match the chrome's settings.","format":"org.matrix.custom.html","formatted_body":"<p>Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?</p>\n<p>Like, I know the language is intentionally underspecified, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if <code>Intl</code> formatting is used in documents where a <code>document.documentElement.lang</code> is specified and doesn't match the chrome's settings.</p>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?\n\nLike, I know the language is intentionally underspecified, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if `Intl` formatting is used in documents where a `document.documentElement.lang` is specified and doesn't match the chrome's settings.","mimetype":"text/plain"},{"body":"<p>Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?</p>\n<p>Like, I know the language is intentionally underspecified, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if <code>Intl</code> formatting is used in documents where a <code>document.documentElement.lang</code> is specified and doesn't match the chrome's settings.</p>\n","mimetype":"text/html"}]},"ts":1668081384072,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$2a1YiHWHOdmlLMpwY0ac8EHgQgyUTI3MnwzYYchgF-0"},
{"content":{"body":"on Firefox it ignores the document language *even if* it's present in `navigator.languages`; only the primary `navigator.language` is ever used","format":"org.matrix.custom.html","formatted_body":"on Firefox it ignores the document language <em>even if</em> it's present in <code>navigator.languages</code>; only the primary <code>navigator.language</code> is ever used","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"on Firefox it ignores the document language *even if* it's present in `navigator.languages`; only the primary `navigator.language` is ever used","mimetype":"text/plain"},{"body":"on Firefox it ignores the document language <em>even if</em> it's present in <code>navigator.languages</code>; only the primary <code>navigator.language</code> is ever used","mimetype":"text/html"}]},"ts":1668081446938,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$u8Oyqg4orqyDWT-JLONds5oF08aXo9Z6kyulVWNUrU0"},
{"content":{"body":"this is kind of a blocker on me using `Intl.DateTimeFormat` without very careful wrapping ðŸ˜…","format":"org.matrix.custom.html","formatted_body":"this is kind of a blocker on me using <code>Intl.DateTimeFormat</code> without very careful wrapping ðŸ˜…","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"this is kind of a blocker on me using `Intl.DateTimeFormat` without very careful wrapping ðŸ˜…","mimetype":"text/plain"},{"body":"this is kind of a blocker on me using <code>Intl.DateTimeFormat</code> without very careful wrapping ðŸ˜…","mimetype":"text/html"}]},"ts":1668081653296,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$FhtyN9swhQmI-HnnsjH8wD-7-e3Ly6q4-8iSZF6Ag3M"},
{"content":{"body":" * Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?\n\nLike, I know the spec language is intentionally underspecified here, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if `Intl` formatting is used in documents where a `document.documentElement.lang` is specified and doesn't match the chrome's settings.","format":"org.matrix.custom.html","formatted_body":" * <p>Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?</p>\n<p>Like, I know the spec language is intentionally underspecified here, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if <code>Intl</code> formatting is used in documents where a <code>document.documentElement.lang</code> is specified and doesn't match the chrome's settings.</p>\n","m.new_content":{"body":"Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?\n\nLike, I know the spec language is intentionally underspecified here, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if `Intl` formatting is used in documents where a `document.documentElement.lang` is specified and doesn't match the chrome's settings.","format":"org.matrix.custom.html","formatted_body":"<p>Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?</p>\n<p>Like, I know the spec language is intentionally underspecified here, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if <code>Intl</code> formatting is used in documents where a <code>document.documentElement.lang</code> is specified and doesn't match the chrome's settings.</p>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?\n\nLike, I know the spec language is intentionally underspecified here, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if `Intl` formatting is used in documents where a `document.documentElement.lang` is specified and doesn't match the chrome's settings.","mimetype":"text/plain"},{"body":"<p>Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?</p>\n<p>Like, I know the spec language is intentionally underspecified here, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if <code>Intl</code> formatting is used in documents where a <code>document.documentElement.lang</code> is specified and doesn't match the chrome's settings.</p>\n","mimetype":"text/html"}]},"m.relates_to":{"event_id":"$2a1YiHWHOdmlLMpwY0ac8EHgQgyUTI3MnwzYYchgF-0","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":" * Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?\n\nLike, I know the spec language is intentionally underspecified here, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if `Intl` formatting is used in documents where a `document.documentElement.lang` is specified and doesn't match the chrome's settings.","mimetype":"text/plain"},{"body":" * <p>Is there a good reason as to why https://tc39.es/ecma402/#sec-defaultlocale ignores the document language?</p>\n<p>Like, I know the spec language is intentionally underspecified here, but is there a reason to prefer the chrome's language instead of the document's language? From what I can gather this would just result in out-of-place formatting if <code>Intl</code> formatting is used in documents where a <code>document.documentElement.lang</code> is specified and doesn't match the chrome's settings.</p>\n","mimetype":"text/html"}]},"ts":1668081724310,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$hYYwcnA6yyy0ccSW5yFTsn9uUTQX6vo3JL4PCsQD7-c"},
{"content":{"body":"(on the other hand this gets into trouble with SSR because there's no document language during SSR so I guess my problem formulation is incomplete)","msgtype":"m.text","org.matrix.msc1767.text":"(on the other hand this gets into trouble with SSR because there's no document language during SSR so I guess my problem formulation is incomplete)"},"ts":1668081823935,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$EmW_a51wIrzbF-ERJA_wmx6ObDOfxbfgGDISRrpZ7v4"},
{"content":{"body":"\"host environment's current locale\" seems kinda bogus","msgtype":"m.text","org.matrix.msc1767.text":"\"host environment's current locale\" seems kinda bogus"},"ts":1668083677279,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Wqkll8TcYJAy3G60rWyVlP9VHtXtilXiAl4phdMExX8"},
{"content":{"body":"Well, I guess it's good enough, but I haven't seen a PR for HTML that maps \"current locale\" to `navigator.language`'s underlying primitive.","format":"org.matrix.custom.html","formatted_body":"Well, I guess it's good enough, but I haven't seen a PR for HTML that maps &quot;current locale&quot; to <code>navigator.language</code>'s underlying primitive.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Well, I guess it's good enough, but I haven't seen a PR for HTML that maps \"current locale\" to `navigator.language`'s underlying primitive.","mimetype":"text/plain"},{"body":"Well, I guess it's good enough, but I haven't seen a PR for HTML that maps &quot;current locale&quot; to <code>navigator.language</code>'s underlying primitive.","mimetype":"text/html"}]},"ts":1668083788621,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$Ef95TXetHrSManvhvhpuTqMWF72Oc-wsYAGqU6Q-hSs"},
{"content":{"body":"(Using the language of a document wouldn't work in quite a few environments, e.g., all workers, worklets. And it's not necessarily declared on the root element all of the time either, although it kinda ought to be. So if you want to write portable code you probably want that to be a separate input from the end user locale.)","msgtype":"m.text","org.matrix.msc1767.text":"(Using the language of a document wouldn't work in quite a few environments, e.g., all workers, worklets. And it's not necessarily declared on the root element all of the time either, although it kinda ought to be. So if you want to write portable code you probably want that to be a separate input from the end user locale.)"},"ts":1668083935747,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$_lm-NxnloZYijpHJyoq_svtNswIcrf2iMwfS4bAo6eg"},
{"content":{"body":"Jessidhia: did you come across this by any chance? https://github.com/WICG/proposals/issues/78","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jessidhia:matrix.org\">Jessidhia</a>: did you come across this by any chance? https://github.com/WICG/proposals/issues/78","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Jessidhia: did you come across this by any chance? https://github.com/WICG/proposals/issues/78","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@jessidhia:matrix.org\">Jessidhia</a>: did you come across this by any chance? https://github.com/WICG/proposals/issues/78","mimetype":"text/html"}]},"ts":1668084098319,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$tBM-PvXBi1IRv7etN1kcsotDEA3OgOIVEUuEy47laAU"},
{"content":{"body":"basically \"fetch the user's preferred locale\" is a known problem in Intl","msgtype":"m.text","org.matrix.msc1767.text":"basically \"fetch the user's preferred locale\" is a known problem in Intl"},"ts":1668084119885,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$ixb1mMGadjWoK6aU3V67zjfWV_XlM_7pnXWBpuN2UZQ"},
{"content":{"body":"I had come across https://github.com/tc39/ecma402/issues/38 which I guess is similar enough to WICG#78","msgtype":"m.text","org.matrix.msc1767.text":"I had come across https://github.com/tc39/ecma402/issues/38 which I guess is similar enough to WICG#78"},"ts":1668084222113,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$wXKhW-bGduGqaIMGYhEaDGE917D3rSrjXEdaGCWnQPQ"},
{"content":{"body":"it's a complicated problem to solve while protecting the users' privacy but we're working on it","msgtype":"m.text","org.matrix.msc1767.text":"it's a complicated problem to solve while protecting the users' privacy but we're working on it"},"ts":1668084234764,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$hJwd4IBAWaoVhcSYnuIEmLVVCbiTAyEgjEwdQ3Fbdrg"},
{"content":{"body":"> <@jessidhia:matrix.org> I had come across https://github.com/tc39/ecma402/issues/38 which I guess is similar enough to WICG#78\n\nyes, basically this entire label: https://github.com/tc39/ecma402/labels/User%20Preferences","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$wXKhW-bGduGqaIMGYhEaDGE917D3rSrjXEdaGCWnQPQ?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@jessidhia:matrix.org\">@jessidhia:matrix.org</a><br>I had come across https://github.com/tc39/ecma402/issues/38 which I guess is similar enough to WICG#78</blockquote></mx-reply>yes, basically this entire label: https://github.com/tc39/ecma402/labels/User%20Preferences","m.relates_to":{"m.in_reply_to":{"event_id":"$wXKhW-bGduGqaIMGYhEaDGE917D3rSrjXEdaGCWnQPQ"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@jessidhia:matrix.org> I had come across https://github.com/tc39/ecma402/issues/38 which I guess is similar enough to WICG#78\n\nyes, basically this entire label: https://github.com/tc39/ecma402/labels/User%20Preferences","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$wXKhW-bGduGqaIMGYhEaDGE917D3rSrjXEdaGCWnQPQ?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@jessidhia:matrix.org\">@jessidhia:matrix.org</a><br>I had come across https://github.com/tc39/ecma402/issues/38 which I guess is similar enough to WICG#78</blockquote></mx-reply>yes, basically this entire label: https://github.com/tc39/ecma402/labels/User%20Preferences","mimetype":"text/html"}]},"ts":1668084256507,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$4-9XLkrlZQCYlWQq-HMIXlmanYQcKHtaflsaSC2FTM8"},
{"content":{"body":"it was an impetus for us to start looking into the problem, but the solution requires a non-trivial amount of API design and privacy auditing.","msgtype":"m.text","org.matrix.msc1767.text":"it was an impetus for us to start looking into the problem, but the solution requires a non-trivial amount of API design and privacy auditing."},"ts":1668084290355,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$Jl1M2nOAJ4wxTgg0rTSaaEnpJIBfLKZFeBoWF97KSOY"},
{"content":{"body":"but it's not quite what I was looking for; more of a way to include the application's preferences (say, user accessing page with document language set to Japanese while using an English language browser, which is my case as a developer of a Japanese web app ðŸ˜…)","msgtype":"m.text","org.matrix.msc1767.text":"but it's not quite what I was looking for; more of a way to include the application's preferences (say, user accessing page with document language set to Japanese while using an English language browser, which is my case as a developer of a Japanese web app ðŸ˜…)"},"ts":1668084304088,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$de_bxrsdvnXW18B2zlwHBjge3ja9ILDHugiXXqD5VnE"},
{"content":{"body":"ah, essentially the other way around, I guess?","msgtype":"m.text","org.matrix.msc1767.text":"ah, essentially the other way around, I guess?"},"ts":1668084364505,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$zT7CK8Z0sTd_sQOMMw14mYWPxQ8COWRWwOOnBBvDxqg"},
{"content":{"body":"_enforcing_ a locale instead of inferring the user's preference, I mean","format":"org.matrix.custom.html","formatted_body":"<em>enforcing</em> a locale instead of inferring the user's preference, I mean","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"_enforcing_ a locale instead of inferring the user's preference, I mean","mimetype":"text/plain"},{"body":"<em>enforcing</em> a locale instead of inferring the user's preference, I mean","mimetype":"text/html"}]},"ts":1668084388665,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$nZ6jvPBe_XyAv4yLGs-b0QVL9v44nb3cpTGecaT40QQ"},
{"content":{"body":"yes, due to the document language; in my example the default result would produce a result with `/` separators instead of `YYYYå¹´MMæœˆDDæ—¥`, which would look out of place in a japanese language phrase (user preference for the website being `lang=\"ja\"`)","format":"org.matrix.custom.html","formatted_body":"yes, due to the document language; in my example the default result would produce a result with <code>/</code> separators instead of <code>YYYYå¹´MMæœˆDDæ—¥</code>, which would look out of place in a japanese language phrase (user preference for the website being <code>lang=&quot;ja&quot;</code>)","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"yes, due to the document language; in my example the default result would produce a result with `/` separators instead of `YYYYå¹´MMæœˆDDæ—¥`, which would look out of place in a japanese language phrase (user preference for the website being `lang=\"ja\"`)","mimetype":"text/plain"},{"body":"yes, due to the document language; in my example the default result would produce a result with <code>/</code> separators instead of <code>YYYYå¹´MMæœˆDDæ—¥</code>, which would look out of place in a japanese language phrase (user preference for the website being <code>lang=&quot;ja&quot;</code>)","mimetype":"text/html"}]},"ts":1668084535716,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$aTGGTpxqZ_b28reemCdizem1JHDe8N2yQLFv1_-t708"},
{"content":{"body":"`luxon` somewhat has a facility for this (`Settings.defaultLocale`) but it doesn't handle dynamic updates well","format":"org.matrix.custom.html","formatted_body":"<code>luxon</code> somewhat has a facility for this (<code>Settings.defaultLocale</code>) but it doesn't handle dynamic updates well","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"`luxon` somewhat has a facility for this (`Settings.defaultLocale`) but it doesn't handle dynamic updates well","mimetype":"text/plain"},{"body":"<code>luxon</code> somewhat has a facility for this (<code>Settings.defaultLocale</code>) but it doesn't handle dynamic updates well","mimetype":"text/html"}]},"ts":1668084609436,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$nGtE4lRtgvoUGPFrIs-1UYpWRKZ4hhR3dwH59xnoEYQ"},
{"content":{"body":"why can't you just call all the formatters with `\"ja-JP\"`?","format":"org.matrix.custom.html","formatted_body":"why can't you just call all the formatters with <code>&quot;ja-JP&quot;</code>?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"why can't you just call all the formatters with `\"ja-JP\"`?","mimetype":"text/plain"},{"body":"why can't you just call all the formatters with <code>&quot;ja-JP&quot;</code>?","mimetype":"text/html"}]},"ts":1668084628910,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$3iM8HKPhcgjbcJbg2gDxv4VEe6YdSLhLbHndZWVt4gM"},
{"content":{"body":"by hardcoding the locale argument","msgtype":"m.text","org.matrix.msc1767.text":"by hardcoding the locale argument"},"ts":1668084640383,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$BCVKa6e73jrLRtV6bbOgAsqHiJ8bUwIUjHK9K8NRK0c"},
{"content":{"body":" * by hardcoding the locale argument","m.new_content":{"body":"by hardcoding the locale argument","msgtype":"m.text","org.matrix.msc1767.text":"by hardcoding the locale argument"},"m.relates_to":{"event_id":"$BCVKa6e73jrLRtV6bbOgAsqHiJ8bUwIUjHK9K8NRK0c","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * by hardcoding the locale argument"},"ts":1668084646301,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$Pv0QCigKBdUe4_6BKmC0i925IZEZC-TClfvSYilrwyQ"},
{"content":{"body":"the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale -- the problem then becomes coworkers using Japanese browsers accidentally getting \"correct\" output while omitting the argument if they don't test changing the language","msgtype":"m.text","org.matrix.msc1767.text":"the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale -- the problem then becomes coworkers using Japanese browsers accidentally getting \"correct\" output while omitting the argument if they don't test changing the language"},"ts":1668084745727,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$5ZD5lPlBJ4EPb_cuhs_Ie6QlX1Sgp3WP2TakRJQs1JE"},
{"content":{"body":" * the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale -- the problem then becomes coworkers accidentally getting correct output while omitting it if they don't use a mismatched browser/document language","m.new_content":{"body":"the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale -- the problem then becomes coworkers accidentally getting correct output while omitting it if they don't use a mismatched browser/document language","msgtype":"m.text","org.matrix.msc1767.text":"the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale -- the problem then becomes coworkers accidentally getting correct output while omitting it if they don't use a mismatched browser/document language"},"m.relates_to":{"event_id":"$5ZD5lPlBJ4EPb_cuhs_Ie6QlX1Sgp3WP2TakRJQs1JE","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale -- the problem then becomes coworkers accidentally getting correct output while omitting it if they don't use a mismatched browser/document language"},"ts":1668084755342,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$gGPhUQVVX90aJKArsq8tjm2E6BxN0Z6vLSvHM8qJjKI"},
{"content":{"body":" * the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale -- the problem then becomes coworkers accidentally getting \"correct\" output while omitting the argument if they don't use a mismatched browser/document language","m.new_content":{"body":"the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale -- the problem then becomes coworkers accidentally getting \"correct\" output while omitting the argument if they don't use a mismatched browser/document language","msgtype":"m.text","org.matrix.msc1767.text":"the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale -- the problem then becomes coworkers accidentally getting \"correct\" output while omitting the argument if they don't use a mismatched browser/document language"},"m.relates_to":{"event_id":"$5ZD5lPlBJ4EPb_cuhs_Ie6QlX1Sgp3WP2TakRJQs1JE","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale -- the problem then becomes coworkers accidentally getting \"correct\" output while omitting the argument if they don't use a mismatched browser/document language"},"ts":1668084777274,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$NEzeWEflS1KYNzFgFIJohL7lAuEhWtXIvsUh5JQjEW8"},
{"content":{"body":" * the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale -- the problem then becomes coworkers using Japanese browsers accidentally getting \"correct\" output while omitting the argument if they don't test changing the language","m.new_content":{"body":"the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale -- the problem then becomes coworkers using Japanese browsers accidentally getting \"correct\" output while omitting the argument if they don't test changing the language","msgtype":"m.text","org.matrix.msc1767.text":"the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale -- the problem then becomes coworkers using Japanese browsers accidentally getting \"correct\" output while omitting the argument if they don't test changing the language"},"m.relates_to":{"event_id":"$5ZD5lPlBJ4EPb_cuhs_Ie6QlX1Sgp3WP2TakRJQs1JE","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale -- the problem then becomes coworkers using Japanese browsers accidentally getting \"correct\" output while omitting the argument if they don't test changing the language"},"ts":1668084815737,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$p8_EbLCwMXqDnDu2pYRzRZNU9xzvC_Q-dlzV0hQMhMg"},
{"content":{"body":" * the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale (or `document.documentElement.lang`) -- the problem then becomes coworkers using Japanese browsers accidentally getting \"correct\" output while omitting the argument if they don't test changing the language","format":"org.matrix.custom.html","formatted_body":" * the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale (or <code>document.documentElement.lang</code>) -- the problem then becomes coworkers using Japanese browsers accidentally getting &quot;correct&quot; output while omitting the argument if they don't test changing the language","m.new_content":{"body":"the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale (or `document.documentElement.lang`) -- the problem then becomes coworkers using Japanese browsers accidentally getting \"correct\" output while omitting the argument if they don't test changing the language","format":"org.matrix.custom.html","formatted_body":"the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale (or <code>document.documentElement.lang</code>) -- the problem then becomes coworkers using Japanese browsers accidentally getting &quot;correct&quot; output while omitting the argument if they don't test changing the language","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale (or `document.documentElement.lang`) -- the problem then becomes coworkers using Japanese browsers accidentally getting \"correct\" output while omitting the argument if they don't test changing the language","mimetype":"text/plain"},{"body":"the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale (or <code>document.documentElement.lang</code>) -- the problem then becomes coworkers using Japanese browsers accidentally getting &quot;correct&quot; output while omitting the argument if they don't test changing the language","mimetype":"text/html"}]},"m.relates_to":{"event_id":"$5ZD5lPlBJ4EPb_cuhs_Ie6QlX1Sgp3WP2TakRJQs1JE","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":" * the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale (or `document.documentElement.lang`) -- the problem then becomes coworkers using Japanese browsers accidentally getting \"correct\" output while omitting the argument if they don't test changing the language","mimetype":"text/plain"},{"body":" * the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale (or <code>document.documentElement.lang</code>) -- the problem then becomes coworkers using Japanese browsers accidentally getting &quot;correct&quot; output while omitting the argument if they don't test changing the language","mimetype":"text/html"}]},"ts":1668084955002,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$8BI_gvZmNUFZwYX1MwsMKcH0hJ4LTbARKQhSkuLvUao"},
{"content":{"body":" * the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale (or `document.documentElement.lang` on the browser side) -- the problem then becomes coworkers using Japanese browsers accidentally getting \"correct\" output while omitting the argument if they don't test changing the language","format":"org.matrix.custom.html","formatted_body":" * the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale (or <code>document.documentElement.lang</code> on the browser side) -- the problem then becomes coworkers using Japanese browsers accidentally getting &quot;correct&quot; output while omitting the argument if they don't test changing the language","m.new_content":{"body":"the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale (or `document.documentElement.lang` on the browser side) -- the problem then becomes coworkers using Japanese browsers accidentally getting \"correct\" output while omitting the argument if they don't test changing the language","format":"org.matrix.custom.html","formatted_body":"the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale (or <code>document.documentElement.lang</code> on the browser side) -- the problem then becomes coworkers using Japanese browsers accidentally getting &quot;correct&quot; output while omitting the argument if they don't test changing the language","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale (or `document.documentElement.lang` on the browser side) -- the problem then becomes coworkers using Japanese browsers accidentally getting \"correct\" output while omitting the argument if they don't test changing the language","mimetype":"text/plain"},{"body":"the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale (or <code>document.documentElement.lang</code> on the browser side) -- the problem then becomes coworkers using Japanese browsers accidentally getting &quot;correct&quot; output while omitting the argument if they don't test changing the language","mimetype":"text/html"}]},"m.relates_to":{"event_id":"$5ZD5lPlBJ4EPb_cuhs_Ie6QlX1Sgp3WP2TakRJQs1JE","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":" * the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale (or `document.documentElement.lang` on the browser side) -- the problem then becomes coworkers using Japanese browsers accidentally getting \"correct\" output while omitting the argument if they don't test changing the language","mimetype":"text/plain"},{"body":" * the locale is actually user preference (out of 4 supported languages) but yes, I can supply a locale (or <code>document.documentElement.lang</code> on the browser side) -- the problem then becomes coworkers using Japanese browsers accidentally getting &quot;correct&quot; output while omitting the argument if they don't test changing the language","mimetype":"text/html"}]},"ts":1668084970891,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$ayoSIpA2KK1q3X4clujaWdl5TZZwGYDnHHmgfIKCgwU"},
{"content":{"body":"I see","msgtype":"m.text","org.matrix.msc1767.text":"I see"},"ts":1668084988939,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$pwg6jIvLmAdl68TMbWHYwjS80y464C4HrW-dugcDmnA"},
{"content":{"body":"well, this seems to be more of a host problem than a language problem ðŸ˜…","msgtype":"m.text","org.matrix.msc1767.text":"well, this seems to be more of a host problem than a language problem ðŸ˜…"},"ts":1668085003465,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$GwxwzavuOWyPmO7cbCG8rtb6pLxdvePv36ixm3MQ0as"},
{"content":{"body":"all ways to override would be host-defined behavior I'm afraid","msgtype":"m.text","org.matrix.msc1767.text":"all ways to override would be host-defined behavior I'm afraid"},"ts":1668085018023,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$fDQDIKsvtvBU9Yx-zrUdAkugYQGAxRMqeDJnMii9u8k"},
{"content":{"body":"prioritizing document language would be sufficient for this use case","msgtype":"m.text","org.matrix.msc1767.text":"prioritizing document language would be sufficient for this use case"},"ts":1668085102668,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$iT6ah7AiPQnTdAOoUqK-6BnhZwSY41-vIUHx_OdJ-no"},
{"content":{"body":"the complication is on hosts without a document (like node), that would necessitate a host-defined override","msgtype":"m.text","org.matrix.msc1767.text":"the complication is on hosts without a document (like node), that would necessitate a host-defined override"},"ts":1668085137351,"senderName":"Jessidhia","senderId":"@jessidhia:matrix.org","id":"$VBUnd05196YkJVvIrE8Q9N7J0yflM9oHM27roJbHMCs"},
{"content":{"body":"yes, but `DefaultLocale` is completely host-defined too (https://tc39.es/ecma402/#sec-defaultlocale)","format":"org.matrix.custom.html","formatted_body":"yes, but <code>DefaultLocale</code> is completely host-defined too (https://tc39.es/ecma402/#sec-defaultlocale)","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"yes, but `DefaultLocale` is completely host-defined too (https://tc39.es/ecma402/#sec-defaultlocale)","mimetype":"text/plain"},{"body":"yes, but <code>DefaultLocale</code> is completely host-defined too (https://tc39.es/ecma402/#sec-defaultlocale)","mimetype":"text/html"}]},"ts":1668085164295,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$XXhBoAiKOBeCIbhMWsRM9DCCCRe35_hAp1tlV6vbP7o"},
{"content":{"body":"oh wait, we've looped around to the start","msgtype":"m.text","org.matrix.msc1767.text":"oh wait, we've looped around to the start"},"ts":1668085184994,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$2uMkTwResPFLM1eekfdQDXqeh5TO7DzyDt8JdjEKXcQ"},
{"content":{"body":"but yes, essentially hosts can choose to do whatever they prefer as long as the result is a valid locale","msgtype":"m.text","org.matrix.msc1767.text":"but yes, essentially hosts can choose to do whatever they prefer as long as the result is a valid locale"},"ts":1668085204334,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$5BH2Ny-azq6bpq5EUuSeGIR6PnGxLAG0VJZfkbv14ws"}
]