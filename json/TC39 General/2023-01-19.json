[
{"content":{"body":"I'm looking into https://github.com/whatwg/streams/pull/1083, which allows creating a `ReadableStream` from a (sync or async) iterable","format":"org.matrix.custom.html","formatted_body":"I'm looking into https://github.com/whatwg/streams/pull/1083, which allows creating a <code>ReadableStream</code> from a (sync or async) iterable","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"I'm looking into https://github.com/whatwg/streams/pull/1083, which allows creating a `ReadableStream` from a (sync or async) iterable","mimetype":"text/plain"},{"body":"I'm looking into https://github.com/whatwg/streams/pull/1083, which allows creating a <code>ReadableStream</code> from a (sync or async) iterable","mimetype":"text/html"}]},"ts":1674131715073,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$6Wu5VpeCs_NqOlQLpwF4VKUjhU6lTBZuxVrbuK4xlDM"},
{"content":{"body":"This PR wants to call `AsyncIteratorClose`, but that AO uses `Await()`","format":"org.matrix.custom.html","formatted_body":"This PR wants to call <code>AsyncIteratorClose</code>, but that AO uses <code>Await()</code>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"This PR wants to call `AsyncIteratorClose`, but that AO uses `Await()`","mimetype":"text/plain"},{"body":"This PR wants to call <code>AsyncIteratorClose</code>, but that AO uses <code>Await()</code>","mimetype":"text/html"}]},"ts":1674131720289,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$qs-JIVAQHcHBiPuBJv6__haOj6i701I5hK82zEQmM74"},
{"content":{"body":" * This PR wants to call `AsyncIteratorClose`, but that AO uses `Await()`","format":"org.matrix.custom.html","formatted_body":" * This PR wants to call <code>AsyncIteratorClose</code>, but that AO uses <code>Await()</code>","m.new_content":{"body":"This PR wants to call `AsyncIteratorClose`, but that AO uses `Await()`","format":"org.matrix.custom.html","formatted_body":"This PR wants to call <code>AsyncIteratorClose</code>, but that AO uses <code>Await()</code>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"This PR wants to call `AsyncIteratorClose`, but that AO uses `Await()`","mimetype":"text/plain"},{"body":"This PR wants to call <code>AsyncIteratorClose</code>, but that AO uses <code>Await()</code>","mimetype":"text/html"}]},"m.relates_to":{"event_id":"$qs-JIVAQHcHBiPuBJv6__haOj6i701I5hK82zEQmM74","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":" * This PR wants to call `AsyncIteratorClose`, but that AO uses `Await()`","mimetype":"text/plain"},{"body":" * This PR wants to call <code>AsyncIteratorClose</code>, but that AO uses <code>Await()</code>","mimetype":"text/html"}]},"ts":1674131734319,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$GmKAuSXruxcdBI0tPD-feM8iGvMUuVxY3b4e2hPDswE"},
{"content":{"body":"and given that `Await()` works by suspending and replacing execution contexts, it's not clear whether that is something a non-TC39 spec can use","format":"org.matrix.custom.html","formatted_body":"and given that <code>Await()</code> works by suspending and replacing execution contexts, it's not clear whether that is something a non-TC39 spec can use","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"and given that `Await()` works by suspending and replacing execution contexts, it's not clear whether that is something a non-TC39 spec can use","mimetype":"text/plain"},{"body":"and given that <code>Await()</code> works by suspending and replacing execution contexts, it's not clear whether that is something a non-TC39 spec can use","mimetype":"text/html"}]},"ts":1674131805884,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$yfjCOVkGRfMKBNc7axCvTm3hiFPJWSnYU9Frd4guy-Q"},
{"content":{"body":"I think there isn’t a binary switch that gets flipped between these layers, and that it’s OK to do some TC39-style at the boundaries as long as it doesn’t get too confusing. But this is really a question  for WHATWG folks.","msgtype":"m.text"},"ts":1674135477335,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$rwDjoNA8aa8boC0cv1Gun_SxW5m18nyPnUN20Kee1m4"},
{"content":{"body":"Andreu Botella: we will probably add proper support for built-in async functions soon, which will provide machinery for defining a promise-returning function where the body of the function can use `Await` without disruption - https://github.com/tc39/ecma262/pull/2942","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a>: we will probably add proper support for built-in async functions soon, which will provide machinery for defining a promise-returning function where the body of the function can use <code>Await</code> without disruption - https://github.com/tc39/ecma262/pull/2942","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"Andreu Botella: we will probably add proper support for built-in async functions soon, which will provide machinery for defining a promise-returning function where the body of the function can use `Await` without disruption - https://github.com/tc39/ecma262/pull/2942","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@abotella:igalia.com\">Andreu Botella</a>: we will probably add proper support for built-in async functions soon, which will provide machinery for defining a promise-returning function where the body of the function can use <code>Await</code> without disruption - https://github.com/tc39/ecma262/pull/2942","mimetype":"text/html"}]},"ts":1674147775102,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ZKj7XCBzhJmQdsJs4Yk6S7LyuS-XiHQSkngb_zdPw5Y"},
{"content":{"body":"prior to that PR, you're right that things are not really set up for it. my suggestion in the mean time would be, you don't actually need to use `AsyncIteratorClose` directly; if you trace through all the machinery, all it's really doing is calling the `return` method and then calling `.then` on the result with a continuation for remainder of the current function, which you can probably figure out how to do manually","format":"org.matrix.custom.html","formatted_body":"prior to that PR, you're right that things are not really set up for it. my suggestion in the mean time would be, you don't actually need to use <code>AsyncIteratorClose</code> directly; if you trace through all the machinery, all it's really doing is calling the <code>return</code> method and then calling <code>.then</code> on the result with a continuation for remainder of the current function, which you can probably figure out how to do manually","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"prior to that PR, you're right that things are not really set up for it. my suggestion in the mean time would be, you don't actually need to use `AsyncIteratorClose` directly; if you trace through all the machinery, all it's really doing is calling the `return` method and then calling `.then` on the result with a continuation for remainder of the current function, which you can probably figure out how to do manually","mimetype":"text/plain"},{"body":"prior to that PR, you're right that things are not really set up for it. my suggestion in the mean time would be, you don't actually need to use <code>AsyncIteratorClose</code> directly; if you trace through all the machinery, all it's really doing is calling the <code>return</code> method and then calling <code>.then</code> on the result with a continuation for remainder of the current function, which you can probably figure out how to do manually","mimetype":"text/html"}]},"ts":1674147916712,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$L3EKb7wkkU7UwOE9-Lzd8Nk5-JFEvdlLp39-1Lheevo"}
]