[
{"content":{"body":"Again","m.mentions":{},"msgtype":"m.text"},"ts":1759335385937,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$3KBnDtWUCJwAWMJXCA9Kt2VCvr_pJWSZTqkSUVwu9hQ"},
{"content":{"body":"bakkot ljharb ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a> <a href=\"https://matrix.to/#/@ljharb:matrix.org\">ljharb</a>","m.mentions":{"user_ids":["@bakkot:matrix.org","@ljharb:matrix.org"]},"msgtype":"m.text"},"ts":1759335421772,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$JblRuYUBBrINZtXknPofYhqJ56y2vKHmnzCqjbndmLM"},
{"content":{"body":"Maybe because I pushed a PR of mine that had the wrong version of the action?","m.mentions":{},"msgtype":"m.text"},"ts":1759335564300,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$Oxz07P92qNRfjb4Pq7PzvKs6etSIKj1jBF4mpxl5r9A"},
{"content":{"body":"* Maybe because I pushed to a PR of mine that had the wrong version of the action?","m.mentions":{},"m.new_content":{"body":"Maybe because I pushed to a PR of mine that had the wrong version of the action?","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$Oxz07P92qNRfjb4Pq7PzvKs6etSIKj1jBF4mpxl5r9A","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1759335569054,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$SI2X9QyFKAkqJbLvtLocr8siJ2NzNtLBARSX72_0UKs"},
{"content":{"body":"yes, that would do it - always rebase before pushing","m.mentions":{},"msgtype":"m.text"},"ts":1759335585524,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$S33JRmFNjNlESErjRk4LCOGNlDAchBLoqo97y2kaZrY"},
{"content":{"body":"i'll fix the branch, one sec","m.mentions":{},"msgtype":"m.text"},"ts":1759335593976,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$61gQse_pNkjq7YugBaFttxXsv_HtSPSVro_-vr5eXrI"},
{"content":{"body":"But why run deploy from a PR?","m.mentions":{},"msgtype":"m.text"},"ts":1759335606900,"senderName":"annevk","senderId":"@annevk:matrix.org","id":"$htmpJO6O08898_iAWAsMSW0DOhecSO5XLOToF-8DJns"},
{"content":{"body":"for PR previews. an older version of the action had a bug","m.mentions":{},"msgtype":"m.text"},"ts":1759335618018,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$yesZC7tSKMXRZSPpW8KNN6pCw70mSwn2fHxH5n4Uw0A"},
{"content":{"body":"ok, give it a minute and the page should hopefully be fixed","m.mentions":{},"msgtype":"m.text"},"ts":1759335632586,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$Wsz3sCkFAsVyRh23V7-0N4JxvbQtL6demx7ORwUUNqM"},
{"content":{"body":"I will rename the script so this doesn't happen","msgtype":"m.text"},"ts":1759335659507,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$vlqnpaSQinyF1w13T9ZfxMV6-bsbYnJGqi3VOyAVZoI"},
{"content":{"body":"I wanted to do a better fix but haven't had time ","msgtype":"m.text"},"ts":1759335671885,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Yh6bYfPHSx4jhbcf6v8rvh5igBVlcbesFb7cCj8Y4vI"},
{"content":{"body":"I'm confused about how this can do it though. I don't have write permission to the repo, so what is in my fork shouldn't matteerr?","m.mentions":{},"m.relates_to":{"m.in_reply_to":{"event_id":"$Oxz07P92qNRfjb4Pq7PzvKs6etSIKj1jBF4mpxl5r9A"}},"msgtype":"m.text"},"ts":1759335673602,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$kV42M4IRp8WzeFFErXw55XShHscLihCA79m-6qfI9TY"},
{"content":{"body":"* I'm confused about how this can do it though. I don't have write permission to the repo, so what is in my fork shouldn't matter?","m.mentions":{},"m.new_content":{"body":"I'm confused about how this can do it though. I don't have write permission to the repo, so what is in my fork shouldn't matter?","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$kV42M4IRp8WzeFFErXw55XShHscLihCA79m-6qfI9TY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1759335683553,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$PZAeZr1L84P4NIvSk-shF2OPmym5WG6fJUvp0muWE4A"},
{"content":{"body":"actions have that permission even if you don't","m.mentions":{},"msgtype":"m.text"},"ts":1759335705953,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$ZoBWAAK6mPxikuy4pnp3ZxKH2iV7Rel7-8K6MgKYIiw"},
{"content":{"body":"* actions can have that permission even if you don't, i believe","m.mentions":{},"m.new_content":{"body":"actions can have that permission even if you don't, i believe","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$ZoBWAAK6mPxikuy4pnp3ZxKH2iV7Rel7-8K6MgKYIiw","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1759335723133,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$ma3IjG4mPakD2u22EM8sxSfN6QQ4wKvkkay3WlJO0xs"},
{"content":{"body":"Oh I see, we run on `pull_request_target` but running the script from the PR branch and not the script committed in the target branch","format":"org.matrix.custom.html","formatted_body":"Oh I see, we run on <code>pull_request_target</code> but running the script from the PR branch and not the script committed in the target branch","m.mentions":{},"msgtype":"m.text"},"ts":1759335772893,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$p4U6Rs0TVUQS_T5bXqlOXXnCUfmX65FkLL-HiS0IFWs"},
{"content":{"body":"Yeah","m.mentions":{},"msgtype":"m.text"},"ts":1759335782822,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$uMIDJgIIrEY1SzMOEtbWL-NDw__pNFYyrnMMBm2Ow80"},
{"content":{"body":"we could rename the secret and that'd fix it","m.mentions":{},"msgtype":"m.text"},"ts":1759335790926,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$-yJvnENOjgIYVCNdNMtrk_tcSfUQKZZIfDYhQ39kvwA"},
{"content":{"body":"Renaming the script will also fix it","m.mentions":{},"msgtype":"m.text"},"ts":1759335806871,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$HbrKwLMs1Y8sXEl4ilf__kMvtrLeQ1VxvlFjpnyOTLs"},
{"content":{"body":"Better fix is to use the build script from the main repo also but that takes more work","m.mentions":{},"msgtype":"m.text"},"ts":1759335826328,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$UVPik65fl55ytCZiTakFFj8S9ycbyQp55jX8RteZ9Hk"},
{"content":{"body":"and debugging github actions is very annoying so I haven't done it yet","m.mentions":{},"msgtype":"m.text"},"ts":1759335836247,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$QESR6daC0KNB6bwgcsd8_kaKrVdUuFv1R7EiG2XDQ0A"},
{"content":{"body":"renaming the script would let someone add a workflow to their own PR and push anything they wanted up there, by adding the old script name","m.mentions":{},"msgtype":"m.text"},"ts":1759335848072,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$_C07erAFWYTWZd18Ya9K8cY-Svqy-q-W_6ahf58sbTI"},
{"content":{"body":"* Better fix is to use the build/deploy scripts from the main repo also but that takes more work","m.mentions":{},"m.new_content":{"body":"Better fix is to use the build/deploy scripts from the main repo also but that takes more work","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$UVPik65fl55ytCZiTakFFj8S9ycbyQp55jX8RteZ9Hk","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1759335850040,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$OVOL8Aq4zKmEN1FSPWjJe7WeyTj_XmJApiGbIr7-HFU"},
{"content":{"body":"* renaming the script would let someone add a workflow to their own PR and push anything they wanted up there, by adding the old script name, no?","m.mentions":{},"m.new_content":{"body":"renaming the script would let someone add a workflow to their own PR and push anything they wanted up there, by adding the old script name, no?","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$_C07erAFWYTWZd18Ya9K8cY-Svqy-q-W_6ahf58sbTI","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1759335857104,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$pqz3W3G7rCTgrAi9iykHC4f3I_GL81jONTV4raRxEAE"},
{"content":{"body":"For ecma426 we only checkout `spec.emu` and `img/` from the PR branch, and for the rest we use files on `main`: https://github.com/tc39/ecma426/blob/6f45f6fd5884424b5131e2709aff833fa3327e2e/.github/workflows/auto-publish.yml#L28","format":"org.matrix.custom.html","formatted_body":"For ecma426 we only checkout <code>spec.emu</code> and <code>img/</code> from the PR branch, and for the rest we use files on <code>main</code>: https://github.com/tc39/ecma426/blob/6f45f6fd5884424b5131e2709aff833fa3327e2e/.github/workflows/auto-publish.yml#L28","m.mentions":{},"msgtype":"m.text"},"ts":1759335862322,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$dbmE_B08vsh4dzcBDI4x3xiIxB3mIjrB-0jhjKavq7A"},
{"content":{"body":"* renaming the script would let someone add a workflow to their own PR and push anything they wanted up there, by adding the old script name, no? (if they targeted an old enough commit on main)","m.mentions":{},"m.new_content":{"body":"renaming the script would let someone add a workflow to their own PR and push anything they wanted up there, by adding the old script name, no? (if they targeted an old enough commit on main)","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$_C07erAFWYTWZd18Ya9K8cY-Svqy-q-W_6ahf58sbTI","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1759335867232,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$tt1hmIYFSaUC93cptbgXPS83CFMlGvC55wdEwFUHv9c"},
{"content":{"body":"script only runs for tc39 members or when explicitly requested by a maintainer","m.mentions":{},"msgtype":"m.text"},"ts":1759335871176,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Ir-io6csYSd0RUcC9oJYEtavSMNuFjrSTIauExQrMYI"},
{"content":{"body":"I am not worried about tc39 members trying to mess with things","m.mentions":{},"msgtype":"m.text"},"ts":1759335890745,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$7mURNxKu7oXyR6-RGehXh8KVB1CMqulv7Z2ZaJpn8uw"},
{"content":{"body":"fair","m.mentions":{},"msgtype":"m.text"},"ts":1759335920491,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$EB5RejHubxKvoBjgzMTihk5-FEhv8nyc7WLY9pWDZJw"}
]