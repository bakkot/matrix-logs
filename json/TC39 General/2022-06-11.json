[
{"content":{"body":"I have been writing lots of promises lately and keep getting annoyed by awkwardness of extracting the handlers from the promise constructor. kind of want to add a helper for this. thoughts?\n\n```\nPromise.create = () => {\n  let resolve, reject;\n  let promise = new Promise((res, rej) => {\n    resolve = res;\n    reject = rej;\n  });\n  return { resolve, reject, promise };\n};\n\nlet { resolve, reject, promise } = Promise.create();\nresolve(42);\npromise; // Promise {<fulfilled>: 42}\n```","format":"org.matrix.custom.html","formatted_body":"<p>I have been writing lots of promises lately and keep getting annoyed by awkwardness of extracting the handlers from the promise constructor. kind of want to add a helper for this. thoughts?</p>\n<pre><code>Promise.create = () =&gt; {\n  let resolve, reject;\n  let promise = new Promise((res, rej) =&gt; {\n    resolve = res;\n    reject = rej;\n  });\n  return { resolve, reject, promise };\n};\n\nlet { resolve, reject, promise } = Promise.create();\nresolve(42);\npromise; // Promise {&lt;fulfilled&gt;: 42}\n</code></pre>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"I have been writing lots of promises lately and keep getting annoyed by awkwardness of extracting the handlers from the promise constructor. kind of want to add a helper for this. thoughts?\n\n```\nPromise.create = () => {\n  let resolve, reject;\n  let promise = new Promise((res, rej) => {\n    resolve = res;\n    reject = rej;\n  });\n  return { resolve, reject, promise };\n};\n\nlet { resolve, reject, promise } = Promise.create();\nresolve(42);\npromise; // Promise {<fulfilled>: 42}\n```","mimetype":"text/plain"},{"body":"<p>I have been writing lots of promises lately and keep getting annoyed by awkwardness of extracting the handlers from the promise constructor. kind of want to add a helper for this. thoughts?</p>\n<pre><code>Promise.create = () =&gt; {\n  let resolve, reject;\n  let promise = new Promise((res, rej) =&gt; {\n    resolve = res;\n    reject = rej;\n  });\n  return { resolve, reject, promise };\n};\n\nlet { resolve, reject, promise } = Promise.create();\nresolve(42);\npromise; // Promise {&lt;fulfilled&gt;: 42}\n</code></pre>\n","mimetype":"text/html"}]},"ts":1654980036027,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$mG1UjpC0E7Qwibw4PMA7K_ceJDI-gpwUlQ6_JiUauIE"},
{"content":{"body":"I _could_ just copy that helper to every project but it comes up often enough for me that it seems maybe worth adding. don't know if this is something other people run into though.","format":"org.matrix.custom.html","formatted_body":"I <em>could</em> just copy that helper to every project but it comes up often enough for me that it seems maybe worth adding. don't know if this is something other people run into though.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"I _could_ just copy that helper to every project but it comes up often enough for me that it seems maybe worth adding. don't know if this is something other people run into though.","mimetype":"text/plain"},{"body":"I <em>could</em> just copy that helper to every project but it comes up often enough for me that it seems maybe worth adding. don't know if this is something other people run into though.","mimetype":"text/html"}]},"ts":1654980070676,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Wmg7sRdLCcZLufbSIZjyZbcMwNZfEFHGYjcz0XCDOvo"},
{"content":{"body":"There is some popular prior art: jQuery's `$.deferred()` exposes the reject/resolve methods, and a `.promise()` method to get the internal promise.","msgtype":"m.text"},"ts":1654980183636,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$UzN5_bjVMH2vd5zdwA9sL3mG36u_VqIo_NQwocLggK4"}
]