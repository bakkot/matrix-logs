[
{"content":{"body":"I still don't understand why engines do not implement registered symbols as a wrapper around strings. No need for special GC except what already exists for strings. Isn't it simpler than implementing a weak registry and collect entries?","msgtype":"m.text"},"ts":1745712491839,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$n4ELoXqAWsvfxv2kb7LshjQiralJ0qWCTQykZ-1zhYY"},
{"content":{"body":"It’s a neat idea. We’ve got three flavors of symbol and if a VM can stomach implementing each of those cases very differently, I imagine it could be that easy.\n1. well-known symbols distinguished by an enum such that they are identical even across realms\n2. registered symbols distinguished by string value + realm such that they are not identical across realms but strcmp locally\n3. other symbols distinguished by heap pointer","format":"org.matrix.custom.html","formatted_body":"<p>It’s a neat idea. We’ve got three flavors of symbol and if a VM can stomach implementing each of those cases very differently, I imagine it could be that easy.</p>\n<ol>\n<li>well-known symbols distinguished by an enum such that they are identical even across realms</li>\n<li>registered symbols distinguished by string value + realm such that they are not identical across realms but strcmp locally</li>\n<li>other symbols distinguished by heap pointer</li>\n</ol>\n","m.mentions":{},"msgtype":"m.text"},"ts":1745721432582,"senderName":"kriskowal","senderId":"@kriskowal:aelf.land","id":"$Lwysw1sP1vLxuomG0Y1gYJ4JNxAHqQg3XkZCEODhHOs"},
{"content":{"body":"Aren't well known symbols just unique symbols that are anchored in the implementation, and this just never collected?","msgtype":"m.text"},"ts":1745773733349,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$s5wWf_POpuP-fi3biTM_pD4-uBpw5ypgK4__0rnMBj4"},
{"content":{"body":"* Aren't well known symbols just unique symbols that are anchored in the implementation, and thus just never collected?","m.new_content":{"body":"Aren't well known symbols just unique symbols that are anchored in the implementation, and thus just never collected?","msgtype":"m.text"},"m.relates_to":{"event_id":"$s5wWf_POpuP-fi3biTM_pD4-uBpw5ypgK4__0rnMBj4","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1745773770672,"senderName":"Mathieu Hofman","senderId":"@mhofman:matrix.org","id":"$YERgP8Mb_15UXJV2M1YCrpZyLSdl65kJhzPJLan2nDI"}
]