[
{"content":{"body":"fwiw its sort of \"planned\" to have fetch in node, there's just a lot of stuff to do and not a lot of people willing to do it. (jasnell's work on streams, for example)","msgtype":"m.text"},"ts":1642215890114,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$hqd0hK5AwMzWx7r7fBiirowwbKPF5OGkvtsvMltnuBo"},
{"content":{"body":"Can somebody please step in on https://github.com/mdn/content/issues/11743 with a comment to confirm what the argument order is for the replacer function for `String.prototype.replace()`?","format":"org.matrix.custom.html","formatted_body":"Can somebody please step in on https://github.com/mdn/content/issues/11743 with a comment to confirm what the argument order is for the replacer function for <code>String.prototype.replace()</code>?","msgtype":"m.text"},"ts":1642218627736,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$F4i4sayVs6n8X78vq8uKPf7vH4IbblbQNfOOHnpjlv8"},
{"content":{"body":"Is it `(match, offset, string)` or is it instead `(match, string, offset)`?","format":"org.matrix.custom.html","formatted_body":"Is it <code>(match, offset, string)</code> or is it instead <code>(match, string, offset)</code>?","msgtype":"m.text"},"ts":1642218674392,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$OrevTWi7T0WSY5IpPCPTql98kkGXjJgw2HPvJAlKpZY"},
{"content":{"body":"see comments at https://github.com/mdn/content/issues/11743#issuecomment-1012831082 and https://github.com/mdn/content/pull/11770#pullrequestreview-845997341","msgtype":"m.text"},"ts":1642218729209,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$yixUSZ04t14wjSO3h40m2-Wdd5RufJd-ENQVQSp_YCY"},
{"content":{"body":" * Is it `(match, offset, string)` or is it instead `(match, string, offset)`?","format":"org.matrix.custom.html","formatted_body":" * Is it <code>(match, offset, string)</code> or is it instead <code>(match, string, offset)</code>?","m.new_content":{"body":"Is it `(match, offset, string)` or is it instead `(match, string, offset)`?","format":"org.matrix.custom.html","formatted_body":"Is it <code>(match, offset, string)</code> or is it instead <code>(match, string, offset)</code>?","msgtype":"m.text"},"m.relates_to":{"event_id":"$OrevTWi7T0WSY5IpPCPTql98kkGXjJgw2HPvJAlKpZY","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1642218756276,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$II-lO2X-kwIgZxwUeP40OB0vt0TcnlSoYz5uUkJAZuw"},
{"content":{"body":"looks like neither","msgtype":"m.text"},"ts":1642219002215,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$rymI5l4nwD6d4n0jl0pFHzAKPe3AU3kdsG-AVz7moB8"},
{"content":{"body":"oh‚Ä¶","msgtype":"m.text"},"ts":1642219036564,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$bt8Xi0bbx8mWEmSAd6ldmF1Pxb2MsM0jIMn7somPlfY"},
{"content":{"body":"replacer is called with only 2 arguments: ¬´ O, replaceValue ¬ª","msgtype":"m.text"},"ts":1642219041496,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$5kPDnDg4ix8jx5-1YO4oclmP5r6dBm9DAtzUUmck5GM"},
{"content":{"body":"aha","msgtype":"m.text"},"ts":1642219051596,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$7Z8fvimu9YW7qgbMdjwCJZrIytqz3mD-C_zMx8sw0P8"},
{"content":{"body":"then I wonder why it doesn‚Äôt throw when called when called with 3 arguments‚Ä¶","msgtype":"m.text"},"ts":1642219077884,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$IBEGLYDlV99Z8lQ1XjZSk9XBVDyfM6doBILGkMjq2qs"},
{"content":{"body":"extra args are always allowed and ignored.","msgtype":"m.text"},"ts":1642219096625,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$HnO5LeYUOwHomZWS1yMp9oqOcJP9xNdBqpr5EVocT68"},
{"content":{"body":"no wait, you mean \"why doesn't it throw when the actual replacer takes 3 args\", right?","msgtype":"m.text"},"ts":1642219159040,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$a1dwrw7qayLYImcN0u3zHqoiMvQaKwduKnpyJoot9E4"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1642219171932,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$1NsiPo0l_mAAD0yJYA2IpP23FCVMwX0dmEzlnchS58U"},
{"content":{"body":"that","msgtype":"m.text"},"ts":1642219175381,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$fILxI911MmAuu5n_2cVtRSZr3gaal3ywF4xn6v8Ypbc"},
{"content":{"body":"in that case, the 3rd arg should always be *undefined*","format":"org.matrix.custom.html","formatted_body":"in that case, the 3rd arg should always be <em>undefined</em>","msgtype":"m.text"},"ts":1642219188748,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$Fgkkx1PtOtXEye2Zdofvrc_3RowrUC92C5ZUMhMPgis"},
{"content":{"body":"also, at https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#specifying_a_function_as_a_parameter we have it documented as taking as many as 5 arguments","msgtype":"m.text"},"ts":1642219194897,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$T8cHFbSavu6MggVScn-n2fG68ZSPt9n4Ih4XUf5cKso"},
{"content":{"body":"(unless the implementation is doing something special)","msgtype":"m.text"},"ts":1642219202312,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$gX0Z3BeBGzYZ4iPOYHDu6BNRXJ5gignn66dhn3kzFpE"},
{"content":{"body":" * also, at https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#specifying_a_function_as_a_parameter we have it documented as taking even more than just 3 arguments","m.new_content":{"body":"also, at https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#specifying_a_function_as_a_parameter we have it documented as taking even more than just 3 arguments","msgtype":"m.text"},"m.relates_to":{"event_id":"$T8cHFbSavu6MggVScn-n2fG68ZSPt9n4Ih4XUf5cKso","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1642219259392,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$kgBeqZj5QBY2BGVS6q1uLkQ4pKd8rwUum9gaaVHM1S4"},
{"content":{"body":"ah, i think misunderstanding re \"replacer function\"","msgtype":"m.text"},"ts":1642219341910,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$cLoyVYF_UdopGY_KJM-54JqCOuVbt0vJD9BR17Frwxs"},
{"content":{"body":"yeah looking at the spec, I see\n\n> 12. If functionalReplace is true, then\n>a. Let replacement be ? ToString(? Call(replaceValue, undefined, ¬´ searchString, ùîΩ(position), string ¬ª)).","format":"org.matrix.custom.html","formatted_body":"<p>yeah looking at the spec, I see</p>\n<blockquote>\n<ol start=\"12\">\n<li>If functionalReplace is true, then<br>a. Let replacement be ? ToString(? Call(replaceValue, undefined, ¬´ searchString, ùîΩ(position), string ¬ª)).</li>\n</ol>\n</blockquote>\n","msgtype":"m.text"},"ts":1642219432173,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$mfPs6qHC_Q5-yeGV8qI78BhDVjYA7LQ36Ibfnh9_Sz4"},
{"content":{"body":"`_replacer_` is the alias that the spec uses for the @@replace method extracted from the *first* arg to S.p.replace() ","format":"org.matrix.custom.html","formatted_body":"<code>_replacer_</code> is the alias that the spec uses for the @@replace method extracted from the <em>first</em> arg to S.p.replace()","msgtype":"m.text"},"ts":1642219497713,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$yzy3sw-nTmZIO-f2ZJutvYDGAXSF_Rbms0uanxi2jS0"},
{"content":{"body":"but you're talking about the *second* arg","format":"org.matrix.custom.html","formatted_body":"but you're talking about the <em>second</em> arg","msgtype":"m.text"},"ts":1642219513139,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$AZ6GaBCCw-UPRVEwNpQOOxbPjtkmNpuYNFMrG1tZPic"},
{"content":{"body":"If the second arg is a function, it's called with args ¬´ searchString, ùîΩ(position), string ¬ª, which is roughly (needle, offset, haystack)","msgtype":"m.text"},"ts":1642219730542,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$9CQ6BOnDhNunUyNfnuIMaA4Pjxbaq8zhsSeiyc2OAN4"}
]