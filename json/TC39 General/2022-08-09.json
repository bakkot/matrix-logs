[
{"content":{"body":"> <@devsnek:matrix.org> does anyone know any tools to catch inconsistent sort functions in codebases? like some sort of linting\n\nWhat do you mean by inconsistent sorts? ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$AClGihT9KsKvYeZw6C1aUMvnPFQGrhuTkn-_6TlfH_8?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@devsnek:matrix.org\">@devsnek:matrix.org</a><br />does anyone know any tools to catch inconsistent sort functions in codebases? like some sort of linting</blockquote></mx-reply>What do you mean by inconsistent sorts?","m.relates_to":{"m.in_reply_to":{"event_id":"$AClGihT9KsKvYeZw6C1aUMvnPFQGrhuTkn-_6TlfH_8"}},"msgtype":"m.text"},"ts":1660047857168,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$xZ77wgyPTXT4M4A_Ty3CjvkpIYiNJja-bCOSrMZmAag"},
{"content":{"body":"`(a, b) => Math.random() > 0.5 ? -1 : 1`","format":"org.matrix.custom.html","formatted_body":"<code>(a, b) =&gt; Math.random() &gt; 0.5 ? -1 : 1</code>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"`(a, b) => Math.random() > 0.5 ? -1 : 1`","mimetype":"text/plain"},{"body":"<code>(a, b) =&gt; Math.random() &gt; 0.5 ? -1 : 1</code>","mimetype":"text/html"}]},"ts":1660049952913,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$wXUE2gc6KbZeZGgLc-tXqNJ9GxYWWxRlsoH2nju8Y5A"},
{"content":{"body":"I could swear some browsers do (or used to) throw if they detected an inconsistent sort while running their algo","msgtype":"m.text","org.matrix.msc1767.text":"I could swear some browsers do (or used to) throw if they detected an inconsistent sort while running their algo"},"ts":1660050051049,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$5jakdajcKKxWLb8K9aXNJ4dPK0Zmxhss6BApR1xdzXE"},
{"content":{"body":"Enforced PartialOrd ðŸ¤”","msgtype":"m.text"},"ts":1660050761256,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$V1SCL7hP3BLDDCPQJxdjluvek17buwKYr6_JZgeqIOk"},
{"content":{"body":"In ES5 said \"If comparefn [..] is not a consistent comparison function [...] the behaviour of sort is implementation-defined.\" - which would have allowed an engine to throw if it detected it","msgtype":"m.text","org.matrix.msc1767.text":"In ES5 said \"If comparefn [..] is not a consistent comparison function [...] the behaviour of sort is implementation-defined.\" - which would have allowed an engine to throw if it detected it"},"ts":1660051859462,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$b1Na3uKKEis2ZhUt44ndbuyV_TyJEUmYJ3L6tdrqvuQ"},
{"content":{"body":"now we seem to only say that the \"SortOrder\" is implementation defined. So I _think_ throwing would no longer be spec compliant","format":"org.matrix.custom.html","formatted_body":"now we seem to only say that the &quot;SortOrder&quot; is implementation defined. So I <em>think</em> throwing would no longer be spec compliant","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"now we seem to only say that the \"SortOrder\" is implementation defined. So I _think_ throwing would no longer be spec compliant","mimetype":"text/plain"},{"body":"now we seem to only say that the &quot;SortOrder&quot; is implementation defined. So I <em>think</em> throwing would no longer be spec compliant","mimetype":"text/html"}]},"ts":1660051906063,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$5C5k3zXkbjDk7dzYfa0tBjulnAPE3CCK8RdGLB4Qp-U"},
{"content":{"body":" * now we seem to only say that the \"SortOrder\" is implementation defined. So I _think_ throwing would no longer be spec compliant","format":"org.matrix.custom.html","formatted_body":" * now we seem to only say that the &quot;SortOrder&quot; is implementation defined. So I <em>think</em> throwing would no longer be spec compliant","m.new_content":{"body":"now we seem to only say that the \"SortOrder\" is implementation defined. So I _think_ throwing would no longer be spec compliant","format":"org.matrix.custom.html","formatted_body":"now we seem to only say that the &quot;SortOrder&quot; is implementation defined. So I <em>think</em> throwing would no longer be spec compliant","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"now we seem to only say that the \"SortOrder\" is implementation defined. So I _think_ throwing would no longer be spec compliant","mimetype":"text/plain"},{"body":"now we seem to only say that the &quot;SortOrder&quot; is implementation defined. So I <em>think</em> throwing would no longer be spec compliant","mimetype":"text/html"}]},"m.relates_to":{"event_id":"$5C5k3zXkbjDk7dzYfa0tBjulnAPE3CCK8RdGLB4Qp-U","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":" * now we seem to only say that the \"SortOrder\" is implementation defined. So I _think_ throwing would no longer be spec compliant","mimetype":"text/plain"},{"body":" * now we seem to only say that the &quot;SortOrder&quot; is implementation defined. So I <em>think</em> throwing would no longer be spec compliant","mimetype":"text/html"}]},"ts":1660051927425,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$Q16rqwVlBOmKTtUTpZ7nGLIx5GDcB977-hjy9RVss3s"},
{"content":{"body":"ES6 (draft 27) changed \"the behaviour of sort is implementation-defined\" to \"the sort order is implementation-defined\" in that sentence.","msgtype":"m.text","org.matrix.msc1767.text":"ES6 (draft 27) changed \"the behaviour of sort is implementation-defined\" to \"the sort order is implementation-defined\" in that sentence."},"ts":1660053403823,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$Hh_QpXpqeL4p1W3FxeQ_GSDECqRh3k8HohsEqkq7sQU"},
{"content":{"body":" * ES6 (draft 27) changed \"the behaviour of sort is implementation-defined\" to \"the sort order is implementation-defined\" in that sentence.","m.new_content":{"body":"ES6 (draft 27) changed \"the behaviour of sort is implementation-defined\" to \"the sort order is implementation-defined\" in that sentence.","msgtype":"m.text","org.matrix.msc1767.text":"ES6 (draft 27) changed \"the behaviour of sort is implementation-defined\" to \"the sort order is implementation-defined\" in that sentence."},"m.relates_to":{"event_id":"$Hh_QpXpqeL4p1W3FxeQ_GSDECqRh3k8HohsEqkq7sQU","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * ES6 (draft 27) changed \"the behaviour of sort is implementation-defined\" to \"the sort order is implementation-defined\" in that sentence."},"ts":1660053434970,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$0ZTmEWpBHwUzLLbOlXLF6sTKrq44IsC7VHpr7ftmOD0"},
{"content":{"body":"> <@jackworks:matrix.org> What do you mean by inconsistent sorts? \n\nlook up \"consistent comparator\" in the spec","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$xZ77wgyPTXT4M4A_Ty3CjvkpIYiNJja-bCOSrMZmAag?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@jackworks:matrix.org\">@jackworks:matrix.org</a><br />What do you mean by inconsistent sorts?</blockquote></mx-reply>look up &quot;consistent comparator&quot; in the spec","m.relates_to":{"m.in_reply_to":{"event_id":"$xZ77wgyPTXT4M4A_Ty3CjvkpIYiNJja-bCOSrMZmAag"}},"msgtype":"m.text"},"ts":1660060020096,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$7gPQuTqboZwubqtHpHn8Id0eeh2Qapcx1w7GgVn7vhc"},
{"content":{"body":"> <@jmdyck:matrix.org> ES6 (draft 27) changed \"the behaviour of sort is implementation-defined\" to \"the sort order is implementation-defined\" in that sentence.\n\ni just fixed a change someone made with a sort function inconsistent to the point that it displayed somewhat normally but still weird on chrome, reversed on firefox, and random order in hermes","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$Hh_QpXpqeL4p1W3FxeQ_GSDECqRh3k8HohsEqkq7sQU?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@jmdyck:matrix.org\">@jmdyck:matrix.org</a><br>ES6 (draft 27) changed &quot;the behaviour of sort is implementation-defined&quot; to &quot;the sort order is implementation-defined&quot; in that sentence.</blockquote></mx-reply>i just fixed a change someone made with a sort function inconsistent to the point that it displayed somewhat normally but still weird on chrome, reversed on firefox, and random order in hermes","m.relates_to":{"m.in_reply_to":{"event_id":"$Hh_QpXpqeL4p1W3FxeQ_GSDECqRh3k8HohsEqkq7sQU"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@jmdyck:matrix.org> ES6 (draft 27) changed \"the behaviour of sort is implementation-defined\" to \"the sort order is implementation-defined\" in that sentence.\n\ni just fixed a change someone made with a sort function inconsistent to the point that it displayed somewhat normally but still weird on chrome, reversed on firefox, and random order in hermes","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$Hh_QpXpqeL4p1W3FxeQ_GSDECqRh3k8HohsEqkq7sQU?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@jmdyck:matrix.org\">@jmdyck:matrix.org</a><br>ES6 (draft 27) changed &quot;the behaviour of sort is implementation-defined&quot; to &quot;the sort order is implementation-defined&quot; in that sentence.</blockquote></mx-reply>i just fixed a change someone made with a sort function inconsistent to the point that it displayed somewhat normally but still weird on chrome, reversed on firefox, and random order in hermes","mimetype":"text/html"}]},"ts":1660065242152,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$V6RcUJpVCOy_aLWpZKsd8sSM2kpbNiUN_EfM5byxNlk"},
{"content":{"body":"nothing threw thankfully :)","msgtype":"m.text","org.matrix.msc1767.text":"nothing threw thankfully :)"},"ts":1660065253659,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$gItHOLMiLtpAw-j2HUCzhG87FuxoLrhpOPHLo4kwbwc"},
{"content":{"body":"and they did that accidentally?","msgtype":"m.text","org.matrix.msc1767.text":"and they did that accidentally?"},"ts":1660065326849,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$3QotKu21oz7JKprNZshy-fTq5wEf-b9U7S04_nmJUl8"},
{"content":{"body":"i put this together to detect inconsistent functions https://engine262.js.org/#gist=49dc7f2fb9ff3095d401f22529b4443f","msgtype":"m.text","org.matrix.msc1767.text":"i put this together to detect inconsistent functions https://engine262.js.org/#gist=49dc7f2fb9ff3095d401f22529b4443f"},"ts":1660065332170,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$TAt-EJLeDKKy42LYfpbqnMobzxf4wVIyzf5kTJiyoFU"},
{"content":{"body":"> <@aclaymore:matrix.org> and they did that accidentally?\n\nyes","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$3QotKu21oz7JKprNZshy-fTq5wEf-b9U7S04_nmJUl8?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@aclaymore:matrix.org\">@aclaymore:matrix.org</a><br>and they did that accidentally?</blockquote></mx-reply>yes","m.relates_to":{"m.in_reply_to":{"event_id":"$3QotKu21oz7JKprNZshy-fTq5wEf-b9U7S04_nmJUl8"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@aclaymore:matrix.org> and they did that accidentally?\n\nyes","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$3QotKu21oz7JKprNZshy-fTq5wEf-b9U7S04_nmJUl8?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@aclaymore:matrix.org\">@aclaymore:matrix.org</a><br>and they did that accidentally?</blockquote></mx-reply>yes","mimetype":"text/html"}]},"ts":1660065343262,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$RTmWm8sDRNg2Y4ow1yUST0USQ2m1gkAjrpjdpgZ0Qno"},
{"content":{"body":"it sounds more like an esoteric JS quiz question","msgtype":"m.text","org.matrix.msc1767.text":"it sounds more like an esoteric JS quiz question"},"ts":1660065407127,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$80jUuBQ8K03EFp_RKmy3VUKGN6pyFmnNTTWsQAsqP5g"},
{"content":{"body":"yeah we need more implementation defined behavior","msgtype":"m.text","org.matrix.msc1767.text":"yeah we need more implementation defined behavior"},"ts":1660065430097,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$QeHszq0zieh9Wz7vifWpMqXfaSFki_dt1-CxUAsJ5V8"},
{"content":{"body":"like those funny c programs ","msgtype":"m.text","org.matrix.msc1767.text":"like those funny c programs "},"ts":1660065442167,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$SgUR7x1QLiy3THbF-maB-kDIBFP_MidVoTSGgeG_v1g"},
{"content":{"body":"`evalAsYouLike(...)`","format":"org.matrix.custom.html","formatted_body":"<code>evalAsYouLike(...)</code>","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"`evalAsYouLike(...)`","mimetype":"text/plain"},{"body":"<code>evalAsYouLike(...)</code>","mimetype":"text/html"}]},"ts":1660065459201,"senderName":"Ashley Claymore","senderId":"@aclaymore:matrix.org","id":"$nS86Y07qAx5osJVGsvKEPfUyHxu9pGq96aEjlmRAlSc"},
{"content":{"body":"technically `eval('debugger')` returns an implementation defined value","format":"org.matrix.custom.html","formatted_body":"technically <code>eval('debugger')</code> returns an implementation defined value","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"technically `eval('debugger')` returns an implementation defined value","mimetype":"text/plain"},{"body":"technically <code>eval('debugger')</code> returns an implementation defined value","mimetype":"text/html"}]},"ts":1660065493001,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$yNz6pBnnMFCYe2Rx9fIUWa9aJUaKs5HxjEBS1zmjAYo"},
{"content":{"body":"i don't think anyone does anything interesting with it","msgtype":"m.text","org.matrix.msc1767.text":"i don't think anyone does anything interesting with it"},"ts":1660065507932,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$S1FFlAnKQuLrvXM9G7vAOHxldpN1A6qqNCvVS9YtaMI"},
{"content":{"body":"we should specify that to return undefined lol","msgtype":"m.text","org.matrix.msc1767.text":"we should specify that to return undefined lol"},"ts":1660065545763,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$14DoGOMId5lEehVslf94cX5SuU4yr6lr3ZNmQMwvDRE"},
{"content":{"body":"or empty i guess","msgtype":"m.text","org.matrix.msc1767.text":"or empty i guess"},"ts":1660065553760,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$8dl71DUn8v-3Ts-YtW3eQd9NDEcacSITB2v_g5TW7Ac"}
]