[
{"content":{"body":"RegExp syntax spec question: https://tc39.es/ecma262/#prod-annexB-Assertion\n\nWhy does the current grammar for Annex B `Assertion` need to explicitly check the `UnicodeMode` flag?\n```\nAssertion[UnicodeMode, UnicodeSetsMode, NamedCaptureGroups] ::\n  `^`\n  `$`\n  `\\b`\n  `\\B`\n  [+UnicodeMode] `(?=` Disjunction[+UnicodeMode, ?UnicodeSetsMode, ?NamedCaptureGroups] `)`\n  [+UnicodeMode] `(?!` Disjunction[+UnicodeMode, ?UnicodeSetsMode, ?NamedCaptureGroups] `)`\n  [~UnicodeMode] QuantifiableAssertion[?NamedCaptureGroups]\n  `(?<=` Disjunction[?UnicodeMode, ?UnicodeSetsMode, ?NamedCaptureGroups] `)`\n  `(?<!` Disjunction[?UnicodeMode, ?UnicodeSetsMode, ?NamedCaptureGroups] `)`\n\nQuantifiableAssertion[NamedCaptureGroups] ::\n  `(?=` Disjunction[~UnicodeMode, ~UnicodeSetsMode, ?NamedCaptureGroups] `)`\n  `(?!` Disjunction[~UnicodeMode, ~UnicodeSetsMode, ?NamedCaptureGroups] `)`\n```\n\nCould it be simplified to this?\n```\nAssertion[UnicodeMode, UnicodeSetsMode, NamedCaptureGroups] ::\n  `^`\n  `$`\n  `\\b`\n  `\\B`\n  `(?=` Disjunction[?UnicodeMode, ?UnicodeSetsMode, ?NamedCaptureGroups] `)`\n  `(?!` Disjunction[?UnicodeMode, ?UnicodeSetsMode, ?NamedCaptureGroups] `)`\n  `(?<=` Disjunction[?UnicodeMode, ?UnicodeSetsMode, ?NamedCaptureGroups] `)`\n  `(?<!` Disjunction[?UnicodeMode, ?UnicodeSetsMode, ?NamedCaptureGroups] `)`\n```","format":"org.matrix.custom.html","formatted_body":"<p>RegExp syntax spec question: https://tc39.es/ecma262/#prod-annexB-Assertion</p>\n<p>Why does the current grammar for Annex B <code>Assertion</code> need to explicitly check the <code>UnicodeMode</code> flag?</p>\n<pre><code>Assertion[UnicodeMode, UnicodeSetsMode, NamedCaptureGroups] ::\n  `^`\n  `$`\n  `\\b`\n  `\\B`\n  [+UnicodeMode] `(?=` Disjunction[+UnicodeMode, ?UnicodeSetsMode, ?NamedCaptureGroups] `)`\n  [+UnicodeMode] `(?!` Disjunction[+UnicodeMode, ?UnicodeSetsMode, ?NamedCaptureGroups] `)`\n  [~UnicodeMode] QuantifiableAssertion[?NamedCaptureGroups]\n  `(?&lt;=` Disjunction[?UnicodeMode, ?UnicodeSetsMode, ?NamedCaptureGroups] `)`\n  `(?&lt;!` Disjunction[?UnicodeMode, ?UnicodeSetsMode, ?NamedCaptureGroups] `)`\n\nQuantifiableAssertion[NamedCaptureGroups] ::\n  `(?=` Disjunction[~UnicodeMode, ~UnicodeSetsMode, ?NamedCaptureGroups] `)`\n  `(?!` Disjunction[~UnicodeMode, ~UnicodeSetsMode, ?NamedCaptureGroups] `)`\n</code></pre>\n<p>Could it be simplified to this?</p>\n<pre><code>Assertion[UnicodeMode, UnicodeSetsMode, NamedCaptureGroups] ::\n  `^`\n  `$`\n  `\\b`\n  `\\B`\n  `(?=` Disjunction[?UnicodeMode, ?UnicodeSetsMode, ?NamedCaptureGroups] `)`\n  `(?!` Disjunction[?UnicodeMode, ?UnicodeSetsMode, ?NamedCaptureGroups] `)`\n  `(?&lt;=` Disjunction[?UnicodeMode, ?UnicodeSetsMode, ?NamedCaptureGroups] `)`\n  `(?&lt;!` Disjunction[?UnicodeMode, ?UnicodeSetsMode, ?NamedCaptureGroups] `)`\n</code></pre>\n","m.mentions":{},"msgtype":"m.text"},"ts":1696843990632,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$Qk_aCeElB36DzIoaC8vdqmN37a4Xi7He-GhQ3LaDOAk"},
{"content":{"body":"Are you suggesting eliminating the nonterminal `QuantifiableAssertion` (which would require changing the `Term` production too), or just eliminating its use from the `Assertion` production?","format":"org.matrix.custom.html","formatted_body":"Are you suggesting eliminating the nonterminal <code>QuantifiableAssertion</code> (which would require changing the <code>Term</code> production too), or just eliminating its use from the <code>Assertion</code> production?","m.mentions":{},"msgtype":"m.text"},"ts":1696851395991,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$0Y_rvPDXTE7Ow_98SP8z4nxXZr9TtgssJ75eL666W64"},
{"content":{"body":"The difference between your two snippets happens under `[~UnicodeMode, +UnicodeSetsMode]`, but since I don't think that can happen, I think the substitution would be valid.","format":"org.matrix.custom.html","formatted_body":"The difference between your two snippets happens under <code>[~UnicodeMode, +UnicodeSetsMode]</code>, but since I don't think that can happen, I think the substitution would be valid.","m.mentions":{},"msgtype":"m.text"},"ts":1696852141640,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$oycQnSvwwJCWnyWcxlSqUnUzL6e1jtUSveVUxiExPQQ"}
]