[
{"content":{"body":"> <@annevk:matrix.org> Also, this should come with some kind of Web IDL story I think.\n\nYes, I agree with this; maybe we should open a parallel bug in WebIDL to discuss. I think on both ends, the annoying thing is, what do we do with the new world and the old world coexisting, if we try to move in this direction? Should we continue the cautious way that we've been doing with Temporal, or do something more drastic as the title implies?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$fovSnuXscLtgYAUbtx2z0k0GWQLxouhA69vgmPRLCiY?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:matrix.org\">@annevk:matrix.org</a><br>Also, this should come with some kind of Web IDL story I think.</blockquote></mx-reply>Yes, I agree with this; maybe we should open a parallel bug in WebIDL to discuss. I think on both ends, the annoying thing is, what do we do with the new world and the old world coexisting, if we try to move in this direction? Should we continue the cautious way that we've been doing with Temporal, or do something more drastic as the title implies?","m.relates_to":{"m.in_reply_to":{"event_id":"$fovSnuXscLtgYAUbtx2z0k0GWQLxouhA69vgmPRLCiY"}},"msgtype":"m.text"},"ts":1688516087806,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$SKl5J34BNrYZ0Z9jo0SVAtIedbYC4sgIaS-pJiwKMrE"},
{"content":{"body":"In most cases on the web platform / Web IDL undefined is treated the same as missing. There are two exceptions that I know of, neither of which I'm very happy about:(One exception is \n\n- Complex overloads: https://github.com/whatwg/webidl/issues/581\n- required arguments are checked via arguments.length, e.g. see the footnote in https://github.com/whatwg/webidl/pull/1179#issuecomment-1242568486 .","format":"org.matrix.custom.html","formatted_body":"<p>In most cases on the web platform / Web IDL undefined is treated the same as missing. There are two exceptions that I know of, neither of which I'm very happy about:(One exception is</p>\n<ul>\n<li>Complex overloads: https://github.com/whatwg/webidl/issues/581</li>\n<li>required arguments are checked via arguments.length, e.g. see the footnote in https://github.com/whatwg/webidl/pull/1179#issuecomment-1242568486 .</li>\n</ul>\n","msgtype":"m.text"},"ts":1688519895372,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$U8-Gz3Xm-AJp-na7Fj_7Orl776gILF3a4_8M5YlEDOE"},
{"content":{"body":" * In most cases on the web platform / Web IDL undefined is treated the same as missing. There are two exceptions that I know of, neither of which I'm very happy about:\n\n- Complex overloads: https://github.com/whatwg/webidl/issues/581\n- required arguments are checked via arguments.length, e.g. see the footnote in https://github.com/whatwg/webidl/pull/1179#issuecomment-1242568486 .","format":"org.matrix.custom.html","formatted_body":" * <p>In most cases on the web platform / Web IDL undefined is treated the same as missing. There are two exceptions that I know of, neither of which I'm very happy about:</p>\n<ul>\n<li>Complex overloads: https://github.com/whatwg/webidl/issues/581</li>\n<li>required arguments are checked via arguments.length, e.g. see the footnote in https://github.com/whatwg/webidl/pull/1179#issuecomment-1242568486 .</li>\n</ul>\n","m.new_content":{"body":"In most cases on the web platform / Web IDL undefined is treated the same as missing. There are two exceptions that I know of, neither of which I'm very happy about:\n\n- Complex overloads: https://github.com/whatwg/webidl/issues/581\n- required arguments are checked via arguments.length, e.g. see the footnote in https://github.com/whatwg/webidl/pull/1179#issuecomment-1242568486 .","format":"org.matrix.custom.html","formatted_body":"<p>In most cases on the web platform / Web IDL undefined is treated the same as missing. There are two exceptions that I know of, neither of which I'm very happy about:</p>\n<ul>\n<li>Complex overloads: https://github.com/whatwg/webidl/issues/581</li>\n<li>required arguments are checked via arguments.length, e.g. see the footnote in https://github.com/whatwg/webidl/pull/1179#issuecomment-1242568486 .</li>\n</ul>\n","msgtype":"m.text"},"m.relates_to":{"event_id":"$U8-Gz3Xm-AJp-na7Fj_7Orl776gILF3a4_8M5YlEDOE","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1688519904755,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$JfJu7SaAcuGkvCFcziDbjlGa0BXIV8ygWaGM8Q7C2yo"},
{"content":{"body":"It looks like both of those might be solved by a normalization step that removes trailing undefineds passed by JS, before they hit the Web IDL layer.","msgtype":"m.text"},"ts":1688519967720,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$ExCRSsClC2JGO7-z8YZkwSfn94OyGZNuefJ3Wyjws7g"},
{"content":{"body":"Although a more principled approach might be padding out missing trailing arguments with undefineds, so there's never a \"missing\" argument.","msgtype":"m.text"},"ts":1688520012241,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$PfWTJfQ9UnzE_Plfglaur20JoDhCRJ3_2Uto_bOoYJ8"},
{"content":{"body":"Anyway, I'm very in favor of unifying undefined and missing wherever possible, in the web and JS. (I'm still pretty sad that JS decided to explicitly differentiate them for error.cause.) Most languages have one level of missing thing (null). It seems fine if JS ends up with two levels: undefined/missing, and null. Making it three-layer (missing, undefined, null) is very unnecessary.","msgtype":"m.text"},"ts":1688520102424,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$-56_5x6rBpbLgz7c09sDbOEH9E0Wzk-tnuociq4UL3A"},
{"content":{"body":"Whether the missing/undefined value is treated as an error, is a separate question, I guess.","msgtype":"m.text"},"ts":1688520248166,"senderName":"Domenic","senderId":"@domenicdenicola:matrix.org","id":"$ImVR6YP7POaV4oK3QAWoI7c9EeKooX_UtOaRel3seV4"}
]