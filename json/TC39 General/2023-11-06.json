[
{"content":{"body":"is human display for durations a solved problem anywhere? especially normalizing the units... ","m.mentions":{},"msgtype":"m.text"},"ts":1699246518446,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$swWmLHY9qK85hqplNPiTorQYI9XK5FoKfMZI-QJwJCI"},
{"content":{"body":"the more i think about this the more complex it gets and the less i am sure that it could be generally solved","m.mentions":{},"msgtype":"m.text"},"ts":1699246550847,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$_n3FVadnW7JfYdLjm0OX_NNyz-VXlB4c5oG-H6_29Sg"},
{"content":{"body":" * the more i think about this the more complex it gets and the less sure i am that it could be generally solved","m.mentions":{},"m.new_content":{"body":"the more i think about this the more complex it gets and the less sure i am that it could be generally solved","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$_n3FVadnW7JfYdLjm0OX_NNyz-VXlB4c5oG-H6_29Sg","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1699246562420,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$knWZqk0g8l04FVu7vqixypN4N60RM25fs76HuF8GtiA"},
{"content":{"body":"snek welcome to my world ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@devsnek:matrix.org\">snek</a> welcome to my world","m.mentions":{"user_ids":["@devsnek:matrix.org"]},"msgtype":"m.text"},"ts":1699283102756,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$tdTTz8WT5Gz9OuX5pC44Jy0YgWUIJp-xuYorT5sGRh4"},
{"content":{"body":"the current version of the DurationFormat proposal can represent durations in mostly all forms that applications need ","m.mentions":{},"msgtype":"m.text"},"ts":1699283152921,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$-8ZoxIL1xptpwvb8VqZYJJ8gFlw1CKemp47rjWIsb5E"},
{"content":{"body":"> <@usharma:igalia.com> the current version of the DurationFormat proposal can represent durations in mostly all forms that applications need \n\ndoes it support normalizing units? like if I just have a large quantity of seconds can it turn that into hours or weeks or whatever ","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$-8ZoxIL1xptpwvb8VqZYJJ8gFlw1CKemp47rjWIsb5E?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@usharma:igalia.com\">@usharma:igalia.com</a><br />the current version of the DurationFormat proposal can represent durations in mostly all forms that applications need</blockquote></mx-reply>does it support normalizing units? like if I just have a large quantity of seconds can it turn that into hours or weeks or whatever","m.relates_to":{"m.in_reply_to":{"event_id":"$-8ZoxIL1xptpwvb8VqZYJJ8gFlw1CKemp47rjWIsb5E"}},"msgtype":"m.text"},"ts":1699285126029,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$SwwsG5sVr_cHlIKp24nqBpd2PuJ6XqUAu3FVtdgnmZ4"},
{"content":{"body":"> <@devsnek:matrix.org> does it support normalizing units? like if I just have a large quantity of seconds can it turn that into hours or weeks or whatever\n\nweeeeell","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$SwwsG5sVr_cHlIKp24nqBpd2PuJ6XqUAu3FVtdgnmZ4?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@devsnek:matrix.org\">@devsnek:matrix.org</a><br>does it support normalizing units? like if I just have a large quantity of seconds can it turn that into hours or weeks or whatever</blockquote></mx-reply>weeeeell","m.mentions":{"user_ids":["@devsnek:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$SwwsG5sVr_cHlIKp24nqBpd2PuJ6XqUAu3FVtdgnmZ4"}},"msgtype":"m.text"},"ts":1699286284892,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$WS_93ZzUc1MBPhNLf0OqAOpx_B52FXGaHcNHrxrm21I"},
{"content":{"body":"it can do that for subsecond units because those could be expressed as a fraction","m.mentions":{},"msgtype":"m.text"},"ts":1699286304233,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$x9PR0R8Wkh1KsSKzj0AZjlMX4MpbJ4MXnuwu1EUwwE8"},
{"content":{"body":"it could in the future do it up to hours","m.mentions":{},"msgtype":"m.text"},"ts":1699286325618,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$D81nNGPd2Rq2lD0qZlICf5_199s0jBdaRcJHnxMyGSM"},
{"content":{"body":"but since a day may not have a set number of hours, it couldn't do further without a point of reference ","m.mentions":{},"msgtype":"m.text"},"ts":1699286381285,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$EcUGNBhbr_IirKaMFlKEqXbEyBHtW28Z_KJaPv-TSI8"},
{"content":{"body":"it has a point of reference!! it's intl api!!!","msgtype":"m.text"},"ts":1699286497129,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$CjH0c-MELc_IPfMaQYXPY58weQOtuvUe2Gj54b0VYLk"},
{"content":{"body":"or do you mean a timestamp ","msgtype":"m.text"},"ts":1699286514802,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$6OjCQ7lYQEAAt4avoii-sGZwcxrRV4mr8zPD5eNnN74"},
{"content":{"body":"no I mean a...","m.mentions":{},"msgtype":"m.text"},"ts":1699286520152,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$kxY7wAng_GgjfZlR3Oo3Qcd_Mv5N79f01pwOPoCzC88"},
{"content":{"body":"yeah","m.mentions":{},"msgtype":"m.text"},"ts":1699286521017,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$PrL_YmYvn1xTAyKhxFQ5jkSUzwNvLjTcDSe9bPSxfBM"},
{"content":{"body":"a `ZonedDateTime` for setting up the context for the calculations","format":"org.matrix.custom.html","formatted_body":"a <code>ZonedDateTime</code> for setting up the context for the calculations","m.mentions":{},"msgtype":"m.text"},"ts":1699286555123,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$3aoyNvQ-p1SpVyFgI_-PiwUWMOUPPSIQSN5H9Quomjk"},
{"content":{"body":"I guess I'll have to keep using the passable moment duration formatter ","msgtype":"m.text"},"ts":1699286648782,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$ufCa8RkWbHQB-DtZX_Ava7GpCMx0TJRsIhCyg7hT0bY"},
{"content":{"body":"it has some weird behavior though ","msgtype":"m.text"},"ts":1699286664401,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$K1TDP0VcsiZ-2zlyUWO4cRFFnOPeI5xlH6PXMxzV_3U"},
{"content":{"body":"I assume that wouldn't take leap seconds into account, right?","msgtype":"m.text"},"ts":1699286733628,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$A7yiBxsJ55IwK3Wj56rcIkBUSoHs2CRZzDud_auUA2o"},
{"content":{"body":"since IIRC UTC ignores them","msgtype":"m.text"},"ts":1699286741447,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$PITslA1fQxWKj33eydvCUPFSJ0c2m9tq-CF8RVOe4fw"},
{"content":{"body":"https://github.com/formatjs/formatjs/tree/d95d21f1ea10a190f45968e909323e9af6992921/packages/intl-durationformat","m.mentions":{},"msgtype":"m.text"},"ts":1699286753483,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$XPFCmdxkfM6_bC4eZJXXpQASnEdP9nLcmXA8a640i2c"},
{"content":{"body":"there's this","m.mentions":{},"msgtype":"m.text"},"ts":1699286756895,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$I1BmQOIMnKaBheNTBUiqKJhLLM0GVbMN3PPqyL_4de4"},
{"content":{"body":"but if it doesn't normalize units it's not really usable ","msgtype":"m.text"},"ts":1699286828926,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$nOeKe16sPAk-PqMBa7ztbIfURlztG7HU5p2kdQmaQW8"},
{"content":{"body":"I just have a unix timestamp","msgtype":"m.text"},"ts":1699286835077,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$Sg4tAfRopbsHI4H5ZvcG9ITcim7u1ZIZ4lYN659Zbfk"},
{"content":{"body":"ah right","m.mentions":{},"msgtype":"m.text"},"ts":1699286842720,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$W3fQQ16adE2I142mmmtJ9YckqpK0PZSWDfT3g0XI4X8"},
{"content":{"body":"You surely have a timestamp and some second timestamp to get a duration.","msgtype":"m.text"},"ts":1699286881443,"senderName":"pipobscure","senderId":"@pipobscure:matrix.org","id":"$sHgHYRTDmIFsAmiF4xFQAcjNN186FR9oenJA1Kx1Ttw"},
{"content":{"body":"I guess that is sort of a distinct operation","msgtype":"m.text"},"ts":1699286885643,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$Px4gzthBO9kG3ZkNiqXIxkCGQsGWiOSgji2EpSSAoEc"},
{"content":{"body":"The difference is your duration and one of them is your reference","msgtype":"m.text"},"ts":1699286899040,"senderName":"pipobscure","senderId":"@pipobscure:matrix.org","id":"$lCpREvU6dNUZKwAeQbJ3_YEqxDziA6xbPeRrTwCghGo"},
{"content":{"body":"I have a unix timestamp and I want to display the duration between it and the current time","msgtype":"m.text"},"ts":1699286908580,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$iN4gFDSfrO3wMFikM_zRJ4Y-umW9ZHR82XhPK5sDHik"},
{"content":{"body":"Which means the duration is now-ts and the reference is now","msgtype":"m.text"},"ts":1699286934296,"senderName":"pipobscure","senderId":"@pipobscure:matrix.org","id":"$Tb9N0YqbfautFkCqK5mefB3pYVqufT0OmYXuZLQulCg"},
{"content":{"body":"today I use moment but moment is kind of mid","msgtype":"m.text"},"ts":1699286944853,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$R1utj_WP6w7nYvycfHaokNO5ys9loNnLrSSxJbb_T48"},
{"content":{"body":"Which is enough to let it normalize units","msgtype":"m.text"},"ts":1699286947054,"senderName":"pipobscure","senderId":"@pipobscure:matrix.org","id":"$SoYKGeMDjzzqM-tyPKF662tLn9JPeY8SvMFwgbGlL_4"},
{"content":{"body":"yeah if something implemented that","msgtype":"m.text"},"ts":1699286959576,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$rkzCOmozlaXzJyxChS-3CHf0s9crbS4gNwT2tuCweZ4"},
{"content":{"body":"It’s just tha if you have ONLY a duration of 2234234seconds you can’t normalise","msgtype":"m.text"},"ts":1699286973478,"senderName":"pipobscure","senderId":"@pipobscure:matrix.org","id":"$X2j0jnk7VpNwyE4TsVAaKWbNsIPrXk4lbUROoLPClc0"},
{"content":{"body":"yeah that's the problem ","msgtype":"m.text"},"ts":1699286993319,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$IJkxkakh2nY9WUi-0uBwKdgMjEsXs4TOxWYCW8xZXX4"},
{"content":{"body":"I just have a bunch of seconds. I want the computer to figure out the nicest way to display it, based on the users locale, reference point, or whatever else","msgtype":"m.text"},"ts":1699287024595,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$9k4okwpeTmv79REPfjqk18IT7SO3B2YCsVQSZKJsbKA"},
{"content":{"body":"Temporal.Duration.prototype.round should do that IIRC","msgtype":"m.text"},"ts":1699287095300,"senderName":"pipobscure","senderId":"@pipobscure:matrix.org","id":"$Pw976bAioVHj3O6BWU1qasZDMlzQuy_543UDTJ4UC3U"},
{"content":{"body":"And you can then send the result to Intl.DurationFormat","msgtype":"m.text"},"ts":1699287120928,"senderName":"pipobscure","senderId":"@pipobscure:matrix.org","id":"$g0kuIvXvrkwgLQHQgbyW106sZbVcd6ngYJZu1JlFWa8"},
{"content":{"body":"hmmm","msgtype":"m.text"},"ts":1699287184440,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$8rszwNbuiMacNVOAF-zPJAaVuqdYpvP6rATpZsOXxxM"},
{"content":{"body":"that wants me to choose the unit though ","msgtype":"m.text"},"ts":1699287193242,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$i_JraBaDRYQrw-Ka6fCLiuAv5hSbc8wNLURyQGonlrA"},
{"content":{"body":"https://tc39.es/proposal-temporal/docs/balancing.html","m.mentions":{},"msgtype":"m.text"},"ts":1699287207729,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$ambyjdXe_byb02zuAVjvMv8jdEgi5g1SsufzYkitXoA"},
{"content":{"body":"the largest one ","m.mentions":{},"msgtype":"m.text"},"ts":1699287269514,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$GpO81O-h2Bc85J4HVztAnae5UKgqfuLw5ctOq3yP6ZA"},
{"content":{"body":"you can always go for `largestUnit: \"years\"`","format":"org.matrix.custom.html","formatted_body":"you can always go for <code>largestUnit: \"years\"</code>","m.mentions":{},"msgtype":"m.text"},"ts":1699287281110,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$uBZ-IKPX6L3RAZVakKScv9sbtZplmf1vSJGhUHqPr7U"},
{"content":{"body":" * you can always go for `largestUnit: \"year\"`","format":"org.matrix.custom.html","formatted_body":" * you can always go for <code>largestUnit: \"year\"</code>","m.mentions":{},"m.new_content":{"body":"you can always go for `largestUnit: \"year\"`","format":"org.matrix.custom.html","formatted_body":"you can always go for <code>largestUnit: \"year\"</code>","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$uBZ-IKPX6L3RAZVakKScv9sbtZplmf1vSJGhUHqPr7U","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1699287288925,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$0T4CgEBsHr8JcgQoXiBMeklISnh7rJ5pIsTQXPZDWH4"},
{"content":{"body":"The smallestUnit is optional I think","msgtype":"m.text"},"ts":1699287298667,"senderName":"pipobscure","senderId":"@pipobscure:matrix.org","id":"$BUPOrnt1Y-M4RLs6Eugyhs2NNLsQsV1Y5rkbDD8IV9Y"},
{"content":{"body":"oh it's just putting bounds on it I see","msgtype":"m.text"},"ts":1699287318308,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$eBoreMeM7R5nLnzkhxOL4BKVWx6cPxSUBF9PrpjXvrs"},
{"content":{"body":"So with that combination of APIs you should be able to do exactly what you want. I think","msgtype":"m.text"},"ts":1699287348188,"senderName":"pipobscure","senderId":"@pipobscure:matrix.org","id":"$HB8XpGFLg9Ty6rA1I3cGrga5rIUC40PWzcoQypuvHLc"},
{"content":{"body":"yeah that makes sense","msgtype":"m.text"},"ts":1699287394325,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$eHtkKANX5m_0azcxwfs4VBzwHNlOwYHwAYlf8itCHBM"},
{"content":{"body":"how many more years until ietf moves forward","msgtype":"m.text"},"ts":1699287405873,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$r0uxVMIbjN4rmZRcNjS3ObEHnFZlpKj_OqYRdxts2QU"},
{"content":{"body":"can we express it with Temporal.Duration","msgtype":"m.text"},"ts":1699287415459,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$9BpGAqGmiTiXis8sUU1UNG1u3h_aGJq-efchGHmsZIw"},
{"content":{"body":"> <@devsnek:matrix.org> how many more years until ietf moves forward\n\nit's moved forward actually!","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$r0uxVMIbjN4rmZRcNjS3ObEHnFZlpKj_OqYRdxts2QU?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@devsnek:matrix.org\">@devsnek:matrix.org</a><br>how many more years until ietf moves forward</blockquote></mx-reply>it's moved forward actually!","m.mentions":{"user_ids":["@devsnek:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$r0uxVMIbjN4rmZRcNjS3ObEHnFZlpKj_OqYRdxts2QU"}},"msgtype":"m.text"},"ts":1699287860999,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$p6c1WnBkgiyPhJGnQvhgJVqHYU_XieWTeTWljr0qo18"},
{"content":{"body":"we're planning to make an announcement at the next plenary","m.mentions":{},"msgtype":"m.text"},"ts":1699287872718,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$GuGbFGzVW0TxihCpae7o1Rlx-Ppw_teaAOiCe9u_IjA"},
{"content":{"body":"I thought it was in a comment period for like 5 more months ","msgtype":"m.text"},"ts":1699287919825,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$1MfLm1OogcD6VEvplVWJ5_kGyWXzXJ33NyVg5Em84mc"},
{"content":{"body":"pleasant surprise ","msgtype":"m.text"},"ts":1699287927036,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$k5H8jyk4aA8pKg5M1h-SPe0q8jhqzu-i_WmYq5RQZhM"},
{"content":{"body":"it has been finally approved by the IESG","m.mentions":{},"msgtype":"m.text"},"ts":1699287935932,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$4fF9PkYNiFi62fFPu0vQxnknk9ztRD4JOkKgUrgNDgQ"},
{"content":{"body":"https://www.rfc-editor.org/current_queue.php#draft-ietf-sedate-datetime-extended","m.mentions":{},"msgtype":"m.text"},"ts":1699287964466,"senderName":"ryzokuken","senderId":"@usharma:igalia.com","id":"$XUYcIFWeXovYiU41ykdpjrmQqm2-_ixVDrPPUXIJlP8"}
]