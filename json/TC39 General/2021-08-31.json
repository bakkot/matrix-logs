[
{"content":{"body":"So `-9 >>> 2` returns `1073741821` rather than `-9`","format":"org.matrix.custom.html","formatted_body":"So <code>-9 &gt;&gt;&gt; 2</code> returns <code>1073741821</code> rather than <code>-9</code>","msgtype":"m.text"},"ts":1630376543128,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$3zmzi3UgEyhomUiqZriQstBtjZvyVPB0UiculGRKsPc"},
{"content":{"body":"I’m trying to find where in the current spec that behavior is defined","msgtype":"m.text"},"ts":1630376572487,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$OqmBDaNlvfAZc6PzDMPYsQ46BuQyzB9bzi_r0mLUB5g"},
{"content":{"body":" * So `-9 >>> 0` returns `1073741821` rather than `-9`","format":"org.matrix.custom.html","formatted_body":" * So <code>-9 &gt;&gt;&gt; 0</code> returns <code>1073741821</code> rather than <code>-9</code>","m.new_content":{"body":"So `-9 >>> 0` returns `1073741821` rather than `-9`","format":"org.matrix.custom.html","formatted_body":"So <code>-9 &gt;&gt;&gt; 0</code> returns <code>1073741821</code> rather than <code>-9</code>","msgtype":"m.text"},"m.relates_to":{"event_id":"$3zmzi3UgEyhomUiqZriQstBtjZvyVPB0UiculGRKsPc","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1630376630068,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$Tr8VQKMWusYlwHt4w2myBTCJeNlE1w6aD6ybVYTwubg"},
{"content":{"body":"that is, `-9 >>> 0` — bitwise logical right shift, by zero bits to the right","format":"org.matrix.custom.html","formatted_body":"that is, <code>-9 &gt;&gt;&gt; 0</code> — bitwise logical right shift, by zero bits to the right","msgtype":"m.text"},"ts":1630376700267,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$AkRPZMoCwF4ySiCbP1MVmMpzQhZcoixarjdYum6mvBc"},
{"content":{"body":"https://tc39.es/ecma262/#sec-numeric-types-number-unsignedRightShift","msgtype":"m.text"},"ts":1630376724091,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$JI2rWiNqSEd1687QBz4q1Y6B0pNTgxycMisBeiqVhHU"},
{"content":{"body":"looks","msgtype":"m.emote"},"ts":1630376738400,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$BTHiF3xzUHUFODhpUBV58Nc26VxIPnbsulr4drlHZrM"},
{"content":{"body":"jmdyck: thanks (dunno now why I wasn’t able to find that)","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jmdyck:matrix.org\">jmdyck</a>: thanks (dunno now why I wasn’t able to find that)","msgtype":"m.text"},"ts":1630376815085,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$OV9mtRwA9KpA51gGdvksK6R5KEsZZDl3K5nSpA5iVaI"},
{"content":{"body":"so now I’m trying to understand how this is different from what other runtimes do","msgtype":"m.text"},"ts":1630376843221,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$-UEJ-BL1uC5BPAceAWxBTfbPMRqQ_BYQj7TAnaFKtKY"},
{"content":{"body":"for example, in java `-9 >>> 2` is `-9`","format":"org.matrix.custom.html","formatted_body":"for example, in java <code>-9 &gt;&gt;&gt; 2</code> is <code>-9</code>","msgtype":"m.text"},"ts":1630376864164,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$WkI7yb63s0SQTSNll2QtVWL9r9kAFXdeJxoONTByek0"},
{"content":{"body":"and intuitively, if no zeroes are being shifted in from the left, then the most-significant bit of that number is still `1`","format":"org.matrix.custom.html","formatted_body":"and intuitively, if no zeroes are being shifted in from the left, then the most-significant bit of that number is still <code>1</code>","msgtype":"m.text"},"ts":1630376937169,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$UWX9WTtL2QStphbqmAN5QY3Z6uz9RHJ1AIELIpVj_bs"},
{"content":{"body":"so there’s some other magic that causes the JavaScript runtime to consider the value returned to not be the a two’s-complement representation","msgtype":"m.text"},"ts":1630377025531,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$URxZ3mnF_EYRlwTbuWfoyl5LDElShMXHbl9rGch-lQ4"},
{"content":{"body":"ah, I guess that’s just because the operation requires treating the left-hand value as unsigned ","msgtype":"m.text"},"ts":1630377129536,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$nlWcBLFupCHRqiQBwO7QrNO1WktURPjfNpafOM7fbVw"},
{"content":{"body":"1073741821 is what I get for `-9 >>> 2`, not `-9 >>> 0`","format":"org.matrix.custom.html","formatted_body":"1073741821 is what I get for <code>-9 &gt;&gt;&gt; 2</code>, not <code>-9 &gt;&gt;&gt; 0</code>","msgtype":"m.text"},"ts":1630377142357,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$VCQhGXqazHXNwNDARuqNoLBdOYTftgUuF_LFKV6SjAM"},
{"content":{"body":"jmdyck: yeah, sorry I originally mistyped it, but then edited it to correct that","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jmdyck:matrix.org\">jmdyck</a>: yeah, sorry I originally mistyped it, but then edited it to correct that","msgtype":"m.text"},"ts":1630377184158,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$SUDcYTfjfP6Tclnm2uDKZWRHwWb-NVJC9dNWOO_VfbI"},
{"content":{"body":"ah no, I didn’t correct that part","msgtype":"m.text"},"ts":1630377208847,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$7cypB6MX3mhL0JiDOwgeE6WCC7PKUtSTIQG2ydojo48"},
{"content":{"body":"`-9 >>> 0` is 4294967287, i.e. 2^32 - 9, i.e. ToUint32(-9)","format":"org.matrix.custom.html","formatted_body":"<code>-9 &gt;&gt;&gt; 0</code> is 4294967287, i.e. 2^32 - 9, i.e. ToUint32(-9)","msgtype":"m.text"},"ts":1630377222177,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$beAisBI9oUVWx904gXOEBAn6NI7knBq5Owz87HLW0qg"},
{"content":{"body":" * So `-9 >>> 0` returns `4294967287` rather than `-9`","format":"org.matrix.custom.html","formatted_body":" * So <code>-9 &gt;&gt;&gt; 0</code> returns <code>4294967287</code> rather than <code>-9</code>","m.new_content":{"body":"So `-9 >>> 0` returns `4294967287` rather than `-9`","format":"org.matrix.custom.html","formatted_body":"So <code>-9 &gt;&gt;&gt; 0</code> returns <code>4294967287</code> rather than <code>-9</code>","msgtype":"m.text"},"m.relates_to":{"event_id":"$3zmzi3UgEyhomUiqZriQstBtjZvyVPB0UiculGRKsPc","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1630377235039,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$hLdda_8D2e8aS-XG_n2LYezbaLD368IacrdIloiwWjE"},
{"content":{"body":"sorry — thanks, yeah, I get the same (and fixed now also in my original message)","msgtype":"m.text"},"ts":1630377283350,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$JpH0UTbDh108yzWTlk8AH7EU5PmF1BFgEDkCOytkUUo"},
{"content":{"body":"anyway, I see now that this is because in JavaScript, the left-hand side of the operation gets handled as an unsigned — whereas in Java, the left-hand side gets handled as signed","msgtype":"m.text"},"ts":1630377375040,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$dSsMaJEXQwLIg01ToBXgcIcFNBm_Bh2z6avNeGtiUjg"},
{"content":{"body":" * anyway, I see now that this is because in JavaScript, the left-hand side of the operation gets handled as unsigned — whereas in Java, the left-hand side gets handled as signed","m.new_content":{"body":"anyway, I see now that this is because in JavaScript, the left-hand side of the operation gets handled as unsigned — whereas in Java, the left-hand side gets handled as signed","msgtype":"m.text"},"m.relates_to":{"event_id":"$dSsMaJEXQwLIg01ToBXgcIcFNBm_Bh2z6avNeGtiUjg","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1630377385321,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$7rdINNdcoF8JwTeOH5nJIaRlcAjMgzTLtQ3A_r1nAKA"},
{"content":{"body":"so the ES spec is clear on this — it’s just not very discoverable","msgtype":"m.text"},"ts":1630377529073,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$JrEjF50-eD7e4dCI2CNy1s5PIsiGP0gecRytJukq-dI"},
{"content":{"body":"I had expected to find that info at https://tc39.es/ecma262/multipage/ecmascript-language-expressions.html#sec-unsigned-right-shift-operator","msgtype":"m.text"},"ts":1630377558593,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$yT750teBvDiPiiSOYloYVCLMz2T46LM0g4jHxkNlcwU"},
{"content":{"body":"but there’s no link from there to https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-numeric-types-number-unsignedRightShift (where the real information is)","msgtype":"m.text"},"ts":1630377604176,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$uLNIHiJspvfwg010kxFsxaGaUeD5p-b1xlMTXq9hzm0"},
{"content":{"body":"The thing is, there's 2 numeric types, so it can't just link to the Number-specific semantics.","msgtype":"m.text"},"ts":1630377646148,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$qsUQ0OBwsYSaqvfuqhdeOuDnc1zP5LrMhtjUZzjBgPQ"},
{"content":{"body":"aha","msgtype":"m.text"},"ts":1630377668692,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$s7CJPGmBbeVmDCkNwLf_4T_glHW402bBoCfTsaMFX3s"},
{"content":{"body":"OK yeah I can understand how it would lead to that","msgtype":"m.text"},"ts":1630377698691,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$vfaYHru5T7kwVeeJhUoESgnCyjhZQsLPPgKPTlS8qnw"},
{"content":{"body":"You can click on  EvaluateStringOrNumericBinaryExpression and then  ApplyStringOrNumericBinaryOperator and then the little table in step 8 tells you to apply T::unsignedRightShift ","msgtype":"m.text"},"ts":1630377761727,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$5he6feKYXRpYDB6AoTriyGhTL0pe4LilzKW5pjtYY90"},
{"content":{"body":"but again, it can't just link to Number::unsignedRightShift","msgtype":"m.text"},"ts":1630377779546,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$DT2LPBW0PFYhdyFa65eL8QloUYCMYFF0NqdmM6ualPs"},
{"content":{"body":"OK","msgtype":"m.text"},"ts":1630377782345,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$XdTnvHFm7oiYfCheJQjXS0mSZWFax2DHdQOn3MzsMcE"},
{"content":{"body":"right","msgtype":"m.text"},"ts":1630377797331,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$p2vmS-iH5gSpG9oeoz4Bt48lpDfKK13wY7fl6S5nIig"},
{"content":{"body":"well I’m updating MDN so I’ll get the additional links into MDN for it at least","msgtype":"m.text"},"ts":1630377829344,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$TfFh1vKIMm4puxggzpm-XIoQLWGfve7ZR6s64HLvkBk"},
{"content":{"body":"conceivably there could be 2 more columns, giving Number-specific and BigInt-specific links for each numeric method","msgtype":"m.text"},"ts":1630377853558,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$PeLdpsYZDEU3oz-QLtgOnDV_DwzyOkLtdkn9LXczRck"},
{"content":{"body":"yeah that might be more helpful","msgtype":"m.text"},"ts":1630377879152,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$n4PTIAOe_92lKh58ysgI72eCu2s0OYJBuv_3p4Ma85k"},
{"content":{"body":"Or at least a Note that linked you to 6.1.6.1 for Number, 6.1.6.2 for BigInt.","msgtype":"m.text"},"ts":1630378085493,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$VrFo3r4TZFgksa5TvHwWJtV2afcbyZnb_uG2fc6PsF4"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1630378157180,"senderName":"sideshowbarker","senderId":"@sideshowbarker:mozilla.org","id":"$8Tf8q5nkRYPR9Ilm5mShfPJlpXHUf6zm0em48r-Ruzg"}
]