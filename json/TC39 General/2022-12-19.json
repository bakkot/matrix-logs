[
{"content":{"body":"`async function f() { print(x); } f()` doesn't throw? ðŸ‘€","format":"org.matrix.custom.html","formatted_body":"<code>async function f() { print(x); } f()</code> doesn't throw? ðŸ‘€","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"`async function f() { print(x); } f()` doesn't throw? ðŸ‘€","mimetype":"text/plain"},{"body":"<code>async function f() { print(x); } f()</code> doesn't throw? ðŸ‘€","mimetype":"text/html"}]},"ts":1671425652330,"senderName":"rkirsling","senderId":"@rkirsling:matrix.org","id":"$qC2h2TTbwS0vNnRyuVqCDdFiUCYaACVnhdV-ptvcubk"},
{"content":{"body":"I mean it does in V8 but that's seeming like an engine bug","msgtype":"m.text","org.matrix.msc1767.text":"I mean it does in V8 but that's seeming like an engine bug"},"ts":1671425682127,"senderName":"rkirsling","senderId":"@rkirsling:matrix.org","id":"$p1D4J6veHOkCzPliSPmWATKx-NHH8HzTTDC1SeeUKoQ"},
{"content":{"body":" * I mean it does in V8 but that's seeming like an engine bug","m.new_content":{"body":"I mean it does in V8 but that's seeming like an engine bug","msgtype":"m.text","org.matrix.msc1767.text":"I mean it does in V8 but that's seeming like an engine bug"},"m.relates_to":{"event_id":"$p1D4J6veHOkCzPliSPmWATKx-NHH8HzTTDC1SeeUKoQ","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * I mean it does in V8 but that's seeming like an engine bug"},"ts":1671425689214,"senderName":"rkirsling","senderId":"@rkirsling:matrix.org","id":"$ZQRnUVN_GEs-CZVBmL-WD2YyNdLiP3jmvsBGpTwJqcU"},
{"content":{"body":"rkirsling: why do you expect it to throw?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@rkirsling:matrix.org\">rkirsling</a>: why do you expect it to throw?","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"rkirsling: why do you expect it to throw?","mimetype":"text/plain"},{"body":"<a href=\"https://matrix.to/#/@rkirsling:matrix.org\">rkirsling</a>: why do you expect it to throw?","mimetype":"text/html"}]},"ts":1671426090938,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$a1fgUXRYPuRTcx2WgIHuFt8Pk2Es7Z8qz7ch_GFr1hY"},
{"content":{"body":"it returns a rejected promise but that's a different thing","msgtype":"m.text","org.matrix.msc1767.text":"it returns a rejected promise but that's a different thing"},"ts":1671426102828,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$9t0EeWWelMVqUyK-pUF-96EAxx5jpQHHDkGCn0Odcyo"},
{"content":{"body":"I guess more generally: what is the behavior you're seeing and why is it surprising","msgtype":"m.text","org.matrix.msc1767.text":"I guess more generally: what is the behavior you're seeing and why is it surprising"},"ts":1671426117561,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ezjcMHiHIHvll-pR1GxVLqJk_ssag3Gyad4IQFK-kvA"},
{"content":{"body":"ohh there's a rejected promise","msgtype":"m.text","org.matrix.msc1767.text":"ohh there's a rejected promise"},"ts":1671426241194,"senderName":"rkirsling","senderId":"@rkirsling:matrix.org","id":"$w7UTpX5MYCzvdguBCPoDUoJ5X37dPrVg0oZRPWOqj3A"},
{"content":{"body":"V8 might not be wrong then, it's just the only one that threw on an unhandled rejection","msgtype":"m.text","org.matrix.msc1767.text":"V8 might not be wrong then, it's just the only one that threw on an unhandled rejection"},"ts":1671426351720,"senderName":"rkirsling","senderId":"@rkirsling:matrix.org","id":"$lQzZIzD0V6pT0-cY3m3jXCqj5uX0cPYh-yQ3linssQA"},
{"content":{"body":" * V8 shouldn't be wrong then, it's just the only one that threw on an unhandled rejection","m.new_content":{"body":"V8 shouldn't be wrong then, it's just the only one that threw on an unhandled rejection","msgtype":"m.text","org.matrix.msc1767.text":"V8 shouldn't be wrong then, it's just the only one that threw on an unhandled rejection"},"m.relates_to":{"event_id":"$lQzZIzD0V6pT0-cY3m3jXCqj5uX0cPYh-yQ3linssQA","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.text":" * V8 shouldn't be wrong then, it's just the only one that threw on an unhandled rejection"},"ts":1671426631787,"senderName":"rkirsling","senderId":"@rkirsling:matrix.org","id":"$4PC6-ryfMsHHe7Wbg1XsDr4etGBNPprXnPRBcuLDfRw"},
{"content":{"body":"the problem I'm actually trying to solve is rather different but it's making me question everything I thought I knew about async functions","msgtype":"m.text","org.matrix.msc1767.text":"the problem I'm actually trying to solve is rather different but it's making me question everything I thought I knew about async functions"},"ts":1671426684917,"senderName":"rkirsling","senderId":"@rkirsling:matrix.org","id":"$UR3gIKX9uKhE4vBrIo4hr7f6dgApn2Kd5AcRG4RyuV8"},
{"content":{"body":"> <@sirisian:matrix.org> Not sure I fully understand. What happens if you call a static function in the class in the decorator? Does it not exist?\n\nThe decorator is just a function call at runtime, but if the decorator expression references the class, it is in TDZ. So the case is analogous, just driven to its extreme for decorators since it also affects the protocol.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq%3Amatrix.org/%24N-QjqpTKPKXNWxLnvAElhMSjuIupVqT38fO6dJrNJ-g\">In reply to</a> <a href=\"https://matrix.to/#/@sirisian:matrix.org\">@sirisian:matrix.org</a><br>Not sure I fully understand. What happens if you call a static function in the class in the decorator? Does it not exist?</blockquote></mx-reply>The decorator is just a function call at runtime, but if the decorator expression references the class, it is in TDZ. So the case is analogous, just driven to its extreme for decorators since it also affects the protocol.","m.relates_to":{"m.in_reply_to":{"event_id":"$N-QjqpTKPKXNWxLnvAElhMSjuIupVqT38fO6dJrNJ-g"}},"msgtype":"m.text"},"ts":1671461310102,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$Bwf_E9FX0DXKeghYz6AKnhw34DNo7P3nS6nyjzmpA1Q"}
]