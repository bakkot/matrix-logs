[
{"content":{"body":"that seems like precisely a proposal for releasing z̲̗̼͙̥͚͛͑̏a̦̟̳͋̄̅ͬ̌͒͟ļ̟̉͌ͪ͌̃̚g͔͇̯̜ͬ̒́o̢̹ͧͥͪͬ ","msgtype":"m.text"},"ts":1638806936584,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$u3hR9ANx7nFMs_AAjBfLPXnaAJy4daGl9syPtexR_DY"},
{"content":{"body":"it's been a pretty consistent design principle that a thing should always or never return a promise, which is why throwing in the default argument position in an async function produces a rejected Promise","msgtype":"m.text"},"ts":1638806962128,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$KOHs-eli68c7hbs4FzV0HcHyWaBVLlxPht0j56G099I"},
{"content":{"body":" * it's been a pretty consistent design principle that a thing should always or never return a promise, which is why throwing in the default argument position in an async function produces a rejected Promise","m.new_content":{"body":"it's been a pretty consistent design principle that a thing should always or never return a promise, which is why throwing in the default argument position in an async function produces a rejected Promise","msgtype":"m.text"},"m.relates_to":{"event_id":"$KOHs-eli68c7hbs4FzV0HcHyWaBVLlxPht0j56G099I","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1638806967280,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$FsETqKQm16diery6-NQ51QKM1_Ycg3AXVjIYFufpF68"},
{"content":{"body":"I think with that proposal `fn.async()` would always return a promise, and `fn.sync()` would never return a promise","format":"org.matrix.custom.html","formatted_body":"I think with that proposal <code>fn.async()</code> would always return a promise, and <code>fn.sync()</code> would never return a promise","msgtype":"m.text"},"ts":1638807023630,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$OcgrfCTXtYaz8OM4VVS4uMbt_rnNFBZGjvzwXyyIuno"},
{"content":{"body":"oh maybe i misunderstood, it produces \"not a function\", but an object with two functions on it?","msgtype":"m.text"},"ts":1638809842482,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$CECjACrEI0YeZOcKPSMvlMmLuGeAbTzTp5ek3cXPT0Y"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1638815618980,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$koWa2teykrh233PFJlrMZTN-2YiIaBiKBvHCbvxUvpo"},
{"content":{"body":"one which always returns a promise, one which never does (unless you go out of your way to return a promise explicitly, I guess)","msgtype":"m.text"},"ts":1638815648472,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ouqUuxx97IyNH4Olc-uWZMYnGcayH7DoEcs7W973_cY"},
{"content":{"body":"> <@pokute:matrix.org> I've been dogfooding my TypeScript support for pipeline operator at https://github.com/Pokute/AoC2021/blob/main/4.ts . It's starting to feel crucial for me. Lacking tacit function application (`|>>`) would be an inconvenience, but the other way around, I would have so many IIAFEs.\n\nCould you elaborate, perhaps in the Pipeline Champions room?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$uZzKlbHqceKFs3TFYclp_15ZRysmM0btXhxLCktVqrc?via=igalia.com&via=matrix.org&via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@pokute:matrix.org\">@pokute:matrix.org</a><br>I've been dogfooding my TypeScript support for pipeline operator at https://github.com/Pokute/AoC2021/blob/main/4.ts . It's starting to feel crucial for me. Lacking tacit function application (<code>|&gt;&gt;</code>) would be an inconvenience, but the other way around, I would have so many IIAFEs.</blockquote></mx-reply>Could you elaborate, perhaps in the Pipeline Champions room?","m.relates_to":{"m.in_reply_to":{"event_id":"$uZzKlbHqceKFs3TFYclp_15ZRysmM0btXhxLCktVqrc"}},"msgtype":"m.text"},"ts":1638817647631,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$4aAZ-nX-N794y-3T4V9Ay3tVrx3R9Sa93kas51UNYBc"},
{"content":{"body":"Oh I see, you're saying that the current proposal (Hack, not F#) is slightly inconvienent, but if we'd gone the other way (F#, not Hack) you'd have a ton of IIAFEs which would be even worse.","msgtype":"m.text"},"ts":1638817732317,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$OZHLEjQ38hCpKoo96KsQFzTr44odoYqhGJ4JD7ncpQk"},
{"content":{"body":"Exactly. I love how easy it's write `|>> func` instead of `|> func(#)`. If I had only hack-style then I would have to write a lot of stuff in completely different ways.","format":"org.matrix.custom.html","formatted_body":"Exactly. I love how easy it's write <code>|&gt;&gt; func</code> instead of <code>|&gt; func(#)</code>. If I had only hack-style then I would have to write a lot of stuff in completely different ways.","msgtype":"m.text"},"ts":1638826917691,"senderName":"pokute","senderId":"@pokute:matrix.org","id":"$F229x845ZUSdBfd4XWuQW5Yj6oMsoeqgjMfo1NiByAk"},
{"content":{"body":"TabAtkins: Is the Pipeline Champions room public?","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@tabatkins:matrix.org\">TabAtkins</a>: Is the Pipeline Champions room public?","msgtype":"m.text"},"ts":1638827072887,"senderName":"pokute","senderId":"@pokute:matrix.org","id":"$J_MBZsAPD4J7q9xMgmMLgNyLOlME7l4amu8wIn76hcg"},
{"content":{"body":"yup","msgtype":"m.text"},"ts":1638827087106,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$GTpVGB4m2IQqQDp3HKE9FhbCViaO31xr2Q2_fSy5uj0"},
{"content":{"body":"Can't find it, tried multiple different search terms.","msgtype":"m.text"},"ts":1638827219919,"senderName":"pokute","senderId":"@pokute:matrix.org","id":"$M91GuR2rSYPk8TMPXUSKmYpL50u7BClcHZpPXnScdUc"},
{"content":{"body":" * Exactly. I love how easy it's write `|>> func` instead of `|> func(#)`. If I had only F#-style then I would have to write a lot of stuff in completely different ways.","format":"org.matrix.custom.html","formatted_body":" * Exactly. I love how easy it's write <code>|&gt;&gt; func</code> instead of <code>|&gt; func(#)</code>. If I had only F#-style then I would have to write a lot of stuff in completely different ways.","m.new_content":{"body":"Exactly. I love how easy it's write `|>> func` instead of `|> func(#)`. If I had only F#-style then I would have to write a lot of stuff in completely different ways.","format":"org.matrix.custom.html","formatted_body":"Exactly. I love how easy it's write <code>|&gt;&gt; func</code> instead of <code>|&gt; func(#)</code>. If I had only F#-style then I would have to write a lot of stuff in completely different ways.","msgtype":"m.text"},"m.relates_to":{"event_id":"$F229x845ZUSdBfd4XWuQW5Yj6oMsoeqgjMfo1NiByAk","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1638827253591,"senderName":"pokute","senderId":"@pokute:matrix.org","id":"$8S1N90kEd76Tp1dWs7o1y4PuXNuuCPBq_-3_5EYFAL4"},
{"content":{"body":"Ah it looks like one has to give their room a name for it be found by searching. @pokute does #tc39-pipeline:matrix.org work now?","msgtype":"m.text"},"ts":1638828830954,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$vqV17uKy67SgKtQ8-V9s3Fwo3XtECkZSBHzil0Wexlo"},
{"content":{"body":"TabAtkins: if you intend it to be public you might also want to give it public history","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@tabatkins:matrix.org\">TabAtkins</a>: if you intend it to be public you might also want to give it public history","msgtype":"m.text"},"ts":1638829448995,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$dLc2SMZr5fEvMAYup9hVv-pIsbiuIVA8CkYh-0EVp4Q"},
{"content":{"body":"if you do that my logbot will pick it up","msgtype":"m.text"},"ts":1638829463470,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$l5gBphoDwiGlswsFVHGYdfw3XDBF6MTBUFkrB3XI9Y4"},
{"content":{"body":"done","msgtype":"m.text"},"ts":1638829609897,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$mUIMNVXIo3bCJ36lZbkjkIaisMjo8NYSCpE55nQg1Eg"},
{"content":{"body":"doesn't look done to me","msgtype":"m.text"},"ts":1638829938375,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$xvXenAuPsCapvZXirlB9QpJmuObr9VUJLVSUwMxsrzs"},
{"content":{"body":"all history is public from here onward; i haven't turned on previous history. does your bot require that for some reason?","msgtype":"m.text"},"ts":1638830082547,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$PC05sJr_u2iFGlqsIOgtT7bmA2D_AmWna7phyqHl0Bc"},
{"content":{"body":"no, history is public _to members_, also not as \"not public\"","format":"org.matrix.custom.html","formatted_body":"no, history is public <em>to members</em>, also not as &quot;not public&quot;","msgtype":"m.text"},"ts":1638831097283,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$-DgXOLYkwBGpInM-uk9QaVHPQ8Qlj01v6wbr0wenlhU"},
{"content":{"body":"it's impossible to turn on previous history, afaik; putting it to \"anyone\" (at least according to the docs) will only make history visible from that point forward","msgtype":"m.text"},"ts":1638831133039,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$aA7A_ck6A0zmzKuVLH-TQftHUW0q-gz5yrCjX4Ko8VI"},
{"content":{"body":"> Changes to who can read history will only apply to future messages in this room. The visibility of existing history will be unchanged.","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>Changes to who can read history will only apply to future messages in this room. The visibility of existing history will be unchanged.</p>\n</blockquote>\n","msgtype":"m.text"},"ts":1638831152058,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$I1ExvpspJwPmmW5mHUVOFyx-8HxuJPX4oWiG96DWaUI"},
{"content":{"body":"the bot only generates logs for rooms with history visibility set to \"Anyone\", since the effect of the bot is that it publishes public logs, which I only want to do if you sign up for making history public","msgtype":"m.text"},"ts":1638831276577,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$9pm6wosmaSy6JtPBcRqHLeXSwyv7cW_okzuzldKL5h4"},
{"content":{"body":"> <@tabatkins:matrix.org> Ah it looks like one has to give their room a name for it be found by searching. @pokute does #tc39-pipeline:matrix.org work now?\n\nThat direct link works, but I still couldn't find it with search.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$vqV17uKy67SgKtQ8-V9s3Fwo3XtECkZSBHzil0Wexlo?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@tabatkins:matrix.org\">@tabatkins:matrix.org</a><br>Ah it looks like one has to give their room a name for it be found by searching. @pokute does #tc39-pipeline:matrix.org work now?</blockquote></mx-reply>That direct link works, but I still couldn't find it with search.","m.relates_to":{"m.in_reply_to":{"event_id":"$vqV17uKy67SgKtQ8-V9s3Fwo3XtECkZSBHzil0Wexlo"}},"msgtype":"m.text"},"ts":1638831506500,"senderName":"pokute","senderId":"@pokute:matrix.org","id":"$mv1KtQV5aCTOCx3ANBQSpHJ9LLGJo_Yx70V1Ud9eh7c"},
{"content":{"body":"well i have no idea how the search works, so i guess that'll have to be sufficient","msgtype":"m.text"},"ts":1638831539349,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$MPA6lcLBxzQo0l5Ca61QO_HioCw2eBF4yg438klmiNg"}
]