[
{"content":{"body":"that seems like precisely a proposal for releasing z̲̗̼͙̥͚͛͑̏a̦̟̳͋̄̅ͬ̌͒͟ļ̟̉͌ͪ͌̃̚g͔͇̯̜ͬ̒́o̢̹ͧͥͪͬ ","msgtype":"m.text"},"ts":1638806936584,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$u3hR9ANx7nFMs_AAjBfLPXnaAJy4daGl9syPtexR_DY"},
{"content":{"body":"it's been a pretty consistent design principle that a thing should always or never return a promise, which is why throwing in the default argument position in an async function produces a rejected Promise","msgtype":"m.text"},"ts":1638806962128,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$KOHs-eli68c7hbs4FzV0HcHyWaBVLlxPht0j56G099I"},
{"content":{"body":" * it's been a pretty consistent design principle that a thing should always or never return a promise, which is why throwing in the default argument position in an async function produces a rejected Promise","m.new_content":{"body":"it's been a pretty consistent design principle that a thing should always or never return a promise, which is why throwing in the default argument position in an async function produces a rejected Promise","msgtype":"m.text"},"m.relates_to":{"event_id":"$KOHs-eli68c7hbs4FzV0HcHyWaBVLlxPht0j56G099I","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1638806967280,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$FsETqKQm16diery6-NQ51QKM1_Ycg3AXVjIYFufpF68"},
{"content":{"body":"I think with that proposal `fn.async()` would always return a promise, and `fn.sync()` would never return a promise","format":"org.matrix.custom.html","formatted_body":"I think with that proposal <code>fn.async()</code> would always return a promise, and <code>fn.sync()</code> would never return a promise","msgtype":"m.text"},"ts":1638807023630,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$OcgrfCTXtYaz8OM4VVS4uMbt_rnNFBZGjvzwXyyIuno"},
{"content":{"body":"oh maybe i misunderstood, it produces \"not a function\", but an object with two functions on it?","msgtype":"m.text"},"ts":1638809842482,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$CECjACrEI0YeZOcKPSMvlMmLuGeAbTzTp5ek3cXPT0Y"},
{"content":{"body":"yeah","msgtype":"m.text"},"ts":1638815618980,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$koWa2teykrh233PFJlrMZTN-2YiIaBiKBvHCbvxUvpo"},
{"content":{"body":"one which always returns a promise, one which never does (unless you go out of your way to return a promise explicitly, I guess)","msgtype":"m.text"},"ts":1638815648472,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ouqUuxx97IyNH4Olc-uWZMYnGcayH7DoEcs7W973_cY"}
]