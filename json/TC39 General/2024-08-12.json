[
{"content":{"body":"Does anybody remember why we have a `[no LineTerminator here]` restriction in arrow functions, before `=>`? I don't think it's solving any ambiguity","format":"org.matrix.custom.html","formatted_body":"Does anybody remember why we have a <code>[no LineTerminator here]</code> restriction in arrow functions, before <code>=&gt;</code>? I don't think it's solving any ambiguity","m.mentions":{},"msgtype":"m.text"},"ts":1723473763932,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$Oeug-YhAqR7pZnvnT81ft7DpKTSWLkCWp_PqoqQT5rE"},
{"content":{"body":"That restriction was added to the ArrowFunction production in draft 24 of ES6 (roughly April 2014?), if that helps you find notes.","m.mentions":{},"msgtype":"m.text"},"ts":1723476687438,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$r0OeXtR78uqBQ1Sc_z-4NgMzftawLfNWPHE9vXpCl5Y"},
{"content":{"body":"I think this was for consistency with async arrow functions","m.mentions":{},"msgtype":"m.text"},"ts":1723477332723,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$Q6yytcH3_ysI158gmjFOGlYf-WyGxQ1yjzTs67a5wRc"},
{"content":{"body":"AsyncArrowFunctions were added in PR #692, a couple years later.","m.mentions":{},"msgtype":"m.text"},"ts":1723477624226,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$ccGZbT1Lt9fT7CCPLnmUUP8Y3ovYjLJA2kjKDuBTrtw"},
{"content":{"body":"yeah but I think this future thing was anticipated","m.mentions":{},"msgtype":"m.text"},"ts":1723477637313,"senderName":"littledan","senderId":"@littledan:matrix.org","id":"$a813XHkYWUbVMkxVI2C0AEB6vBAdF2Tlnz7jH9L0R0Y"},
{"content":{"body":"> <@jmdyck:matrix.org> That restriction was added to the ArrowFunction production in draft 24 of ES6 (roughly April 2014?), if that helps you find notes.\n\nThanks!","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$r0OeXtR78uqBQ1Sc_z-4NgMzftawLfNWPHE9vXpCl5Y?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@jmdyck:matrix.org\">@jmdyck:matrix.org</a><br>That restriction was added to the ArrowFunction production in draft 24 of ES6 (roughly April 2014?), if that helps you find notes.</blockquote></mx-reply>Thanks!","m.mentions":{"user_ids":["@jmdyck:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$r0OeXtR78uqBQ1Sc_z-4NgMzftawLfNWPHE9vXpCl5Y"}},"msgtype":"m.text"},"ts":1723479042014,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$GBStRJFBzSXjlxMbdk7CQKBVYj4yAf22TTUyykM-pVY"},
{"content":{"body":"> <@littledan:matrix.org> yeah but I think this future thing was anticipated\n\nasync arrow functions also do not need that restriction, it was done just for consistency with the sync version","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$a813XHkYWUbVMkxVI2C0AEB6vBAdF2Tlnz7jH9L0R0Y?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@littledan:matrix.org\">@littledan:matrix.org</a><br>yeah but I think this future thing was anticipated</blockquote></mx-reply>async arrow functions also do not need that restriction, it was done just for consistency with the sync version","m.mentions":{"user_ids":["@littledan:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$a813XHkYWUbVMkxVI2C0AEB6vBAdF2Tlnz7jH9L0R0Y"}},"msgtype":"m.text"},"ts":1723479047210,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$bX1NRsOrE2sTSuUUR0lFPMZM1qdRJtLnBKr_xNXyG3Y"},
{"content":{"body":"> <@littledan:matrix.org> yeah but I think this future thing was anticipated\n\n * async arrow functions also do not need that restriction, I believe it was done just for consistency with the sync version","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$a813XHkYWUbVMkxVI2C0AEB6vBAdF2Tlnz7jH9L0R0Y?via=matrix.org&amp;via=mozilla.org&amp;via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@littledan:matrix.org\">@littledan:matrix.org</a><br>yeah but I think this future thing was anticipated</blockquote></mx-reply> * async arrow functions also do not need that restriction, I believe it was done just for consistency with the sync version","m.mentions":{},"m.new_content":{"body":"async arrow functions also do not need that restriction, I believe it was done just for consistency with the sync version","format":"org.matrix.custom.html","formatted_body":"async arrow functions also do not need that restriction, I believe it was done just for consistency with the sync version","m.mentions":{"user_ids":["@littledan:matrix.org"]},"msgtype":"m.text"},"m.relates_to":{"event_id":"$bX1NRsOrE2sTSuUUR0lFPMZM1qdRJtLnBKr_xNXyG3Y","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1723479286147,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$NVBgnowowjJMO8yk2YJhGFYR9n0i2x4LGlmnCSHjRrc"},
{"content":{"body":"Looking at https://github.com/tc39/notes/blob/main/meetings/2014-01/jan-30.md#asyncawait it looks indeed like it was added to disambiguate this case:\n```js\nasync (foo)\n=> bar\n```\nbut that's not (and wasn't, at the time) ambiguous ðŸ¤”","format":"org.matrix.custom.html","formatted_body":"<p>Looking at https://github.com/tc39/notes/blob/main/meetings/2014-01/jan-30.md#asyncawait it looks indeed like it was added to disambiguate this case:</p>\n<pre><code class=\"language-js\">async (foo)\n=&gt; bar\n</code></pre>\n<p>but that's not (and wasn't, at the time) ambiguous ðŸ¤”</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1723479642013,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$zgYAC3_ULUxaPPGMVkHr5apu_did5VdjCyB99Siqvmk"},
{"content":{"body":"The reason I'm asking is because this rule adds some annoying complexity to Babel's code printer (for some reason more than the other no-LineTerminator-here restrictions), and I know that it's also being problematic for tools that do position-preserving type stripping","m.mentions":{},"msgtype":"m.text"},"ts":1723479696303,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$-sUATDrhQ1T5jL830aYvnmJPJ8wrDwf4BLl7FdrYyM4"},
{"content":{"body":"> <@nicolo-ribaudo:matrix.org> Looking at https://github.com/tc39/notes/blob/main/meetings/2014-01/jan-30.md#asyncawait it looks indeed like it was added to disambiguate this case:\n> ```js\n> async (foo)\n> => bar\n> ```\n> but that's not (and wasn't, at the time) ambiguous ðŸ¤”\n\nisn't `async` a valid identifier?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$zgYAC3_ULUxaPPGMVkHr5apu_did5VdjCyB99Siqvmk?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@nicolo-ribaudo:matrix.org\">@nicolo-ribaudo:matrix.org</a><br><p>Looking at https://github.com/tc39/notes/blob/main/meetings/2014-01/jan-30.md#asyncawait it looks indeed like it was added to disambiguate this case:</p>\n<pre><code class=\"language-js\">async (foo)\n=&gt; bar\n</code></pre>\n<p>but that's not (and wasn't, at the time) ambiguous ðŸ¤”</p>\n</blockquote></mx-reply>isn't <code>async</code> a valid identifier?","m.mentions":{"user_ids":["@nicolo-ribaudo:matrix.org"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$zgYAC3_ULUxaPPGMVkHr5apu_did5VdjCyB99Siqvmk"}},"msgtype":"m.text"},"ts":1723479737207,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$NZOcYZ2ZzeI9LPX8J8bizui-D5PMku5loj2jt9DGvGM"},
{"content":{"body":"> <@abotella:igalia.com> isn't `async` a valid identifier?\n\nYes, and?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$NZOcYZ2ZzeI9LPX8J8bizui-D5PMku5loj2jt9DGvGM?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@abotella:igalia.com\">@abotella:igalia.com</a><br>isn't <code>async</code> a valid identifier?</blockquote></mx-reply>Yes, and?","m.mentions":{"user_ids":["@abotella:igalia.com"]},"m.relates_to":{"m.in_reply_to":{"event_id":"$NZOcYZ2ZzeI9LPX8J8bizui-D5PMku5loj2jt9DGvGM"}},"msgtype":"m.text"},"ts":1723479929963,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$q5avklP977yvOlEo13LeQdClj7iOwb_jUsCtyxia9X8"}
]