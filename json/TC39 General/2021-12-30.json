[
{"content":{"body":"they're working on a new config system, and it supports ESM, and thus it has to be async","msgtype":"m.text"},"ts":1640849979133,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$8H9IA3CBtobPGq5-KCreMbNh07GnjnyA5RlHJHR6oTQ"},
{"content":{"body":"so i don't see why they'd be opposed to rules working that way","msgtype":"m.text"},"ts":1640849991348,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$EAV6qtOTVQOg_p-pVlxhg_jqY9L7RUqW2eGHCfhM_fo"},
{"content":{"body":"https://github.com/eslint/eslint/issues/15394#issuecomment-989410995","msgtype":"m.text"},"ts":1640850236741,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$wdqnk8_46IVnyAfsWuwe93IVo2Z0nQrlqtfNomoF_Eg"},
{"content":{"body":"¯\\_(ツ)_/¯","msgtype":"m.text"},"ts":1640850238566,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ugAOOyLvt1aSKGz7QtlNWZRwhYRTD9xdQsOl1ympn5o"},
{"content":{"body":"i read your gensync thing and i still really don't understand the point. if you already have both a sync and async version, then sure, and if you only have a sync version, then it's pretty trivial to wrap that in an async function, but if you only have an async version then how can you make it sync?","msgtype":"m.text"},"ts":1640850269915,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$PZORRjRbGCTQh3KuU3mWLenpMcAOL3GdrRbSKqYakbc"},
{"content":{"body":"the idea is that sometimes your thing is async only because it needs to call a user-provided function, which may or may not be async","msgtype":"m.text"},"ts":1640850317446,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$RokMctU7sn0Trzs9E_ZLOrVdSfXx3jKqc2p7T-BrtcQ"},
{"content":{"body":"if the user-provided function is async, you of course need to be async","msgtype":"m.text"},"ts":1640850326445,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$NfLQKPauGDdiEg9HrEVdPH_YrKCaUKUHx_q1gk42dOQ"},
{"content":{"body":"if it is not, it is nice not to be","msgtype":"m.text"},"ts":1640850330606,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$zfyV-mdngMchPiT8UiF4KIVccHa9K-JF2WJs-pDdn8c"},
{"content":{"body":"(the post has a concrete example of when that might come up)","msgtype":"m.text"},"ts":1640850419964,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$YTijTZCTLKbbtb0iwjCr347OCsEDo7EakUOZLJoRlBw"},
{"content":{"body":"but like, if the user's providing a \"read file\" method, why wouldn't you just return whatever it returns?","msgtype":"m.text"},"ts":1640850516377,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$KhK1tK8oMek27bNNEVd84BQaRSdfmUXNn9C0xeTuAEQ"},
{"content":{"body":"like if it returns a promise, you return one, if not, not","msgtype":"m.text"},"ts":1640850524884,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$o7Ix1EpvXBmyQn_oqcjVrAyw71BN3nI_h9q5vYpzjAw"},
{"content":{"body":"because you need to do stuff with the thing inside the promise","msgtype":"m.text"},"ts":1640850600011,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$xDJ9pu2keQqOMKMhNk7zFygDrx_Fem2toaiFj4wU4fU"},
{"content":{"body":"i guess i'm just really not getting why this is an issue outside of what seems like a very rare use case - where a user is providing a maybe-sync maybe-async method, but you need to do processing on each result, and you can't call the function for the next result until you do that processing","msgtype":"m.text"},"ts":1640850619634,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$_1Bjy4kv7zoNyooOp6NLV8czm7poaLC1lO-EpUFyowk"},
{"content":{"body":"or why you couldn't have two interfaces - a sync one and an async one - that both share an internal processing function","msgtype":"m.text"},"ts":1640850654402,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$qQxDRE0vYm4IOYp9Ii6U_Ts84Gf1iz7thMf0L6Ows5c"},
{"content":{"body":"yes, you could split up all your code so that it is in continuation-passing style, and then invoke the callbacks synchronously when the result of the user-provided function is available synchronously, but the point of async-await is that writing CPS by hand sucks","msgtype":"m.text"},"ts":1640850687245,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$-2M1CEZE4yaPlzyDSl1oIXuw_n5__AiccIoQ6HxRZ1s"},
{"content":{"body":"I invite you to go through the exercise of refactoring the `getTransitiveDependencies` function so that it works that way; it is not a trivial refactor","format":"org.matrix.custom.html","formatted_body":"I invite you to go through the exercise of refactoring the <code>getTransitiveDependencies</code> function so that it works that way; it is not a trivial refactor","msgtype":"m.text"},"ts":1640850777396,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$qfOKrLv7wEpg2eY_9w2ZASevZeJABWR0kObj-wuz_-I"},
{"content":{"body":"this problem comes up basically any time you're writing a utility which takes a function as an argument and does something with the return value of that function; this is not rare, in my experience, though it may be in yours","msgtype":"m.text"},"ts":1640850881580,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$RJTppJV9y7wSb_LE5V9vx6jZEfEKLF_wn-nmmaEgHRQ"}
]