[
{"content":{"body":"How would I construct a Map from a Spec List without any observable behaviors?","msgtype":"m.text"},"ts":1635341999933,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$s0xbQpRgqiZrdNyZdOgsZ3t8cFybQtcr9r5MVsXocUk"},
{"content":{"body":"https://tc39.es/ecma262/#sec-add-entries-from-iterable","msgtype":"m.text"},"ts":1635342048778,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$Ii760jsBNGrzwBnz4kKcu_PKRYdYHxbiXNLnpDRJ9w8"},
{"content":{"body":"hm, actually that's a lot of hoops","msgtype":"m.text"},"ts":1635342082021,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$oHuvbAgdVHbBTuULUreCtdvaTVTVZpghu-9wHAzCEgk"},
{"content":{"body":"I would have to convert my `List<List<*>>` into `Array<[key, value]>`, first","format":"org.matrix.custom.html","formatted_body":"I would have to convert my <code>List&lt;List&lt;*&gt;&gt;</code> into <code>Array&lt;[key, value]&gt;</code>, first","msgtype":"m.text"},"ts":1635342094397,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$_0VQoSm0qBbHzGVJLvY1uIyOzHXPYEZE5SM3_Kwi7uw"},
{"content":{"body":"see steps 3-7 in https://tc39.es/ecma262/#sec-map.prototype.set","msgtype":"m.text"},"ts":1635342110589,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$Dz5J9zEUVrLIW7EVVUQdVgecllpnFXw9idK_M72JNLI"},
{"content":{"body":"Can I just construct a object with `[[MapData]]`?","format":"org.matrix.custom.html","formatted_body":"Can I just construct a object with <code>[[MapData]]</code>?","msgtype":"m.text"},"ts":1635342113165,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$7dSNOumbtN4ZcQhRzee-DXxNjHmUmiGatAkcJ6CYJTw"},
{"content":{"body":"iow, iterate over the list, and just mutate the Map entries of the Map you created","msgtype":"m.text"},"ts":1635342120717,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$J6UGnTMIxp3CUeJrBQzC4iekswSuPN3oy5rxtvaungQ"},
{"content":{"body":"ðŸ‘ï¸","msgtype":"m.text"},"ts":1635342193386,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$GzjQEU2yUgPHLIqeDea07mRYwQAJ3LZIBhu8e-F3CBI"},
{"content":{"body":"> Can I just construct a object with `[[MapData]]`?\n\nYou can but for clarity I would call `%Map%` and then mutate its internal slots","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>Can I just construct a object with <code>[[MapData]]</code>?</p>\n</blockquote>\n<p>You can but for clarity I would call <code>%Map%</code> and then mutate its internal slots</p>\n","msgtype":"m.text"},"ts":1635342242013,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$MqJ3y8LYi_5XnFgMRxLPZViPSGiMg2FAnJZui7b8tss"},
{"content":{"body":"I like having `Map` be the sole thing which creates an object with a `[[MapData]]`","format":"org.matrix.custom.html","formatted_body":"I like having <code>Map</code> be the sole thing which creates an object with a <code>[[MapData]]</code>","msgtype":"m.text"},"ts":1635342257764,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$OoK-17obyn8xM-z_vmoCns14JDYSpsMoLgMdafajw3g"},
{"content":{"body":"Thanks","msgtype":"m.text"},"ts":1635342286615,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$ozI1BC2KX8zW7AHGDuSTgIp7SAVeY7ltbVi3qMJm3hs"},
{"content":{"body":"That's pretty much what structured deserializing does for Map objects, although we don't construct the objects properly; I guess shu gets to fix that ðŸ˜›","format":"org.matrix.custom.html","formatted_body":"That's pretty much what structured deserializing does for Map objects, although we don't construct the objects properly; I guess <a href=\"https://matrix.to/#/@shuyuguo:matrix.org\">shu</a> gets to fix that ðŸ˜›","msgtype":"m.text"},"ts":1635342438004,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$kczsGrqtpUR8IRZ666IsqAar48Ybk1M8-mvADOVasEc"},
{"content":{"body":"maybe an AO is in order that HTML and grouping can use","msgtype":"m.text"},"ts":1635342465189,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$ytiJdVjOA-vS5Cl-MjV9LsAdh8Qct_qNAyGN_OTYhSI"},
{"content":{"body":"CreateMapFromList, why not","msgtype":"m.text"},"ts":1635342599846,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$2kme9CP01lzGplguhTA2uB9I_GN0WlysKQ8GcFqn3V4"},
{"content":{"body":"> <@annevk:mozilla.org> That's pretty much what structured deserializing does for Map objects, although we don't construct the objects properly; I guess shu gets to fix that ðŸ˜›\n\nDo you have a link?","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$kczsGrqtpUR8IRZ666IsqAar48Ybk1M8-mvADOVasEc?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@annevk:mozilla.org\">@annevk:mozilla.org</a><br>That's pretty much what structured deserializing does for Map objects, although we don't construct the objects properly; I guess <a href=\"https://matrix.to/#/@shuyuguo:matrix.org\">shu</a> gets to fix that ðŸ˜›</blockquote></mx-reply>Do you have a link?","m.relates_to":{"m.in_reply_to":{"event_id":"$kczsGrqtpUR8IRZ666IsqAar48Ybk1M8-mvADOVasEc"}},"msgtype":"m.text"},"ts":1635343172418,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$ycgWVG5AZkwnkBjD8LxWZdDwZIfiKyNXVdX9k1LKTUU"},
{"content":{"body":"Curious what data structure you have, so I can put together a helper abstract op","msgtype":"m.text"},"ts":1635343187971,"senderName":"Justin Ridgewell","senderId":"@jridgewell:matrix.org","id":"$g35-CYOtOpP0J9Ta727ic5vTWagjBblwID8-TMX1wH0"},
{"content":{"body":"Justin Ridgewell: https://html.spec.whatwg.org/#structureddeserialize then search for [[MapData]]","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jridgewell:matrix.org\">Justin Ridgewell</a>: https://html.spec.whatwg.org/#structureddeserialize then search for [[MapData]]","msgtype":"m.text"},"ts":1635343322054,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$fxmtsrix4EoY9b2WAXy_q5Uxng38cJTeZnr3aEUDwug"},
{"content":{"body":"Justin Ridgewell: there's a plan of sorts to move a lot of that into ECMAScript aiui, shu would know more","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jridgewell:matrix.org\">Justin Ridgewell</a>: there's a plan of sorts to move a lot of that into ECMAScript aiui, <a href=\"https://matrix.to/#/@shuyuguo:matrix.org\">shu</a> would know more","msgtype":"m.text"},"ts":1635343355028,"senderName":"annevk","senderId":"@annevk:mozilla.org","id":"$Ox7z2jJ9l85QFnqIxjLhVOK2T_CeMWd4-qvm7lQNqLo"},
{"content":{"body":"Justin Ridgewell: see domenic's comment at the bottom of https://github.com/tc39/ecma262/issues/2555","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jridgewell:matrix.org\">Justin Ridgewell</a>: see domenic's comment at the bottom of https://github.com/tc39/ecma262/issues/2555","msgtype":"m.text"},"ts":1635343401906,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$OXIW4tj-r0Td7jXmwZJOKbFnjEK0DO6LU6Pl_gKXfAI"},
{"content":{"body":"mostly some mechanical shoring up of the language in HTML around object creation. i haven't looked too deep but can't imagine its being very problematic","msgtype":"m.text"},"ts":1635343424026,"senderName":"shu","senderId":"@shuyuguo:matrix.org","id":"$YNi6HVpEeNQ4NixEt9BFdf4Mpria-9dWZzHqb8krS6A"}
]