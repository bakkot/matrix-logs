[
{"content":{"body":"> <@devsnek:matrix.org> does anyone know if its legal to duplicate bcp 47 language tags\n\nI'm assuming you're referring to duplicating _subtags_ (cf. [RFC 5646 § 2.1](https://www.rfc-editor.org/rfc/rfc5646.html#section-2.1)), in which case the answer is \"it depends\". Duplication never violates _syntactic_ well-formedness, but duplicate language variant subtags and duplicate singleton subtags are always rejected per [IsStructurallyValidLanguageTag](https://tc39.es/ecma402/#sec-isstructurallyvalidlanguagetag) and UTS #35 [§ 3.2](https://unicode.org/reports/tr35/#Unicode_locale_identifier) and [§ 3.4](https://unicode.org/reports/tr35/#unicode_variant_subtag_validity). Duplicate UTS #35 \"u\" extension attribute and keyword subtags are permitted by ECMA-402, but [UnicodeExtensionComponents](https://tc39.es/ecma402/#sec-unicode-extension-components) ensures that only the first instance of any given attribute or keyword key in a locale identifier is preserved.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$snO4kYU9Q3oycipHf1IbgePUMe1YKH-dcaqW5j4BvT8?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@devsnek:matrix.org\">@devsnek:matrix.org</a><br>does anyone know if its legal to duplicate bcp 47 language tags</blockquote></mx-reply>I'm assuming you're referring to duplicating <em>subtags</em> (cf. <a href=\"https://www.rfc-editor.org/rfc/rfc5646.html#section-2.1\">RFC 5646 § 2.1</a>), in which case the answer is &quot;it depends&quot;. Duplication never violates <em>syntactic</em> well-formedness, but duplicate language variant subtags and duplicate singleton subtags are always rejected per <a href=\"https://tc39.es/ecma402/#sec-isstructurallyvalidlanguagetag\">IsStructurallyValidLanguageTag</a> and UTS #35 <a href=\"https://unicode.org/reports/tr35/#Unicode_locale_identifier\">§ 3.2</a> and <a href=\"https://unicode.org/reports/tr35/#unicode_variant_subtag_validity\">§ 3.4</a>. Duplicate UTS #35 &quot;u&quot; extension attribute and keyword subtags are permitted by ECMA-402, but <a href=\"https://tc39.es/ecma402/#sec-unicode-extension-components\">UnicodeExtensionComponents</a> ensures that only the first instance of any given attribute or keyword key in a locale identifier is preserved.","m.relates_to":{"m.in_reply_to":{"event_id":"$snO4kYU9Q3oycipHf1IbgePUMe1YKH-dcaqW5j4BvT8"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@devsnek:matrix.org> does anyone know if its legal to duplicate bcp 47 language tags\n\nI'm assuming you're referring to duplicating _subtags_ (cf. [RFC 5646 § 2.1](https://www.rfc-editor.org/rfc/rfc5646.html#section-2.1)), in which case the answer is \"it depends\". Duplication never violates _syntactic_ well-formedness, but duplicate language variant subtags and duplicate singleton subtags are always rejected per [IsStructurallyValidLanguageTag](https://tc39.es/ecma402/#sec-isstructurallyvalidlanguagetag) and UTS #35 [§ 3.2](https://unicode.org/reports/tr35/#Unicode_locale_identifier) and [§ 3.4](https://unicode.org/reports/tr35/#unicode_variant_subtag_validity). Duplicate UTS #35 \"u\" extension attribute and keyword subtags are permitted by ECMA-402, but [UnicodeExtensionComponents](https://tc39.es/ecma402/#sec-unicode-extension-components) ensures that only the first instance of any given attribute or keyword key in a locale identifier is preserved.","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$snO4kYU9Q3oycipHf1IbgePUMe1YKH-dcaqW5j4BvT8?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@devsnek:matrix.org\">@devsnek:matrix.org</a><br>does anyone know if its legal to duplicate bcp 47 language tags</blockquote></mx-reply>I'm assuming you're referring to duplicating <em>subtags</em> (cf. <a href=\"https://www.rfc-editor.org/rfc/rfc5646.html#section-2.1\">RFC 5646 § 2.1</a>), in which case the answer is &quot;it depends&quot;. Duplication never violates <em>syntactic</em> well-formedness, but duplicate language variant subtags and duplicate singleton subtags are always rejected per <a href=\"https://tc39.es/ecma402/#sec-isstructurallyvalidlanguagetag\">IsStructurallyValidLanguageTag</a> and UTS #35 <a href=\"https://unicode.org/reports/tr35/#Unicode_locale_identifier\">§ 3.2</a> and <a href=\"https://unicode.org/reports/tr35/#unicode_variant_subtag_validity\">§ 3.4</a>. Duplicate UTS #35 &quot;u&quot; extension attribute and keyword subtags are permitted by ECMA-402, but <a href=\"https://tc39.es/ecma402/#sec-unicode-extension-components\">UnicodeExtensionComponents</a> ensures that only the first instance of any given attribute or keyword key in a locale identifier is preserved.","mimetype":"text/html"}]},"ts":1671341976465,"senderName":"Richard Gibson","senderId":"@gibson042:matrix.org","id":"$zH5_pQWzeRsFxg0La5pjNLYOgSlQ-MwWeh0VDYOaz34"},
{"content":{"body":"> <@devsnek:matrix.org> does anyone know if its legal to duplicate bcp 47 language tags\n\n * I'm assuming you're referring to duplicating _subtags_ (cf. [RFC 5646 § 2.1](https://www.rfc-editor.org/rfc/rfc5646.html#section-2.1)), in which case the answer is \"it depends\". Duplication never violates _syntactic_ well-formedness, but duplicate **language variant** subtags and duplicate **singleton** subtags are always rejected per [IsStructurallyValidLanguageTag](https://tc39.es/ecma402/#sec-isstructurallyvalidlanguagetag) and UTS #35 [§ 3.2](https://unicode.org/reports/tr35/#Unicode_locale_identifier) and [§ 3.4](https://unicode.org/reports/tr35/#unicode_variant_subtag_validity). Duplicate UTS #35 \"u\" extension attribute and keyword subtags are permitted by ECMA-402, but [UnicodeExtensionComponents](https://tc39.es/ecma402/#sec-unicode-extension-components) ensures that only the first instance of any given attribute or keyword key in a locale identifier is preserved.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$snO4kYU9Q3oycipHf1IbgePUMe1YKH-dcaqW5j4BvT8?via=matrix.org&amp;via=mozilla.org&amp;via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@devsnek:matrix.org\">@devsnek:matrix.org</a><br>does anyone know if its legal to duplicate bcp 47 language tags</blockquote></mx-reply> * I'm assuming you're referring to duplicating <em>subtags</em> (cf. <a href=\"https://www.rfc-editor.org/rfc/rfc5646.html#section-2.1\">RFC 5646 § 2.1</a>), in which case the answer is &quot;it depends&quot;. Duplication never violates <em>syntactic</em> well-formedness, but duplicate <strong>language variant</strong> subtags and duplicate <strong>singleton</strong> subtags are always rejected per <a href=\"https://tc39.es/ecma402/#sec-isstructurallyvalidlanguagetag\">IsStructurallyValidLanguageTag</a> and UTS #35 <a href=\"https://unicode.org/reports/tr35/#Unicode_locale_identifier\">§ 3.2</a> and <a href=\"https://unicode.org/reports/tr35/#unicode_variant_subtag_validity\">§ 3.4</a>. Duplicate UTS #35 &quot;u&quot; extension attribute and keyword subtags are permitted by ECMA-402, but <a href=\"https://tc39.es/ecma402/#sec-unicode-extension-components\">UnicodeExtensionComponents</a> ensures that only the first instance of any given attribute or keyword key in a locale identifier is preserved.","m.new_content":{"body":"I'm assuming you're referring to duplicating _subtags_ (cf. [RFC 5646 § 2.1](https://www.rfc-editor.org/rfc/rfc5646.html#section-2.1)), in which case the answer is \"it depends\". Duplication never violates _syntactic_ well-formedness, but duplicate **language variant** subtags and duplicate **singleton** subtags are always rejected per [IsStructurallyValidLanguageTag](https://tc39.es/ecma402/#sec-isstructurallyvalidlanguagetag) and UTS #35 [§ 3.2](https://unicode.org/reports/tr35/#Unicode_locale_identifier) and [§ 3.4](https://unicode.org/reports/tr35/#unicode_variant_subtag_validity). Duplicate UTS #35 \"u\" extension attribute and keyword subtags are permitted by ECMA-402, but [UnicodeExtensionComponents](https://tc39.es/ecma402/#sec-unicode-extension-components) ensures that only the first instance of any given attribute or keyword key in a locale identifier is preserved.","format":"org.matrix.custom.html","formatted_body":"I'm assuming you're referring to duplicating <em>subtags</em> (cf. <a href=\"https://www.rfc-editor.org/rfc/rfc5646.html#section-2.1\">RFC 5646 § 2.1</a>), in which case the answer is &quot;it depends&quot;. Duplication never violates <em>syntactic</em> well-formedness, but duplicate <strong>language variant</strong> subtags and duplicate <strong>singleton</strong> subtags are always rejected per <a href=\"https://tc39.es/ecma402/#sec-isstructurallyvalidlanguagetag\">IsStructurallyValidLanguageTag</a> and UTS #35 <a href=\"https://unicode.org/reports/tr35/#Unicode_locale_identifier\">§ 3.2</a> and <a href=\"https://unicode.org/reports/tr35/#unicode_variant_subtag_validity\">§ 3.4</a>. Duplicate UTS #35 &quot;u&quot; extension attribute and keyword subtags are permitted by ECMA-402, but <a href=\"https://tc39.es/ecma402/#sec-unicode-extension-components\">UnicodeExtensionComponents</a> ensures that only the first instance of any given attribute or keyword key in a locale identifier is preserved.","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"I'm assuming you're referring to duplicating _subtags_ (cf. [RFC 5646 § 2.1](https://www.rfc-editor.org/rfc/rfc5646.html#section-2.1)), in which case the answer is \"it depends\". Duplication never violates _syntactic_ well-formedness, but duplicate **language variant** subtags and duplicate **singleton** subtags are always rejected per [IsStructurallyValidLanguageTag](https://tc39.es/ecma402/#sec-isstructurallyvalidlanguagetag) and UTS #35 [§ 3.2](https://unicode.org/reports/tr35/#Unicode_locale_identifier) and [§ 3.4](https://unicode.org/reports/tr35/#unicode_variant_subtag_validity). Duplicate UTS #35 \"u\" extension attribute and keyword subtags are permitted by ECMA-402, but [UnicodeExtensionComponents](https://tc39.es/ecma402/#sec-unicode-extension-components) ensures that only the first instance of any given attribute or keyword key in a locale identifier is preserved.","mimetype":"text/plain"},{"body":"I'm assuming you're referring to duplicating <em>subtags</em> (cf. <a href=\"https://www.rfc-editor.org/rfc/rfc5646.html#section-2.1\">RFC 5646 § 2.1</a>), in which case the answer is &quot;it depends&quot;. Duplication never violates <em>syntactic</em> well-formedness, but duplicate <strong>language variant</strong> subtags and duplicate <strong>singleton</strong> subtags are always rejected per <a href=\"https://tc39.es/ecma402/#sec-isstructurallyvalidlanguagetag\">IsStructurallyValidLanguageTag</a> and UTS #35 <a href=\"https://unicode.org/reports/tr35/#Unicode_locale_identifier\">§ 3.2</a> and <a href=\"https://unicode.org/reports/tr35/#unicode_variant_subtag_validity\">§ 3.4</a>. Duplicate UTS #35 &quot;u&quot; extension attribute and keyword subtags are permitted by ECMA-402, but <a href=\"https://tc39.es/ecma402/#sec-unicode-extension-components\">UnicodeExtensionComponents</a> ensures that only the first instance of any given attribute or keyword key in a locale identifier is preserved.","mimetype":"text/html"}]},"m.relates_to":{"event_id":"$zH5_pQWzeRsFxg0La5pjNLYOgSlQ-MwWeh0VDYOaz34","rel_type":"m.replace"},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@devsnek:matrix.org> does anyone know if its legal to duplicate bcp 47 language tags\n\n * I'm assuming you're referring to duplicating _subtags_ (cf. [RFC 5646 § 2.1](https://www.rfc-editor.org/rfc/rfc5646.html#section-2.1)), in which case the answer is \"it depends\". Duplication never violates _syntactic_ well-formedness, but duplicate **language variant** subtags and duplicate **singleton** subtags are always rejected per [IsStructurallyValidLanguageTag](https://tc39.es/ecma402/#sec-isstructurallyvalidlanguagetag) and UTS #35 [§ 3.2](https://unicode.org/reports/tr35/#Unicode_locale_identifier) and [§ 3.4](https://unicode.org/reports/tr35/#unicode_variant_subtag_validity). Duplicate UTS #35 \"u\" extension attribute and keyword subtags are permitted by ECMA-402, but [UnicodeExtensionComponents](https://tc39.es/ecma402/#sec-unicode-extension-components) ensures that only the first instance of any given attribute or keyword key in a locale identifier is preserved.","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$snO4kYU9Q3oycipHf1IbgePUMe1YKH-dcaqW5j4BvT8?via=matrix.org&amp;via=mozilla.org&amp;via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@devsnek:matrix.org\">@devsnek:matrix.org</a><br>does anyone know if its legal to duplicate bcp 47 language tags</blockquote></mx-reply> * I'm assuming you're referring to duplicating <em>subtags</em> (cf. <a href=\"https://www.rfc-editor.org/rfc/rfc5646.html#section-2.1\">RFC 5646 § 2.1</a>), in which case the answer is &quot;it depends&quot;. Duplication never violates <em>syntactic</em> well-formedness, but duplicate <strong>language variant</strong> subtags and duplicate <strong>singleton</strong> subtags are always rejected per <a href=\"https://tc39.es/ecma402/#sec-isstructurallyvalidlanguagetag\">IsStructurallyValidLanguageTag</a> and UTS #35 <a href=\"https://unicode.org/reports/tr35/#Unicode_locale_identifier\">§ 3.2</a> and <a href=\"https://unicode.org/reports/tr35/#unicode_variant_subtag_validity\">§ 3.4</a>. Duplicate UTS #35 &quot;u&quot; extension attribute and keyword subtags are permitted by ECMA-402, but <a href=\"https://tc39.es/ecma402/#sec-unicode-extension-components\">UnicodeExtensionComponents</a> ensures that only the first instance of any given attribute or keyword key in a locale identifier is preserved.","mimetype":"text/html"}]},"ts":1671342052318,"senderName":"Richard Gibson","senderId":"@gibson042:matrix.org","id":"$IdbHZiVJdnp-dw8fNqY1fCkWe-Ge_W68BPgbJw46IvA"},
{"content":{"body":"interesting ","msgtype":"m.text"},"ts":1671342084297,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$5xZUzvntNhuWrWELwVB9amxUD7wpAznehJh6XXXsgrw"},
{"content":{"body":"so an engine shouldn't throw on something like `en-US-u-hc-h23-hc-h11`","msgtype":"m.text"},"ts":1671342114636,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$HdhptIiM9BJcAdHWIeol-YikASKpTfWtwmiBAawesiE"},
{"content":{"body":"* so an engine shouldn't throw on something like `en-US-u-hc-h23-hc-h11`","m.new_content":{"body":"so an engine shouldn't throw on something like `en-US-u-hc-h23-hc-h11`","msgtype":"m.text"},"m.relates_to":{"event_id":"$HdhptIiM9BJcAdHWIeol-YikASKpTfWtwmiBAawesiE","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1671342124245,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$lS7-4eOvy1byAyJ9NLLyolfVJeBD39bjC4zb-I-AwKY"},
{"content":{"body":"it should just consider it as if the 2nd one doesn't exist ","msgtype":"m.text"},"ts":1671342133790,"senderName":"snek","senderId":"@devsnek:matrix.org","id":"$kUr7q3KvJYkntY3utIsO2MXrcUDEoB7c3dChB6WMFzY"},
{"content":{"body":"> <@mhofman:matrix.org> The awkwardness is why https://github.com/tc39/proposal-decorator-metadata exists\n\nOh so that's where metadata went. That doesn't even give you a reference to the class. They just have a metdataKey. Strange.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$1XJaQgx6uzlSBRkjMlcUgP77Zbo9-96eTeHwOMkHpz0?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@mhofman:matrix.org\">@mhofman:matrix.org</a><br>The awkwardness is why https://github.com/tc39/proposal-decorator-metadata exists</blockquote></mx-reply>Oh so that's where metadata went. That doesn't even give you a reference to the class. They just have a metdataKey. Strange.","m.relates_to":{"m.in_reply_to":{"event_id":"$1XJaQgx6uzlSBRkjMlcUgP77Zbo9-96eTeHwOMkHpz0"}},"msgtype":"m.text","org.matrix.msc1767.message":[{"body":"> <@mhofman:matrix.org> The awkwardness is why https://github.com/tc39/proposal-decorator-metadata exists\n\nOh so that's where metadata went. That doesn't even give you a reference to the class. They just have a metdataKey. Strange.","mimetype":"text/plain"},{"body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$1XJaQgx6uzlSBRkjMlcUgP77Zbo9-96eTeHwOMkHpz0?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@mhofman:matrix.org\">@mhofman:matrix.org</a><br>The awkwardness is why https://github.com/tc39/proposal-decorator-metadata exists</blockquote></mx-reply>Oh so that's where metadata went. That doesn't even give you a reference to the class. They just have a metdataKey. Strange.","mimetype":"text/html"}]},"ts":1671347781191,"senderName":"sirisian","senderId":"@sirisian:matrix.org","id":"$vJTkadQ5X2oiXjKOZvlyaPozujqZvIE-XSK3rF1FWtg"}
]