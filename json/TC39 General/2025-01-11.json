[
{"content":{"body":"> <@bakkot:matrix.org> I don't understand the question, sorry. what do you mean by \"what is this for\"? It's for... informing the reader that getting `undefined` here implies that Receiver does not currently have a property P.\n\nThe question was because, to me, \"get own property returned empty\" means that such a property does not exist on the object. Hence asserting it right after seemed redundant, and made me think that maybe there's a deeper meaning here.\n\nFrom an implementation standpoint, we've been adding asserts into our engine code as either debug or runtime checks for now, to make sure we're correct. engine262 doesn't write the assert in this case at all (maybe it never does?), and a few other engines likewise skip the assert. Others do check that the property storage indeed does not have this property.\n\nFor our engine such a check is mildly problematic, as how a given property might be stored depends on the object type and even on its usage. That logic is of course all encoded in the internal methods. So I wondered if skipping this check was ... I don't know, the spec somehow asserting a need to know about object property stores or how they work or something.","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$IpbU--6EGaJvvo726gfopkHs8RDKXuOOuE3FD_OyUWY?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">@bakkot:matrix.org</a><br />I don't understand the question, sorry. what do you mean by \"what is this for\"? It's for... informing the reader that getting <code>undefined</code> here implies that Receiver does not currently have a property P.</blockquote></mx-reply><p>The question was because, to me, &quot;get own property returned empty&quot; means that such a property does not exist on the object. Hence asserting it right after seemed redundant, and made me think that maybe there's a deeper meaning here.</p>\n<p>From an implementation standpoint, we've been adding asserts into our engine code as either debug or runtime checks for now, to make sure we're correct. engine262 doesn't write the assert in this case at all (maybe it never does?), and a few other engines likewise skip the assert. Others do check that the property storage indeed does not have this property.</p>\n<p>For our engine such a check is mildly problematic, as how a given property might be stored depends on the object type and even on its usage. That logic is of course all encoded in the internal methods. So I wondered if skipping this check was ... I don't know, the spec somehow asserting a need to know about object property stores or how they work or something.</p>","m.relates_to":{"m.in_reply_to":{"event_id":"$IpbU--6EGaJvvo726gfopkHs8RDKXuOOuE3FD_OyUWY"}},"msgtype":"m.text"},"ts":1736607804787,"senderName":"Aapo Alasuutari","senderId":"@aapo.alasuutari:matrix.org","id":"$lNnK1B3fFCQaqBcdFkzUfRf-r6E3DGWopPxJle7RQIM"},
{"content":{"body":"Well the assertion is not observable, so you can do whatever you want regardless of what assertions are there.","msgtype":"m.text"},"ts":1736608281396,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$9-kf5-C27JvKc6LxS_F0eu35kl13ZrktMvmlX1VW-7M"},
{"content":{"body":"* Well the assertion is not observable (otherwise the spec would be wrong), so you can do whatever you want regardless of what assertions are there.","m.new_content":{"body":"Well the assertion is not observable (otherwise the spec would be wrong), so you can do whatever you want regardless of what assertions are there.","msgtype":"m.text"},"m.relates_to":{"event_id":"$9-kf5-C27JvKc6LxS_F0eu35kl13ZrktMvmlX1VW-7M","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1736608297404,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$dLRUUw8yypd7BdT1AMfSytjiBw1BoYcKc4Zt4_abNH0"},
{"content":{"body":"> to me, \"get own property returned empty\" means that such a property does not exist on the object\n\nThis is a thing you know only after becoming familiar with the language and the specification. There's no intrinsic reason this would have to be true of an arbitrary operation called [[GetOwnProperty]]; rather, it's something which we arrange to be true, and the point of the assert is to point it out to the reader who may not be already be familiar with the language and specification.","format":"org.matrix.custom.html","formatted_body":"<blockquote>\n<p>to me, \"get own property returned empty\" means that such a property does not exist on the object</p>\n</blockquote>\n<p>This is a thing you know only after becoming familiar with the language and the specification. There's no intrinsic reason this would have to be true of an arbitrary operation called [[GetOwnProperty]]; rather, it's something which we arrange to be true, and the point of the assert is to point it out to the reader who may not be already be familiar with the language and specification.</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1736609052931,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$d4Hfs86aEiwrT0HEqun2rDfBEUeFxl-qF_aPWeV7Cds"},
{"content":{"body":"Makes sense, thank you <3","msgtype":"m.text"},"ts":1736610009658,"senderName":"Aapo Alasuutari","senderId":"@aapo.alasuutari:matrix.org","id":"$bpU_UnGmTcsjmWM-zDRVefNhzX_Gy766XAlA5JTmLhQ"}
]