[
{"content":{"body":"tbh i'd say that if the catch is in a separate file from the finally, then the finally file probably shouldn't be assuming the promise is handled","msgtype":"m.text"},"ts":1686619003827,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$nJ0A8LV1rCRiNVRRGHqGAldj4ofRhtiUcP7a-Abpgjg"},
{"content":{"body":" * tbh i'd say that if the catch is in a separate file from the finally, then the finally file probably shouldn't be assuming the promise is handled - iow, the author of one file shouldn't assume knowledge of the code in another one","m.new_content":{"body":"tbh i'd say that if the catch is in a separate file from the finally, then the finally file probably shouldn't be assuming the promise is handled - iow, the author of one file shouldn't assume knowledge of the code in another one","msgtype":"m.text"},"m.relates_to":{"event_id":"$nJ0A8LV1rCRiNVRRGHqGAldj4ofRhtiUcP7a-Abpgjg","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1686619021358,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$5RQHIuBQvlOmChbKNzhFBnNatHK--UvrNSd23ZCUo54"},
{"content":{"body":"Hey! I have a random question: was the idea of `Array.prototype.clear()` ever struck down in TC39? I've had repeated experiences of `array.length = 0` not being trusted by developers, despite being the best way to do clear an array, so I was thinking if a `.clear()` proposal would have a future","format":"org.matrix.custom.html","formatted_body":"Hey! I have a random question: was the idea of <code>Array.prototype.clear()</code> ever struck down in TC39? I've had repeated experiences of <code>array.length = 0</code> not being trusted by developers, despite being the best way to do clear an array, so I was thinking if a <code>.clear()</code> proposal would have a future","msgtype":"m.text"},"ts":1686654333149,"senderName":"matlokam","senderId":"@twixes3d:matrix.org","id":"$OTo-CCEAAl_Z8y-pNowKhS6ykFna5pMFI6G5TzFT0WY"},
{"content":{"body":"Just coming from Python, Java, C#, Rust, or almost any language, you expect `.clear()`","format":"org.matrix.custom.html","formatted_body":"Just coming from Python, Java, C#, Rust, or almost any language, you expect <code>.clear()</code>","msgtype":"m.text"},"ts":1686654393169,"senderName":"matlokam","senderId":"@twixes3d:matrix.org","id":"$-TNS8MVDu34GxmAG8hA_VEAQOfnfa060xTBeyOGZNis"},
{"content":{"body":"Why would `.clear` be trusted more? Btw, you can also use `arr.splice(0, arr.length)`","format":"org.matrix.custom.html","formatted_body":"Why would <code>.clear</code> be trusted more? Btw, you can also use <code>arr.splice(0, arr.length)</code>","msgtype":"m.text"},"ts":1686654432328,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$8yp_uY92dVZlmyehOyM_qrScBFlNY-jFcC-8dxglmW8"},
{"content":{"body":"It _seems_ sketchy, despite being valid, which is just an odd developer experience","format":"org.matrix.custom.html","formatted_body":"It <em>seems</em> sketchy, despite being valid, which is just an odd developer experience","msgtype":"m.text"},"ts":1686654513163,"senderName":"matlokam","senderId":"@twixes3d:matrix.org","id":"$4LfCorJmMOGflxoLFMx-0QwUabB8t6n6JYT4-p0RFIo"},
{"content":{"body":"It felt much more like regular JS in 2014, but JS has improved so much in terms of the developer experience since ES6, that now it just feels out of place :D","msgtype":"m.text"},"ts":1686654666160,"senderName":"matlokam","senderId":"@twixes3d:matrix.org","id":"$t2orXebaiX7kRnPukxty_eoVGXWDvF5AfFQZEWbPUOE"},
{"content":{"body":"For instance, of course `.indexOf() > -1` was and still is completely valid – nonetheless `.includes()` is _the_ clear way of doing the same since it was added ES2016","format":"org.matrix.custom.html","formatted_body":"For instance, of course <code>.indexOf() &gt; -1</code> was and still is completely valid – nonetheless <code>.includes()</code> is <em>the</em> clear way of doing the same since it was added ES2016","msgtype":"m.text"},"ts":1686654868522,"senderName":"matlokam","senderId":"@twixes3d:matrix.org","id":"$L_twy2AXDUY_0Ca2mFKTQQN75PkAysY5-qQ0fyE3cV8"},
{"content":{"body":"Not to mention the edge-case where you have non-array-index extra properties in an array instance, which will not be cleared by `array.length = 0;`","format":"org.matrix.custom.html","formatted_body":"Not to mention the edge-case where you have non-array-index extra properties in an array instance, which will not be cleared by <code>array.length = 0;</code>","msgtype":"m.text"},"ts":1686654992960,"senderName":"voidhedron","senderId":"@voidhedron:matrix.org","id":"$uzghr7nTXsNnP6Eb0Msl7N5HKtFwskgF9C3KDmFHI0M"},
{"content":{"body":"would those be cleared by a `.clear()` method though?","format":"org.matrix.custom.html","formatted_body":"would those be cleared by a <code>.clear()</code> method though?","msgtype":"m.text"},"ts":1686655018001,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$fWkBY5-AYrNwTFb1_einATbubPoWzMfxK9UkSjYx69U"},
{"content":{"body":"Imo they should","msgtype":"m.text"},"ts":1686655031113,"senderName":"voidhedron","senderId":"@voidhedron:matrix.org","id":"$ZT0xq7m21amJ9xgli19uI8WcAPR2OHWm7QpOwJUlmP4"},
{"content":{"body":"I can think of arguments in either direction\\","format":"org.matrix.custom.html","formatted_body":"I can think of arguments in either direction\\","msgtype":"m.text"},"ts":1686655042114,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$Nt-V4DMSwkTu06Uuz65vtAJbb6VFo8siqGcOGXmNFJ4"},
{"content":{"body":" * I can think of arguments in either direction","m.new_content":{"body":"I can think of arguments in either direction","msgtype":"m.text"},"m.relates_to":{"event_id":"$Nt-V4DMSwkTu06Uuz65vtAJbb6VFo8siqGcOGXmNFJ4","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1686655045595,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$YLI4k9oj7H3fVlZ1uXXd_nf1qhoWm4AhicC83HnYq54"},
{"content":{"body":"Well argument in favor of it is, if you *don't* want the behavior of clearing non-indexes, you can just resort back to the original length method","format":"org.matrix.custom.html","formatted_body":"Well argument in favor of it is, if you <em>don't</em> want the behavior of clearing non-indexes, you can just resort back to the original length method","msgtype":"m.text"},"ts":1686655082058,"senderName":"voidhedron","senderId":"@voidhedron:matrix.org","id":"$DJMYECvDrcYshJ0ju-xvs596Poqt1p6MpOm3C1U9Gn8"},
{"content":{"body":"Thinking about it further, we could also take this further and invert it","msgtype":"m.text"},"ts":1686655153440,"senderName":"voidhedron","senderId":"@voidhedron:matrix.org","id":"$AYzFY9U_nl1Ye99uqE6IpLX_oyO9_xQieavncywoDac"},
{"content":{"body":"`Map.prototype.clear` doesn't clear properties on the map object -- is array different because the indices are actual properties in the object?","format":"org.matrix.custom.html","formatted_body":"<code>Map.prototype.clear</code> doesn't clear properties on the map object -- is array different because the indices are actual properties in the object?","msgtype":"m.text"},"ts":1686655213528,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$x3y2KIgMqSbwWxBsrp228TZPKdTvL0vrIlzFhn-Zcuk"},
{"content":{"body":" * `Map.prototype.clear` doesn't remove properties on the map object -- is array different because the indices are actual properties in the object?","format":"org.matrix.custom.html","formatted_body":" * <code>Map.prototype.clear</code> doesn't remove properties on the map object -- is array different because the indices are actual properties in the object?","m.new_content":{"body":"`Map.prototype.clear` doesn't remove properties on the map object -- is array different because the indices are actual properties in the object?","format":"org.matrix.custom.html","formatted_body":"<code>Map.prototype.clear</code> doesn't remove properties on the map object -- is array different because the indices are actual properties in the object?","msgtype":"m.text"},"m.relates_to":{"event_id":"$x3y2KIgMqSbwWxBsrp228TZPKdTvL0vrIlzFhn-Zcuk","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1686655219918,"senderName":"Andreu Botella","senderId":"@abotella:igalia.com","id":"$bclu4elDhDXh0m_GjqdzmwSOWVOXhaznNioA1v5uD8s"},
{"content":{"body":"While to Array there is the distinction between indexes and properties, from an Object perspective, both are just properties, so what if instead clear() was added as an Object method?","msgtype":"m.text"},"ts":1686655221208,"senderName":"voidhedron","senderId":"@voidhedron:matrix.org","id":"$xKTjJJfrPn5h0Q1vX7OIYq1vqaA47cMAEjXc8q7uhbM"},
{"content":{"body":"and it would just generically work on arrays","msgtype":"m.text"},"ts":1686655238826,"senderName":"voidhedron","senderId":"@voidhedron:matrix.org","id":"$f6q0UdavFxoykNlfGn-AW6hy3MxIFHMFx8qwx4TUpqQ"},
{"content":{"body":"> <@abotella:igalia.com> `Map.prototype.clear` doesn't remove properties on the map object -- is array different because the indices are actual properties in the object?\n\nThat was my thinking at first there yes","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$x3y2KIgMqSbwWxBsrp228TZPKdTvL0vrIlzFhn-Zcuk?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@abotella:igalia.com\">@abotella:igalia.com</a><br><code>Map.prototype.clear</code> doesn't remove properties on the map object -- is array different because the indices are actual properties in the object?</blockquote></mx-reply>That was my thinking at first there yes","m.relates_to":{"m.in_reply_to":{"event_id":"$x3y2KIgMqSbwWxBsrp228TZPKdTvL0vrIlzFhn-Zcuk"}},"msgtype":"m.text"},"ts":1686655275440,"senderName":"voidhedron","senderId":"@voidhedron:matrix.org","id":"$YmLaxheNdS5znY-qYrErkvv404m_MzqUhxFz5ZhvAzQ"}
]