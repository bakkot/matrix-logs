[
{"content":{"body":"I'd like to do an informal poll! about coercion to integers in the context of Temporal","msgtype":"m.text","org.matrix.msc1767.text":"I'd like to do an informal poll! about coercion to integers in the context of Temporal"},"ts":1656972148935,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$Wj06stFg8YtpcZ71dMdvfzzYzrk8HP3lztYDp5bPV_o"},
{"content":{"body":"precedent in JS is to convert all sorts of nonsensical values to 0 if an integer is expected:","msgtype":"m.text","org.matrix.msc1767.text":"precedent in JS is to convert all sorts of nonsensical values to 0 if an integer is expected:"},"ts":1656972224623,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$llnxfh3kpwBBPz5HwmL1qH1tgZU74e1m5rseWk6Uv7M"},
{"content":{"body":"```js\n[1, 2, 3].slice(NaN) // => [1, 2, 3]\n[1, 2, 3].slice(\"foo\") // => [1, 2, 3]\n[1, 2, 3].slice(/regex/) // => [1, 2, 3]\n[1, 2, 3].slice(Math) // => [1, 2, 3]\n```","format":"org.matrix.custom.html","formatted_body":"<pre><code class=\"language-js\">[1, 2, 3].slice(NaN) // =&gt; [1, 2, 3]\n[1, 2, 3].slice(&quot;foo&quot;) // =&gt; [1, 2, 3]\n[1, 2, 3].slice(/regex/) // =&gt; [1, 2, 3]\n[1, 2, 3].slice(Math) // =&gt; [1, 2, 3]\n</code></pre>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"```js\n[1, 2, 3].slice(NaN) // => [1, 2, 3]\n[1, 2, 3].slice(\"foo\") // => [1, 2, 3]\n[1, 2, 3].slice(/regex/) // => [1, 2, 3]\n[1, 2, 3].slice(Math) // => [1, 2, 3]\n```","mimetype":"text/plain"},{"body":"<pre><code class=\"language-js\">[1, 2, 3].slice(NaN) // =&gt; [1, 2, 3]\n[1, 2, 3].slice(&quot;foo&quot;) // =&gt; [1, 2, 3]\n[1, 2, 3].slice(/regex/) // =&gt; [1, 2, 3]\n[1, 2, 3].slice(Math) // =&gt; [1, 2, 3]\n</code></pre>\n","mimetype":"text/html"}]},"ts":1656972238329,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$hm-E-DxB_bAGA6Hs8kyxan35Qdpjw70MUv5cn55ZFeo"},
{"content":{"body":"but not universally:","msgtype":"m.text","org.matrix.msc1767.text":"but not universally:"},"ts":1656972253120,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$MqdRx7b88jOfT7nQejWW9brxGRnlgsmB-6_jjYNgn28"},
{"content":{"body":"```js\n[].length = NaN // RangeError\nString.fromCodePoint(\"foo\") // RangeError\n```","format":"org.matrix.custom.html","formatted_body":"<pre><code class=\"language-js\">[].length = NaN // RangeError\nString.fromCodePoint(&quot;foo&quot;) // RangeError\n</code></pre>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"```js\n[].length = NaN // RangeError\nString.fromCodePoint(\"foo\") // RangeError\n```","mimetype":"text/plain"},{"body":"<pre><code class=\"language-js\">[].length = NaN // RangeError\nString.fromCodePoint(&quot;foo&quot;) // RangeError\n</code></pre>\n","mimetype":"text/html"}]},"ts":1656972256646,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$uiwJ1xssyPlPHKlC7jC9zeUBhD75jiwraQIxTd-6a70"},
{"content":{"body":"Temporal entry points currently work like the former","msgtype":"m.text","org.matrix.msc1767.text":"Temporal entry points currently work like the former"},"ts":1656972322203,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$LC4YqBuuojPWOPXfhKSFyNOsY8bx9PQ9qUp2k1yaDc0"},
{"content":{"body":"this leads to several bug-prone situations:","msgtype":"m.text","org.matrix.msc1767.text":"this leads to several bug-prone situations:"},"ts":1656972363686,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$y1YoRX_ubsbmxElaHMfl0z0h_GulowlCRvPXLH_clFU"},
{"content":{"body":"```js\nnew Temporal.Duration(\"foo\") // => zero-length duration ðŸ˜±\nTemporal.PlainDateTime.from(\"2022-03-20T00:00\").add({days: NaN}) // => 2022-03-20T00:00 ðŸ˜±\n```","format":"org.matrix.custom.html","formatted_body":"<pre><code class=\"language-js\">new Temporal.Duration(&quot;foo&quot;) // =&gt; zero-length duration ðŸ˜±\nTemporal.PlainDateTime.from(&quot;2022-03-20T00:00&quot;).add({days: NaN}) // =&gt; 2022-03-20T00:00 ðŸ˜±\n</code></pre>\n","msgtype":"m.text","org.matrix.msc1767.message":[{"body":"```js\nnew Temporal.Duration(\"foo\") // => zero-length duration ðŸ˜±\nTemporal.PlainDateTime.from(\"2022-03-20T00:00\").add({days: NaN}) // => 2022-03-20T00:00 ðŸ˜±\n```","mimetype":"text/plain"},{"body":"<pre><code class=\"language-js\">new Temporal.Duration(&quot;foo&quot;) // =&gt; zero-length duration ðŸ˜±\nTemporal.PlainDateTime.from(&quot;2022-03-20T00:00&quot;).add({days: NaN}) // =&gt; 2022-03-20T00:00 ðŸ˜±\n</code></pre>\n","mimetype":"text/html"}]},"ts":1656972398057,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$xHBp0Z88iXpKpgH46npQRGVMwdpxgJOP4mWAkN0uvpI"},
{"content":{"body":"therefore we are considering changing this coercion to an integer to be more restrictive","msgtype":"m.text","org.matrix.msc1767.text":"therefore we are considering changing this coercion to an integer to be more restrictive"},"ts":1656972428271,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$DiyQBPzsbPSX2N1NciGiTpVMkT87kxv6WfF1p_q5iO0"},
{"content":{"body":"I'd like to figure out if people are generally comfortable with this or it is likely to provoke a lot of discussion","msgtype":"m.text","org.matrix.msc1767.text":"I'd like to figure out if people are generally comfortable with this or it is likely to provoke a lot of discussion"},"ts":1656972510099,"senderName":"ptomato","senderId":"@pchimento:igalia.com","id":"$nuhxuooXNlzRldE3xOhOQrKmIdBXWLxfzNgvS_IjkQI"}
]