[
{"content":{"body":"why class field initialization order is all field initializers runs first, then the constructor?","msgtype":"m.text"},"ts":1682005949356,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$X2goCuxBq1jWdTIFnO28Hpo4CP2SIQlFqwMdINj50XA"},
{"content":{"body":"i thought it is more intuitive to run in source text order?","msgtype":"m.text"},"ts":1682005981368,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$Qx9MsUan3v21ptnPEJ6ckidz4QHhDxINY4kzs3Ro9f0"},
{"content":{"body":"like this:\n```js\nclass T extends Q {\n    field = 2\n    constructor() {\n        1\n        super()\n        3\n    }\n    field2 = 4\n}\n```","format":"org.matrix.custom.html","formatted_body":"<p>like this:</p>\n<pre><code class=\"language-js\">class T extends Q {\n    field = 2\n    constructor() {\n        1\n        super()\n        3\n    }\n    field2 = 4\n}\n</code></pre>\n","msgtype":"m.text"},"ts":1682006045703,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$lAPuw0AwjbxMlRoZO5l1dVo45xS1uf_3-q5VjtdLz2I"},
{"content":{"body":"spec order is 1-2-4-3","msgtype":"m.text"},"ts":1682006107381,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$iIdP6BrRiTGpMV0kUK-5lQbQJ8sV8Vb0_4wyVeJFOM4"},
{"content":{"body":"generally it's more useful to have fields set up before the constructor runs","msgtype":"m.text"},"ts":1682006774590,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$EBuFHeRCMJS98-HwGTY1QBn2e9GPIIMmSdopkDimEbA"},
{"content":{"body":"is there some design principles behind this?","msgtype":"m.text"},"ts":1682006798183,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$qfoe3ab0uDcg5F6OspIuEWe5XnGhUyXGFRUuEzfM4wc"},
{"content":{"body":"and is it related to decorators?","msgtype":"m.text"},"ts":1682006815029,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$iyGtpJbAu3Qb15ytAe3y6sJesJsTnuQ_0Lo655xZJpw"},
{"content":{"body":"if it ran in source text order then the `this` it installs field2 on might not be the actual instance, since the constructor could have returned any object","format":"org.matrix.custom.html","formatted_body":"if it ran in source text order then the <code>this</code> it installs field2 on might not be the actual instance, since the constructor could have returned any object","msgtype":"m.text"},"ts":1682008347135,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$MLaXoiT2nM1WwfwVu9tIJlgXLP5Dqjtwvg5p0Hu9W-o"},
{"content":{"body":"it's pretty important for *private* fields imo, at least, that all of them are installed on the same object, so you can never observe a partially \"set up\" instance","format":"org.matrix.custom.html","formatted_body":"it's pretty important for <em>private</em> fields imo, at least, that all of them are installed on the same object, so you can never observe a partially &quot;set up&quot; instance","msgtype":"m.text"},"ts":1682008380352,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$8cF7tBCaPHFamtHNRN60ymDvBk1w-2QEULV4hEi6Tk4"},
{"content":{"body":"source text order 1-2-3-4 also installed on the correct `this` value IMO","format":"org.matrix.custom.html","formatted_body":"source text order 1-2-3-4 also installed on the correct <code>this</code> value IMO","msgtype":"m.text"},"ts":1682008413317,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$A8hX6No4NQbPabRuhwHpntEh8erKEqIeUG3PXiLPiJI"},
{"content":{"body":"if line 6.5 did `return {}` which object would get field2?","format":"org.matrix.custom.html","formatted_body":"if line 6.5 did <code>return {}</code> which object would get field2?","msgtype":"m.text"},"ts":1682008537663,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$kebdB1OPtdXDlTvTeeczC82UnQSvhamGG0RJsP6IG_c"},
{"content":{"body":"oh...","msgtype":"m.text"},"ts":1682008550843,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$ACo_wEr3w4uwDi006JtJalO5ADiHj8Ft8_CHkY4DjGY"},
{"content":{"body":"ok I understand now","msgtype":"m.text"},"ts":1682008608526,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$TBxu2A8IqcdNIO4-poEp7rPZHGZKhyB4ZkpkRNqGoJA"}
]