[
{"content":{"body":"I created a small proposal:\nhttps://github.com/franciscop/import-meta-env\n\nAny thoughts? It's to standardize environment variables into `import.meta.env`, so that different runtimes/environments/etc can put them into a single place (inspired by Vite):\n\n```\nconst myvar = import.meta.env.MY_VARIABLE;\n```\n\nIf you think this could be valuable, I'll work then on writing a small polyfill and add some tests for the proposal!","format":"org.matrix.custom.html","formatted_body":"<p>I created a small proposal:<br>https://github.com/franciscop/import-meta-env</p>\n<p>Any thoughts? It's to standardize environment variables into <code>import.meta.env</code>, so that different runtimes/environments/etc can put them into a single place (inspired by Vite):</p>\n<pre><code>const myvar = import.meta.env.MY_VARIABLE;\n</code></pre>\n<p>If you think this could be valuable, I'll work then on writing a small polyfill and add some tests for the proposal!</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1722956496983,"senderName":"Francisco Presencia","senderId":"@franciscopresencia:matrix.org","id":"$XBvhFpd6AQXpFtysPKUG92lBb-e8lXlKYKXV-jsTXd4"},
{"content":{"body":"Francisco Presencia: that sort of thing doesn't really make sense in a generic JavaScript runtime, because many runtimes (e.g. the web) don't have a concept of \"environment variables\". that's really more of a server-specific thing, which is outside of the purview of TC39, but you could try wintercg. wintercg actually has a specific place to track `import.meta` properties: https://github.com/wintercg/import-meta-registry","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@franciscopresencia:matrix.org\">Francisco Presencia</a>: that sort of thing doesn't really make sense in a generic JavaScript runtime, because many runtimes (e.g. the web) don't have a concept of \"environment variables\". that's really more of a server-specific thing, which is outside of the purview of TC39, but you could try wintercg. wintercg actually has a specific place to track <code>import.meta</code> properties: https://github.com/wintercg/import-meta-registry","m.mentions":{"user_ids":["@franciscopresencia:matrix.org"]},"msgtype":"m.text"},"ts":1722961052901,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$RA0T8oOC6sKLa8GuUh4OptcNT-sHMmVAANeq1VpJPDk"},
{"content":{"body":"Ah that makes sense, thanks! I thought on the web as e.g. in React it makes sense to have an environment variable _for dev_, but you are right that once it's plain JS for web it doesn't make much sense to expect the e.g. browser to have environment variables! I'll update it for WinterCG, thanks!","format":"org.matrix.custom.html","formatted_body":"Ah that makes sense, thanks! I thought on the web as e.g. in React it makes sense to have an environment variable <em>for dev</em>, but you are right that once it's plain JS for web it doesn't make much sense to expect the e.g. browser to have environment variables! I'll update it for WinterCG, thanks!","m.mentions":{},"msgtype":"m.text"},"ts":1722961427767,"senderName":"Francisco Presencia","senderId":"@franciscopresencia:matrix.org","id":"$S0wF84ck79cqwVYQE5fyciKSJFvKnvV8ZLvAwYUMrqw"},
{"content":{"body":" * Ah that makes sense, thanks! I thought on the web as e.g. in React it makes sense to have an environment variable _for dev_, but you are right that once it's plain JS for web it doesn't make much sense to expect the e.g. browser to have environment variables! I'll update it for WinterCG, thanks! Update: [Added the PR to the WinterCG repo](https://github.com/wintercg/import-meta-registry/pull/5)!","format":"org.matrix.custom.html","formatted_body":" * Ah that makes sense, thanks! I thought on the web as e.g. in React it makes sense to have an environment variable <em>for dev</em>, but you are right that once it's plain JS for web it doesn't make much sense to expect the e.g. browser to have environment variables! I'll update it for WinterCG, thanks! Update: <a href=\"https://github.com/wintercg/import-meta-registry/pull/5\">Added the PR to the WinterCG repo</a>!","m.mentions":{},"m.new_content":{"body":"Ah that makes sense, thanks! I thought on the web as e.g. in React it makes sense to have an environment variable _for dev_, but you are right that once it's plain JS for web it doesn't make much sense to expect the e.g. browser to have environment variables! I'll update it for WinterCG, thanks! Update: [Added the PR to the WinterCG repo](https://github.com/wintercg/import-meta-registry/pull/5)!","format":"org.matrix.custom.html","formatted_body":"Ah that makes sense, thanks! I thought on the web as e.g. in React it makes sense to have an environment variable <em>for dev</em>, but you are right that once it's plain JS for web it doesn't make much sense to expect the e.g. browser to have environment variables! I'll update it for WinterCG, thanks! Update: <a href=\"https://github.com/wintercg/import-meta-registry/pull/5\">Added the PR to the WinterCG repo</a>!","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$S0wF84ck79cqwVYQE5fyciKSJFvKnvV8ZLvAwYUMrqw","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1722961607128,"senderName":"Francisco Presencia","senderId":"@franciscopresencia:matrix.org","id":"$Ng6ebtnUJsDuKYFJIqXKGBS6-Nmg5LH-50-VdUPDEUA"},
{"content":{"body":" * Ah that makes sense, thanks! I thought on the web as e.g. in React it makes sense to have an environment variable _for dev_, but you are right that once it's plain JS for web it doesn't make much sense to expect the e.g. browser to have environment variables! I'll update it for WinterCG, thanks!\nUpdate: [Added the PR to the WinterCG repo](https://github.com/wintercg/import-meta-registry/pull/5)!","format":"org.matrix.custom.html","formatted_body":" * Ah that makes sense, thanks! I thought on the web as e.g. in React it makes sense to have an environment variable <em>for dev</em>, but you are right that once it's plain JS for web it doesn't make much sense to expect the e.g. browser to have environment variables! I'll update it for WinterCG, thanks!<br>Update: <a href=\"https://github.com/wintercg/import-meta-registry/pull/5\">Added the PR to the WinterCG repo</a>!","m.mentions":{},"m.new_content":{"body":"Ah that makes sense, thanks! I thought on the web as e.g. in React it makes sense to have an environment variable _for dev_, but you are right that once it's plain JS for web it doesn't make much sense to expect the e.g. browser to have environment variables! I'll update it for WinterCG, thanks!\nUpdate: [Added the PR to the WinterCG repo](https://github.com/wintercg/import-meta-registry/pull/5)!","format":"org.matrix.custom.html","formatted_body":"Ah that makes sense, thanks! I thought on the web as e.g. in React it makes sense to have an environment variable <em>for dev</em>, but you are right that once it's plain JS for web it doesn't make much sense to expect the e.g. browser to have environment variables! I'll update it for WinterCG, thanks!<br>Update: <a href=\"https://github.com/wintercg/import-meta-registry/pull/5\">Added the PR to the WinterCG repo</a>!","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$S0wF84ck79cqwVYQE5fyciKSJFvKnvV8ZLvAwYUMrqw","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1722961615409,"senderName":"Francisco Presencia","senderId":"@franciscopresencia:matrix.org","id":"$YnrMsnrzSbOJOdoVw6QpPuZN8tLOyMoM39-Rz7J23nk"}
]