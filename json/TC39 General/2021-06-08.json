[
{"content":{"body":"bakkot: (re tail calls) you said \"instead move control back to the most recent `Let result be OrdinaryCallEvaluateBody(...)` step\". I assume you mean the most recent \"pending\" OrdinaryCallEvaluateBody step. But I don't think that would work, because the first thing after that call is \"Remove calleeContext from the execution context stack\", which you don't want to do, because PrepareForTailCall already removed that context from the stack.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: (re tail calls) you said &quot;instead move control back to the most recent <code>Let result be OrdinaryCallEvaluateBody(...)</code> step&quot;. I assume you mean the most recent &quot;pending&quot; OrdinaryCallEvaluateBody step. But I don't think that would work, because the first thing after that call is &quot;Remove calleeContext from the execution context stack&quot;, which you don't want to do, because PrepareForTailCall already removed that context from the stack.","msgtype":"m.text"},"ts":1623126513878,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$WgYRJjYAcs-WH0Zce2VY_7FSuUuBUzWojU12OlBArmE"},
{"content":{"body":" * bakkot: (re tail calls) you said \"instead move control back to the most recent `Let result be OrdinaryCallEvaluateBody(...)` step\". I assume you mean the most recent \"pending\" OrdinaryCallEvaluateBody step. But I don't think that would work, because the first thing after that step is \"Remove calleeContext from the execution context stack\", which you don't want to do, because PrepareForTailCall already removed that context from the stack.","format":"org.matrix.custom.html","formatted_body":" * <a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: (re tail calls) you said &quot;instead move control back to the most recent <code>Let result be OrdinaryCallEvaluateBody(...)</code> step&quot;. I assume you mean the most recent &quot;pending&quot; OrdinaryCallEvaluateBody step. But I don't think that would work, because the first thing after that step is &quot;Remove calleeContext from the execution context stack&quot;, which you don't want to do, because PrepareForTailCall already removed that context from the stack.","m.new_content":{"body":"bakkot: (re tail calls) you said \"instead move control back to the most recent `Let result be OrdinaryCallEvaluateBody(...)` step\". I assume you mean the most recent \"pending\" OrdinaryCallEvaluateBody step. But I don't think that would work, because the first thing after that step is \"Remove calleeContext from the execution context stack\", which you don't want to do, because PrepareForTailCall already removed that context from the stack.","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a>: (re tail calls) you said &quot;instead move control back to the most recent <code>Let result be OrdinaryCallEvaluateBody(...)</code> step&quot;. I assume you mean the most recent &quot;pending&quot; OrdinaryCallEvaluateBody step. But I don't think that would work, because the first thing after that step is &quot;Remove calleeContext from the execution context stack&quot;, which you don't want to do, because PrepareForTailCall already removed that context from the stack.","msgtype":"m.text"},"m.relates_to":{"event_id":"$WgYRJjYAcs-WH0Zce2VY_7FSuUuBUzWojU12OlBArmE","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1623126557964,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$kWz73htC6s7DvXlpkVHuSBrTuyDjopZYI05LiSuIO5I"},
{"content":{"body":"jmdyck: ah, yes, good point. I'm not sure exactly where it's mean to return to, then","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jmdyck:matrix.org\">jmdyck</a>: ah, yes, good point. I'm not sure exactly where it's mean to return to, then","msgtype":"m.text"},"ts":1623127154252,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$HfLKWiKyoUFE3g5-pdOMWqbnD6OGIBozJPySJUqVazQ"},
{"content":{"body":"possibly something like \"return to that step, but don't do the following one because calleeContext has already been removed\"?","msgtype":"m.text"},"ts":1623127169642,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$G4jOGyk5R3_3vxRF6trgH5BBbD4HrCgNMDh7ReceMRg"},
{"content":{"body":"in the case that the tailcall occurs in function being invoked via `[[Call]]` you could return from that `[[Call]]`, but that doesn't work if the tailcall occurs while doing `[[Construct]]`","format":"org.matrix.custom.html","formatted_body":"in the case that the tailcall occurs in function being invoked via <code>[[Call]]</code> you could return from that <code>[[Call]]</code>, but that doesn't work if the tailcall occurs while doing <code>[[Construct]]</code>","msgtype":"m.text"},"ts":1623127263766,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$-sxwN-OQdEkWOSbDPDSR50LALE3iECu7BMGHGmf6GkU"},
{"content":{"body":"My current guess is that, if fn A calls fn B in tail position, then `Call(B)` returns to where `Call(A)` would have returned to: step 7 in EvaluateCall, but it's an outer execution of EvaluateCall.","format":"org.matrix.custom.html","formatted_body":"My current guess is that, if fn A calls fn B in tail position, then <code>Call(B)</code> returns to where <code>Call(A)</code> would have returned to: step 7 in EvaluateCall, but it's an outer execution of EvaluateCall.","msgtype":"m.text"},"ts":1623127347658,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$lMFgwoOw3fkKM0TeSvBraxfxeXDc3AsLg9ndN3QNmVs"},
{"content":{"body":"That works if you're just doing calls, but doesn't work if fn A was invoked with `Construct(A)` rather than `Call(A)`","format":"org.matrix.custom.html","formatted_body":"That works if you're just doing calls, but doesn't work if fn A was invoked with <code>Construct(A)</code> rather than <code>Call(A)</code>","msgtype":"m.text"},"ts":1623127477646,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$NVYTwSHGOYo9eZQiks9NX2nV8-PrFA9-zB48_bJM3_8"},
{"content":{"body":"it's possible that's just an oversight","msgtype":"m.text"},"ts":1623127505070,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$4WxwsgTA2IotsYknwlUwl34eY1UTdbYiSXxgRcHBeNg"},
{"content":{"body":"Hmm","msgtype":"m.text"},"ts":1623127558508,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$D1NyHkq3B4OL1dGKu_VHwPjndkqdvu948_tcsBDiStE"},
{"content":{"body":"I wonder what engine262 does here","msgtype":"m.text"},"ts":1623127662147,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$LqOFNSv5rRGzjX1qHcPcqAXTWYIVPrBaQA5BoBwQR7I"},
{"content":{"body":"It's an oversight for me. I don't think you can call it an oversight for the spec, because the spec says almost nothing about where control returns to.","msgtype":"m.text"},"ts":1623127982015,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$MEQjvPKUxL1f7FXftB98w_fR6xX880xxxScmTJCMcjo"},
{"content":{"body":" * It's an oversight for me. I don't think you can call it an oversight for the spec, because the spec says almost nothing about where control returns to in tail calls.","m.new_content":{"body":"It's an oversight for me. I don't think you can call it an oversight for the spec, because the spec says almost nothing about where control returns to in tail calls.","msgtype":"m.text"},"m.relates_to":{"event_id":"$MEQjvPKUxL1f7FXftB98w_fR6xX880xxxScmTJCMcjo","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1623128008184,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$RyGDMuOP-kBF-V81-8s3df9C5qCmyZNhnmg-qY8s9L0"},
{"content":{"body":"I'm going to add a comment about tail calls to 2400.","msgtype":"m.text"},"ts":1623128067536,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$YhERSI-lfWVYTQhPx-bU7CHM7r5HjhYaTtYzm9BG388"},
{"content":{"body":"(tomorrow)","msgtype":"m.text"},"ts":1623128541526,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$egcgvEb-Dx4AS3gO4YsRs0Xn8lFmn1JKLAnxJBQHzb8"},
{"content":{"body":"or maybe i should make it a new issue, since the solution will probably be different from the solution for the stuff that's currently in 2400.","msgtype":"m.text"},"ts":1623128852902,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$UYf4hQQPUy8VrEjlyhl8NpC0SDNXigudjFDKu_F8uAM"},
{"content":{"body":"either way","msgtype":"m.text"},"ts":1623128916858,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$vPGM2jU7lPRIQdjf1_9pp87jc_1EwfEFy7WTWd3Eoqk"},
{"content":{"body":"also tailcalls are a huge political mess which sucks huge amounts of time and energy whenever we get into it, so everyone tries to avoid the topic","msgtype":"m.text"},"ts":1623128966991,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$QMpIEYrc82ebC1jS_mIofVfljmA1DpfMww_eLP3kw3I"},
{"content":{"body":"I wonder if I could just email Allen and get him to explain what he was thinking when he wrote all this","msgtype":"m.text"},"ts":1623129353820,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$ZcXxUN4-Qk73o_sLWmAVCavN65zUWG_eRzXd74552LY"},
{"content":{"body":"might be worth a shot","msgtype":"m.text"},"ts":1623129360517,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$g05lV_imFoJaNiY9Kjp8_N6DEnacX3ITWf2Fv0G_Lgg"},
{"content":{"body":"oh that's cheating! :)","msgtype":"m.text"},"ts":1623129407516,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$w_59pxh6UzSviI9WQXepnof_kV14Ix7hnc6afZxgxCY"},
{"content":{"body":"I suppose he's probably busy with hopl at the moment anyway","msgtype":"m.text"},"ts":1623130344483,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Du0ITyptVUm5aja2eZU4JKMIIh_L5D-Q7BMUqiCY7Zc"},
{"content":{"body":"I thought hopl was last year, but i see it was postponed.","msgtype":"m.text"},"ts":1623130568799,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$EnsQpS8z151QnzlxtW5lVbQZfmbK52zZyT045W9nGpE"},
{"content":{"body":"indeed","msgtype":"m.text"},"ts":1623130626537,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$v84jNxmLHohAdAix5xqGzC53BkESqoFV5nX1ed2-dMM"},
{"content":{"body":"he finished the paper last year, I believe, but I don't know what the status of the accompanying talk is","msgtype":"m.text"},"ts":1623130639795,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$rOZR4k1yH3_zahz_TAposZPS3Y4R50_fwbGufHhT_S8"},
{"content":{"body":"if it were me I'd've been putting off writing the talk until about now","msgtype":"m.text"},"ts":1623130650479,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$SNOaY0VcRTqwRipYhJaTFkZ4tf3YlLlOy-_dMQ3nwPo"},
{"content":{"body":"http://test262.report appears to be down.","msgtype":"m.text"},"ts":1623162263118,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$sMSsD-A5kGxU2LSBXvY-h6dPjTV84h9lLqK2kGggT9U"},
{"content":{"body":"jmdyck: yes, for a while now","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jmdyck:matrix.org\">jmdyck</a>: yes, for a while now","msgtype":"m.text"},"ts":1623162294365,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$MYjT23anhoifqeeF3BjxfRh4FdLqrnCfTzG7SCy3XEo"},
{"content":{"body":"this is the issue: https://github.com/bocoup/test262-report-issue-tracker/issues/27","msgtype":"m.text"},"ts":1623162305974,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$ODK0ugOLHrDSKIkSVnrYU3NYanXOLpfk4YN1gVSxyHU"},
{"content":{"body":"i took a snapshot a few days ago when it was up (it is intermittent): http://web.archive.org/web/20210603160512/https://test262.report/","msgtype":"m.text"},"ts":1623162384459,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$_WLmuFC2yu20RlaySxbNOJ8qRB5qF_0jlomaA2fDcAM"},
{"content":{"body":"Yeah, I found the archive.org snapshot, but I think it's incomplete (or the navigation is off).","msgtype":"m.text"},"ts":1623162485690,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$IFLdOZ1A3OMIn0OB4Qdfh0fQn82Dg9tclbrIj2RCZJU"},
{"content":{"body":"hmm maybe the crawler didn't grab everything... what is it missing?","msgtype":"m.text"},"ts":1623162567569,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$qKOtRrvseGAQ9s12u_rvCGUb0toXUqiFjKCUO8Xgl5M"},
{"content":{"body":"ill make sure i catch it the next time i go to take a snapshot","msgtype":"m.text"},"ts":1623162577414,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$7k0SCmVh4_OCuR36uMq3PJaqF3ROBUxL0CvdNV8SV6Y"},
{"content":{"body":"oh i see","msgtype":"m.text"},"ts":1623162613685,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$2hEICjgaOM8z1KiFcEMeogNfyuRy5WDVE3KyvSJo-7Y"},
{"content":{"body":"darn","msgtype":"m.text"},"ts":1623162616537,"senderName":"yulia","senderId":"@yulia:mozilla.org","id":"$QKdX4b_idBhrnmsL4APCPwRvRqZK4H_sBk4BIGfESyU"},
{"content":{"body":"E.g., if you click on \"Language Syntax\", I get \"The Wayback Machine has not archived that URL.\"","msgtype":"m.text"},"ts":1623162678296,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$6dIZzMKkg56b_vPa0zXtGoo7Lj8Flc-NvYp3h_agBCc"},
{"content":{"body":" * E.g., if I click on \"Language Syntax\", I get \"The Wayback Machine has not archived that URL.\"","m.new_content":{"body":"E.g., if I click on \"Language Syntax\", I get \"The Wayback Machine has not archived that URL.\"","msgtype":"m.text"},"m.relates_to":{"event_id":"$6dIZzMKkg56b_vPa0zXtGoo7Lj8Flc-NvYp3h_agBCc","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1623162687852,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$AlqPmPgWbXC9CAMnQYbcG0nETuSWkX1ewzM3vz6-kX0"},
{"content":{"body":"And yet, if you check http://web.archive.org/web/*/https://test262.report/browse/language/* , archive.org *has* archived lots of pages under /language/, so I'm not sure what's going on.","format":"org.matrix.custom.html","formatted_body":"And yet, if you check http://web.archive.org/web/<em>/https://test262.report/browse/language/</em> , archive.org <em>has</em> archived lots of pages under /language/, so I'm not sure what's going on.","msgtype":"m.text"},"ts":1623162892754,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$mLb5SjXmYEMUnhpuKFWTaMLpazl4mrQ1oz8SPNeDWsk"},
{"content":{"body":" * And yet, if you check `http://web.archive.org/web/*/https://test262.report/browse/language/*` , archive.org _has_ archived lots of pages under /language/, so I'm not sure what's going on.","format":"org.matrix.custom.html","formatted_body":" * And yet, if you check <code>http://web.archive.org/web/*/https://test262.report/browse/language/*</code> , archive.org <em>has</em> archived lots of pages under /language/, so I'm not sure what's going on.","m.new_content":{"body":"And yet, if you check `http://web.archive.org/web/*/https://test262.report/browse/language/*` , archive.org _has_ archived lots of pages under /language/, so I'm not sure what's going on.","format":"org.matrix.custom.html","formatted_body":"And yet, if you check <code>http://web.archive.org/web/*/https://test262.report/browse/language/*</code> , archive.org <em>has</em> archived lots of pages under /language/, so I'm not sure what's going on.","msgtype":"m.text"},"m.relates_to":{"event_id":"$mLb5SjXmYEMUnhpuKFWTaMLpazl4mrQ1oz8SPNeDWsk","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1623162946965,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$1EROqZDq02203eSG67d3mleLrRqDzXM3VXg-QKGPNB8"},
{"content":{"body":"bakkot: the issue turned into a PR: https://github.com/tc39/ecma262/pull/2430","msgtype":"m.text"},"ts":1623188280670,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$oNJjv0gJ7eMqivhZVCmvS-MajvGMBiSrPgUKwpqB5QI"},
{"content":{"body":" * @bakkot: the issue turned into a PR: https://github.com/tc39/ecma262/pull/2430","m.new_content":{"body":"@bakkot: the issue turned into a PR: https://github.com/tc39/ecma262/pull/2430","msgtype":"m.text"},"m.relates_to":{"event_id":"$oNJjv0gJ7eMqivhZVCmvS-MajvGMBiSrPgUKwpqB5QI","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1623188288512,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$rorrTJ-RJpme9zIsuw-e-QrTEw7GaQYgnRy9l6Kaqh8"},
{"content":{"body":" * bakkot: the issue turned into a PR: https://github.com/tc39/ecma262/pull/2430","m.new_content":{"body":"bakkot: the issue turned into a PR: https://github.com/tc39/ecma262/pull/2430","msgtype":"m.text"},"m.relates_to":{"event_id":"$oNJjv0gJ7eMqivhZVCmvS-MajvGMBiSrPgUKwpqB5QI","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1623188294468,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$W0UnufQ0lP9DFpvKwxcUS_zEUmH7sO3zLXRcpzz-XwE"},
{"content":{"body":"sweet","msgtype":"m.text"},"ts":1623190012686,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$wV1NQ-zqOyUoK0Jl5rCctsWZwTLwo3gzPqOoT2C1Fn4"}
]