[
{"content":{"body":"I think for future large changes like class fields it would be nice to split them into multiple commits ","msgtype":"m.text"},"ts":1626308852801,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$pqMx-20NNMwCWjUrKIC3Vn6mF0f-rP3L013aBYOJUnk"},
{"content":{"body":"it's certainly nicer that way, but it's often a great deal of work","msgtype":"m.text"},"ts":1626309896898,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Fd3JzAYrRH-mxql-LywKgUjLppLQhLqnJ8u9wTPLXL0"},
{"content":{"body":"I'd be open to doing it if it's something many people would get a lot of benefit from","msgtype":"m.text"},"ts":1626309934203,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$nscruoAWjaQH1cI6WMsFtbIFd2aEQlhe-iXWeH3OpIk"},
{"content":{"body":"i can't speak for anyone else but i would certainly benefit from it","msgtype":"m.text"},"ts":1626310044171,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$KF1Nb3lcsRLG6rIjIRBEwMdJeTJ--QIMsAy9rBCWfwU"},
{"content":{"body":"We did a bunch of work to maintain them separately for a while across rebases but it was ultimately merged","msgtype":"m.text"},"ts":1626311932904,"senderName":"littledan","senderId":"@dehrenberg:igalia.com","id":"$SX1w0269RmaUeyTAKdkAZYiKMDKGTDcH3ozV9oGi8wk"},
{"content":{"body":"It would help to know why anyone would benefit","msgtype":"m.text"},"ts":1626311943196,"senderName":"littledan","senderId":"@dehrenberg:igalia.com","id":"$3Fn8FoD0bX9UwbOXtgnD2V93c_yDC0z6iLOEoIeQOaM"},
{"content":{"body":"Engines did not end up slicing up shipping based on the proposal split","msgtype":"m.text"},"ts":1626311977800,"senderName":"littledan","senderId":"@dehrenberg:igalia.com","id":"$kkxxUr7N1TPwhr879iBFDg7nLmunLgqyvtoV3ItfuqY"},
{"content":{"body":"oh i don't mean by the individual field types","msgtype":"m.text"},"ts":1626312001011,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$570CT3DR5DNIPKutAOXcs3Y5KZP8l6_DiSq8R6qI33k"},
{"content":{"body":"The state of the language with the different subsets is well-documented; it wasn't clear to me what multiple commits would give us","msgtype":"m.text"},"ts":1626312021401,"senderName":"littledan","senderId":"@dehrenberg:igalia.com","id":"$LohHarE2zLU1JZM-8onhPoA3PI0-ydOgeT-70o2q4fA"},
{"content":{"body":"i mean like, there is a lot of refactoring across various things that happened to enable \"class fields\" in the general sense","msgtype":"m.text"},"ts":1626312023016,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$juei_xLav90vgLbIunxMpyqQ2WsAnrBH9f1NVNwsIh8"},
{"content":{"body":"OK, well, it sounds like you're asking for an even more involved factoring then","msgtype":"m.text"},"ts":1626312061817,"senderName":"littledan","senderId":"@dehrenberg:igalia.com","id":"$fygbcIV2gSoB7lNYhmZbt3un1P-2KJQguPjjKANIkrQ"},
{"content":{"body":"going over thousands of lines of diff to understand what changed is a very difficult way to figure it out","msgtype":"m.text"},"ts":1626312065617,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$YcSb-7BTFXnXeMHlaIqykkpeWeV8_60ORHGN_6Sn80c"},
{"content":{"body":"I dunno, I am happy to answer questions","msgtype":"m.text"},"ts":1626312079392,"senderName":"littledan","senderId":"@dehrenberg:igalia.com","id":"$aYXKe9XHTy6dfqv8foxexm5-6WN3uiVLDhRsU0cTNs8"},
{"content":{"body":"But basically no existing semantics changed, only new things were added","msgtype":"m.text"},"ts":1626312153268,"senderName":"littledan","senderId":"@dehrenberg:igalia.com","id":"$f54UuvIKwrRjg-afPeFWI11Teqqdl8j_Wle1_3OnXRo"},
{"content":{"body":"i'm hearing gus' request as, smaller git commits so that one can choose to look at smaller chunks of conceptual additions at a time. which is definitely a difficult ask, and on class fields in particular would have likely been exceedingly difficult since it was the combining of three repos","msgtype":"m.text"},"ts":1626312302436,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$_BRR7hplpcjbc6Hi3nKtTnRyuVRIzQD09Fmc8rzcThU"},
{"content":{"body":" * i'm hearing gus' request as, smaller git commits so that one can choose to look at smaller chunks of conceptual additions at a time. which is definitely a difficult ask (but a nice to have), and on class fields in particular would have likely been exceedingly difficult since it was the combining of three repos","m.new_content":{"body":"i'm hearing gus' request as, smaller git commits so that one can choose to look at smaller chunks of conceptual additions at a time. which is definitely a difficult ask (but a nice to have), and on class fields in particular would have likely been exceedingly difficult since it was the combining of three repos","msgtype":"m.text"},"m.relates_to":{"event_id":"$_BRR7hplpcjbc6Hi3nKtTnRyuVRIzQD09Fmc8rzcThU","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1626312309591,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$kLZ6fqKrBtEoBdHwf2Iz196jLooOqtmjm_RKIZLCXhU"},
{"content":{"body":"yeah for example, moving classes from methods to fields, without adding all the new field kinds, might have been one step, idk","msgtype":"m.text"},"ts":1626312384063,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$C90Jpin-7FKaq8Cxm9cyBdfBXNIxfPQolLZHzjB04Bg"},
{"content":{"body":"i don't think it matters too much, the past is the past","msgtype":"m.text"},"ts":1626312392385,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$A0RCgmpCvGVD5dfrcpwJsxXhZINkg2htLRQ__bYTTs4"},
{"content":{"body":"yeah, to be clear, it would definitely be an after-all-other-work-is-done refactoring","msgtype":"m.text"},"ts":1626313076842,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$YQcWR4mxSmMKrtnKGNMlpuf9w5b6zO-O5KQC1PEF_uk"},
{"content":{"body":"which is pretty common for this type of thing, it's just a bunch of work","msgtype":"m.text"},"ts":1626313092142,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$Jb5bHzLYkq1kRjg0mGIMAcTz4B9_zCW9gfyhi8XHxrc"},
{"content":{"body":"in my experience it actually makes it much easier if you start out keeping commits separate, and keep followup changes split into separate commits that point to the ones they should be squashed into later - but it's definitely not a natural way of working with git for many","msgtype":"m.text"},"ts":1626313193734,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$7IqP6M69WxMRGWFjWGIWSf4-T7_-_q63h2HPpXGgivo"},
{"content":{"body":"`git rerere` can help a lot with allowing more commits","format":"org.matrix.custom.html","formatted_body":"<code>git rerere</code> can help a lot with allowing more commits","msgtype":"m.text"},"ts":1626313364507,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$ftHt3dxGYmXRr3Mv9Hw2HN1u_8XCX8IIcosHs8cGtNQ"},
{"content":{"body":"for annoying rebases","msgtype":"m.text"},"ts":1626313368120,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$DiUt90kNribwLU3yuYEbWXM2ZQVa4nCljEtIkuVEgRA"},
{"content":{"body":"ljharb: if you do the work in a way where that works, yeah","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@ljharb:matrix.org\">ljharb</a>: if you do the work in a way where that works, yeah","msgtype":"m.text"},"ts":1626313634652,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$O1srUaym-MvMSlLe6GNAGZlVnr5ToTslsehsDASkzmw"},
{"content":{"body":"often there's a big refactor that happens across code touched by many commits, so often you kind of need to come up with the story you're going to tell once you have everything created","msgtype":"m.text"},"ts":1626313645715,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$j4f8eFJOCXyUBupS5a82Nghuo4mydfdcJSS-IG68Kdg"},
{"content":{"body":"which is probably what I would have done for class fields","msgtype":"m.text"},"ts":1626313652032,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$5PEIdLO8SlQeGqqHbSuXDYElMQXoU6-wWC6-6mVcEac"},
{"content":{"body":"very fair point","msgtype":"m.text"},"ts":1626313657828,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$PUANNW2tY3iXbE-BKJCiDYsjvuN2_Vx3gbsTs3N-u6M"},
{"content":{"body":"If someone wants to contribute this history refactoring, we can probably find time in Igalia to review it, but we don't plan to spend time writing it ourselves.","msgtype":"m.text"},"ts":1626319468040,"senderName":"littledan","senderId":"@dehrenberg:igalia.com","id":"$HTI_o-qVQnqF2DgofBJp_NO-KYhPHHmGwlxiph_CuPM"},
{"content":{"body":"we wouldn't change the commits that have landed - it's more something to think about for future large PRs, i think","msgtype":"m.text"},"ts":1626319531773,"senderName":"ljharb","senderId":"@ljharb:matrix.org","id":"$h8IojxLJqoPAy-7deDWM9jJkOx6cqQGSNigNwdMoZXA"}
]