[
{"content":{"body":"is there a transform for the current decorator proposal yet","msgtype":"m.text"},"ts":1634084807172,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$DLVBYniSM8ar9Trj82pCfCeYp0k8foCoh0iVBOfk1j8"},
{"content":{"body":"devsnek: https://javascriptdecorators.org/ exists, though I don't think it has perfect fidelity","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@devsnek:matrix.org\">devsnek</a>: https://javascriptdecorators.org/ exists, though I don't think it has perfect fidelity","msgtype":"m.text"},"ts":1634097369729,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$buQk0RI55FnTMiq4LVL_HiJa0sUnrwandjixSgqy2JI"},
{"content":{"body":"The Babel plugin will probably be released around the end of the year (we have a minor release every two months, and the transform is not ready yet for the next minor)","format":"org.matrix.custom.html","formatted_body":"The Babel plugin will probably be released around the end of the year (we have a minor release every two months, and the transform is not ready yet for the next minor)","msgtype":"m.text","m.relates_to":{"m.in_reply_to":{"event_id":"$DLVBYniSM8ar9Trj82pCfCeYp0k8foCoh0iVBOfk1j8"}}},"ts":1634134505323,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$KuR5xai4vhNcM_kjezBUUvOqRZ-RFDDbd4oJDV2XVuE"},
{"content":{"body":"> <@devsnek:matrix.org> is there a transform for the current decorator proposal yet\n\n * The Babel plugin will probably be released around the end of the year (we have a minor release every two months, and the transform is not ready yet for the next minor)","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$DLVBYniSM8ar9Trj82pCfCeYp0k8foCoh0iVBOfk1j8?via=matrix.org&amp;via=igalia.com&amp;via=mozilla.org\">In reply to</a> <a href=\"https://matrix.to/#/@devsnek:matrix.org\">@devsnek:matrix.org</a><br>is there a transform for the current decorator proposal yet</blockquote></mx-reply> * The Babel plugin will probably be released around the end of the year (we have a minor release every two months, and the transform is not ready yet for the next minor)","m.new_content":{"body":"The Babel plugin will probably be released around the end of the year (we have a minor release every two months, and the transform is not ready yet for the next minor)","format":"org.matrix.custom.html","formatted_body":"The Babel plugin will probably be released around the end of the year (we have a minor release every two months, and the transform is not ready yet for the next minor)","msgtype":"m.text"},"m.relates_to":{"event_id":"$KuR5xai4vhNcM_kjezBUUvOqRZ-RFDDbd4oJDV2XVuE","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1634134513975,"senderName":"nicolo-ribaudo","senderId":"@nicolo-ribaudo:matrix.org","id":"$qs_aWUCnZTNQZrbScUhA7IQKV6VINOj5t6yJPJ5l884"},
{"content":{"body":"honestly i don't think anyone would complain if decorating a function made it not hoist","msgtype":"m.text"},"ts":1634137240718,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$n-v6qaq_unfZqm9ZDkJiQvhHj66q8Ro619mjuixj7q4"},
{"content":{"body":"I would? Not hoisting is really annoying in non-trivial files, since it means the contents of your functions imposes an ordering on the functions themselves.","msgtype":"m.text"},"ts":1634139577752,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$pNHig9itRfBpRJY_STdTcMrp-ZYUNwsDF9oZY03qcJo"},
{"content":{"body":"It's why I almost never do the `const fn = x=>...;` thing that all the kids are doing these days.","format":"org.matrix.custom.html","formatted_body":"It's why I almost never do the <code>const fn = x=&gt;...;</code> thing that all the kids are doing these days.","msgtype":"m.text"},"ts":1634139613965,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$h_Lw_AWeLOgM0ZJPh-K0lZGevZu4ZSfppdC6a2BZvas"},
{"content":{"body":"TabAtkins: a lot of people order stuff by use ","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@tabatkins:matrix.org\">TabAtkins</a>: a lot of people order stuff by use","msgtype":"m.text"},"ts":1634151998839,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$TNl_pQUIG4L1DPckPTe6XWMtWrnXu6qGA1eSpnmy464"},
{"content":{"body":"i think the two most popular eslint configs enforce that","msgtype":"m.text"},"ts":1634152008060,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$AUqfWmlJYWTfJpaiewZgk9_XnSCltitjLN_1XjZlG5o"},
{"content":{"body":"and it would only happen if you decorated something","msgtype":"m.text"},"ts":1634152025652,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$E1A1XHQY7_-_7E5eYeprhLuLuxcSgtroaw0QWoN78ng"},
{"content":{"body":"also how often do you need the pre-evaluate hoisting? even if stuff is out of order without the hosting it generally works at runtime cuz its after all the definitions are evaluated","msgtype":"m.text"},"ts":1634152150842,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$7OCv5jO-DJrOx86SyD4FBsI2geVBp7w_VEJKN8Lk2Hg"},
{"content":{"body":"const/let impose a lexical tdz tho, so things preceding them that make reference to the binding can't find them, right? or do they capture a lexical ref and only complain if it's actually executed before hitting the variable def?","msgtype":"m.text"},"ts":1634153318197,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$wQlywAfT8csejaQKFMDikIx3kL248txy6htUYfQ6N5Y"},
{"content":{"body":"it's been a while since i've run into issues, I just remember having problems at some point.","msgtype":"m.text"},"ts":1634153332977,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$PTzTPuZj208IJU5UDO2D7gbOBH8jN-tr2HM49X3a-AQ"},
{"content":{"body":"TabAtkins: this code works\n```js\nconst a = () => b;\nconst b = 2;\na();\n```","format":"org.matrix.custom.html","formatted_body":"<p><a href=\"https://matrix.to/#/@tabatkins:matrix.org\">TabAtkins</a>: this code works</p>\n<pre><code class=\"language-js\">const a = () =&gt; b;\nconst b = 2;\na();\n</code></pre>\n","msgtype":"m.text"},"ts":1634153379898,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$WG2hNuOhgtBNBtQyhtF3XpvEX1zRGuAqztzJK8IxXLI"},
{"content":{"body":"okay, i don't remember the issues i've run into in the past, then","msgtype":"m.text"},"ts":1634153425719,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$CyVfTmJ9W6vjVdPXKxu_9GyOGaaINsMc5SfudomkCII"},
{"content":{"body":"the case that breaks is if you call `a()` before `const b = 2`","format":"org.matrix.custom.html","formatted_body":"the case that breaks is if you call <code>a()</code> before <code>const b = 2</code>","msgtype":"m.text"},"ts":1634153450448,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$NPofUM3sGINdfFZdRLZMHDPsM0HkNjBlNXLnQ9NQ3v4"},
{"content":{"body":"which i think is ","msgtype":"m.text"},"ts":1634153454846,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$0oIoaK34nx8AnXvzFPIzm5dpFKMPyKIzV_C1R7nQLNg"},
{"content":{"body":"exceedingly rare code","msgtype":"m.text"},"ts":1634153457632,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$JZf4NLU9yY8vIiPWC5Dctzg0-ciSPxfEXionyyZ4Sm8"},
{"content":{"body":"i suspect it might have been something like starting a rAF() loop by calling the function immediatley after defining it, and then it blowing up because it depended on functions defined later in the file with const","msgtype":"m.text"},"ts":1634153513739,"senderName":"TabAtkins","senderId":"@tabatkins:matrix.org","id":"$ih0jhSb7w9BJInnL6Bh-0qwPNrh9ZIdrLa-B8Qg9hTk"},
{"content":{"body":"ah that sounds like smth that could happen","msgtype":"m.text"},"ts":1634153532146,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$XoJaDGRvpnCjVNFTf3DZsAXGnq2i_mx1Q-6Yo29-JtQ"},
{"content":{"body":"but if you did update your raf code to use a decorator you could always adjust the call order :P","msgtype":"m.text"},"ts":1634153545810,"senderName":"devsnek","senderId":"@devsnek:matrix.org","id":"$se7EjEi0HBIq-SSReAL_yU79i-i0N_yZF-N-gdsbL7w"}
]