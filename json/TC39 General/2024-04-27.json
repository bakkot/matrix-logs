[
{"content":{"body":"ecmarkup language service update:\n\nI added underline to AOs that might trigger user codes. I need a temperature check, do you think this is good, or visually annoying?\nI found usually `? ` and `! ` before the AO call indicates if it triggers user code or not.","format":"org.matrix.custom.html","formatted_body":"<p>ecmarkup language service update:</p>\n<p>I added underline to AOs that might trigger user codes. I need a temperature check, do you think this is good, or visually annoying?<br>I found usually <code>? </code> and <code>! </code> before the AO call indicates if it triggers user code or not.</p>\n","m.mentions":{},"msgtype":"m.text"},"ts":1714225822058,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$eP3fEgYJgU2nUjfsiBnzwMkM8AwoQp8w6JmwuofN-8c"},
{"content":{"body":"underline to me suggests \"link\" rather than something so esoteric (e.g., as applied to `#sec-array.from` in the screenshot). Also, `!` before the call is an indication that it does **not** call user code (because user code can always throw)","format":"org.matrix.custom.html","formatted_body":"underline to me suggests \"link\" rather than something so esoteric (e.g., as applied to <code>#sec-array.from</code> in the screenshot). Also, <code>!</code> before the call is an indication that it does <strong>not</strong> call user code (because user code can always throw)","m.mentions":{},"msgtype":"m.text"},"ts":1714227485305,"senderName":"Richard Gibson","senderId":"@gibson042:matrix.org","id":"$-bV0S14zSR3-uDi1Kn3D-XatzRZXKNvq69FRJX4A8Sg"},
{"content":{"body":" * underline to me suggests \"link\" rather than something so esoteric (e.g., as applied to `#sec-array.from` in the screenshot). Also, `!` before the call is generally an indication that it does **not** call user code (because user code can always throw)","format":"org.matrix.custom.html","formatted_body":" * underline to me suggests \"link\" rather than something so esoteric (e.g., as applied to <code>#sec-array.from</code> in the screenshot). Also, <code>!</code> before the call is generally an indication that it does <strong>not</strong> call user code (because user code can always throw)","m.mentions":{},"m.new_content":{"body":"underline to me suggests \"link\" rather than something so esoteric (e.g., as applied to `#sec-array.from` in the screenshot). Also, `!` before the call is generally an indication that it does **not** call user code (because user code can always throw)","format":"org.matrix.custom.html","formatted_body":"underline to me suggests \"link\" rather than something so esoteric (e.g., as applied to <code>#sec-array.from</code> in the screenshot). Also, <code>!</code> before the call is generally an indication that it does <strong>not</strong> call user code (because user code can always throw)","m.mentions":{},"msgtype":"m.text"},"m.relates_to":{"event_id":"$-bV0S14zSR3-uDi1Kn3D-XatzRZXKNvq69FRJX4A8Sg","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1714227586883,"senderName":"Richard Gibson","senderId":"@gibson042:matrix.org","id":"$6KO-WVfav0k2GwXFaoBMRDFoTGNOVgznXmEgumB4B1A"},
{"content":{"body":"I'm doubtful that `?` is that good an indicator either.","format":"org.matrix.custom.html","formatted_body":"I'm doubtful that <code>?</code> is that good an indicator either.","m.mentions":{},"msgtype":"m.text"},"ts":1714228564161,"senderName":"jmdyck","senderId":"@jmdyck:matrix.org","id":"$X7BC3_QdyzEyxbUIWj3L4Q-rTyVLU9IFfmdWNDZoul4"},
{"content":{"body":"> <@gibson042:matrix.org> underline to me suggests \"link\" rather than something so esoteric (e.g., as applied to `#sec-array.from` in the screenshot). Also, `!` before the call is generally an indication that it does **not** call user code (because user code can always throw)\n\nin rust-analyzer, they use an underline to indicate a variable is \"let mut\" not \"let\"","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$-bV0S14zSR3-uDi1Kn3D-XatzRZXKNvq69FRJX4A8Sg?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@gibson042:matrix.org\">@gibson042:matrix.org</a><br />underline to me suggests \"link\" rather than something so esoteric (e.g., as applied to <code>#sec-array.from</code> in the screenshot). Also, <code>!</code> before the call is generally an indication that it does <strong>not</strong> call user code (because user code can always throw)</blockquote></mx-reply>in rust-analyzer, they use an underline to indicate a variable is &quot;let mut&quot; not &quot;let&quot;","m.relates_to":{"m.in_reply_to":{"event_id":"$-bV0S14zSR3-uDi1Kn3D-XatzRZXKNvq69FRJX4A8Sg"}},"msgtype":"m.text"},"ts":1714228913897,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$cy-hSXDXvm33dR2PU7QPiVsZbdRVuNRG-cijMy2wQE0"},
{"content":{"body":"(I'll also do this later, if a variable is mutated in the emu-alg, it will have an underline)","msgtype":"m.text"},"ts":1714228986275,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$73CjeDC5jNTAL2JAQAMcHhREAtdvbN4X8nnWihgYOGM"},
{"content":{"body":"Jack Works: \"can call user code\" is a property of AOs which is tracked in the biblio. `!` before a call of an AO which can normally call user code is taken to indicate that it doesn't in this case. there's also an annotation for explicitly marking snippets as calling or not calling user code. see https://tc39.es/ecmarkup/#effects","format":"org.matrix.custom.html","formatted_body":"<a href=\"https://matrix.to/#/@jackworks:matrix.org\">Jack Works</a>: \"can call user code\" is a property of AOs which is tracked in the biblio. <code>!</code> before a call of an AO which can normally call user code is taken to indicate that it doesn't in this case. there's also an annotation for explicitly marking snippets as calling or not calling user code. see https://tc39.es/ecmarkup/#effects","m.mentions":{"user_ids":["@jackworks:matrix.org"]},"msgtype":"m.text"},"ts":1714229066557,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$82jQUxCcv3-U0gJrXQD8gmvtw1eigkEjQ57X3Ny8z4Y"},
{"content":{"body":"(this is viewable on the spec by pressing `u`)","format":"org.matrix.custom.html","formatted_body":"(this is viewable on the spec by pressing <code>u</code>)","m.mentions":{},"msgtype":"m.text"},"ts":1714229074666,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$lfkd4BulWGSIp-Qy04ECVbj4GrwB3S370b_UOAbz6aw"},
{"content":{"body":"having this exposed in the language service seems good, but ideally it should use the same rules as ecmarkup","m.mentions":{},"msgtype":"m.text"},"ts":1714229095361,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$-N-fVO9i4v0Mvjclmz9-DndJBYuCSwxpANSqGFUHT7Y"},
{"content":{"body":"personally I find the underline not the ideal way of displaying this - I'd probably do like `<sup>u</sup>` after the AO name or something - but the underline is fine too","format":"org.matrix.custom.html","formatted_body":"personally I find the underline not the ideal way of displaying this - I'd probably do like <code>&lt;sup&gt;u&lt;/sup&gt;</code> after the AO name or something - but the underline is fine too","m.mentions":{},"msgtype":"m.text"},"ts":1714229160422,"senderName":"bakkot","senderId":"@bakkot:matrix.org","id":"$r-CNlxITOT0cNbxOzVUmPerTOOKNalkS659SEOYr8aI"},
{"content":{"body":"> <@bakkot:matrix.org> having this exposed in the language service seems good, but ideally it should use the same rules as ecmarkup\n\ncurrently I only read it from the biblio. AOs defined in the current file are ignored (because I don't do a full analysis yet)","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$-N-fVO9i4v0Mvjclmz9-DndJBYuCSwxpANSqGFUHT7Y?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">@bakkot:matrix.org</a><br />having this exposed in the language service seems good, but ideally it should use the same rules as ecmarkup</blockquote></mx-reply>currently I only read it from the biblio. AOs defined in the current file are ignored (because I don't do a full analysis yet)","m.relates_to":{"m.in_reply_to":{"event_id":"$-N-fVO9i4v0Mvjclmz9-DndJBYuCSwxpANSqGFUHT7Y"}},"msgtype":"m.text"},"ts":1714229648042,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$s9uj5IOfL8QtZDECrGEiarSQrwtA6tt5WLiz5KIE3xQ"},
{"content":{"body":"* currently I only read it from the biblio. AOs defined in the current file (usually proposal AOs) are ignored (because I don't do a full analysis yet)","m.new_content":{"body":"> <@bakkot:matrix.org> having this exposed in the language service seems good, but ideally it should use the same rules as ecmarkup\n\ncurrently I only read it from the biblio. AOs defined in the current file (usually proposal AOs) are ignored (because I don't do a full analysis yet)","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$-N-fVO9i4v0Mvjclmz9-DndJBYuCSwxpANSqGFUHT7Y?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">bakkot</a><br />having this exposed in the language service seems good, but ideally it should use the same rules as ecmarkup</blockquote></mx-reply>currently I only read it from the biblio. AOs defined in the current file (usually proposal AOs) are ignored (because I don't do a full analysis yet)","msgtype":"m.text"},"m.relates_to":{"event_id":"$s9uj5IOfL8QtZDECrGEiarSQrwtA6tt5WLiz5KIE3xQ","rel_type":"m.replace"},"msgtype":"m.text"},"ts":1714229663719,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$gJVxMID3sK7cq7kks2BoyrHFwjXYtX375R6kZNVpJCw"},
{"content":{"body":"> <@bakkot:matrix.org> personally I find the underline not the ideal way of displaying this - I'd probably do like `<sup>u</sup>` after the AO name or something - but the underline is fine too\n\nI also tried Inlay Hint to show a \"uc \" before the AO like webpage do, but it took too much space and visually worse than underline imo","format":"org.matrix.custom.html","formatted_body":"<mx-reply><blockquote><a href=\"https://matrix.to/#/!wbACpffbfxANskIFZq:matrix.org/$r-CNlxITOT0cNbxOzVUmPerTOOKNalkS659SEOYr8aI?via=matrix.org&via=mozilla.org&via=igalia.com\">In reply to</a> <a href=\"https://matrix.to/#/@bakkot:matrix.org\">@bakkot:matrix.org</a><br />personally I find the underline not the ideal way of displaying this - I'd probably do like <code>&lt;sup&gt;u&lt;/sup&gt;</code> after the AO name or something - but the underline is fine too</blockquote></mx-reply>I also tried Inlay Hint to show a &quot;uc &quot; before the AO like webpage do, but it took too much space and visually worse than underline imo","m.relates_to":{"m.in_reply_to":{"event_id":"$r-CNlxITOT0cNbxOzVUmPerTOOKNalkS659SEOYr8aI"}},"msgtype":"m.text"},"ts":1714229730325,"senderName":"Jack Works","senderId":"@jackworks:matrix.org","id":"$ORlpmVNCXr7VVmaV6F7z1CxnR5akzfPJuP8yyWo2DN8"}
]